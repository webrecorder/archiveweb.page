/*! sw.js is part of the Webrecorder ArchiveWeb.page (https://archiveweb.page) Copyright (C) 2020-2023, Webrecorder Software. Licensed under the Affero General Public License v3. */(()=>{var __webpack_modules__={9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,s=c(e),o=s[0],a=s[1],l=new i(function(e,t,r){return 3*(t+r)/4-r}(0,o,a)),u=0,h=a>0?o-4:o;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[u++]=255&t);1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],o=16383,a=0,c=n-i;a<c;a+=o)s.push(l(e,a,a+o>c?c:a+o));1===i?(t=e[n-1],s.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,n){for(var i,s,o=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},4181:e=>{var t=4096,r=new Uint32Array([0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215]);function n(e){this.buf_=new Uint8Array(8224),this.input_=e,this.reset()}n.READ_SIZE=t,n.IBUF_MASK=8191,n.prototype.reset=function(){this.buf_ptr_=0,this.val_=0,this.pos_=0,this.bit_pos_=0,this.bit_end_pos_=0,this.eos_=0,this.readMoreInput();for(var e=0;e<4;e++)this.val_|=this.buf_[this.pos_]<<8*e,++this.pos_;return this.bit_end_pos_>0},n.prototype.readMoreInput=function(){if(!(this.bit_end_pos_>256))if(this.eos_){if(this.bit_pos_>this.bit_end_pos_)throw new Error("Unexpected end of input "+this.bit_pos_+" "+this.bit_end_pos_)}else{var e=this.buf_ptr_,r=this.input_.read(this.buf_,e,t);if(r<0)throw new Error("Unexpected end of input");if(r<t){this.eos_=1;for(var n=0;n<32;n++)this.buf_[e+r+n]=0}if(0===e){for(n=0;n<32;n++)this.buf_[8192+n]=this.buf_[n];this.buf_ptr_=t}else this.buf_ptr_=0;this.bit_end_pos_+=r<<3}},n.prototype.fillBitWindow=function(){for(;this.bit_pos_>=8;)this.val_>>>=8,this.val_|=this.buf_[8191&this.pos_]<<24,++this.pos_,this.bit_pos_=this.bit_pos_-8>>>0,this.bit_end_pos_=this.bit_end_pos_-8>>>0},n.prototype.readBits=function(e){32-this.bit_pos_<e&&this.fillBitWindow();var t=this.val_>>>this.bit_pos_&r[e];return this.bit_pos_+=e,t},e.exports=n},7080:(e,t)=>{t.lookup=new Uint8Array([0,0,0,0,0,0,0,0,0,4,4,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,12,16,12,12,20,12,16,24,28,12,12,32,12,36,12,44,44,44,44,44,44,44,44,44,44,32,32,24,40,28,12,12,48,52,52,52,48,52,52,52,48,52,52,52,52,52,48,52,52,52,52,52,48,52,52,52,52,52,24,12,28,12,12,12,56,60,60,60,56,60,60,60,56,60,60,60,60,60,56,60,60,60,60,60,56,60,60,60,60,60,24,12,28,12,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,0,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,56,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8,9,9,9,9,10,10,10,10,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,22,22,22,22,23,23,23,23,24,24,24,24,25,25,25,25,26,26,26,26,27,27,27,27,28,28,28,28,29,29,29,29,30,30,30,30,31,31,31,31,32,32,32,32,33,33,33,33,34,34,34,34,35,35,35,35,36,36,36,36,37,37,37,37,38,38,38,38,39,39,39,39,40,40,40,40,41,41,41,41,42,42,42,42,43,43,43,43,44,44,44,44,45,45,45,45,46,46,46,46,47,47,47,47,48,48,48,48,49,49,49,49,50,50,50,50,51,51,51,51,52,52,52,52,53,53,53,53,54,54,54,54,55,55,55,55,56,56,56,56,57,57,57,57,58,58,58,58,59,59,59,59,60,60,60,60,61,61,61,61,62,62,62,62,63,63,63,63,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.lookupOffsets=new Uint16Array([1024,1536,1280,1536,0,256,768,512])},6450:(e,t,r)=>{var n=r(6154).g,i=r(6154).j,s=r(4181),o=r(5139),a=r(966).h,c=r(966).g,l=r(7080),u=r(8435),h=r(2973),d=1080,f=new Uint8Array([1,2,3,4,0,5,17,6,16,7,8,9,10,11,12,13,14,15]),p=new Uint8Array([3,2,1,0,3,3,3,3,3,3,2,2,2,2,2,2]),g=new Int8Array([0,0,0,0,-1,1,-2,2,-3,3,-1,1,-2,2,-3,3]),y=new Uint16Array([256,402,436,468,500,534,566,598,630,662,694,726,758,790,822,854,886,920,952,984,1016,1048,1080]);function w(e){var t;return 0===e.readBits(1)?16:(t=e.readBits(3))>0?17+t:(t=e.readBits(3))>0?8+t:17}function m(e){if(e.readBits(1)){var t=e.readBits(3);return 0===t?1:e.readBits(t)+(1<<t)}return 0}function b(){this.meta_block_length=0,this.input_end=0,this.is_uncompressed=0,this.is_metadata=!1}function A(e){var t,r,n,i=new b;if(i.input_end=e.readBits(1),i.input_end&&e.readBits(1))return i;if(7===(t=e.readBits(2)+4)){if(i.is_metadata=!0,0!==e.readBits(1))throw new Error("Invalid reserved bit");if(0===(r=e.readBits(2)))return i;for(n=0;n<r;n++){var s=e.readBits(8);if(n+1===r&&r>1&&0===s)throw new Error("Invalid size byte");i.meta_block_length|=s<<8*n}}else for(n=0;n<t;++n){var o=e.readBits(4);if(n+1===t&&t>4&&0===o)throw new Error("Invalid size nibble");i.meta_block_length|=o<<4*n}return++i.meta_block_length,i.input_end||i.is_metadata||(i.is_uncompressed=e.readBits(1)),i}function E(e,t,r){var n;return r.fillBitWindow(),(n=e[t+=r.val_>>>r.bit_pos_&255].bits-8)>0&&(r.bit_pos_+=8,t+=e[t].value,t+=r.val_>>>r.bit_pos_&(1<<n)-1),r.bit_pos_+=e[t].bits,e[t].value}function v(e,t,r,n){var i,s,o=new Uint8Array(e);if(n.readMoreInput(),1===(s=n.readBits(2))){for(var l=e-1,u=0,h=new Int32Array(4),d=n.readBits(2)+1;l;)l>>=1,++u;for(p=0;p<d;++p)h[p]=n.readBits(u)%e,o[h[p]]=2;switch(o[h[0]]=1,d){case 1:break;case 3:if(h[0]===h[1]||h[0]===h[2]||h[1]===h[2])throw new Error("[ReadHuffmanCode] invalid symbols");break;case 2:if(h[0]===h[1])throw new Error("[ReadHuffmanCode] invalid symbols");o[h[1]]=1;break;case 4:if(h[0]===h[1]||h[0]===h[2]||h[0]===h[3]||h[1]===h[2]||h[1]===h[3]||h[2]===h[3])throw new Error("[ReadHuffmanCode] invalid symbols");n.readBits(1)?(o[h[2]]=3,o[h[3]]=3):o[h[0]]=2}}else{var p,g=new Uint8Array(18),y=32,w=0,m=[new a(2,0),new a(2,4),new a(2,3),new a(3,2),new a(2,0),new a(2,4),new a(2,3),new a(4,1),new a(2,0),new a(2,4),new a(2,3),new a(3,2),new a(2,0),new a(2,4),new a(2,3),new a(4,5)];for(p=s;p<18&&y>0;++p){var b,A=f[p],E=0;n.fillBitWindow(),E+=n.val_>>>n.bit_pos_&15,n.bit_pos_+=m[E].bits,b=m[E].value,g[A]=b,0!==b&&(y-=32>>b,++w)}if(1!==w&&0!==y)throw new Error("[ReadHuffmanCode] invalid num_codes or space");!function(e,t,r,n){for(var i=0,s=8,o=0,l=0,u=32768,h=[],d=0;d<32;d++)h.push(new a(0,0));for(c(h,0,5,e,18);i<t&&u>0;){var f,p=0;if(n.readMoreInput(),n.fillBitWindow(),p+=n.val_>>>n.bit_pos_&31,n.bit_pos_+=h[p].bits,(f=255&h[p].value)<16)o=0,r[i++]=f,0!==f&&(s=f,u-=32768>>f);else{var g,y,w=f-14,m=0;if(16===f&&(m=s),l!==m&&(o=0,l=m),g=o,o>0&&(o-=2,o<<=w),i+(y=(o+=n.readBits(w)+3)-g)>t)throw new Error("[ReadHuffmanCodeLengths] symbol + repeat_delta > num_symbols");for(var b=0;b<y;b++)r[i+b]=l;i+=y,0!==l&&(u-=y<<15-l)}}if(0!==u)throw new Error("[ReadHuffmanCodeLengths] space = "+u);for(;i<t;i++)r[i]=0}(g,e,o,n)}if(0===(i=c(t,r,8,o,e)))throw new Error("[ReadHuffmanCode] BuildHuffmanTable failed: ");return i}function _(e,t,r){var n,i;return n=E(e,t,r),i=u.kBlockLengthPrefixCode[n].nbits,u.kBlockLengthPrefixCode[n].offset+r.readBits(i)}function T(e,t,r){var n;return e<16?(r+=p[e],n=t[r&=3]+g[e]):n=e-16+1,n}function S(e,t){for(var r=e[t],n=t;n;--n)e[n]=e[n-1];e[0]=r}function I(e,t){this.alphabet_size=e,this.num_htrees=t,this.codes=new Array(t+t*y[e+31>>>5]),this.htrees=new Uint32Array(t)}function C(e,t){var r,n,i={num_htrees:null,context_map:null},s=0;t.readMoreInput();var o=i.num_htrees=m(t)+1,c=i.context_map=new Uint8Array(e);if(o<=1)return i;for(t.readBits(1)&&(s=t.readBits(4)+1),r=[],n=0;n<d;n++)r[n]=new a(0,0);for(v(o+s,r,0,t),n=0;n<e;){var l;if(t.readMoreInput(),0===(l=E(r,0,t)))c[n]=0,++n;else if(l<=s)for(var u=1+(1<<l)+t.readBits(l);--u;){if(n>=e)throw new Error("[DecodeContextMap] i >= context_map_size");c[n]=0,++n}else c[n]=l-s,++n}return t.readBits(1)&&function(e,t){var r,n=new Uint8Array(256);for(r=0;r<256;++r)n[r]=r;for(r=0;r<t;++r){var i=e[r];e[r]=n[i],i&&S(n,i)}}(c,e),i}function R(e,t,r,n,i,s,o){var a,c=2*r,l=r,u=E(t,r*d,o);(a=0===u?i[c+(1&s[l])]:1===u?i[c+(s[l]-1&1)]+1:u-2)>=e&&(a-=e),n[r]=a,i[c+(1&s[l])]=a,++s[l]}function x(e,t,r,n,i,o){var a,c=i+1,l=r&i,u=o.pos_&s.IBUF_MASK;if(t<8||o.bit_pos_+(t<<3)<o.bit_end_pos_)for(;t-- >0;)o.readMoreInput(),n[l++]=o.readBits(8),l===c&&(e.write(n,c),l=0);else{if(o.bit_end_pos_<32)throw new Error("[CopyUncompressedBlockToOutput] br.bit_end_pos_ < 32");for(;o.bit_pos_<32;)n[l]=o.val_>>>o.bit_pos_,o.bit_pos_+=8,++l,--t;if(u+(a=o.bit_end_pos_-o.bit_pos_>>3)>s.IBUF_MASK){for(var h=s.IBUF_MASK+1-u,d=0;d<h;d++)n[l+d]=o.buf_[u+d];a-=h,l+=h,t-=h,u=0}for(d=0;d<a;d++)n[l+d]=o.buf_[u+d];if(t-=a,(l+=a)>=c){e.write(n,c),l-=c;for(d=0;d<l;d++)n[d]=n[c+d]}for(;l+t>=c;){if(a=c-l,o.input_.read(n,l,a)<a)throw new Error("[CopyUncompressedBlockToOutput] not enough bytes");e.write(n,c),t-=a,l=0}if(o.input_.read(n,l,t)<t)throw new Error("[CopyUncompressedBlockToOutput] not enough bytes");o.reset()}}function k(e){var t=e.bit_pos_+7&-8;return 0==e.readBits(t-e.bit_pos_)}function N(e){var t=new n(e),r=new s(t);return w(r),A(r).meta_block_length}function B(e,t){var r,n,i,c,f,p,g,y,b,S,N=0,B=0,O=0,D=[16,15,11,4],L=0,P=0,U=0,M=[new I(0,0),new I(0,0),new I(0,0)],F=128+s.READ_SIZE;i=(1<<(n=w(S=new s(e))))-16,f=(c=1<<n)-1,p=new Uint8Array(c+F+o.maxDictionaryWordLength),g=c,y=[],b=[];for(var H=0;H<3240;H++)y[H]=new a(0,0),b[H]=new a(0,0);for(;!B;){var j,z,W,G,q,Q,V,K,Y,J,X,Z=0,$=[1<<28,1<<28,1<<28],ee=[0],te=[1,1,1],re=[0,1,0,1,0,1],ne=[0],ie=null,se=null,oe=0,ae=null,ce=0,le=0,ue=0;for(r=0;r<3;++r)M[r].codes=null,M[r].htrees=null;S.readMoreInput();var he=A(S);if(N+(Z=he.meta_block_length)>t.buffer.length){var de=new Uint8Array(N+Z);de.set(t.buffer),t.buffer=de}if(B=he.input_end,j=he.is_uncompressed,he.is_metadata)for(k(S);Z>0;--Z)S.readMoreInput(),S.readBits(8);else if(0!==Z)if(j)S.bit_pos_=S.bit_pos_+7&-8,x(t,Z,N,p,f,S),N+=Z;else{for(r=0;r<3;++r)te[r]=m(S)+1,te[r]>=2&&(v(te[r]+2,y,r*d,S),v(26,b,r*d,S),$[r]=_(b,r*d,S),ne[r]=1);for(S.readMoreInput(),G=(1<<(z=S.readBits(2)))-1,q=(W=16+(S.readBits(4)<<z))+(48<<z),ie=new Uint8Array(te[0]),r=0;r<te[0];++r)S.readMoreInput(),ie[r]=S.readBits(2)<<1;var fe=C(te[0]<<6,S);V=fe.num_htrees,Q=fe.context_map;var pe=C(te[2]<<2,S);for(Y=pe.num_htrees,K=pe.context_map,M[0]=new I(256,V),M[1]=new I(704,te[1]),M[2]=new I(q,Y),r=0;r<3;++r)M[r].decode(S);for(se=0,ae=0,J=ie[ee[0]],le=l.lookupOffsets[J],ue=l.lookupOffsets[J+1],X=M[1].htrees[0];Z>0;){var ge,ye,we,me,be,Ae,Ee,ve,_e,Te,Se,Ie;for(S.readMoreInput(),0===$[1]&&(R(te[1],y,1,ee,re,ne,S),$[1]=_(b,d,S),X=M[1].htrees[ee[1]]),--$[1],(ye=(ge=E(M[1].codes,X,S))>>6)>=2?(ye-=2,Ee=-1):Ee=0,we=u.kInsertRangeLut[ye]+(ge>>3&7),me=u.kCopyRangeLut[ye]+(7&ge),be=u.kInsertLengthPrefixCode[we].offset+S.readBits(u.kInsertLengthPrefixCode[we].nbits),Ae=u.kCopyLengthPrefixCode[me].offset+S.readBits(u.kCopyLengthPrefixCode[me].nbits),P=p[N-1&f],U=p[N-2&f],_e=0;_e<be;++_e)S.readMoreInput(),0===$[0]&&(R(te[0],y,0,ee,re,ne,S),$[0]=_(b,0,S),se=ee[0]<<6,J=ie[ee[0]],le=l.lookupOffsets[J],ue=l.lookupOffsets[J+1]),oe=Q[se+(l.lookup[le+P]|l.lookup[ue+U])],--$[0],U=P,P=E(M[0].codes,M[0].htrees[oe],S),p[N&f]=P,(N&f)===f&&t.write(p,c),++N;if((Z-=be)<=0)break;if(Ee<0)if(S.readMoreInput(),0===$[2]&&(R(te[2],y,2,ee,re,ne,S),$[2]=_(b,2160,S),ae=ee[2]<<2),--$[2],ce=K[ae+(255&(Ae>4?3:Ae-2))],(Ee=E(M[2].codes,M[2].htrees[ce],S))>=W)Ie=(Ee-=W)&G,Ee=W+((Ce=(2+(1&(Ee>>=z))<<(Se=1+(Ee>>1)))-4)+S.readBits(Se)<<z)+Ie;if((ve=T(Ee,D,L))<0)throw new Error("[BrotliDecompress] invalid distance");if(Te=N&f,ve>(O=N<i&&O!==i?N:i)){if(!(Ae>=o.minDictionaryWordLength&&Ae<=o.maxDictionaryWordLength))throw new Error("Invalid backward reference. pos: "+N+" distance: "+ve+" len: "+Ae+" bytes left: "+Z);var Ce=o.offsetsByLength[Ae],Re=ve-O-1,xe=o.sizeBitsByLength[Ae],ke=Re>>xe;if(Ce+=(Re&(1<<xe)-1)*Ae,!(ke<h.kNumTransforms))throw new Error("Invalid backward reference. pos: "+N+" distance: "+ve+" len: "+Ae+" bytes left: "+Z);var Ne=h.transformDictionaryWord(p,Te,Ce,Ae,ke);if(N+=Ne,Z-=Ne,(Te+=Ne)>=g){t.write(p,c);for(var Be=0;Be<Te-g;Be++)p[Be]=p[g+Be]}}else{if(Ee>0&&(D[3&L]=ve,++L),Ae>Z)throw new Error("Invalid backward reference. pos: "+N+" distance: "+ve+" len: "+Ae+" bytes left: "+Z);for(_e=0;_e<Ae;++_e)p[N&f]=p[N-ve&f],(N&f)===f&&t.write(p,c),++N,--Z}P=p[N-1&f],U=p[N-2&f]}N&=1073741823}}t.write(p,N&f)}I.prototype.decode=function(e){var t,r=0;for(t=0;t<this.num_htrees;++t)this.htrees[t]=r,r+=v(this.alphabet_size,this.codes,r,e)},t.BrotliDecompressBuffer=function(e,t){var r=new n(e);null==t&&(t=N(e));var s=new Uint8Array(t),o=new i(s);return B(r,o),o.pos<o.buffer.length&&(o.buffer=o.buffer.subarray(0,o.pos)),o.buffer},o.init()},5340:(e,t,r)=>{var n=r(9742);t.init=function(){return(0,r(6450).BrotliDecompressBuffer)(n.toByteArray(r(2722)))}},2722:e=>{e.exports="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"},5139:(e,t,r)=>{var n=r(5340);t.init=function(){t.dictionary=n.init()},t.offsetsByLength=new Uint32Array([0,0,0,0,0,4096,9216,21504,35840,44032,53248,63488,74752,87040,93696,100864,104704,106752,108928,113536,115968,118528,119872,121280,122016]),t.sizeBitsByLength=new Uint8Array([0,0,0,0,10,10,11,11,10,10,10,10,10,9,9,8,7,7,8,7,7,6,6,5,5]),t.minDictionaryWordLength=4,t.maxDictionaryWordLength=24},966:(e,t)=>{function r(e,t){this.bits=e,this.value=t}t.h=r;var n=15;function i(e,t){for(var r=1<<t-1;e&r;)r>>=1;return(e&r-1)+r}function s(e,t,n,i,s){do{e[t+(i-=n)]=new r(s.bits,s.value)}while(i>0)}function o(e,t,r){for(var i=1<<t-r;t<n&&!((i-=e[t])<=0);)++t,i<<=1;return t-r}t.g=function(e,t,a,c,l){var u,h,d,f,p,g,y,w,m,b,A=t,E=new Int32Array(16),v=new Int32Array(16);for(b=new Int32Array(l),h=0;h<l;h++)E[c[h]]++;for(v[1]=0,u=1;u<n;u++)v[u+1]=v[u]+E[u];for(h=0;h<l;h++)0!==c[h]&&(b[v[c[h]]++]=h);if(m=w=1<<(y=a),1===v[15]){for(d=0;d<m;++d)e[t+d]=new r(0,65535&b[0]);return m}for(d=0,h=0,u=1,f=2;u<=a;++u,f<<=1)for(;E[u]>0;--E[u])s(e,t+d,f,w,new r(255&u,65535&b[h++])),d=i(d,u);for(g=m-1,p=-1,u=a+1,f=2;u<=n;++u,f<<=1)for(;E[u]>0;--E[u])(d&g)!==p&&(t+=w,m+=w=1<<(y=o(E,u,a)),e[A+(p=d&g)]=new r(y+a&255,t-A-p&65535)),s(e,t+(d>>a),f,w,new r(u-a&255,65535&b[h++])),d=i(d,u);return m}},8435:(e,t)=>{function r(e,t){this.offset=e,this.nbits=t}t.kBlockLengthPrefixCode=[new r(1,2),new r(5,2),new r(9,2),new r(13,2),new r(17,3),new r(25,3),new r(33,3),new r(41,3),new r(49,4),new r(65,4),new r(81,4),new r(97,4),new r(113,5),new r(145,5),new r(177,5),new r(209,5),new r(241,6),new r(305,6),new r(369,7),new r(497,8),new r(753,9),new r(1265,10),new r(2289,11),new r(4337,12),new r(8433,13),new r(16625,24)],t.kInsertLengthPrefixCode=[new r(0,0),new r(1,0),new r(2,0),new r(3,0),new r(4,0),new r(5,0),new r(6,1),new r(8,1),new r(10,2),new r(14,2),new r(18,3),new r(26,3),new r(34,4),new r(50,4),new r(66,5),new r(98,5),new r(130,6),new r(194,7),new r(322,8),new r(578,9),new r(1090,10),new r(2114,12),new r(6210,14),new r(22594,24)],t.kCopyLengthPrefixCode=[new r(2,0),new r(3,0),new r(4,0),new r(5,0),new r(6,0),new r(7,0),new r(8,0),new r(9,0),new r(10,1),new r(12,1),new r(14,2),new r(18,2),new r(22,3),new r(30,3),new r(38,4),new r(54,4),new r(70,5),new r(102,5),new r(134,6),new r(198,7),new r(326,8),new r(582,9),new r(1094,10),new r(2118,24)],t.kInsertRangeLut=[0,0,8,8,0,16,8,16,16],t.kCopyRangeLut=[0,8,0,8,16,0,16,8,16]},6154:(e,t)=>{function r(e){this.buffer=e,this.pos=0}function n(e){this.buffer=e,this.pos=0}r.prototype.read=function(e,t,r){this.pos+r>this.buffer.length&&(r=this.buffer.length-this.pos);for(var n=0;n<r;n++)e[t+n]=this.buffer[this.pos+n];return this.pos+=r,r},t.g=r,n.prototype.write=function(e,t){if(this.pos+t>this.buffer.length)throw new Error("Output buffer is not large enough");return this.buffer.set(e.subarray(0,t),this.pos),this.pos+=t,t},t.j=n},2973:(e,t,r)=>{var n=r(5139),i=10,s=11;function o(e,t,r){this.prefix=new Uint8Array(e.length),this.transform=t,this.suffix=new Uint8Array(r.length);for(var n=0;n<e.length;n++)this.prefix[n]=e.charCodeAt(n);for(n=0;n<r.length;n++)this.suffix[n]=r.charCodeAt(n)}var a=[new o("",0,""),new o("",0," "),new o(" ",0," "),new o("",12,""),new o("",i," "),new o("",0," the "),new o(" ",0,""),new o("s ",0," "),new o("",0," of "),new o("",i,""),new o("",0," and "),new o("",13,""),new o("",1,""),new o(", ",0," "),new o("",0,", "),new o(" ",i," "),new o("",0," in "),new o("",0," to "),new o("e ",0," "),new o("",0,'"'),new o("",0,"."),new o("",0,'">'),new o("",0,"\n"),new o("",3,""),new o("",0,"]"),new o("",0," for "),new o("",14,""),new o("",2,""),new o("",0," a "),new o("",0," that "),new o(" ",i,""),new o("",0,". "),new o(".",0,""),new o(" ",0,", "),new o("",15,""),new o("",0," with "),new o("",0,"'"),new o("",0," from "),new o("",0," by "),new o("",16,""),new o("",17,""),new o(" the ",0,""),new o("",4,""),new o("",0,". The "),new o("",s,""),new o("",0," on "),new o("",0," as "),new o("",0," is "),new o("",7,""),new o("",1,"ing "),new o("",0,"\n\t"),new o("",0,":"),new o(" ",0,". "),new o("",0,"ed "),new o("",20,""),new o("",18,""),new o("",6,""),new o("",0,"("),new o("",i,", "),new o("",8,""),new o("",0," at "),new o("",0,"ly "),new o(" the ",0," of "),new o("",5,""),new o("",9,""),new o(" ",i,", "),new o("",i,'"'),new o(".",0,"("),new o("",s," "),new o("",i,'">'),new o("",0,'="'),new o(" ",0,"."),new o(".com/",0,""),new o(" the ",0," of the "),new o("",i,"'"),new o("",0,". This "),new o("",0,","),new o(".",0," "),new o("",i,"("),new o("",i,"."),new o("",0," not "),new o(" ",0,'="'),new o("",0,"er "),new o(" ",s," "),new o("",0,"al "),new o(" ",s,""),new o("",0,"='"),new o("",s,'"'),new o("",i,". "),new o(" ",0,"("),new o("",0,"ful "),new o(" ",i,". "),new o("",0,"ive "),new o("",0,"less "),new o("",s,"'"),new o("",0,"est "),new o(" ",i,"."),new o("",s,'">'),new o(" ",0,"='"),new o("",i,","),new o("",0,"ize "),new o("",s,"."),new o("",0,""),new o(" ",0,","),new o("",i,'="'),new o("",s,'="'),new o("",0,"ous "),new o("",s,", "),new o("",i,"='"),new o(" ",i,","),new o(" ",s,'="'),new o(" ",s,", "),new o("",s,","),new o("",s,"("),new o("",s,". "),new o(" ",s,"."),new o("",s,"='"),new o(" ",s,". "),new o(" ",i,'="'),new o(" ",s,"='"),new o(" ",i,"='")];function c(e,t){return e[t]<192?(e[t]>=97&&e[t]<=122&&(e[t]^=32),1):e[t]<224?(e[t+1]^=32,2):(e[t+2]^=5,3)}t.kTransforms=a,t.kNumTransforms=a.length,t.transformDictionaryWord=function(e,t,r,o,l){var u,h=a[l].prefix,d=a[l].suffix,f=a[l].transform,p=f<12?0:f-11,g=0,y=t;p>o&&(p=o);for(var w=0;w<h.length;)e[t++]=h[w++];for(r+=p,o-=p,f<=9&&(o-=f),g=0;g<o;g++)e[t++]=n.dictionary[r+g];if(u=t-o,f===i)c(e,u);else if(f===s)for(;o>0;){var m=c(e,u);u+=m,o-=m}for(var b=0;b<d.length;)e[t++]=d[b++];return t-y}},7709:(e,t,r)=>{e.exports=r(6450).BrotliDecompressBuffer},8764:(e,t,r)=>{"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const n=r(9742),i=r(645),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||J(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return u(e),a(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(i)return n?-1:Q(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return I(this,t,r);case"ascii":return R(this,t,r);case"latin1":case"binary":return x(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function w(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let s,o=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,c/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(l(e,s)===l(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===c)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+c>a&&(r=a-c),s=r;s>=0;s--){let r=!0;for(let n=0;n<c;n++)if(l(e,s+n)!==l(t,n)){r=!1;break}if(r)return s}return-1}function A(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(J(n))return o;e[r+o]=n}return o}function E(e,t,r,n){return K(Q(t,e.length-r),e,r,n)}function v(e,t,r,n){return K(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return K(V(t),e,r,n)}function T(e,t,r,n){return K(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function I(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,c;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(s=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=C));return r}(n)}t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},c.allocUnsafe=function(e){return h(e)},c.allocUnsafeSlow=function(e){return h(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)w(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);const a=Math.min(s,o),l=this.slice(n,i),u=e.slice(t,r);for(let e=0;e<a;++e)if(l[e]!==u[e]){s=l[e],o=u[e];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return A(this,e,t,r);case"utf8":case"utf-8":return E(this,e,t,r);case"ascii":case"latin1":case"binary":return v(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const C=4096;function R(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function x(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function k(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=X[e[n]];return i}function N(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function B(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,i,s){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function D(e,t,r,n,i){z(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function L(e,t,r,n,i){z(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function P(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,n,s){return t=+t,r>>>=0,s||P(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function M(e,t,r,n,s){return t=+t,r>>>=0,s||P(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Z((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Z((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},c.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Z((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Z((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){O(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){O(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Z((function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Z((function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Z((function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Z((function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=c.isBuffer(e)?e:c.from(e,n),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};const F={};function H(e,t,r){F[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function j(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function z(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new F.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||G(t,e.length-(r+1))}(n,i,s)}function W(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function G(e,t,r){if(Math.floor(e)!==e)throw W(e,r),new F.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}H("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),H("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),H("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=j(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=j(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function Q(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function V(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Z(e){return"undefined"==typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}},7187:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,s),n(r)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}g(e,t,s,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&g(e,"error",t,r)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var i,s,o,l;if(a(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),void 0===o)o=s[t]=r,++e._eventsCount;else if("function"==typeof o?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=u.bind(n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){n.once&&e.removeEventListener(t,i),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var l=c.length,u=p(c,l);for(r=0;r<l;++r)n(u[r],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,s,o;if(a(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},6932:(e,t,r)=>{"use strict";const n=r(8501),i=r(8844),s=r(1192);e.exports={XMLParser:i,XMLValidator:n,XMLBuilder:s}},7849:(e,t)=>{"use strict";const r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n="["+r+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+n+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,r){if(t){const n=Object.keys(t),i=n.length;for(let s=0;s<i;s++)e[n[s]]="strict"===r?[t[n[s]]]:t[n[s]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(e){const t=i.exec(e);return!(null==t)},t.getAllMatches=function(e,t){const r=[];let n=t.exec(e);for(;n;){const i=[];i.startIndex=t.lastIndex-n[0].length;const s=n.length;for(let e=0;e<s;e++)i.push(n[e]);r.push(i),n=t.exec(e)}return r},t.nameRegexp=n},8501:(e,t,r)=>{"use strict";const n=r(7849),i={allowBooleanAttributes:!1,unpairedTags:[]};function s(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function o(e,t){const r=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const n=e.substr(r,t-r);if(t>5&&"xml"===n)return d("InvalidXml","XML declaration allowed only at the start of the document.",p(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function a(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let r=1;for(t+=8;t<e.length;t++)if("<"===e[t])r++;else if(">"===e[t]&&(r--,0===r))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=Object.assign({},i,t);const r=[];let l=!1,f=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let i=0;i<e.length;i++)if("<"===e[i]&&"?"===e[i+1]){if(i+=2,i=o(e,i),i.err)return i}else{if("<"!==e[i]){if(s(e[i]))continue;return d("InvalidChar","char '"+e[i]+"' is not expected.",p(e,i))}{let y=i;if(i++,"!"===e[i]){i=a(e,i);continue}{let w=!1;"/"===e[i]&&(w=!0,i++);let m="";for(;i<e.length&&">"!==e[i]&&" "!==e[i]&&"\t"!==e[i]&&"\n"!==e[i]&&"\r"!==e[i];i++)m+=e[i];if(m=m.trim(),"/"===m[m.length-1]&&(m=m.substring(0,m.length-1),i--),g=m,!n.isName(g)){let t;return t=0===m.trim().length?"Invalid space after '<'.":"Tag '"+m+"' is an invalid name.",d("InvalidTag",t,p(e,i))}const b=c(e,i);if(!1===b)return d("InvalidAttr","Attributes for '"+m+"' have open quote.",p(e,i));let A=b.value;if(i=b.index,"/"===A[A.length-1]){const r=i-A.length;A=A.substring(0,A.length-1);const n=u(A,t);if(!0!==n)return d(n.err.code,n.err.msg,p(e,r+n.err.line));l=!0}else if(w){if(!b.tagClosed)return d("InvalidTag","Closing tag '"+m+"' doesn't have proper closing.",p(e,i));if(A.trim().length>0)return d("InvalidTag","Closing tag '"+m+"' can't have attributes or invalid starting.",p(e,y));{const t=r.pop();if(m!==t.tagName){let r=p(e,t.tagStartPos);return d("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+r.line+", col "+r.col+") instead of closing tag '"+m+"'.",p(e,y))}0==r.length&&(f=!0)}}else{const n=u(A,t);if(!0!==n)return d(n.err.code,n.err.msg,p(e,i-A.length+n.err.line));if(!0===f)return d("InvalidXml","Multiple possible root nodes found.",p(e,i));-1!==t.unpairedTags.indexOf(m)||r.push({tagName:m,tagStartPos:y}),l=!0}for(i++;i<e.length;i++)if("<"===e[i]){if("!"===e[i+1]){i++,i=a(e,i);continue}if("?"!==e[i+1])break;if(i=o(e,++i),i.err)return i}else if("&"===e[i]){const t=h(e,i);if(-1==t)return d("InvalidChar","char '&' is not expected.",p(e,i));i=t}else if(!0===f&&!s(e[i]))return d("InvalidXml","Extra text at the end",p(e,i));"<"===e[i]&&i--}}}var g;return l?1==r.length?d("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",p(e,r[0].tagStartPos)):!(r.length>0)||d("InvalidXml","Invalid '"+JSON.stringify(r.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):d("InvalidXml","Start tag expected.",1)};function c(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])""===n?n=e[t]:n!==e[t]||(n="");else if(">"===e[t]&&""===n){i=!0;break}r+=e[t]}return""===n&&{value:r,index:t,tagClosed:i}}const l=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function u(e,t){const r=n.getAllMatches(e,l),i={};for(let e=0;e<r.length;e++){if(0===r[e][1].length)return d("InvalidAttr","Attribute '"+r[e][2]+"' has no space in starting.",g(r[e]));if(void 0!==r[e][3]&&void 0===r[e][4])return d("InvalidAttr","Attribute '"+r[e][2]+"' is without value.",g(r[e]));if(void 0===r[e][3]&&!t.allowBooleanAttributes)return d("InvalidAttr","boolean attribute '"+r[e][2]+"' is not allowed.",g(r[e]));const n=r[e][2];if(!f(n))return d("InvalidAttr","Attribute '"+n+"' is an invalid name.",g(r[e]));if(i.hasOwnProperty(n))return d("InvalidAttr","Attribute '"+n+"' is repeated.",g(r[e]));i[n]=1}return!0}function h(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let r=/\d/;for("x"===e[t]&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(r))break}return-1}(e,++t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(";"===e[t])break;return-1}return t}function d(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function f(e){return n.isName(e)}function p(e,t){const r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function g(e){return e.startIndex+e[1].length}},1192:(e,t,r)=>{"use strict";const n=r(2592),i={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function s(e){this.options=Object.assign({},i,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=c),this.processTextOrObjNode=o,this.options.format?(this.indentate=a,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function o(e,t,r){const n=this.j2x(e,r+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}function a(e){return this.options.indentBy.repeat(e)}function c(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}s.prototype.build=function(e){return this.options.preserveOrder?n(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)},s.prototype.j2x=function(e,t){let r="",n="";for(let i in e)if(void 0===e[i]);else if(null===e[i])"?"===i[0]?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)n+=this.buildTextValNode(e[i],i,"",t);else if("object"!=typeof e[i]){const s=this.isAttribute(i);if(s)r+=this.buildAttrPairStr(s,""+e[i]);else if(i===this.options.textNodeName){let t=this.options.tagValueProcessor(i,""+e[i]);n+=this.replaceEntitiesValue(t)}else n+=this.buildTextValNode(e[i],i,"",t)}else if(Array.isArray(e[i])){const r=e[i].length;let s="";for(let o=0;o<r;o++){const r=e[i][o];void 0===r||(null===r?"?"===i[0]?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar:"object"==typeof r?this.options.oneListGroup?s+=this.j2x(r,t+1).val:s+=this.processTextOrObjNode(r,i,t):s+=this.buildTextValNode(r,i,"",t))}this.options.oneListGroup&&(s=this.buildObjectNode(s,i,"",t)),n+=s}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const t=Object.keys(e[i]),n=t.length;for(let s=0;s<n;s++)r+=this.buildAttrPairStr(t[s],""+e[i][t[s]])}else n+=this.processTextOrObjNode(e[i],i,t);return{attrStr:r,val:n}},s.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'},s.prototype.buildObjectNode=function(e,t,r,n){if(""===e)return"?"===t[0]?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let i="</"+t+this.tagEndChar,s="";return"?"===t[0]&&(s="?",i=""),r&&-1===e.indexOf("<")?this.indentate(n)+"<"+t+r+s+">"+e+i:!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===s.length?this.indentate(n)+`\x3c!--${e}--\x3e`+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+i}},s.prototype.closeTag=function(e){let t="";return-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`,t},s.prototype.buildTextValNode=function(e,t,r,n){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(n)+`\x3c!--${e}--\x3e`+this.newLine;if("?"===t[0])return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(t,e);return i=this.replaceEntitiesValue(i),""===i?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+i+"</"+t+this.tagEndChar}},s.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e},e.exports=s},2592:e=>{function t(e,o,a,c){let l="",u=!1;for(let h=0;h<e.length;h++){const d=e[h],f=r(d);let p="";if(p=0===a.length?f:`${a}.${f}`,f===o.textNodeName){let e=d[f];i(p,o)||(e=o.tagValueProcessor(f,e),e=s(e,o)),u&&(l+=c),l+=e,u=!1;continue}if(f===o.cdataPropName){u&&(l+=c),l+=`<![CDATA[${d[f][0][o.textNodeName]}]]>`,u=!1;continue}if(f===o.commentPropName){l+=c+`\x3c!--${d[f][0][o.textNodeName]}--\x3e`,u=!0;continue}if("?"===f[0]){const e=n(d[":@"],o),t="?xml"===f?"":c;let r=d[f][0][o.textNodeName];r=0!==r.length?" "+r:"",l+=t+`<${f}${r}${e}?>`,u=!0;continue}let g=c;""!==g&&(g+=o.indentBy);const y=c+`<${f}${n(d[":@"],o)}`,w=t(d[f],o,p,g);-1!==o.unpairedTags.indexOf(f)?o.suppressUnpairedNode?l+=y+">":l+=y+"/>":w&&0!==w.length||!o.suppressEmptyNode?w&&w.endsWith(">")?l+=y+`>${w}${c}</${f}>`:(l+=y+">",w&&""!==c&&(w.includes("/>")||w.includes("</"))?l+=c+o.indentBy+w+c:l+=w,l+=`</${f}>`):l+=y+"/>",u=!0}return l}function r(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const r=t[e];if(":@"!==r)return r}}function n(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let i=t.attributeValueProcessor(n,e[n]);i=s(i,t),!0===i&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${i}"`}return r}function i(e,t){let r=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function s(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){const n=t.entities[r];e=e.replace(n.regex,n.val)}return e}e.exports=function(e,r){let n="";return r.format&&r.indentBy.length>0&&(n="\n"),t(e,r,"",n)}},4780:e=>{function t(e,t){let r="";for(;t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)r+=e[t];if(r=r.trim(),-1!==r.indexOf(" "))throw new Error("External entites are not supported");const n=e[t++];let i="";for(;t<e.length&&e[t]!==n;t++)i+=e[t];return[r,i,t]}function r(e,t){return"!"===e[t+1]&&"-"===e[t+2]&&"-"===e[t+3]}function n(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7]}function i(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8]}function s(e,t){return"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8]}function o(e,t){return"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9]}const a="!?\\/[]$%{}^&*()<>|+";function c(e){for(let t=0;t<a.length;t++){const r=a[t];if(-1!==e.indexOf(r))throw new Error(`Invalid character ${r} in entity name`)}return e}e.exports=function(e,a){const l={};if("O"!==e[a+3]||"C"!==e[a+4]||"T"!==e[a+5]||"Y"!==e[a+6]||"P"!==e[a+7]||"E"!==e[a+8])throw new Error("Invalid Tag instead of DOCTYPE");{a+=9;let u=1,h=!1,d=!1,f="";for(;a<e.length;a++)if("<"!==e[a]||d)if(">"===e[a]){if(d?"-"===e[a-1]&&"-"===e[a-2]&&(d=!1,u--):u--,0===u)break}else"["===e[a]?h=!0:f+=e[a];else{if(h&&n(e,a))a+=7,[entityName,val,a]=t(e,a+1),-1===val.indexOf("&")&&(l[c(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(h&&i(e,a))a+=8;else if(h&&s(e,a))a+=8;else if(h&&o(e,a))a+=9;else{if(!r)throw new Error("Invalid DOCTYPE");d=!0}u++,f=""}if(0!==u)throw new Error("Unclosed DOCTYPE")}return{entities:l,i:a}}},6745:(e,t)=>{const r={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}};t.buildOptions=function(e){return Object.assign({},r,e)},t.defaultOptions=r},1078:(e,t,r)=>{"use strict";const n=r(7849),i=r(6311),s=r(4780),o=r(4153);"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,n.nameRegexp);function a(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function c(e,t,r,n,i,s,o){if(void 0!==e&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));const n=this.options.tagValueProcessor(t,e,r,i,s);if(null==n)return e;if(typeof n!=typeof e||n!==e)return n;if(this.options.trimValues)return A(e,this.options.parseTagValue,this.options.numberParseOptions);return e.trim()===e?A(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function l(e){if(this.options.removeNSPrefix){const t=e.split(":"),r="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=r+t[1])}return e}const u=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function h(e,t,r){if(!this.options.ignoreAttributes&&"string"==typeof e){const r=n.getAllMatches(e,u),i=r.length,s={};for(let e=0;e<i;e++){const n=this.resolveNameSpace(r[e][1]);let i=r[e][4],o=this.options.attributeNamePrefix+n;if(n.length)if(this.options.transformAttributeName&&(o=this.options.transformAttributeName(o)),"__proto__"===o&&(o="#__proto__"),void 0!==i){this.options.trimValues&&(i=i.trim()),i=this.replaceEntitiesValue(i);const e=this.options.attributeValueProcessor(n,i,t);s[o]=null==e?i:typeof e!=typeof i||e!==i?e:A(i,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[o]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const e={};return e[this.options.attributesGroupName]=s,e}return s}}const d=function(e){e=e.replace(/\r\n?/g,"\n");const t=new i("!xml");let r=t,n="",o="";for(let a=0;a<e.length;a++){if("<"===e[a])if("/"===e[a+1]){const t=w(e,">",a,"Closing Tag is not closed.");let i=e.substring(a+2,t).trim();if(this.options.removeNSPrefix){const e=i.indexOf(":");-1!==e&&(i=i.substr(e+1))}this.options.transformTagName&&(i=this.options.transformTagName(i)),r&&(n=this.saveTextToParentTag(n,r,o));const s=o.substring(o.lastIndexOf(".")+1);if(i&&-1!==this.options.unpairedTags.indexOf(i))throw new Error(`Unpaired tag can not be used as closing tag: </${i}>`);let c=0;s&&-1!==this.options.unpairedTags.indexOf(s)?(c=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):c=o.lastIndexOf("."),o=o.substring(0,c),r=this.tagsNodeStack.pop(),n="",a=t}else if("?"===e[a+1]){let t=m(e,a,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{const e=new i(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,o,t.tagName)),this.addChild(r,e,o)}a=t.closeIndex+1}else if("!--"===e.substr(a+1,3)){const t=w(e,"--\x3e",a+4,"Comment is not closed.");if(this.options.commentPropName){const i=e.substring(a+4,t-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:i}])}a=t}else if("!D"===e.substr(a+1,2)){const t=s(e,a);this.docTypeEntities=t.entities,a=t.i}else if("!["===e.substr(a+1,2)){const t=w(e,"]]>",a,"CDATA is not closed.")-2,i=e.substring(a+9,t);if(n=this.saveTextToParentTag(n,r,o),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:i}]);else{let e=this.parseTextData(i,r.tagname,o,!0,!1,!0);null==e&&(e=""),r.add(this.options.textNodeName,e)}a=t+2}else{let s=m(e,a,this.options.removeNSPrefix),c=s.tagName,l=s.tagExp,u=s.attrExpPresent,h=s.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&"!xml"!==r.tagname&&(n=this.saveTextToParentTag(n,r,o,!1));const d=r;if(d&&-1!==this.options.unpairedTags.indexOf(d.tagname)&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c),this.isItStopNode(this.options.stopNodes,o,c)){let t="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)a=s.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(c))a=s.closeIndex;else{const r=this.readStopNodeData(e,c,h+1);if(!r)throw new Error(`Unexpected end of ${c}`);a=r.i,t=r.tagContent}const n=new i(c);c!==l&&u&&(n[":@"]=this.buildAttributesMap(l,o,c)),t&&(t=this.parseTextData(t,c,o,!0,u,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),n.add(this.options.textNodeName,t),this.addChild(r,n,o)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){"/"===c[c.length-1]?(c=c.substr(0,c.length-1),l=c):l=l.substr(0,l.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const e=new i(c);c!==l&&u&&(e[":@"]=this.buildAttributesMap(l,o,c)),this.addChild(r,e,o),o=o.substr(0,o.lastIndexOf("."))}else{const e=new i(c);this.tagsNodeStack.push(r),c!==l&&u&&(e[":@"]=this.buildAttributesMap(l,o,c)),this.addChild(r,e,o),r=e}n="",a=h}}else n+=e[a]}return t.child};function f(e,t,r){const n=this.options.updateTag(t.tagname,r,t[":@"]);!1===n||("string"==typeof n?(t.tagname=n,e.addChild(t)):e.addChild(t))}const p=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){const r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function g(e,t,r,n){return e&&(void 0===n&&(n=0===Object.keys(t.child).length),void 0!==(e=this.parseTextData(e,t.tagname,r,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,n))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function y(e,t,r){const n="*."+r;for(const r in e){const i=e[r];if(n===i||t===i)return!0}return!1}function w(e,t,r,n){const i=e.indexOf(t,r);if(-1===i)throw new Error(n);return i+t.length-1}function m(e,t,r,n=">"){const i=function(e,t,r=">"){let n,i="";for(let s=t;s<e.length;s++){let t=e[s];if(n)t===n&&(n="");else if('"'===t||"'"===t)n=t;else if(t===r[0]){if(!r[1])return{data:i,index:s};if(e[s+1]===r[1])return{data:i,index:s}}else"\t"===t&&(t=" ");i+=t}}(e,t+1,n);if(!i)return;let s=i.data;const o=i.index,a=s.search(/\s/);let c=s,l=!0;if(-1!==a&&(c=s.substr(0,a).replace(/\s\s*$/,""),s=s.substr(a+1)),r){const e=c.indexOf(":");-1!==e&&(c=c.substr(e+1),l=c!==i.data.substr(e+1))}return{tagName:c,tagExp:s,closeIndex:o,attrExpPresent:l}}function b(e,t,r){const n=r;let i=1;for(;r<e.length;r++)if("<"===e[r])if("/"===e[r+1]){const s=w(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(i--,0===i))return{tagContent:e.substring(n,r),i:s};r=s}else if("?"===e[r+1]){r=w(e,"?>",r+1,"StopNode is not closed.")}else if("!--"===e.substr(r+1,3)){r=w(e,"--\x3e",r+3,"StopNode is not closed.")}else if("!["===e.substr(r+1,2)){r=w(e,"]]>",r,"StopNode is not closed.")-2}else{const n=m(e,r,">");if(n){(n&&n.tagName)===t&&"/"!==n.tagExp[n.tagExp.length-1]&&i++,r=n.closeIndex}}}function A(e,t,r){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&o(e,r)}return n.isExist(e)?e:""}e.exports=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""}},this.addExternalEntities=a,this.parseXml=d,this.parseTextData=c,this.resolveNameSpace=l,this.buildAttributesMap=h,this.isItStopNode=y,this.replaceEntitiesValue=p,this.readStopNodeData=b,this.saveTextToParentTag=g,this.addChild=f}}},8844:(e,t,r)=>{const{buildOptions:n}=r(6745),i=r(1078),{prettify:s}=r(6997),o=r(8501);e.exports=class{constructor(e){this.externalEntities={},this.options=n(e)}parse(e,t){if("string"==typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const r=o.validate(e,t);if(!0!==r)throw Error(`${r.err.msg}:${r.err.line}:${r.err.col}`)}const r=new i(this.options);r.addExternalEntities(this.externalEntities);const n=r.parseXml(e);return this.options.preserveOrder||void 0===n?n:s(n,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}}},6997:(e,t)=>{"use strict";function r(e,t,o){let a;const c={};for(let l=0;l<e.length;l++){const u=e[l],h=n(u);let d="";if(d=void 0===o?h:o+"."+h,h===t.textNodeName)void 0===a?a=u[h]:a+=""+u[h];else{if(void 0===h)continue;if(u[h]){let e=r(u[h],t,d);const n=s(e,t);u[":@"]?i(e,u[":@"],d,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==c[h]&&c.hasOwnProperty(h)?(Array.isArray(c[h])||(c[h]=[c[h]]),c[h].push(e)):t.isArray(h,d,n)?c[h]=[e]:c[h]=e}}}return"string"==typeof a?a.length>0&&(c[t.textNodeName]=a):void 0!==a&&(c[t.textNodeName]=a),c}function n(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const r=t[e];if(":@"!==r)return r}}function i(e,t,r,n){if(t){const i=Object.keys(t),s=i.length;for(let o=0;o<s;o++){const s=i[o];n.isArray(s,r+"."+s,!0,!0)?e[s]=[t[s]]:e[s]=t[s]}}}function s(e,t){const{textNodeName:r}=t,n=Object.keys(e).length;return 0===n||!(1!==n||!e[r]&&"boolean"!=typeof e[r]&&0!==e[r])}t.prettify=function(e,t){return r(e,t)}},6311:e=>{"use strict";e.exports=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}},2475:(e,t,r)=>{"use strict";var n=r(8764).Buffer,i=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/\s|\uFEFF|\xA0/,a=/\r?\n[\x20\x09]+/g,c=/[;,"]/,l=/[;,"]|\s/,u=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,h=1,d=2,f=4;function p(e){return e.replace(s,"")}function g(e){return o.test(e)}function y(e,t){for(;g(e[t]);)t++;return t}function w(e){return l.test(e)||!u.test(e)}class m{constructor(e){this.refs=[],e&&this.parse(e)}rel(e){for(var t=[],r=e.toLowerCase(),n=0;n<this.refs.length;n++)this.refs[n].rel.toLowerCase()===r&&t.push(this.refs[n]);return t}get(e,t){e=e.toLowerCase();for(var r=[],n=0;n<this.refs.length;n++)this.refs[n][e]===t&&r.push(this.refs[n]);return r}set(e){return this.refs.push(e),this}setUnique(e){return this.refs.some((t=>{return r=t,n=e,Object.keys(r).length===Object.keys(n).length&&Object.keys(r).every((e=>e in n&&r[e]===n[e]));var r,n}))||this.refs.push(e),this}has(e,t){e=e.toLowerCase();for(var r=0;r<this.refs.length;r++)if(this.refs[r][e]===t)return!0;return!1}parse(e,t){e=p(e=(t=t||0)?e.slice(t):e).replace(a,"");for(var r=h,n=e.length,i=(t=0,null);t<n;)if(r===h){if(g(e[t])){t++;continue}if("<"!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);if(null!=i&&(null!=i.rel?this.refs.push(...m.expandRelations(i)):this.refs.push(i)),-1===(l=e.indexOf(">",t)))throw new Error("Expected end of URI delimiter at offset "+t);i={uri:e.slice(t+1,l)},t=l,r=d,t++}else if(r===d){if(g(e[t])){t++;continue}if(";"===e[t])r=f,t++;else{if(","!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);r=h,t++}}else{if(r!==f)throw new Error('Unknown parser state "'+r+'"');if(";"===e[t]||g(e[t])){t++;continue}if(-1===(l=e.indexOf("=",t)))throw new Error("Expected attribute delimiter at offset "+t);var s=p(e.slice(t,l)).toLowerCase(),o="";if('"'===e[t=y(e,t=l+1)])for(t++;t<n;){if('"'===e[t]){t++;break}"\\"===e[t]&&t++,o+=e[t],t++}else{for(var l=t+1;!c.test(e[l])&&l<n;)l++;o=e.slice(t,l),t=l}switch(i[s]&&m.isSingleOccurenceAttr(s)||("*"===s[s.length-1]?i[s]=m.parseExtendedValue(o):(o="type"===s?o.toLowerCase():o,null!=i[s]?Array.isArray(i[s])?i[s].push(o):i[s]=[i[s],o]:i[s]=o)),e[t]){case",":r=h;break;case";":r=f}t++}return null!=i&&(null!=i.rel?this.refs.push(...m.expandRelations(i)):this.refs.push(i)),i=null,this}toString(){for(var e=[],t="",r=null,n=0;n<this.refs.length;n++)r=this.refs[n],t=Object.keys(this.refs[n]).reduce((function(e,t){return"uri"===t?e:e+"; "+m.formatAttribute(t,r[t])}),"<"+r.uri+">"),e.push(t);return e.join(", ")}}m.isCompatibleEncoding=function(e){return i.test(e)},m.parse=function(e,t){return(new m).parse(e,t)},m.isSingleOccurenceAttr=function(e){return"rel"===e||"type"===e||"media"===e||"title"===e||"title*"===e},m.isTokenAttr=function(e){return"rel"===e||"type"===e||"anchor"===e},m.escapeQuotes=function(e){return e.replace(/"/g,'\\"')},m.expandRelations=function(e){return e.rel.split(" ").map((function(t){var r=Object.assign({},e);return r.rel=t,r}))},m.parseExtendedValue=function(e){var t=/([^']+)?(?:'([^']*)')?(.+)/.exec(e);return{language:t[2].toLowerCase(),encoding:m.isCompatibleEncoding(t[1])?null:t[1].toLowerCase(),value:m.isCompatibleEncoding(t[1])?decodeURIComponent(t[3]):t[3]}},m.formatExtendedAttribute=function(e,t){var r=(t.encoding||"utf-8").toUpperCase();return e+"="+r+"'"+(t.language||"en")+"'"+(n.isBuffer(t.value)&&m.isCompatibleEncoding(r)?t.value.toString(r):n.isBuffer(t.value)?t.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(t.value))},m.formatAttribute=function(e,t){return Array.isArray(t)?t.map((t=>m.formatAttribute(e,t))).join("; "):"*"===e[e.length-1]||"string"!=typeof t?m.formatExtendedAttribute(e,t):(m.isTokenAttr(e)?t=w(t)?'"'+m.escapeQuotes(t)+'"':m.escapeQuotes(t):w(t)&&(t='"'+(t=(t=encodeURIComponent(t)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),e+"="+t)},e.exports=m},645:(e,t)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,l=c>>1,u=-7,h=r?i-1:0,d=r?-1:1,f=e[t+h];for(h+=d,s=f&(1<<-u)-1,f>>=-u,u+=a;u>0;s=256*s+e[t+h],h+=d,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=256*o+e[t+h],h+=d,u-=8);if(0===s)s=1-l;else{if(s===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=l}return(f?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var o,a,c,l=8*s-i-1,u=(1<<l)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(t*c-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;e[r+f]=255&o,f+=p,o/=256,l-=8);e[r+f-p]|=128*g}},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},6512:function(e){!function(t){"use strict";const r="(0?\\d+|0x[a-f0-9]+)",n={fourOctet:new RegExp(`^${r}\\.${r}\\.${r}\\.${r}$`,"i"),threeOctet:new RegExp(`^${r}\\.${r}\\.${r}$`,"i"),twoOctet:new RegExp(`^${r}\\.${r}$`,"i"),longValue:new RegExp(`^${r}$`,"i")},i=new RegExp("^0[0-7]+$","i"),s=new RegExp("^0x[a-f0-9]+$","i"),o="%[0-9a-z]{1,}",a="(?:[0-9a-f]+::?)+",c={zoneIndex:new RegExp(o,"i"),native:new RegExp(`^(::)?(${a})?([0-9a-f]+)?(::)?(${o})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${r}\\.${r}\\.${r}\\.${r}(${o})?)$`,"i"),transitional:new RegExp(`^((?:${a})|(?:::)(?:${a})?)${r}\\.${r}\\.${r}\\.${r}(${o})?$`,"i")};function l(e,t){if(e.indexOf("::")!==e.lastIndexOf("::"))return null;let r,n,i=0,s=-1,o=(e.match(c.zoneIndex)||[])[0];for(o&&(o=o.substring(1),e=e.replace(/%.+$/,""));(s=e.indexOf(":",s+1))>=0;)i++;if("::"===e.substr(0,2)&&i--,"::"===e.substr(-2,2)&&i--,i>t)return null;for(n=t-i,r=":";n--;)r+="0:";return":"===(e=e.replace("::",r))[0]&&(e=e.slice(1)),":"===e[e.length-1]&&(e=e.slice(0,-1)),t=function(){const t=e.split(":"),r=[];for(let e=0;e<t.length;e++)r.push(parseInt(t[e],16));return r}(),{parts:t,zoneId:o}}function u(e,t,r,n){if(e.length!==t.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let i,s=0;for(;n>0;){if(i=r-n,i<0&&(i=0),e[s]>>i!=t[s]>>i)return!1;n-=r,s+=1}return!0}function h(e){if(s.test(e))return parseInt(e,16);if("0"===e[0]&&!isNaN(parseInt(e[1],10))){if(i.test(e))return parseInt(e,8);throw new Error(`ipaddr: cannot parse ${e} as octal`)}return parseInt(e,10)}function d(e,t){for(;e.length<t;)e=`0${e}`;return e}const f={};f.IPv4=function(){function e(e){if(4!==e.length)throw new Error("ipaddr: ipv4 octet count should be 4");let t,r;for(t=0;t<e.length;t++)if(r=e[t],!(0<=r&&r<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=e}return e.prototype.SpecialRanges={unspecified:[[new e([0,0,0,0]),8]],broadcast:[[new e([255,255,255,255]),32]],multicast:[[new e([224,0,0,0]),4]],linkLocal:[[new e([169,254,0,0]),16]],loopback:[[new e([127,0,0,0]),8]],carrierGradeNat:[[new e([100,64,0,0]),10]],private:[[new e([10,0,0,0]),8],[new e([172,16,0,0]),12],[new e([192,168,0,0]),16]],reserved:[[new e([192,0,0,0]),24],[new e([192,0,2,0]),24],[new e([192,88,99,0]),24],[new e([198,51,100,0]),24],[new e([203,0,113,0]),24],[new e([240,0,0,0]),4]]},e.prototype.kind=function(){return"ipv4"},e.prototype.match=function(e,t){let r;if(void 0===t&&(r=e,e=r[0],t=r[1]),"ipv4"!==e.kind())throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return u(this.octets,e.octets,8,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e=0,t=!1;const r={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let n,i,s;for(n=3;n>=0;n-=1){if(i=this.octets[n],!(i in r))return null;if(s=r[i],t&&0!==s)return null;8!==s&&(t=!0),e+=s}return 32-e},e.prototype.range=function(){return f.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){return this.octets.slice(0)},e.prototype.toIPv4MappedAddress=function(){return f.IPv6.parse(`::ffff:${this.toString()}`)},e.prototype.toNormalizedString=function(){return this.toString()},e.prototype.toString=function(){return this.octets.join(".")},e}(),f.IPv4.broadcastAddressFromCIDR=function(e){try{const t=this.parseCIDR(e),r=t[0].toByteArray(),n=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),i=[];let s=0;for(;s<4;)i.push(parseInt(r[s],10)|255^parseInt(n[s],10)),s++;return new this(i)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},f.IPv4.isIPv4=function(e){return null!==this.parser(e)},f.IPv4.isValid=function(e){try{return new this(this.parser(e)),!0}catch(e){return!1}},f.IPv4.isValidFourPartDecimal=function(e){return!(!f.IPv4.isValid(e)||!e.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},f.IPv4.networkAddressFromCIDR=function(e){let t,r,n,i,s;try{for(t=this.parseCIDR(e),n=t[0].toByteArray(),s=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),i=[],r=0;r<4;)i.push(parseInt(n[r],10)&parseInt(s[r],10)),r++;return new this(i)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},f.IPv4.parse=function(e){const t=this.parser(e);if(null===t)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(t)},f.IPv4.parseCIDR=function(e){let t;if(t=e.match(/^(.+)\/(\d+)$/)){const e=parseInt(t[2]);if(e>=0&&e<=32){const r=[this.parse(t[1]),e];return Object.defineProperty(r,"toString",{value:function(){return this.join("/")}}),r}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},f.IPv4.parser=function(e){let t,r,i;if(t=e.match(n.fourOctet))return function(){const e=t.slice(1,6),n=[];for(let t=0;t<e.length;t++)r=e[t],n.push(h(r));return n}();if(t=e.match(n.longValue)){if(i=h(t[1]),i>4294967295||i<0)throw new Error("ipaddr: address outside defined range");return function(){const e=[];let t;for(t=0;t<=24;t+=8)e.push(i>>t&255);return e}().reverse()}return(t=e.match(n.twoOctet))?function(){const e=t.slice(1,4),r=[];if(i=h(e[1]),i>16777215||i<0)throw new Error("ipaddr: address outside defined range");return r.push(h(e[0])),r.push(i>>16&255),r.push(i>>8&255),r.push(255&i),r}():(t=e.match(n.threeOctet))?function(){const e=t.slice(1,5),r=[];if(i=h(e[2]),i>65535||i<0)throw new Error("ipaddr: address outside defined range");return r.push(h(e[0])),r.push(h(e[1])),r.push(i>>8&255),r.push(255&i),r}():null},f.IPv4.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>32)throw new Error("ipaddr: invalid IPv4 prefix length");const t=[0,0,0,0];let r=0;const n=Math.floor(e/8);for(;r<n;)t[r]=255,r++;return n<4&&(t[n]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},f.IPv6=function(){function e(e,t){let r,n;if(16===e.length)for(this.parts=[],r=0;r<=14;r+=2)this.parts.push(e[r]<<8|e[r+1]);else{if(8!==e.length)throw new Error("ipaddr: ipv6 part count should be 8 or 16");this.parts=e}for(r=0;r<this.parts.length;r++)if(n=this.parts[r],!(0<=n&&n<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");t&&(this.zoneId=t)}return e.prototype.SpecialRanges={unspecified:[new e([0,0,0,0,0,0,0,0]),128],linkLocal:[new e([65152,0,0,0,0,0,0,0]),10],multicast:[new e([65280,0,0,0,0,0,0,0]),8],loopback:[new e([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new e([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new e([0,0,0,0,0,65535,0,0]),96],rfc6145:[new e([0,0,0,0,65535,0,0,0]),96],rfc6052:[new e([100,65435,0,0,0,0,0,0]),96],"6to4":[new e([8194,0,0,0,0,0,0,0]),16],teredo:[new e([8193,0,0,0,0,0,0,0]),32],reserved:[[new e([8193,3512,0,0,0,0,0,0]),32]]},e.prototype.isIPv4MappedAddress=function(){return"ipv4Mapped"===this.range()},e.prototype.kind=function(){return"ipv6"},e.prototype.match=function(e,t){let r;if(void 0===t&&(r=e,e=r[0],t=r[1]),"ipv6"!==e.kind())throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return u(this.parts,e.parts,16,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e=0,t=!1;const r={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let n,i;for(let s=7;s>=0;s-=1){if(n=this.parts[s],!(n in r))return null;if(i=r[n],t&&0!==i)return null;16!==i&&(t=!0),e+=i}return 128-e},e.prototype.range=function(){return f.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){let e;const t=[],r=this.parts;for(let n=0;n<r.length;n++)e=r[n],t.push(e>>8),t.push(255&e);return t},e.prototype.toFixedLengthString=function(){const e=function(){const e=[];for(let t=0;t<this.parts.length;t++)e.push(d(this.parts[t].toString(16),4));return e}.call(this).join(":");let t="";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");const e=this.parts.slice(-2),t=e[0],r=e[1];return new f.IPv4([t>>8,255&t,r>>8,255&r])},e.prototype.toNormalizedString=function(){const e=function(){const e=[];for(let t=0;t<this.parts.length;t++)e.push(this.parts[t].toString(16));return e}.call(this).join(":");let t="";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toRFC5952String=function(){const e=/((^|:)(0(:|$)){2,})/g,t=this.toNormalizedString();let r,n=0,i=-1;for(;r=e.exec(t);)r[0].length>i&&(n=r.index,i=r[0].length);return i<0?t:`${t.substring(0,n)}::${t.substring(n+i)}`},e.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},e}(),f.IPv6.broadcastAddressFromCIDR=function(e){try{const t=this.parseCIDR(e),r=t[0].toByteArray(),n=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),i=[];let s=0;for(;s<16;)i.push(parseInt(r[s],10)|255^parseInt(n[s],10)),s++;return new this(i)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},f.IPv6.isIPv6=function(e){return null!==this.parser(e)},f.IPv6.isValid=function(e){if("string"==typeof e&&-1===e.indexOf(":"))return!1;try{const t=this.parser(e);return new this(t.parts,t.zoneId),!0}catch(e){return!1}},f.IPv6.networkAddressFromCIDR=function(e){let t,r,n,i,s;try{for(t=this.parseCIDR(e),n=t[0].toByteArray(),s=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),i=[],r=0;r<16;)i.push(parseInt(n[r],10)&parseInt(s[r],10)),r++;return new this(i)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},f.IPv6.parse=function(e){const t=this.parser(e);if(null===t.parts)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(t.parts,t.zoneId)},f.IPv6.parseCIDR=function(e){let t,r,n;if((r=e.match(/^(.+)\/(\d+)$/))&&(t=parseInt(r[2]),t>=0&&t<=128))return n=[this.parse(r[1]),t],Object.defineProperty(n,"toString",{value:function(){return this.join("/")}}),n;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},f.IPv6.parser=function(e){let t,r,n,i,s,o;if(n=e.match(c.deprecatedTransitional))return this.parser(`::ffff:${n[1]}`);if(c.native.test(e))return l(e,8);if((n=e.match(c.transitional))&&(o=n[6]||"",t=l(n[1].slice(0,-1)+o,6),t.parts)){for(s=[parseInt(n[2]),parseInt(n[3]),parseInt(n[4]),parseInt(n[5])],r=0;r<s.length;r++)if(i=s[r],!(0<=i&&i<=255))return null;return t.parts.push(s[0]<<8|s[1]),t.parts.push(s[2]<<8|s[3]),{parts:t.parts,zoneId:t.zoneId}}return null},f.IPv6.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>128)throw new Error("ipaddr: invalid IPv6 prefix length");const t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let r=0;const n=Math.floor(e/8);for(;r<n;)t[r]=255,r++;return n<16&&(t[n]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},f.fromByteArray=function(e){const t=e.length;if(4===t)return new f.IPv4(e);if(16===t)return new f.IPv6(e);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},f.isValid=function(e){return f.IPv6.isValid(e)||f.IPv4.isValid(e)},f.parse=function(e){if(f.IPv6.isValid(e))return f.IPv6.parse(e);if(f.IPv4.isValid(e))return f.IPv4.parse(e);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},f.parseCIDR=function(e){try{return f.IPv6.parseCIDR(e)}catch(t){try{return f.IPv4.parseCIDR(e)}catch(e){throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},f.process=function(e){const t=this.parse(e);return"ipv6"===t.kind()&&t.isIPv4MappedAddress()?t.toIPv4Address():t},f.subnetMatch=function(e,t,r){let n,i,s,o;for(i in null==r&&(r="unicast"),t)if(Object.prototype.hasOwnProperty.call(t,i))for(s=t[i],!s[0]||s[0]instanceof Array||(s=[s]),n=0;n<s.length;n++)if(o=s[n],e.kind()===o[0].kind()&&e.match.apply(e,o))return i;return r},e.exports?e.exports=f:t.ipaddr=f}(this)},9991:e=>{"use strict";e.exports=function(){function e(e,t,r,n,i){return e<t||r<t?e>r?r+1:e+1:n===i?t:t+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,s=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(s-1);)i--,s--;for(var o=0;o<i&&t.charCodeAt(o)===r.charCodeAt(o);)o++;if(s-=o,0===(i-=o)||s<3)return s;var a,c,l,u,h,d,f,p,g,y,w,m,b=0,A=[];for(a=0;a<i;a++)A.push(a+1),A.push(t.charCodeAt(o+a));for(var E=A.length-1;b<s-3;)for(g=r.charCodeAt(o+(c=b)),y=r.charCodeAt(o+(l=b+1)),w=r.charCodeAt(o+(u=b+2)),m=r.charCodeAt(o+(h=b+3)),d=b+=4,a=0;a<E;a+=2)c=e(f=A[a],c,l,g,p=A[a+1]),l=e(c,l,u,y,p),u=e(l,u,h,w,p),d=e(u,h,d,m,p),A[a]=d,h=u,u=l,l=c,c=f;for(;b<s;)for(g=r.charCodeAt(o+(c=b)),d=++b,a=0;a<E;a+=2)f=A[a],A[a]=d=e(f,c,d,g,A[a+1]),c=f;return d}}()},9591:(e,t,r)=>{"use strict";var n={};(0,r(4236).assign)(n,r(4555),r(8843),r(1619)),e.exports=n},4555:(e,t,r)=>{"use strict";var n=r(405),i=r(4236),s=r(9373),o=r(8898),a=r(2292),c=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==r)throw new Error(o[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(r=n.deflateSetDictionary(this.strm,u)))throw new Error(o[r]);this._dict_set=!0}}function u(e,t){var r=new l(t);if(r.push(e,!0),r.err)throw r.msg||o[r.err];return r.result}l.prototype.push=function(e,t){var r,o,a=this.strm,l=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=s.string2buf(e):"[object ArrayBuffer]"===c.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new i.Buf8(l),a.next_out=0,a.avail_out=l),1!==(r=n.deflate(a,o))&&0!==r)return this.onEnd(r),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(s.buf2binstring(i.shrinkBuf(a.output,a.next_out))):this.onData(i.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==r);return 4===o?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==o||(this.onEnd(0),a.avail_out=0,!0)},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=l,t.deflate=u,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},8843:(e,t,r)=>{"use strict";var n=r(7948),i=r(4236),s=r(9373),o=r(1619),a=r(8898),c=r(2292),l=r(2401),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==o.Z_OK)throw new Error(a[r]);if(this.header=new l,n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=s.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=n.inflateSetDictionary(this.strm,t.dictionary))!==o.Z_OK))throw new Error(a[r])}function d(e,t){var r=new h(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}h.prototype.push=function(e,t){var r,a,c,l,h,d=this.strm,f=this.options.chunkSize,p=this.options.dictionary,g=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?d.input=s.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(f),d.next_out=0,d.avail_out=f),(r=n.inflate(d,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&p&&(r=n.inflateSetDictionary(this.strm,p)),r===o.Z_BUF_ERROR&&!0===g&&(r=o.Z_OK,g=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&r!==o.Z_STREAM_END&&(0!==d.avail_in||a!==o.Z_FINISH&&a!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(c=s.utf8border(d.output,d.next_out),l=d.next_out-c,h=s.buf2string(d.output,c),d.next_out=l,d.avail_out=f-l,l&&i.arraySet(d.output,d.output,c,l,0),this.onData(h)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((d.avail_in>0||0===d.avail_out)&&r!==o.Z_STREAM_END);return r===o.Z_STREAM_END&&(a=o.Z_FINISH),a===o.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):a!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),d.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=h,t.inflate=d,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.ungzip=d},4236:(e,t)=>{"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)n(r,i)&&(e[i]=r[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){var t,r,n,i,s,o;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(o=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)s=e[t],o.set(s,i),i+=s.length;return o}},s={arraySet:function(e,t,r,n,i){for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(r)},9373:(e,t,r)=>{"use strict";var n=r(4236),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var o=new n.Buf8(256),a=0;a<256;a++)o[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function c(e,t){if(t<65534&&(e.subarray&&s||!e.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",o=0;o<t;o++)r+=String.fromCharCode(e[o]);return r}o[254]=o[254]=1,t.string2buf=function(e){var t,r,i,s,o,a=e.length,c=0;for(s=0;s<a;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(i=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),c+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(c),o=0,s=0;o<c;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(i=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|63&r):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|63&r):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|63&r);return t},t.buf2binstring=function(e){return c(e,e.length)},t.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},t.buf2string=function(e,t){var r,n,i,s,a=t||e.length,l=new Array(2*a);for(n=0,r=0;r<a;)if((i=e[r++])<128)l[n++]=i;else if((s=o[i])>4)l[n++]=65533,r+=s-1;else{for(i&=2===s?31:3===s?15:7;s>1&&r<a;)i=i<<6|63&e[r++],s--;s>1?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return c(l,n)},t.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+o[e[r]]>t?r:t}},6069:e=>{"use strict";e.exports=function(e,t,r,n){for(var i=65535&e|0,s=e>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{s=s+(i=i+t[n++]|0)|0}while(--o);i%=65521,s%=65521}return i|s<<16|0}},1619:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},2869:e=>{"use strict";var t=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,r,n,i){var s=t,o=i+n;e^=-1;for(var a=i;a<o;a++)e=e>>>8^s[255&(e^r[a])];return-1^e}},405:(e,t,r)=>{"use strict";var n,i=r(4236),s=r(342),o=r(6069),a=r(2869),c=r(8898),l=-2,u=258,h=262,d=103,f=113,p=666;function g(e,t){return e.msg=c[t],t}function y(e){return(e<<1)-(e>4?9:0)}function w(e){for(var t=e.length;--t>=0;)e[t]=0}function m(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function b(e,t){s._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,m(e.strm)}function A(e,t){e.pending_buf[e.pending++]=t}function E(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function v(e,t){var r,n,i=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match,c=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,l=e.window,d=e.w_mask,f=e.prev,p=e.strstart+u,g=l[s+o-1],y=l[s+o];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(l[(r=t)+o]===y&&l[r+o-1]===g&&l[r]===l[s]&&l[++r]===l[s+1]){s+=2,r++;do{}while(l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&s<p);if(n=u-(p-s),s=p-u,n>o){if(e.match_start=t,o=n,n>=a)break;g=l[s+o-1],y=l[s+o]}}}while((t=f[t&d])>c&&0!=--i);return o<=e.lookahead?o:e.lookahead}function _(e){var t,r,n,s,c,l,u,d,f,p,g=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-h)){i.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=g?n-g:0}while(--r);t=r=g;do{n=e.prev[--t],e.prev[t]=n>=g?n-g:0}while(--r);s+=g}if(0===e.strm.avail_in)break;if(l=e.strm,u=e.window,d=e.strstart+e.lookahead,f=s,p=void 0,(p=l.avail_in)>f&&(p=f),r=0===p?0:(l.avail_in-=p,i.arraySet(u,l.input,l.next_in,p,d),1===l.state.wrap?l.adler=o(l.adler,u,p,d):2===l.state.wrap&&(l.adler=a(l.adler,u,p,d)),l.next_in+=p,l.total_in+=p,p),e.lookahead+=r,e.lookahead+e.insert>=3)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+3-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function T(e,t){for(var r,n;;){if(e.lookahead<h){if(_(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-h&&(e.match_length=v(e,r)),e.match_length>=3)if(n=s._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function S(e,t){for(var r,n,i;;){if(e.lookahead<h){if(_(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-h&&(e.match_length=v(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=s._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function I(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function C(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),w(this.dyn_ltree),w(this.dyn_dtree),w(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),w(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),w(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function R(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:f,e.adler=2===t.wrap?0:1,t.last_flush=0,s._tr_init(t),0):g(e,l)}function x(e){var t,r=R(e);return 0===r&&((t=e.state).window_size=2*t.w_size,w(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r}function k(e,t,r,n,s,o){if(!e)return l;var a=1;if(-1===t&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),s<1||s>9||8!==r||n<8||n>15||t<0||t>9||o<0||o>4)return g(e,l);8===n&&(n=9);var c=new C;return e.state=c,c.strm=e,c.wrap=a,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=s+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<s+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=o,c.method=r,x(e)}n=[new I(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(_(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new I(4,4,8,4,T),new I(4,5,16,8,T),new I(4,6,32,32,T),new I(4,4,16,16,S),new I(8,16,32,32,S),new I(8,16,128,128,S),new I(8,32,128,256,S),new I(32,128,258,1024,S),new I(32,258,258,4096,S)],t.deflateInit=function(e,t){return k(e,t,8,15,8,0)},t.deflateInit2=k,t.deflateReset=x,t.deflateResetKeep=R,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?l:(e.state.gzhead=t,0):l},t.deflate=function(e,t){var r,i,o,c;if(!e||!e.state||t>5||t<0)return e?g(e,l):l;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===p&&4!==t)return g(e,0===e.avail_out?-5:l);if(i.strm=e,r=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,A(i,31),A(i,139),A(i,8),i.gzhead?(A(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),A(i,255&i.gzhead.time),A(i,i.gzhead.time>>8&255),A(i,i.gzhead.time>>16&255),A(i,i.gzhead.time>>24&255),A(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),A(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(A(i,255&i.gzhead.extra.length),A(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(A(i,0),A(i,0),A(i,0),A(i,0),A(i,0),A(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),A(i,3),i.status=f);else{var h=8+(i.w_bits-8<<4)<<8;h|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=f,E(i,h),0!==i.strstart&&(E(i,e.adler>>>16),E(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),m(e),o=i.pending,i.pending!==i.pending_buf_size));)A(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),m(e),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,A(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),m(e),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,A(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),0===c&&(i.status=d)}else i.status=d;if(i.status===d&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&m(e),i.pending+2<=i.pending_buf_size&&(A(i,255&e.adler),A(i,e.adler>>8&255),e.adler=0,i.status=f)):i.status=f),0!==i.pending){if(m(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&y(t)<=y(r)&&4!==t)return g(e,-5);if(i.status===p&&0!==e.avail_in)return g(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==p){var v=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(_(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var r,n,i,o,a=e.window;;){if(e.lookahead<=u){if(_(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=a[i=e.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){o=e.strstart+u;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);e.match_length=u-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=s._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):n[i.level].func(i,t);if(3!==v&&4!==v||(i.status=p),1===v||3===v)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===v&&(1===t?s._tr_align(i):5!==t&&(s._tr_stored_block(i,0,0,!1),3===t&&(w(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),m(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(A(i,255&e.adler),A(i,e.adler>>8&255),A(i,e.adler>>16&255),A(i,e.adler>>24&255),A(i,255&e.total_in),A(i,e.total_in>>8&255),A(i,e.total_in>>16&255),A(i,e.total_in>>24&255)):(E(i,e.adler>>>16),E(i,65535&e.adler)),m(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==d&&t!==f&&t!==p?g(e,l):(e.state=null,t===f?g(e,-3):0):l},t.deflateSetDictionary=function(e,t){var r,n,s,a,c,u,h,d,f=t.length;if(!e||!e.state)return l;if(2===(a=(r=e.state).wrap)||1===a&&42!==r.status||r.lookahead)return l;for(1===a&&(e.adler=o(e.adler,t,f,0)),r.wrap=0,f>=r.w_size&&(0===a&&(w(r.head),r.strstart=0,r.block_start=0,r.insert=0),d=new i.Buf8(r.w_size),i.arraySet(d,t,f-r.w_size,r.w_size,0),t=d,f=r.w_size),c=e.avail_in,u=e.next_in,h=e.input,e.avail_in=f,e.next_in=0,e.input=t,_(r);r.lookahead>=3;){n=r.strstart,s=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--s);r.strstart=n,r.lookahead=2,_(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=u,e.input=h,e.avail_in=c,r.wrap=a,0},t.deflateInfo="pako deflate (from Nodeca project)"},2401:e=>{"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},4264:e=>{"use strict";e.exports=function(e,t){var r,n,i,s,o,a,c,l,u,h,d,f,p,g,y,w,m,b,A,E,v,_,T,S,I;r=e.state,n=e.next_in,S=e.input,i=n+(e.avail_in-5),s=e.next_out,I=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),c=r.dmax,l=r.wsize,u=r.whave,h=r.wnext,d=r.window,f=r.hold,p=r.bits,g=r.lencode,y=r.distcode,w=(1<<r.lenbits)-1,m=(1<<r.distbits)-1;e:do{p<15&&(f+=S[n++]<<p,p+=8,f+=S[n++]<<p,p+=8),b=g[f&w];t:for(;;){if(f>>>=A=b>>>24,p-=A,0===(A=b>>>16&255))I[s++]=65535&b;else{if(!(16&A)){if(0==(64&A)){b=g[(65535&b)+(f&(1<<A)-1)];continue t}if(32&A){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}E=65535&b,(A&=15)&&(p<A&&(f+=S[n++]<<p,p+=8),E+=f&(1<<A)-1,f>>>=A,p-=A),p<15&&(f+=S[n++]<<p,p+=8,f+=S[n++]<<p,p+=8),b=y[f&m];r:for(;;){if(f>>>=A=b>>>24,p-=A,!(16&(A=b>>>16&255))){if(0==(64&A)){b=y[(65535&b)+(f&(1<<A)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(v=65535&b,p<(A&=15)&&(f+=S[n++]<<p,(p+=8)<A&&(f+=S[n++]<<p,p+=8)),(v+=f&(1<<A)-1)>c){e.msg="invalid distance too far back",r.mode=30;break e}if(f>>>=A,p-=A,v>(A=s-o)){if((A=v-A)>u&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(_=0,T=d,0===h){if(_+=l-A,A<E){E-=A;do{I[s++]=d[_++]}while(--A);_=s-v,T=I}}else if(h<A){if(_+=l+h-A,(A-=h)<E){E-=A;do{I[s++]=d[_++]}while(--A);if(_=0,h<E){E-=A=h;do{I[s++]=d[_++]}while(--A);_=s-v,T=I}}}else if(_+=h-A,A<E){E-=A;do{I[s++]=d[_++]}while(--A);_=s-v,T=I}for(;E>2;)I[s++]=T[_++],I[s++]=T[_++],I[s++]=T[_++],E-=3;E&&(I[s++]=T[_++],E>1&&(I[s++]=T[_++]))}else{_=s-v;do{I[s++]=I[_++],I[s++]=I[_++],I[s++]=I[_++],E-=3}while(E>2);E&&(I[s++]=I[_++],E>1&&(I[s++]=I[_++]))}break}}break}}while(n<i&&s<a);n-=E=p>>3,f&=(1<<(p-=E<<3))-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=s<a?a-s+257:257-(s-a),r.hold=f,r.bits=p}},7948:(e,t,r)=>{"use strict";var n=r(4236),i=r(6069),s=r(2869),o=r(4264),a=r(9241),c=-2,l=12,u=30;function h(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,0):c}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,f(e)):c}function g(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?c:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,p(e))):c}function y(e,t){var r,n;return e?(n=new d,e.state=n,n.window=null,0!==(r=g(e,t))&&(e.state=null),r):c}var w,m,b=!0;function A(e){if(b){var t;for(w=new n.Buf32(512),m=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,w,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,m,0,e.work,{bits:5}),b=!1}e.lencode=w,e.lenbits=9,e.distcode=m,e.distbits=5}function E(e,t,r,i){var s,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),i>=o.wsize?(n.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((s=o.wsize-o.wnext)>i&&(s=i),n.arraySet(o.window,t,r-i,s,o.wnext),(i-=s)?(n.arraySet(o.window,t,r-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}t.inflateReset=p,t.inflateReset2=g,t.inflateResetKeep=f,t.inflateInit=function(e){return y(e,15)},t.inflateInit2=y,t.inflate=function(e,t){var r,d,f,p,g,y,w,m,b,v,_,T,S,I,C,R,x,k,N,B,O,D,L,P,U=0,M=new n.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;(r=e.state).mode===l&&(r.mode=13),g=e.next_out,f=e.output,w=e.avail_out,p=e.next_in,d=e.input,y=e.avail_in,m=r.hold,b=r.bits,v=y,_=w,D=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;b<16;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if(2&r.wrap&&35615===m){r.check=0,M[0]=255&m,M[1]=m>>>8&255,r.check=s(r.check,M,2,0),m=0,b=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",r.mode=u;break}if(8!=(15&m)){e.msg="unknown compression method",r.mode=u;break}if(b-=4,O=8+(15&(m>>>=4)),0===r.wbits)r.wbits=O;else if(O>r.wbits){e.msg="invalid window size",r.mode=u;break}r.dmax=1<<O,e.adler=r.check=1,r.mode=512&m?10:l,m=0,b=0;break;case 2:for(;b<16;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if(r.flags=m,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=u;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=u;break}r.head&&(r.head.text=m>>8&1),512&r.flags&&(M[0]=255&m,M[1]=m>>>8&255,r.check=s(r.check,M,2,0)),m=0,b=0,r.mode=3;case 3:for(;b<32;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}r.head&&(r.head.time=m),512&r.flags&&(M[0]=255&m,M[1]=m>>>8&255,M[2]=m>>>16&255,M[3]=m>>>24&255,r.check=s(r.check,M,4,0)),m=0,b=0,r.mode=4;case 4:for(;b<16;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}r.head&&(r.head.xflags=255&m,r.head.os=m>>8),512&r.flags&&(M[0]=255&m,M[1]=m>>>8&255,r.check=s(r.check,M,2,0)),m=0,b=0,r.mode=5;case 5:if(1024&r.flags){for(;b<16;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}r.length=m,r.head&&(r.head.extra_len=m),512&r.flags&&(M[0]=255&m,M[1]=m>>>8&255,r.check=s(r.check,M,2,0)),m=0,b=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((T=r.length)>y&&(T=y),T&&(r.head&&(O=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,d,p,T,O)),512&r.flags&&(r.check=s(r.check,d,T,p)),y-=T,p+=T,r.length-=T),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===y)break e;T=0;do{O=d[p+T++],r.head&&O&&r.length<65536&&(r.head.name+=String.fromCharCode(O))}while(O&&T<y);if(512&r.flags&&(r.check=s(r.check,d,T,p)),y-=T,p+=T,O)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===y)break e;T=0;do{O=d[p+T++],r.head&&O&&r.length<65536&&(r.head.comment+=String.fromCharCode(O))}while(O&&T<y);if(512&r.flags&&(r.check=s(r.check,d,T,p)),y-=T,p+=T,O)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;b<16;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if(m!==(65535&r.check)){e.msg="header crc mismatch",r.mode=u;break}m=0,b=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=l;break;case 10:for(;b<32;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}e.adler=r.check=h(m),m=0,b=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=g,e.avail_out=w,e.next_in=p,e.avail_in=y,r.hold=m,r.bits=b,2;e.adler=r.check=1,r.mode=l;case l:if(5===t||6===t)break e;case 13:if(r.last){m>>>=7&b,b-=7&b,r.mode=27;break}for(;b<3;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}switch(r.last=1&m,b-=1,3&(m>>>=1)){case 0:r.mode=14;break;case 1:if(A(r),r.mode=20,6===t){m>>>=2,b-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=u}m>>>=2,b-=2;break;case 14:for(m>>>=7&b,b-=7&b;b<32;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",r.mode=u;break}if(r.length=65535&m,m=0,b=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(T=r.length){if(T>y&&(T=y),T>w&&(T=w),0===T)break e;n.arraySet(f,d,p,T,g),y-=T,p+=T,w-=T,g+=T,r.length-=T;break}r.mode=l;break;case 17:for(;b<14;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if(r.nlen=257+(31&m),m>>>=5,b-=5,r.ndist=1+(31&m),m>>>=5,b-=5,r.ncode=4+(15&m),m>>>=4,b-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=u;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;b<3;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}r.lens[F[r.have++]]=7&m,m>>>=3,b-=3}for(;r.have<19;)r.lens[F[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,L={bits:r.lenbits},D=a(0,r.lens,0,19,r.lencode,0,r.work,L),r.lenbits=L.bits,D){e.msg="invalid code lengths set",r.mode=u;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;R=(U=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,x=65535&U,!((C=U>>>24)<=b);){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if(x<16)m>>>=C,b-=C,r.lens[r.have++]=x;else{if(16===x){for(P=C+2;b<P;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if(m>>>=C,b-=C,0===r.have){e.msg="invalid bit length repeat",r.mode=u;break}O=r.lens[r.have-1],T=3+(3&m),m>>>=2,b-=2}else if(17===x){for(P=C+3;b<P;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}b-=C,O=0,T=3+(7&(m>>>=C)),m>>>=3,b-=3}else{for(P=C+7;b<P;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}b-=C,O=0,T=11+(127&(m>>>=C)),m>>>=7,b-=7}if(r.have+T>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=u;break}for(;T--;)r.lens[r.have++]=O}}if(r.mode===u)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=u;break}if(r.lenbits=9,L={bits:r.lenbits},D=a(1,r.lens,0,r.nlen,r.lencode,0,r.work,L),r.lenbits=L.bits,D){e.msg="invalid literal/lengths set",r.mode=u;break}if(r.distbits=6,r.distcode=r.distdyn,L={bits:r.distbits},D=a(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,L),r.distbits=L.bits,D){e.msg="invalid distances set",r.mode=u;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(y>=6&&w>=258){e.next_out=g,e.avail_out=w,e.next_in=p,e.avail_in=y,r.hold=m,r.bits=b,o(e,_),g=e.next_out,f=e.output,w=e.avail_out,p=e.next_in,d=e.input,y=e.avail_in,m=r.hold,b=r.bits,r.mode===l&&(r.back=-1);break}for(r.back=0;R=(U=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,x=65535&U,!((C=U>>>24)<=b);){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if(R&&0==(240&R)){for(k=C,N=R,B=x;R=(U=r.lencode[B+((m&(1<<k+N)-1)>>k)])>>>16&255,x=65535&U,!(k+(C=U>>>24)<=b);){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}m>>>=k,b-=k,r.back+=k}if(m>>>=C,b-=C,r.back+=C,r.length=x,0===R){r.mode=26;break}if(32&R){r.back=-1,r.mode=l;break}if(64&R){e.msg="invalid literal/length code",r.mode=u;break}r.extra=15&R,r.mode=22;case 22:if(r.extra){for(P=r.extra;b<P;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}r.length+=m&(1<<r.extra)-1,m>>>=r.extra,b-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;R=(U=r.distcode[m&(1<<r.distbits)-1])>>>16&255,x=65535&U,!((C=U>>>24)<=b);){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if(0==(240&R)){for(k=C,N=R,B=x;R=(U=r.distcode[B+((m&(1<<k+N)-1)>>k)])>>>16&255,x=65535&U,!(k+(C=U>>>24)<=b);){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}m>>>=k,b-=k,r.back+=k}if(m>>>=C,b-=C,r.back+=C,64&R){e.msg="invalid distance code",r.mode=u;break}r.offset=x,r.extra=15&R,r.mode=24;case 24:if(r.extra){for(P=r.extra;b<P;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}r.offset+=m&(1<<r.extra)-1,m>>>=r.extra,b-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=u;break}r.mode=25;case 25:if(0===w)break e;if(T=_-w,r.offset>T){if((T=r.offset-T)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=u;break}T>r.wnext?(T-=r.wnext,S=r.wsize-T):S=r.wnext-T,T>r.length&&(T=r.length),I=r.window}else I=f,S=g-r.offset,T=r.length;T>w&&(T=w),w-=T,r.length-=T;do{f[g++]=I[S++]}while(--T);0===r.length&&(r.mode=21);break;case 26:if(0===w)break e;f[g++]=r.length,w--,r.mode=21;break;case 27:if(r.wrap){for(;b<32;){if(0===y)break e;y--,m|=d[p++]<<b,b+=8}if(_-=w,e.total_out+=_,r.total+=_,_&&(e.adler=r.check=r.flags?s(r.check,f,_,g-_):i(r.check,f,_,g-_)),_=w,(r.flags?m:h(m))!==r.check){e.msg="incorrect data check",r.mode=u;break}m=0,b=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;b<32;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if(m!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=u;break}m=0,b=0}r.mode=29;case 29:D=1;break e;case u:D=-3;break e;case 31:return-4;default:return c}return e.next_out=g,e.avail_out=w,e.next_in=p,e.avail_in=y,r.hold=m,r.bits=b,(r.wsize||_!==e.avail_out&&r.mode<u&&(r.mode<27||4!==t))&&E(e,e.output,e.next_out,_-e.avail_out)?(r.mode=31,-4):(v-=e.avail_in,_-=e.avail_out,e.total_in+=v,e.total_out+=_,r.total+=_,r.wrap&&_&&(e.adler=r.check=r.flags?s(r.check,f,_,e.next_out-_):i(r.check,f,_,e.next_out-_)),e.data_type=r.bits+(r.last?64:0)+(r.mode===l?128:0)+(20===r.mode||15===r.mode?256:0),(0===v&&0===_||4===t)&&0===D&&(D=-5),D)},t.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?c:(r.head=t,t.done=!1,0):c},t.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?c:11===r.mode&&i(1,t,n,0)!==r.check?-3:E(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,0):c},t.inflateInfo="pako inflate (from Nodeca project)"},9241:(e,t,r)=>{"use strict";var n=r(4236),i=15,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,l,u,h,d,f){var p,g,y,w,m,b,A,E,v,_=f.bits,T=0,S=0,I=0,C=0,R=0,x=0,k=0,N=0,B=0,O=0,D=null,L=0,P=new n.Buf16(16),U=new n.Buf16(16),M=null,F=0;for(T=0;T<=i;T++)P[T]=0;for(S=0;S<l;S++)P[t[r+S]]++;for(R=_,C=i;C>=1&&0===P[C];C--);if(R>C&&(R=C),0===C)return u[h++]=20971520,u[h++]=20971520,f.bits=1,0;for(I=1;I<C&&0===P[I];I++);for(R<I&&(R=I),N=1,T=1;T<=i;T++)if(N<<=1,(N-=P[T])<0)return-1;if(N>0&&(0===e||1!==C))return-1;for(U[1]=0,T=1;T<i;T++)U[T+1]=U[T]+P[T];for(S=0;S<l;S++)0!==t[r+S]&&(d[U[t[r+S]]++]=S);if(0===e?(D=M=d,b=19):1===e?(D=s,L-=257,M=o,F-=257,b=256):(D=a,M=c,b=-1),O=0,S=0,T=I,m=h,x=R,k=0,y=-1,w=(B=1<<R)-1,1===e&&B>852||2===e&&B>592)return 1;for(;;){A=T-k,d[S]<b?(E=0,v=d[S]):d[S]>b?(E=M[F+d[S]],v=D[L+d[S]]):(E=96,v=0),p=1<<T-k,I=g=1<<x;do{u[m+(O>>k)+(g-=p)]=A<<24|E<<16|v|0}while(0!==g);for(p=1<<T-1;O&p;)p>>=1;if(0!==p?(O&=p-1,O+=p):O=0,S++,0==--P[T]){if(T===C)break;T=t[r+d[S]]}if(T>R&&(O&w)!==y){for(0===k&&(k=R),m+=I,N=1<<(x=T-k);x+k<C&&!((N-=P[x+k])<=0);)x++,N<<=1;if(B+=1<<x,1===e&&B>852||2===e&&B>592)return 1;u[y=O&w]=R<<24|x<<16|m-h|0}}return 0!==O&&(u[m+O]=T-k<<24|64<<16|0),f.bits=R,0}},8898:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},342:(e,t,r)=>{"use strict";var n=r(4236);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var s=256,o=286,a=30,c=15,l=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array(576);i(f);var p=new Array(60);i(p);var g=new Array(512);i(g);var y=new Array(256);i(y);var w=new Array(29);i(w);var m,b,A,E=new Array(a);function v(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function _(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function T(e){return e<256?g[e]:g[256+(e>>>7)]}function S(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function I(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,S(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function C(e,t,r){I(e,r[2*t],r[2*t+1])}function R(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function x(e,t,r){var n,i,s=new Array(16),o=0;for(n=1;n<=c;n++)s[n]=o=o+r[n-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=R(s[a]++,a))}}function k(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<a;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function N(e){e.bi_valid>8?S(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function B(e,t,r,n){var i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function O(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&B(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!B(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function D(e,t,r){var n,i,o,a,c=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],i=e.pending_buf[e.l_buf+c],c++,0===n?C(e,i,t):(C(e,(o=y[i])+s+1,t),0!==(a=l[o])&&I(e,i-=w[o],a),C(e,o=T(--n),r),0!==(a=u[o])&&I(e,n-=E[o],a))}while(c<e.last_lit);C(e,256,t)}function L(e,t){var r,n,i,s=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<l;r++)0!==s[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=o[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;r>=1;r--)O(e,s,r);i=l;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],O(e,s,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,s[2*i]=s[2*r]+s[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,s[2*r+1]=s[2*n+1]=i,e.heap[1]=i++,O(e,s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,s,o,a,l=t.dyn_tree,u=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,g=t.stat_desc.max_length,y=0;for(s=0;s<=c;s++)e.bl_count[s]=0;for(l[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(s=l[2*l[2*(n=e.heap[r])+1]+1]+1)>g&&(s=g,y++),l[2*n+1]=s,n>u||(e.bl_count[s]++,o=0,n>=p&&(o=f[n-p]),a=l[2*n],e.opt_len+=a*(s+o),d&&(e.static_len+=a*(h[2*n+1]+o)));if(0!==y){do{for(s=g-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[g]--,y-=2}while(y>0);for(s=g;0!==s;s--)for(n=e.bl_count[s];0!==n;)(i=e.heap[--r])>u||(l[2*i+1]!==s&&(e.opt_len+=(s-l[2*i+1])*l[2*i],l[2*i+1]=s),n--)}}(e,t),x(s,u,e.bl_count)}function P(e,t,r){var n,i,s=-1,o=t[1],a=0,c=7,l=4;for(0===o&&(c=138,l=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=t[2*(n+1)+1],++a<c&&i===o||(a<l?e.bl_tree[2*i]+=a:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,s=i,0===o?(c=138,l=3):i===o?(c=6,l=3):(c=7,l=4))}function U(e,t,r){var n,i,s=-1,o=t[1],a=0,c=7,l=4;for(0===o&&(c=138,l=3),n=0;n<=r;n++)if(i=o,o=t[2*(n+1)+1],!(++a<c&&i===o)){if(a<l)do{C(e,i,e.bl_tree)}while(0!=--a);else 0!==i?(i!==s&&(C(e,i,e.bl_tree),a--),C(e,16,e.bl_tree),I(e,a-3,2)):a<=10?(C(e,17,e.bl_tree),I(e,a-3,3)):(C(e,18,e.bl_tree),I(e,a-11,7));a=0,s=i,0===o?(c=138,l=3):i===o?(c=6,l=3):(c=7,l=4)}}i(E);var M=!1;function F(e,t,r,i){I(e,0+(i?1:0),3),function(e,t,r,i){N(e),i&&(S(e,r),S(e,~r)),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}t._tr_init=function(e){M||(!function(){var e,t,r,n,i,s=new Array(16);for(r=0,n=0;n<28;n++)for(w[n]=r,e=0;e<1<<l[n];e++)y[r++]=n;for(y[r-1]=n,i=0,n=0;n<16;n++)for(E[n]=i,e=0;e<1<<u[n];e++)g[i++]=n;for(i>>=7;n<a;n++)for(E[n]=i<<7,e=0;e<1<<u[n]-7;e++)g[256+i++]=n;for(t=0;t<=c;t++)s[t]=0;for(e=0;e<=143;)f[2*e+1]=8,e++,s[8]++;for(;e<=255;)f[2*e+1]=9,e++,s[9]++;for(;e<=279;)f[2*e+1]=7,e++,s[7]++;for(;e<=287;)f[2*e+1]=8,e++,s[8]++;for(x(f,287,s),e=0;e<a;e++)p[2*e+1]=5,p[2*e]=R(e,5);m=new v(f,l,257,o,c),b=new v(p,u,0,a,c),A=new v(new Array(0),h,0,19,7)}(),M=!0),e.l_desc=new _(e.dyn_ltree,m),e.d_desc=new _(e.dyn_dtree,b),e.bl_desc=new _(e.bl_tree,A),e.bi_buf=0,e.bi_valid=0,k(e)},t._tr_stored_block=F,t._tr_flush_block=function(e,t,r,n){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<s;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),L(e,e.l_desc),L(e,e.d_desc),a=function(e){var t;for(P(e,e.dyn_ltree,e.l_desc.max_code),P(e,e.dyn_dtree,e.d_desc.max_code),L(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==t?F(e,t,r,n):4===e.strategy||o===i?(I(e,2+(n?1:0),3),D(e,f,p)):(I(e,4+(n?1:0),3),function(e,t,r,n){var i;for(I(e,t-257,5),I(e,r-1,5),I(e,n-4,4),i=0;i<n;i++)I(e,e.bl_tree[2*d[i]+1],3);U(e,e.dyn_ltree,t-1),U(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),D(e,e.dyn_ltree,e.dyn_dtree)),k(e),n&&N(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(y[r]+s+1)]++,e.dyn_dtree[2*T(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){I(e,2,3),C(e,256,f),function(e){16===e.bi_valid?(S(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},2292:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},4155:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var a,c=[],l=!1,u=-1;function h(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&d())}function d(){if(!l){var e=o(h);l=!0;for(var t=c.length;t;){for(a=c,c=[];++u<t;)a&&a[u].run();u=-1,t=c.length}a=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||l||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},4585:(e,t,r)=>{"use strict";var n=r(8764).Buffer;class i{static isArrayBuffer(e){return"[object ArrayBuffer]"===Object.prototype.toString.call(e)}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e).slice().buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){const r=i.toUint8Array(e),n=i.toUint8Array(t);if(r.length!==n.byteLength)return!1;for(let e=0;e<r.length;e++)if(r[e]!==n[e])return!1;return!0}static concat(...e){if(Array.isArray(e[0])){const t=e[0];let r=0;for(const e of t)r+=e.byteLength;const n=new Uint8Array(r);let i=0;for(const e of t){const t=this.toUint8Array(e);n.set(t,i),i+=t.length}return e[1]?this.toView(n,e[1]):n.buffer}return this.concat(e)}}class s{static fromString(e){const t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}static toString(e){const t=i.toUint8Array(e);let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return decodeURIComponent(escape(r))}}class o{static toString(e,t=!1){const r=i.toArrayBuffer(e),n=new DataView(r);let s="";for(let e=0;e<r.byteLength;e+=2){const r=n.getUint16(e,t);s+=String.fromCharCode(r)}return s}static fromString(e,t=!1){const r=new ArrayBuffer(2*e.length),n=new DataView(r);for(let r=0;r<e.length;r++)n.setUint16(2*r,e.charCodeAt(r),t);return r}}class a{static isHex(e){return"string"==typeof e&&/^[a-z0-9]+$/i.test(e)}static isBase64(e){return"string"==typeof e&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}static isBase64Url(e){return"string"==typeof e&&/^[a-zA-Z0-9-_]+$/i.test(e)}static ToString(e,t="utf8"){const r=i.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);case"utf16le":return o.toString(r,!0);case"utf16":case"utf16be":return o.toString(r);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return o.fromString(e,!0);case"utf16":case"utf16be":return o.fromString(e);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){const t=i.toUint8Array(e);if("undefined"!=typeof btoa){const e=this.ToString(t,"binary");return btoa(e)}return n.from(t).toString("base64")}static FromBase64(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!a.isBase64(t))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return"undefined"!=typeof atob?this.FromBinary(atob(t)):new Uint8Array(n.from(t,"base64")).buffer}static FromBase64Url(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!a.isBase64Url(t))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=a.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return s.fromString(e);case"utf16":case"utf16be":return o.fromString(e);case"utf16le":case"usc2":return o.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=a.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return s.toString(e);case"utf16":case"utf16be":return o.toString(e);case"utf16le":case"usc2":return o.toString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){const t=e.length,r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);return r.buffer}static ToBinary(e){const t=i.toUint8Array(e);let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return r}static ToHex(e){const t=i.toUint8Array(e),r=[],n=t.length;for(let e=0;e<n;e++){const n=t[e].toString(16).padStart(2,"0");r.push(n)}return r.join("")}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!a.isHex(t))throw new TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);const r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2){const n=t.slice(e,e+2);r[e/2]=parseInt(n,16)}return r.buffer}static ToUtf16String(e,t=!1){return o.toString(e,t)}static FromUtf16String(e,t=!1){return o.fromString(e,t)}static Base64Padding(e){const t=4-e.length%4;if(t<4)for(let r=0;r<t;r++)e+="=";return e}static formatString(e){return(null==e?void 0:e.replace(/[\n\r\t ]/g,""))||""}}a.DEFAULT_UTF8_ENCODING="utf8",t.vJ=i,t.ep=a,t.$e=function(...e){const t=e.map((e=>e.byteLength)).reduce(((e,t)=>e+t)),r=new Uint8Array(t);let n=0;return e.map((e=>new Uint8Array(e))).forEach((e=>{for(const t of e)r[n++]=t})),r.buffer},t.Xy=function(e,t){if(!e||!t)return!1;if(e.byteLength!==t.byteLength)return!1;const r=new Uint8Array(e),n=new Uint8Array(t);for(let t=0;t<e.byteLength;t++)if(r[t]!==n[t])return!1;return!0}},4281:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,s,o,a;if("string"==typeof t&&(s="not ",t.substr(!o||o<0?0:+o,s.length)===s)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var c=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(n(t,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},6753:(e,t,r)=>{"use strict";var n=r(4155),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var s=r(9481),o=r(4229);r(5717)(u,s);for(var a=i(o.prototype),c=0;c<a.length;c++){var l=a[c];u.prototype[l]||(u.prototype[l]=o.prototype[l])}function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},2725:(e,t,r)=>{"use strict";e.exports=i;var n=r(4605);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(5717)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},9481:(e,t,r)=>{"use strict";var n,i=r(4155);e.exports=S,S.ReadableState=T;r(7187).EventEmitter;var s=function(e,t){return e.listeners(t).length},o=r(2503),a=r(8764).Buffer,c=r.g.Uint8Array||function(){};var l,u=r(4616);l=u&&u.debuglog?u.debuglog("stream"):function(){};var h,d,f,p=r(7327),g=r(1195),y=r(2457).getHighWaterMark,w=r(4281).q,m=w.ERR_INVALID_ARG_TYPE,b=w.ERR_STREAM_PUSH_AFTER_EOF,A=w.ERR_METHOD_NOT_IMPLEMENTED,E=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5717)(S,o);var v=g.errorOrDestroy,_=["error","close","destroy","pause","resume"];function T(e,t,i){n=n||r(6753),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=r(2553).s),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function S(e){if(n=n||r(6753),!(this instanceof S))return new S(e);var t=this instanceof n;this._readableState=new T(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function I(e,t,r,n,i){l("readableAddChunk",t);var s,o=e._readableState;if(null===t)o.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?k(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,N(e)))}(e,o);else if(i||(s=function(e,t){var r;n=t,a.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(o,t)),s)v(e,s);else if(o.objectMode||t&&t.length>0)if("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)o.endEmitted?v(e,new E):C(e,o,t,!0);else if(o.ended)v(e,new b);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?C(e,o,t,!1):B(e,o)):C(e,o,t,!1)}else n||(o.reading=!1,B(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function C(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),B(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=g.destroy,S.prototype._undestroy=g.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),I(this,e,t,!1,r)},S.prototype.unshift=function(e){return I(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){h||(h=r(2553).s);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var R=1073741824;function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(N,e))}function N(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,U(e)}function B(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(l("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function D(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function L(e){l("readable nexttick read 0"),e.read(0)}function P(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),U(e),t.flowing&&!t.reading&&e.read(0)}function U(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function F(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(H,t,e))}function H(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function j(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?F(this):k(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&F(this),null;var n,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(r,t))),null===(n=e>0?M(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&F(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){v(this,new A("_read()"))},S.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,l("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?c:y;function a(t,i){l("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,l("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",a),r.removeListener("end",c),r.removeListener("end",y),r.removeListener("data",d),h=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function c(){l("onend"),e.end()}n.endEmitted?i.nextTick(o):r.once("end",o),e.on("unpipe",a);var u=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,U(e))}}(r);e.on("drain",u);var h=!1;function d(t){l("ondata");var i=e.write(t);l("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==j(n.pipes,e))&&!h&&(l("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function f(t){l("onerror",t),y(),e.removeListener("error",f),0===s(e,"error")&&v(e,t)}function p(){e.removeListener("finish",g),y()}function g(){l("onfinish"),e.removeListener("close",p),y()}function y(){l("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",p),e.once("finish",g),e.emit("pipe",r),n.flowing||(l("pipe resume"),r.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=j(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,l("on readable",n.length,n.reading),n.length?k(this):n.reading||i.nextTick(L,this))),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(D,this),r},S.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(D,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(P,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(l("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(l("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<_.length;s++)e.on(_[s],this.emit.bind(this,_[s]));return this._read=function(t){l("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r(5850)),d(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=M,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(e,t){return void 0===f&&(f=r(5167)),f(S,e,t)})},4605:(e,t,r)=>{"use strict";e.exports=u;var n=r(4281).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(6753);function l(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}r(5717)(u,c),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new i("_transform()"))},u.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},4229:(e,t,r)=>{"use strict";var n,i=r(4155);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=S,S.WritableState=T;var o={deprecate:r(4927)},a=r(2503),c=r(8764).Buffer,l=r.g.Uint8Array||function(){};var u,h=r(1195),d=r(2457).getHighWaterMark,f=r(4281).q,p=f.ERR_INVALID_ARG_TYPE,g=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_MULTIPLE_CALLBACK,w=f.ERR_STREAM_CANNOT_PIPE,m=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,A=f.ERR_STREAM_WRITE_AFTER_END,E=f.ERR_UNKNOWN_ENCODING,v=h.errorOrDestroy;function _(){}function T(e,t,o){n=n||r(6753),e=e||{},"boolean"!=typeof o&&(o=t instanceof n),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,s=r.writecb;if("function"!=typeof s)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,s){--t.pendingcb,r?(i.nextTick(s,n),i.nextTick(N,e,t),e._writableState.errorEmitted=!0,v(e,n)):(s(n),e._writableState.errorEmitted=!0,v(e,n),N(e,t))}(e,r,n,t,s);else{var o=x(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||R(e,r),n?i.nextTick(C,e,r,o,s):C(e,r,o,s)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function S(e){var t=this instanceof(n=n||r(6753));if(!t&&!u.call(S,this))return new S(e);this._writableState=new T(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function I(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function C(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),N(e,t)}function R(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,I(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,h=r.callback;if(I(e,t,!1,t.objectMode?1:l.length,l,u,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final((function(r){t.pendingcb--,r&&v(e,r),t.prefinished=!0,e.emit("prefinish"),N(e,t)}))}function N(e,t){var r=x(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(k,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(5717)(S,a),T.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(T.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===S&&(e&&e._writableState instanceof T)}})):u=function(e){return e instanceof this},S.prototype.pipe=function(){v(this,new w)},S.prototype.write=function(e,t,r){var n,s=this._writableState,o=!1,a=!s.objectMode&&(n=e,c.isBuffer(n)||n instanceof l);return a&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof r&&(r=_),s.ending?function(e,t){var r=new A;v(e,r),i.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var s;return null===r?s=new b:"string"==typeof r||t.objectMode||(s=new p("chunk",["string","Buffer"],r)),!s||(v(e,s),i.nextTick(n,s),!1)}(this,s,e,r))&&(s.pendingcb++,o=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=t.objectMode?1:n.length;t.length+=a;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else I(e,t,!1,a,n,i,s);return l}(this,s,a,e,t,r)),o},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||R(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new g("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,N(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(e,t){t(e)}},5850:(e,t,r)=>{"use strict";var n,i=r(4155);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(8610),a=Symbol("lastResolve"),c=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function g(e){var t=e[a];if(null!==t){var r=e[f].read();null!==r&&(e[h]=null,e[a]=null,e[c]=null,t(p(r,!1)))}}function y(e){i.nextTick(g,e)}var w=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((s(n={get stream(){return this[f]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[l]?r(e[l]):t(p(void 0,!0))}))}));var r,n=this[h];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(p(void 0,!0)):t[d](r,n)}),n)}}(n,this));else{var s=this[f].read();if(null!==s)return Promise.resolve(p(s,!1));r=new Promise(this[d])}return this[h]=r,r}},Symbol.asyncIterator,(function(){return this})),s(n,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),w);e.exports=function(e){var t,r=Object.create(m,(s(t={},f,{value:e,writable:!0}),s(t,a,{value:null,writable:!0}),s(t,c,{value:null,writable:!0}),s(t,l,{value:null,writable:!0}),s(t,u,{value:e._readableState.endEmitted,writable:!0}),s(t,d,{value:function(e,t){var n=r[f].read();n?(r[h]=null,r[a]=null,r[c]=null,e(p(n,!1))):(r[a]=e,r[c]=t)},writable:!0}),t));return r[h]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];return null!==t&&(r[h]=null,r[a]=null,r[c]=null,t(e)),void(r[l]=e)}var n=r[a];null!==n&&(r[h]=null,r[a]=null,r[c]=null,n(p(void 0,!0))),r[u]=!0})),e.on("readable",y.bind(null,r)),r}},7327:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(8764).Buffer,a=r(2361).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,l;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,r,n,i=o.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=i,n=a,o.prototype.copy.call(t,r,n),a+=s.data.length,s=s.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?n+=i:n+=i.slice(0,e),0==(e-=s)){s===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&s(t.prototype,r),l&&s(t,l),e}()},1195:(e,t,r)=>{"use strict";var n=r(4155);function i(e,t){o(e,t),s(e)}function s(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(o,this,e)):n.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(s,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(s,r),t(e)):n.nextTick(s,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:(e,t,r)=>{"use strict";var n=r(4281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,s){if("function"==typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||u()},l=t._writableState&&t._writableState.finished,u=function(){a=!1,l=!0,o||s.call(t)},h=t._readableState&&t._readableState.endEmitted,d=function(){o=!1,h=!0,a||s.call(t)},f=function(e){s.call(t,e)},p=function(){var e;return o&&!h?(t._readableState&&t._readableState.ended||(e=new n),s.call(t,e)):a&&!l?(t._writableState&&t._writableState.ended||(e=new n),s.call(t,e)):void 0},g=function(){t.req.on("finish",u)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",u),t.on("abort",p),t.req?g():t.on("request",g)),t.on("end",d),t.on("finish",u),!1!==r.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",u),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",u),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",u),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",p)}}},5167:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:(e,t,r)=>{"use strict";var n;var i=r(4281).q,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(8610)),n(e,{readable:t,writable:i},(function(e){if(e)return s(e);a=!0,s()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void s(t||new o("pipe"))}}function l(e){e()}function u(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var o=t.map((function(e,r){var s=r<t.length-1;return c(e,s,r>0,(function(e){n||(n=e),e&&o.forEach(l),s||(o.forEach(l),i(n))}))}));return t.reduce(u)}},2457:(e,t,r)=>{"use strict";var n=r(4281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},2503:(e,t,r)=>{e.exports=r(7187).EventEmitter},8660:(e,t,r)=>{var n,i=r(4155);
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */!function(e){!function(t){var n="object"==typeof r.g?r.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),s=o(e);function o(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===n.Reflect?n.Reflect=e:s=o(n.Reflect,s),function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",s=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,a={__proto__:[]}instanceof Array,c=!o&&!a,l={create:o?function(){return ie(Object.create(null))}:a?function(){return ie({__proto__:null})}:function(){return ie({})},has:c?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:c?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),h="object"==typeof i&&i.env&&"true"===i.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=h||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?te():Map,f=h||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?re():Set,p=new(h||"function"!=typeof WeakMap?ne():WeakMap);function g(e,t,r,n){if(P(r)){if(!q(e))throw new TypeError;if(!V(t))throw new TypeError;return S(e,t)}if(!q(e))throw new TypeError;if(!F(t))throw new TypeError;if(!F(n)&&!P(n)&&!U(n))throw new TypeError;return U(n)&&(n=void 0),I(e,t,r=G(r),n)}function y(e,t){function r(r,n){if(!F(r))throw new TypeError;if(!P(n)&&!K(n))throw new TypeError;B(e,t,r,n)}return r}function w(e,t,r,n){if(!F(r))throw new TypeError;return P(n)||(n=G(n)),B(e,t,r,n)}function m(e,t,r){if(!F(t))throw new TypeError;return P(r)||(r=G(r)),R(e,t,r)}function b(e,t,r){if(!F(t))throw new TypeError;return P(r)||(r=G(r)),x(e,t,r)}function A(e,t,r){if(!F(t))throw new TypeError;return P(r)||(r=G(r)),k(e,t,r)}function E(e,t,r){if(!F(t))throw new TypeError;return P(r)||(r=G(r)),N(e,t,r)}function v(e,t){if(!F(e))throw new TypeError;return P(t)||(t=G(t)),O(e,t)}function _(e,t){if(!F(e))throw new TypeError;return P(t)||(t=G(t)),D(e,t)}function T(e,t,r){if(!F(t))throw new TypeError;P(r)||(r=G(r));var n=C(t,r,!1);if(P(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var i=p.get(t);return i.delete(r),i.size>0||p.delete(t),!0}function S(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!P(n)&&!U(n)){if(!V(n))throw new TypeError;t=n}}return t}function I(e,t,r,n){for(var i=e.length-1;i>=0;--i){var s=(0,e[i])(t,r,n);if(!P(s)&&!U(s)){if(!F(s))throw new TypeError;n=s}}return n}function C(e,t,r){var n=p.get(e);if(P(n)){if(!r)return;n=new d,p.set(e,n)}var i=n.get(t);if(P(i)){if(!r)return;i=new d,n.set(t,i)}return i}function R(e,t,r){if(x(e,t,r))return!0;var n=ee(t);return!U(n)&&R(e,n,r)}function x(e,t,r){var n=C(t,r,!1);return!P(n)&&z(n.has(e))}function k(e,t,r){if(x(e,t,r))return N(e,t,r);var n=ee(t);return U(n)?void 0:k(e,n,r)}function N(e,t,r){var n=C(t,r,!1);if(!P(n))return n.get(e)}function B(e,t,r,n){C(r,n,!0).set(e,t)}function O(e,t){var r=D(e,t),n=ee(e);if(null===n)return r;var i=O(n,t);if(i.length<=0)return r;if(r.length<=0)return i;for(var s=new f,o=[],a=0,c=r;a<c.length;a++){var l=c[a];s.has(l)||(s.add(l),o.push(l))}for(var u=0,h=i;u<h.length;u++){l=h[u];s.has(l)||(s.add(l),o.push(l))}return o}function D(e,t){var r=[],n=C(e,t,!1);if(P(n))return r;for(var i=J(n.keys()),s=0;;){var o=Z(i);if(!o)return r.length=s,r;var a=X(o);try{r[s]=a}catch(e){try{$(i)}finally{throw e}}s++}}function L(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function P(e){return void 0===e}function U(e){return null===e}function M(e){return"symbol"==typeof e}function F(e){return"object"==typeof e?null!==e:"function"==typeof e}function H(e,t){switch(L(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",i=Y(e,n);if(void 0!==i){var s=i.call(e,r);if(F(s))throw new TypeError;return s}return j(e,"default"===r?"number":r)}function j(e,t){if("string"===t){var r=e.toString;if(Q(r))if(!F(i=r.call(e)))return i;if(Q(n=e.valueOf))if(!F(i=n.call(e)))return i}else{var n;if(Q(n=e.valueOf))if(!F(i=n.call(e)))return i;var i,s=e.toString;if(Q(s))if(!F(i=s.call(e)))return i}throw new TypeError}function z(e){return!!e}function W(e){return""+e}function G(e){var t=H(e,3);return M(t)?t:W(t)}function q(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function Q(e){return"function"==typeof e}function V(e){return"function"==typeof e}function K(e){switch(L(e)){case 3:case 4:return!0;default:return!1}}function Y(e,t){var r=e[t];if(null!=r){if(!Q(r))throw new TypeError;return r}}function J(e){var t=Y(e,s);if(!Q(t))throw new TypeError;var r=t.call(e);if(!F(r))throw new TypeError;return r}function X(e){return e.value}function Z(e){var t=e.next();return!t.done&&t}function $(e){var t=e.return;t&&t.call(e)}function ee(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var i=n.constructor;return"function"!=typeof i||i===e?t:i}function te(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[s]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,i)},t.prototype.entries=function(){return new r(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[s]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function i(e,t){return t}function o(e,t){return[e,t]}}function re(){return function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[s]=function(){return this.keys()},e}()}function ne(){var e=16,r=l.create(),n=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=s(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=s(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return s(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=s(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+c()}while(l.has(r,e));return r[e]=!0,e}function s(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:l.create()})}return e[n]}function o(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function a(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e):o(new Array(e),e)}function c(){var t=a(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",n=0;n<e;++n){var i=t[n];4!==n&&6!==n&&8!==n||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}function ie(e){return e.__=void 0,delete e.__,e}e("decorate",g),e("metadata",y),e("defineMetadata",w),e("hasMetadata",m),e("hasOwnMetadata",b),e("getMetadata",A),e("getOwnMetadata",E),e("getMetadataKeys",v),e("getOwnMetadataKeys",_),e("deleteMetadata",T)}(s)}()}(n||(n={}))},9509:(e,t,r)=>{
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(8764),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},2830:(e,t,r)=>{e.exports=i;var n=r(7187).EventEmitter;function i(){n.call(this)}r(5717)(i,n),i.Readable=r(9481),i.Writable=r(4229),i.Duplex=r(6753),i.Transform=r(4605),i.PassThrough=r(2725),i.finished=r(8610),i.pipeline=r(9946),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function s(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",s),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",c));var o=!1;function a(){o||(o=!0,e.end())}function c(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(u(),0===n.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",i),e.removeListener("drain",s),r.removeListener("end",a),r.removeListener("close",c),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("error",l),e.on("error",l),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e}},2553:(e,t,r)=>{"use strict";var n=r(9509).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=h,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.s=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=o(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=o(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4153:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,r=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const n={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e,i={}){if(i=Object.assign({},n,i),!e||"string"!=typeof e)return e;let s=e.trim();if(void 0!==i.skipLike&&i.skipLike.test(s))return e;if(i.hex&&t.test(s))return Number.parseInt(s,16);{const t=r.exec(s);if(t){const r=t[1],n=t[2];let o=function(e){if(e&&-1!==e.indexOf("."))return"."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1)),e;return e}(t[3]);const a=t[4]||t[6];if(!i.leadingZeros&&n.length>0&&r&&"."!==s[2])return e;if(!i.leadingZeros&&n.length>0&&!r&&"."!==s[1])return e;{const t=Number(s),c=""+t;return-1!==c.search(/[eE]/)||a?i.eNotation?t:e:-1!==s.indexOf(".")?"0"===c&&""===o||c===o||r&&c==="-"+o?t:e:n?o===c||r+o===c?t:e:s===c||s===r+c?t:e}}return e}}},4927:(e,t,r)=>{function n(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},2043:(e,t,r)=>{"use strict";!function(){var t,n,i,s=0,o=[];for(n=0;n<256;n++)o[n]=(n+256).toString(16).substr(1);function a(){var e,r=(e=16,(!t||s+e>c.BUFFER_SIZE)&&(s=0,t=c.randomBytes(c.BUFFER_SIZE)),t.slice(s,s+=e));return r[6]=15&r[6]|64,r[8]=63&r[8]|128,r}function c(){var e=a();return o[e[0]]+o[e[1]]+o[e[2]]+o[e[3]]+"-"+o[e[4]]+o[e[5]]+"-"+o[e[6]]+o[e[7]]+"-"+o[e[8]]+o[e[9]]+"-"+o[e[10]]+o[e[11]]+o[e[12]]+o[e[13]]+o[e[14]]+o[e[15]]}c.BUFFER_SIZE=4096,c.bin=a,c.clearBuffer=function(){t=null,s=0},c.test=function(e){return"string"==typeof e&&/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},"undefined"!=typeof crypto?i=crypto:"undefined"!=typeof window&&void 0!==window.msCrypto&&(i=window.msCrypto),i=i||r(9061),e.exports=c,c.randomBytes=function(){if(i){if(i.randomBytes)return i.randomBytes;if(i.getRandomValues)return"function"!=typeof Uint8Array.prototype.slice?function(e){var t=new Uint8Array(e);return i.getRandomValues(t),Array.from(t)}:function(e){var t=new Uint8Array(e);return i.getRandomValues(t),t}}return function(e){var t,r=[];for(t=0;t<e;t++)r.push(Math.floor(256*Math.random()));return r}}()}()},8598:e=>{"use strict";e.exports=function(e,t){var r=new Array(arguments.length-1),n=0,i=2,s=!0;for(;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,o){r[n]=function(e){if(s)if(s=!1,e)o(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){s&&(s=!1,o(e))}}))}},262:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=new Array(64),i=new Array(123),s=0;s<64;)i[n[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function(e,t,r){for(var i,s=null,o=[],a=0,c=0;t<r;){var l=e[t++];switch(c){case 0:o[a++]=n[l>>2],i=(3&l)<<4,c=1;break;case 1:o[a++]=n[i|l>>4],i=(15&l)<<2,c=2;break;case 2:o[a++]=n[i|l>>6],o[a++]=n[63&l],c=0}a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0)}return c&&(o[a++]=n[i],o[a++]=61,1===c&&(o[a++]=61)),s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var o="invalid encoding";r.decode=function(e,t,r){for(var n,s=r,a=0,c=0;c<e.length;){var l=e.charCodeAt(c++);if(61===l&&a>1)break;if(void 0===(l=i[l]))throw Error(o);switch(a){case 0:n=l,a=1;break;case 1:t[r++]=n<<2|(48&l)>>4,n=l,a=2;break;case 2:t[r++]=(15&n)<<4|(60&l)>>2,n=l,a=3;break;case 3:t[r++]=(3&n)<<6|l,a=0}}if(1===a)throw Error(o);return r-s},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},1612:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},4869:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function s(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:s,e.writeFloatBE=n?s:i,e.readFloatLE=n?o:a,e.readFloatBE=n?a:o}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var s=Math.floor(Math.log(t)/Math.LN2);e((i<<31|s+127<<23|8388607&Math.round(t*Math.pow(2,-s)*8388608))>>>0,r,n)}}function o(e,t,r){var n=e(t,r),i=2*(n>>31)+1,s=n>>>23&255,o=8388607&n;return 255===s?o?NaN:i*(1/0):0===s?1401298464324817e-60*i*o:i*Math.pow(2,s-150)*(o+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=o.bind(null,i),e.readFloatBE=o.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function s(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:s,e.writeDoubleBE=n?s:i,e.readDoubleLE=n?o:a,e.readDoubleBE=n?a:o}():function(){function t(e,t,r,n,i,s){var o=n<0?1:0;if(o&&(n=-n),0===n)e(0,i,s+t),e(1/n>0?0:2147483648,i,s+r);else if(isNaN(n))e(0,i,s+t),e(2146959360,i,s+r);else if(n>17976931348623157e292)e(0,i,s+t),e((o<<31|2146435072)>>>0,i,s+r);else{var a;if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,i,s+t),e((o<<31|a/4294967296)>>>0,i,s+r);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=n*Math.pow(2,-c))>>>0,i,s+t),e((o<<31|c+1023<<20|1048576*a&1048575)>>>0,i,s+r)}}}function o(e,t,r,n,i){var s=e(n,i+t),o=e(n,i+r),a=2*(o>>31)+1,c=o>>>20&2047,l=4294967296*(1048575&o)+s;return 2047===c?l?NaN:a*(1/0):0===c?5e-324*a*l:a*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=o.bind(null,i,0,4),e.readDoubleBE=o.bind(null,s,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7789:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},602:e=>{"use strict";e.exports=function(e,t,r){var n=r||8192,i=n>>>1,s=null,o=n;return function(r){if(r<1||r>i)return e(r);o+r>n&&(s=e(n),o=0);var a=t.call(s,o,o+=r);return 7&o&&(o=1+(7|o)),a}}},2241:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,s=[],o=0;t<r;)(n=e[t++])<128?s[o++]=n:n>191&&n<224?s[o++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[o++]=55296+(n>>10),s[o++]=56320+(1023&n)):s[o++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))},r.write=function(e,t,r){for(var n,i,s=r,o=0;o<e.length;++o)(n=e.charCodeAt(o))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(o+1)))?(n=65536+((1023&n)<<10)+(1023&i),++o,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-s}},906:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,s=c(e),o=s[0],a=s[1],l=new i(function(e,t,r){return 3*(t+r)/4-r}(0,o,a)),u=0,h=a>0?o-4:o;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[u++]=255&t);1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],o=16383,a=0,c=n-i;a<c;a+=o)s.push(l(e,a,a+o>c?c:a+o));1===i?(t=e[n-1],s.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,n){for(var i,s,o=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8068:e=>{var t=4096,r=new Uint32Array([0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215]);function n(e){this.buf_=new Uint8Array(8224),this.input_=e,this.reset()}n.READ_SIZE=t,n.IBUF_MASK=8191,n.prototype.reset=function(){this.buf_ptr_=0,this.val_=0,this.pos_=0,this.bit_pos_=0,this.bit_end_pos_=0,this.eos_=0,this.readMoreInput();for(var e=0;e<4;e++)this.val_|=this.buf_[this.pos_]<<8*e,++this.pos_;return this.bit_end_pos_>0},n.prototype.readMoreInput=function(){if(!(this.bit_end_pos_>256))if(this.eos_){if(this.bit_pos_>this.bit_end_pos_)throw new Error("Unexpected end of input "+this.bit_pos_+" "+this.bit_end_pos_)}else{var e=this.buf_ptr_,r=this.input_.read(this.buf_,e,t);if(r<0)throw new Error("Unexpected end of input");if(r<t){this.eos_=1;for(var n=0;n<32;n++)this.buf_[e+r+n]=0}if(0===e){for(n=0;n<32;n++)this.buf_[8192+n]=this.buf_[n];this.buf_ptr_=t}else this.buf_ptr_=0;this.bit_end_pos_+=r<<3}},n.prototype.fillBitWindow=function(){for(;this.bit_pos_>=8;)this.val_>>>=8,this.val_|=this.buf_[8191&this.pos_]<<24,++this.pos_,this.bit_pos_=this.bit_pos_-8>>>0,this.bit_end_pos_=this.bit_end_pos_-8>>>0},n.prototype.readBits=function(e){32-this.bit_pos_<e&&this.fillBitWindow();var t=this.val_>>>this.bit_pos_&r[e];return this.bit_pos_+=e,t},e.exports=n},3361:(e,t)=>{t.lookup=new Uint8Array([0,0,0,0,0,0,0,0,0,4,4,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,12,16,12,12,20,12,16,24,28,12,12,32,12,36,12,44,44,44,44,44,44,44,44,44,44,32,32,24,40,28,12,12,48,52,52,52,48,52,52,52,48,52,52,52,52,52,48,52,52,52,52,52,48,52,52,52,52,52,24,12,28,12,12,12,56,60,60,60,56,60,60,60,56,60,60,60,60,60,56,60,60,60,60,60,56,60,60,60,60,60,24,12,28,12,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,0,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,56,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8,9,9,9,9,10,10,10,10,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,22,22,22,22,23,23,23,23,24,24,24,24,25,25,25,25,26,26,26,26,27,27,27,27,28,28,28,28,29,29,29,29,30,30,30,30,31,31,31,31,32,32,32,32,33,33,33,33,34,34,34,34,35,35,35,35,36,36,36,36,37,37,37,37,38,38,38,38,39,39,39,39,40,40,40,40,41,41,41,41,42,42,42,42,43,43,43,43,44,44,44,44,45,45,45,45,46,46,46,46,47,47,47,47,48,48,48,48,49,49,49,49,50,50,50,50,51,51,51,51,52,52,52,52,53,53,53,53,54,54,54,54,55,55,55,55,56,56,56,56,57,57,57,57,58,58,58,58,59,59,59,59,60,60,60,60,61,61,61,61,62,62,62,62,63,63,63,63,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.lookupOffsets=new Uint16Array([1024,1536,1280,1536,0,256,768,512])},3529:(e,t,r)=>{var n=r(3286).g,i=r(3286).j,s=r(8068),o=r(2470),a=r(9432).h,c=r(9432).g,l=r(3361),u=r(8992),h=r(4921),d=1080,f=new Uint8Array([1,2,3,4,0,5,17,6,16,7,8,9,10,11,12,13,14,15]),p=new Uint8Array([3,2,1,0,3,3,3,3,3,3,2,2,2,2,2,2]),g=new Int8Array([0,0,0,0,-1,1,-2,2,-3,3,-1,1,-2,2,-3,3]),y=new Uint16Array([256,402,436,468,500,534,566,598,630,662,694,726,758,790,822,854,886,920,952,984,1016,1048,1080]);function w(e){var t;return 0===e.readBits(1)?16:(t=e.readBits(3))>0?17+t:(t=e.readBits(3))>0?8+t:17}function m(e){if(e.readBits(1)){var t=e.readBits(3);return 0===t?1:e.readBits(t)+(1<<t)}return 0}function b(){this.meta_block_length=0,this.input_end=0,this.is_uncompressed=0,this.is_metadata=!1}function A(e){var t,r,n,i=new b;if(i.input_end=e.readBits(1),i.input_end&&e.readBits(1))return i;if(7===(t=e.readBits(2)+4)){if(i.is_metadata=!0,0!==e.readBits(1))throw new Error("Invalid reserved bit");if(0===(r=e.readBits(2)))return i;for(n=0;n<r;n++){var s=e.readBits(8);if(n+1===r&&r>1&&0===s)throw new Error("Invalid size byte");i.meta_block_length|=s<<8*n}}else for(n=0;n<t;++n){var o=e.readBits(4);if(n+1===t&&t>4&&0===o)throw new Error("Invalid size nibble");i.meta_block_length|=o<<4*n}return++i.meta_block_length,i.input_end||i.is_metadata||(i.is_uncompressed=e.readBits(1)),i}function E(e,t,r){var n;return r.fillBitWindow(),(n=e[t+=r.val_>>>r.bit_pos_&255].bits-8)>0&&(r.bit_pos_+=8,t+=e[t].value,t+=r.val_>>>r.bit_pos_&(1<<n)-1),r.bit_pos_+=e[t].bits,e[t].value}function v(e,t,r,n){var i,s,o=new Uint8Array(e);if(n.readMoreInput(),1===(s=n.readBits(2))){for(var l=e-1,u=0,h=new Int32Array(4),d=n.readBits(2)+1;l;)l>>=1,++u;for(p=0;p<d;++p)h[p]=n.readBits(u)%e,o[h[p]]=2;switch(o[h[0]]=1,d){case 1:break;case 3:if(h[0]===h[1]||h[0]===h[2]||h[1]===h[2])throw new Error("[ReadHuffmanCode] invalid symbols");break;case 2:if(h[0]===h[1])throw new Error("[ReadHuffmanCode] invalid symbols");o[h[1]]=1;break;case 4:if(h[0]===h[1]||h[0]===h[2]||h[0]===h[3]||h[1]===h[2]||h[1]===h[3]||h[2]===h[3])throw new Error("[ReadHuffmanCode] invalid symbols");n.readBits(1)?(o[h[2]]=3,o[h[3]]=3):o[h[0]]=2}}else{var p,g=new Uint8Array(18),y=32,w=0,m=[new a(2,0),new a(2,4),new a(2,3),new a(3,2),new a(2,0),new a(2,4),new a(2,3),new a(4,1),new a(2,0),new a(2,4),new a(2,3),new a(3,2),new a(2,0),new a(2,4),new a(2,3),new a(4,5)];for(p=s;p<18&&y>0;++p){var b,A=f[p],E=0;n.fillBitWindow(),E+=n.val_>>>n.bit_pos_&15,n.bit_pos_+=m[E].bits,b=m[E].value,g[A]=b,0!==b&&(y-=32>>b,++w)}if(1!==w&&0!==y)throw new Error("[ReadHuffmanCode] invalid num_codes or space");!function(e,t,r,n){for(var i=0,s=8,o=0,l=0,u=32768,h=[],d=0;d<32;d++)h.push(new a(0,0));for(c(h,0,5,e,18);i<t&&u>0;){var f,p=0;if(n.readMoreInput(),n.fillBitWindow(),p+=n.val_>>>n.bit_pos_&31,n.bit_pos_+=h[p].bits,(f=255&h[p].value)<16)o=0,r[i++]=f,0!==f&&(s=f,u-=32768>>f);else{var g,y,w=f-14,m=0;if(16===f&&(m=s),l!==m&&(o=0,l=m),g=o,o>0&&(o-=2,o<<=w),i+(y=(o+=n.readBits(w)+3)-g)>t)throw new Error("[ReadHuffmanCodeLengths] symbol + repeat_delta > num_symbols");for(var b=0;b<y;b++)r[i+b]=l;i+=y,0!==l&&(u-=y<<15-l)}}if(0!==u)throw new Error("[ReadHuffmanCodeLengths] space = "+u);for(;i<t;i++)r[i]=0}(g,e,o,n)}if(0===(i=c(t,r,8,o,e)))throw new Error("[ReadHuffmanCode] BuildHuffmanTable failed: ");return i}function _(e,t,r){var n,i;return n=E(e,t,r),i=u.kBlockLengthPrefixCode[n].nbits,u.kBlockLengthPrefixCode[n].offset+r.readBits(i)}function T(e,t,r){var n;return e<16?(r+=p[e],n=t[r&=3]+g[e]):n=e-16+1,n}function S(e,t){for(var r=e[t],n=t;n;--n)e[n]=e[n-1];e[0]=r}function I(e,t){this.alphabet_size=e,this.num_htrees=t,this.codes=new Array(t+t*y[e+31>>>5]),this.htrees=new Uint32Array(t)}function C(e,t){var r,n,i={num_htrees:null,context_map:null},s=0;t.readMoreInput();var o=i.num_htrees=m(t)+1,c=i.context_map=new Uint8Array(e);if(o<=1)return i;for(t.readBits(1)&&(s=t.readBits(4)+1),r=[],n=0;n<d;n++)r[n]=new a(0,0);for(v(o+s,r,0,t),n=0;n<e;){var l;if(t.readMoreInput(),0===(l=E(r,0,t)))c[n]=0,++n;else if(l<=s)for(var u=1+(1<<l)+t.readBits(l);--u;){if(n>=e)throw new Error("[DecodeContextMap] i >= context_map_size");c[n]=0,++n}else c[n]=l-s,++n}return t.readBits(1)&&function(e,t){var r,n=new Uint8Array(256);for(r=0;r<256;++r)n[r]=r;for(r=0;r<t;++r){var i=e[r];e[r]=n[i],i&&S(n,i)}}(c,e),i}function R(e,t,r,n,i,s,o){var a,c=2*r,l=r,u=E(t,r*d,o);(a=0===u?i[c+(1&s[l])]:1===u?i[c+(s[l]-1&1)]+1:u-2)>=e&&(a-=e),n[r]=a,i[c+(1&s[l])]=a,++s[l]}function x(e,t,r,n,i,o){var a,c=i+1,l=r&i,u=o.pos_&s.IBUF_MASK;if(t<8||o.bit_pos_+(t<<3)<o.bit_end_pos_)for(;t-- >0;)o.readMoreInput(),n[l++]=o.readBits(8),l===c&&(e.write(n,c),l=0);else{if(o.bit_end_pos_<32)throw new Error("[CopyUncompressedBlockToOutput] br.bit_end_pos_ < 32");for(;o.bit_pos_<32;)n[l]=o.val_>>>o.bit_pos_,o.bit_pos_+=8,++l,--t;if(u+(a=o.bit_end_pos_-o.bit_pos_>>3)>s.IBUF_MASK){for(var h=s.IBUF_MASK+1-u,d=0;d<h;d++)n[l+d]=o.buf_[u+d];a-=h,l+=h,t-=h,u=0}for(d=0;d<a;d++)n[l+d]=o.buf_[u+d];if(t-=a,(l+=a)>=c){e.write(n,c),l-=c;for(d=0;d<l;d++)n[d]=n[c+d]}for(;l+t>=c;){if(a=c-l,o.input_.read(n,l,a)<a)throw new Error("[CopyUncompressedBlockToOutput] not enough bytes");e.write(n,c),t-=a,l=0}if(o.input_.read(n,l,t)<t)throw new Error("[CopyUncompressedBlockToOutput] not enough bytes");o.reset()}}function k(e){var t=e.bit_pos_+7&-8;return 0==e.readBits(t-e.bit_pos_)}function N(e){var t=new n(e),r=new s(t);return w(r),A(r).meta_block_length}function B(e,t){var r,n,i,c,f,p,g,y,b,S,N=0,B=0,O=0,D=[16,15,11,4],L=0,P=0,U=0,M=[new I(0,0),new I(0,0),new I(0,0)],F=128+s.READ_SIZE;i=(1<<(n=w(S=new s(e))))-16,f=(c=1<<n)-1,p=new Uint8Array(c+F+o.maxDictionaryWordLength),g=c,y=[],b=[];for(var H=0;H<3240;H++)y[H]=new a(0,0),b[H]=new a(0,0);for(;!B;){var j,z,W,G,q,Q,V,K,Y,J,X,Z=0,$=[1<<28,1<<28,1<<28],ee=[0],te=[1,1,1],re=[0,1,0,1,0,1],ne=[0],ie=null,se=null,oe=0,ae=null,ce=0,le=0,ue=0;for(r=0;r<3;++r)M[r].codes=null,M[r].htrees=null;S.readMoreInput();var he=A(S);if(N+(Z=he.meta_block_length)>t.buffer.length){var de=new Uint8Array(N+Z);de.set(t.buffer),t.buffer=de}if(B=he.input_end,j=he.is_uncompressed,he.is_metadata)for(k(S);Z>0;--Z)S.readMoreInput(),S.readBits(8);else if(0!==Z)if(j)S.bit_pos_=S.bit_pos_+7&-8,x(t,Z,N,p,f,S),N+=Z;else{for(r=0;r<3;++r)te[r]=m(S)+1,te[r]>=2&&(v(te[r]+2,y,r*d,S),v(26,b,r*d,S),$[r]=_(b,r*d,S),ne[r]=1);for(S.readMoreInput(),G=(1<<(z=S.readBits(2)))-1,q=(W=16+(S.readBits(4)<<z))+(48<<z),ie=new Uint8Array(te[0]),r=0;r<te[0];++r)S.readMoreInput(),ie[r]=S.readBits(2)<<1;var fe=C(te[0]<<6,S);V=fe.num_htrees,Q=fe.context_map;var pe=C(te[2]<<2,S);for(Y=pe.num_htrees,K=pe.context_map,M[0]=new I(256,V),M[1]=new I(704,te[1]),M[2]=new I(q,Y),r=0;r<3;++r)M[r].decode(S);for(se=0,ae=0,J=ie[ee[0]],le=l.lookupOffsets[J],ue=l.lookupOffsets[J+1],X=M[1].htrees[0];Z>0;){var ge,ye,we,me,be,Ae,Ee,ve,_e,Te,Se,Ie;for(S.readMoreInput(),0===$[1]&&(R(te[1],y,1,ee,re,ne,S),$[1]=_(b,d,S),X=M[1].htrees[ee[1]]),--$[1],(ye=(ge=E(M[1].codes,X,S))>>6)>=2?(ye-=2,Ee=-1):Ee=0,we=u.kInsertRangeLut[ye]+(ge>>3&7),me=u.kCopyRangeLut[ye]+(7&ge),be=u.kInsertLengthPrefixCode[we].offset+S.readBits(u.kInsertLengthPrefixCode[we].nbits),Ae=u.kCopyLengthPrefixCode[me].offset+S.readBits(u.kCopyLengthPrefixCode[me].nbits),P=p[N-1&f],U=p[N-2&f],_e=0;_e<be;++_e)S.readMoreInput(),0===$[0]&&(R(te[0],y,0,ee,re,ne,S),$[0]=_(b,0,S),se=ee[0]<<6,J=ie[ee[0]],le=l.lookupOffsets[J],ue=l.lookupOffsets[J+1]),oe=Q[se+(l.lookup[le+P]|l.lookup[ue+U])],--$[0],U=P,P=E(M[0].codes,M[0].htrees[oe],S),p[N&f]=P,(N&f)===f&&t.write(p,c),++N;if((Z-=be)<=0)break;if(Ee<0)if(S.readMoreInput(),0===$[2]&&(R(te[2],y,2,ee,re,ne,S),$[2]=_(b,2160,S),ae=ee[2]<<2),--$[2],ce=K[ae+(255&(Ae>4?3:Ae-2))],(Ee=E(M[2].codes,M[2].htrees[ce],S))>=W)Ie=(Ee-=W)&G,Ee=W+((Ce=(2+(1&(Ee>>=z))<<(Se=1+(Ee>>1)))-4)+S.readBits(Se)<<z)+Ie;if((ve=T(Ee,D,L))<0)throw new Error("[BrotliDecompress] invalid distance");if(Te=N&f,ve>(O=N<i&&O!==i?N:i)){if(!(Ae>=o.minDictionaryWordLength&&Ae<=o.maxDictionaryWordLength))throw new Error("Invalid backward reference. pos: "+N+" distance: "+ve+" len: "+Ae+" bytes left: "+Z);var Ce=o.offsetsByLength[Ae],Re=ve-O-1,xe=o.sizeBitsByLength[Ae],ke=Re>>xe;if(Ce+=(Re&(1<<xe)-1)*Ae,!(ke<h.kNumTransforms))throw new Error("Invalid backward reference. pos: "+N+" distance: "+ve+" len: "+Ae+" bytes left: "+Z);var Ne=h.transformDictionaryWord(p,Te,Ce,Ae,ke);if(N+=Ne,Z-=Ne,(Te+=Ne)>=g){t.write(p,c);for(var Be=0;Be<Te-g;Be++)p[Be]=p[g+Be]}}else{if(Ee>0&&(D[3&L]=ve,++L),Ae>Z)throw new Error("Invalid backward reference. pos: "+N+" distance: "+ve+" len: "+Ae+" bytes left: "+Z);for(_e=0;_e<Ae;++_e)p[N&f]=p[N-ve&f],(N&f)===f&&t.write(p,c),++N,--Z}P=p[N-1&f],U=p[N-2&f]}N&=1073741823}}t.write(p,N&f)}I.prototype.decode=function(e){var t,r=0;for(t=0;t<this.num_htrees;++t)this.htrees[t]=r,r+=v(this.alphabet_size,this.codes,r,e)},t.BrotliDecompressBuffer=function(e,t){var r=new n(e);null==t&&(t=N(e));var s=new Uint8Array(t),o=new i(s);return B(r,o),o.pos<o.buffer.length&&(o.buffer=o.buffer.subarray(0,o.pos)),o.buffer},o.init()},8370:(e,t,r)=>{var n=r(906);t.init=function(){return(0,r(3529).BrotliDecompressBuffer)(n.toByteArray(r(4595)))}},4595:e=>{e.exports="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"},2470:(e,t,r)=>{var n=r(8370);t.init=function(){t.dictionary=n.init()},t.offsetsByLength=new Uint32Array([0,0,0,0,0,4096,9216,21504,35840,44032,53248,63488,74752,87040,93696,100864,104704,106752,108928,113536,115968,118528,119872,121280,122016]),t.sizeBitsByLength=new Uint8Array([0,0,0,0,10,10,11,11,10,10,10,10,10,9,9,8,7,7,8,7,7,6,6,5,5]),t.minDictionaryWordLength=4,t.maxDictionaryWordLength=24},9432:(e,t)=>{function r(e,t){this.bits=e,this.value=t}t.h=r;var n=15;function i(e,t){for(var r=1<<t-1;e&r;)r>>=1;return(e&r-1)+r}function s(e,t,n,i,s){do{e[t+(i-=n)]=new r(s.bits,s.value)}while(i>0)}function o(e,t,r){for(var i=1<<t-r;t<n&&!((i-=e[t])<=0);)++t,i<<=1;return t-r}t.g=function(e,t,a,c,l){var u,h,d,f,p,g,y,w,m,b,A=t,E=new Int32Array(16),v=new Int32Array(16);for(b=new Int32Array(l),h=0;h<l;h++)E[c[h]]++;for(v[1]=0,u=1;u<n;u++)v[u+1]=v[u]+E[u];for(h=0;h<l;h++)0!==c[h]&&(b[v[c[h]]++]=h);if(m=w=1<<(y=a),1===v[15]){for(d=0;d<m;++d)e[t+d]=new r(0,65535&b[0]);return m}for(d=0,h=0,u=1,f=2;u<=a;++u,f<<=1)for(;E[u]>0;--E[u])s(e,t+d,f,w,new r(255&u,65535&b[h++])),d=i(d,u);for(g=m-1,p=-1,u=a+1,f=2;u<=n;++u,f<<=1)for(;E[u]>0;--E[u])(d&g)!==p&&(t+=w,m+=w=1<<(y=o(E,u,a)),e[A+(p=d&g)]=new r(y+a&255,t-A-p&65535)),s(e,t+(d>>a),f,w,new r(u-a&255,65535&b[h++])),d=i(d,u);return m}},8992:(e,t)=>{function r(e,t){this.offset=e,this.nbits=t}t.kBlockLengthPrefixCode=[new r(1,2),new r(5,2),new r(9,2),new r(13,2),new r(17,3),new r(25,3),new r(33,3),new r(41,3),new r(49,4),new r(65,4),new r(81,4),new r(97,4),new r(113,5),new r(145,5),new r(177,5),new r(209,5),new r(241,6),new r(305,6),new r(369,7),new r(497,8),new r(753,9),new r(1265,10),new r(2289,11),new r(4337,12),new r(8433,13),new r(16625,24)],t.kInsertLengthPrefixCode=[new r(0,0),new r(1,0),new r(2,0),new r(3,0),new r(4,0),new r(5,0),new r(6,1),new r(8,1),new r(10,2),new r(14,2),new r(18,3),new r(26,3),new r(34,4),new r(50,4),new r(66,5),new r(98,5),new r(130,6),new r(194,7),new r(322,8),new r(578,9),new r(1090,10),new r(2114,12),new r(6210,14),new r(22594,24)],t.kCopyLengthPrefixCode=[new r(2,0),new r(3,0),new r(4,0),new r(5,0),new r(6,0),new r(7,0),new r(8,0),new r(9,0),new r(10,1),new r(12,1),new r(14,2),new r(18,2),new r(22,3),new r(30,3),new r(38,4),new r(54,4),new r(70,5),new r(102,5),new r(134,6),new r(198,7),new r(326,8),new r(582,9),new r(1094,10),new r(2118,24)],t.kInsertRangeLut=[0,0,8,8,0,16,8,16,16],t.kCopyRangeLut=[0,8,0,8,16,0,16,8,16]},3286:(e,t)=>{function r(e){this.buffer=e,this.pos=0}function n(e){this.buffer=e,this.pos=0}r.prototype.read=function(e,t,r){this.pos+r>this.buffer.length&&(r=this.buffer.length-this.pos);for(var n=0;n<r;n++)e[t+n]=this.buffer[this.pos+n];return this.pos+=r,r},t.g=r,n.prototype.write=function(e,t){if(this.pos+t>this.buffer.length)throw new Error("Output buffer is not large enough");return this.buffer.set(e.subarray(0,t),this.pos),this.pos+=t,t},t.j=n},4921:(e,t,r)=>{var n=r(2470),i=10,s=11;function o(e,t,r){this.prefix=new Uint8Array(e.length),this.transform=t,this.suffix=new Uint8Array(r.length);for(var n=0;n<e.length;n++)this.prefix[n]=e.charCodeAt(n);for(n=0;n<r.length;n++)this.suffix[n]=r.charCodeAt(n)}var a=[new o("",0,""),new o("",0," "),new o(" ",0," "),new o("",12,""),new o("",i," "),new o("",0," the "),new o(" ",0,""),new o("s ",0," "),new o("",0," of "),new o("",i,""),new o("",0," and "),new o("",13,""),new o("",1,""),new o(", ",0," "),new o("",0,", "),new o(" ",i," "),new o("",0," in "),new o("",0," to "),new o("e ",0," "),new o("",0,'"'),new o("",0,"."),new o("",0,'">'),new o("",0,"\n"),new o("",3,""),new o("",0,"]"),new o("",0," for "),new o("",14,""),new o("",2,""),new o("",0," a "),new o("",0," that "),new o(" ",i,""),new o("",0,". "),new o(".",0,""),new o(" ",0,", "),new o("",15,""),new o("",0," with "),new o("",0,"'"),new o("",0," from "),new o("",0," by "),new o("",16,""),new o("",17,""),new o(" the ",0,""),new o("",4,""),new o("",0,". The "),new o("",s,""),new o("",0," on "),new o("",0," as "),new o("",0," is "),new o("",7,""),new o("",1,"ing "),new o("",0,"\n\t"),new o("",0,":"),new o(" ",0,". "),new o("",0,"ed "),new o("",20,""),new o("",18,""),new o("",6,""),new o("",0,"("),new o("",i,", "),new o("",8,""),new o("",0," at "),new o("",0,"ly "),new o(" the ",0," of "),new o("",5,""),new o("",9,""),new o(" ",i,", "),new o("",i,'"'),new o(".",0,"("),new o("",s," "),new o("",i,'">'),new o("",0,'="'),new o(" ",0,"."),new o(".com/",0,""),new o(" the ",0," of the "),new o("",i,"'"),new o("",0,". This "),new o("",0,","),new o(".",0," "),new o("",i,"("),new o("",i,"."),new o("",0," not "),new o(" ",0,'="'),new o("",0,"er "),new o(" ",s," "),new o("",0,"al "),new o(" ",s,""),new o("",0,"='"),new o("",s,'"'),new o("",i,". "),new o(" ",0,"("),new o("",0,"ful "),new o(" ",i,". "),new o("",0,"ive "),new o("",0,"less "),new o("",s,"'"),new o("",0,"est "),new o(" ",i,"."),new o("",s,'">'),new o(" ",0,"='"),new o("",i,","),new o("",0,"ize "),new o("",s,"."),new o("",0,""),new o(" ",0,","),new o("",i,'="'),new o("",s,'="'),new o("",0,"ous "),new o("",s,", "),new o("",i,"='"),new o(" ",i,","),new o(" ",s,'="'),new o(" ",s,", "),new o("",s,","),new o("",s,"("),new o("",s,". "),new o(" ",s,"."),new o("",s,"='"),new o(" ",s,". "),new o(" ",i,'="'),new o(" ",s,"='"),new o(" ",i,"='")];function c(e,t){return e[t]<192?(e[t]>=97&&e[t]<=122&&(e[t]^=32),1):e[t]<224?(e[t+1]^=32,2):(e[t+2]^=5,3)}t.kTransforms=a,t.kNumTransforms=a.length,t.transformDictionaryWord=function(e,t,r,o,l){var u,h=a[l].prefix,d=a[l].suffix,f=a[l].transform,p=f<12?0:f-11,g=0,y=t;p>o&&(p=o);for(var w=0;w<h.length;)e[t++]=h[w++];for(r+=p,o-=p,f<=9&&(o-=f),g=0;g<o;g++)e[t++]=n.dictionary[r+g];if(u=t-o,f===i)c(e,u);else if(f===s)for(;o>0;){var m=c(e,u);u+=m,o-=m}for(var b=0;b<d.length;)e[t++]=d[b++];return t-y}},7867:(e,t,r)=>{e.exports=r(3529).BrotliDecompressBuffer},5385:(e,t,r)=>{"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const n=r(906),i=r(1144),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||J(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return u(e),a(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(i)return n?-1:Q(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return I(this,t,r);case"ascii":return R(this,t,r);case"latin1":case"binary":return x(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function w(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let s,o=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,c/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(l(e,s)===l(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===c)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+c>a&&(r=a-c),s=r;s>=0;s--){let r=!0;for(let n=0;n<c;n++)if(l(e,s+n)!==l(t,n)){r=!1;break}if(r)return s}return-1}function A(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(J(n))return o;e[r+o]=n}return o}function E(e,t,r,n){return K(Q(t,e.length-r),e,r,n)}function v(e,t,r,n){return K(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return K(V(t),e,r,n)}function T(e,t,r,n){return K(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function I(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,c;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(s=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=C));return r}(n)}t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},c.allocUnsafe=function(e){return h(e)},c.allocUnsafeSlow=function(e){return h(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)w(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);const a=Math.min(s,o),l=this.slice(n,i),u=e.slice(t,r);for(let e=0;e<a;++e)if(l[e]!==u[e]){s=l[e],o=u[e];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return A(this,e,t,r);case"utf8":case"utf-8":return E(this,e,t,r);case"ascii":case"latin1":case"binary":return v(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const C=4096;function R(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function x(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function k(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=X[e[n]];return i}function N(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function B(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,i,s){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function D(e,t,r,n,i){z(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function L(e,t,r,n,i){z(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function P(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,n,s){return t=+t,r>>>=0,s||P(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function M(e,t,r,n,s){return t=+t,r>>>=0,s||P(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Z((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Z((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},c.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Z((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Z((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){O(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){O(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Z((function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Z((function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Z((function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Z((function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=c.isBuffer(e)?e:c.from(e,n),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};const F={};function H(e,t,r){F[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function j(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function z(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new F.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||G(t,e.length-(r+1))}(n,i,s)}function W(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function G(e,t,r){if(Math.floor(e)!==e)throw W(e,r),new F.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}H("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),H("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),H("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=j(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=j(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function Q(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function V(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Z(e){return"undefined"==typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}},9396:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,s,o){var a=r?r+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,s),!0;case 6:return u.fn.call(u.context,t,n,i,s,o),!0}for(l=1,c=new Array(h-1);l<h;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var d,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),h){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,i);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==t||i&&!a[c].once||n&&a[c].context!==n)&&l.push(a[c]);l.length?this._events[s]=1===l.length?l[0]:l:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},686:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,s),n(r)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}g(e,t,s,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&g(e,"error",t,r)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var i,s,o,l;if(a(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),void 0===o)o=s[t]=r,++e._eventsCount;else if("function"==typeof o?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=u.bind(n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){n.once&&e.removeEventListener(t,i),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var l=c.length,u=p(c,l);for(r=0;r<l;++r)n(u[r],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,s,o;if(a(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},2197:(e,t,r)=>{"use strict";const n=r(5736),i=r(7945),s=r(6851);e.exports={XMLParser:i,XMLValidator:n,XMLBuilder:s}},854:(e,t)=>{"use strict";const r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n="["+r+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+n+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,r){if(t){const n=Object.keys(t),i=n.length;for(let s=0;s<i;s++)e[n[s]]="strict"===r?[t[n[s]]]:t[n[s]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(e){const t=i.exec(e);return!(null==t)},t.getAllMatches=function(e,t){const r=[];let n=t.exec(e);for(;n;){const i=[];i.startIndex=t.lastIndex-n[0].length;const s=n.length;for(let e=0;e<s;e++)i.push(n[e]);r.push(i),n=t.exec(e)}return r},t.nameRegexp=n},5736:(e,t,r)=>{"use strict";const n=r(854),i={allowBooleanAttributes:!1,unpairedTags:[]};function s(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function o(e,t){const r=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const n=e.substr(r,t-r);if(t>5&&"xml"===n)return d("InvalidXml","XML declaration allowed only at the start of the document.",p(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function a(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let r=1;for(t+=8;t<e.length;t++)if("<"===e[t])r++;else if(">"===e[t]&&(r--,0===r))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=Object.assign({},i,t);const r=[];let l=!1,f=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let i=0;i<e.length;i++)if("<"===e[i]&&"?"===e[i+1]){if(i+=2,i=o(e,i),i.err)return i}else{if("<"!==e[i]){if(s(e[i]))continue;return d("InvalidChar","char '"+e[i]+"' is not expected.",p(e,i))}{let y=i;if(i++,"!"===e[i]){i=a(e,i);continue}{let w=!1;"/"===e[i]&&(w=!0,i++);let m="";for(;i<e.length&&">"!==e[i]&&" "!==e[i]&&"\t"!==e[i]&&"\n"!==e[i]&&"\r"!==e[i];i++)m+=e[i];if(m=m.trim(),"/"===m[m.length-1]&&(m=m.substring(0,m.length-1),i--),g=m,!n.isName(g)){let t;return t=0===m.trim().length?"Invalid space after '<'.":"Tag '"+m+"' is an invalid name.",d("InvalidTag",t,p(e,i))}const b=c(e,i);if(!1===b)return d("InvalidAttr","Attributes for '"+m+"' have open quote.",p(e,i));let A=b.value;if(i=b.index,"/"===A[A.length-1]){const r=i-A.length;A=A.substring(0,A.length-1);const n=u(A,t);if(!0!==n)return d(n.err.code,n.err.msg,p(e,r+n.err.line));l=!0}else if(w){if(!b.tagClosed)return d("InvalidTag","Closing tag '"+m+"' doesn't have proper closing.",p(e,i));if(A.trim().length>0)return d("InvalidTag","Closing tag '"+m+"' can't have attributes or invalid starting.",p(e,y));{const t=r.pop();if(m!==t.tagName){let r=p(e,t.tagStartPos);return d("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+r.line+", col "+r.col+") instead of closing tag '"+m+"'.",p(e,y))}0==r.length&&(f=!0)}}else{const n=u(A,t);if(!0!==n)return d(n.err.code,n.err.msg,p(e,i-A.length+n.err.line));if(!0===f)return d("InvalidXml","Multiple possible root nodes found.",p(e,i));-1!==t.unpairedTags.indexOf(m)||r.push({tagName:m,tagStartPos:y}),l=!0}for(i++;i<e.length;i++)if("<"===e[i]){if("!"===e[i+1]){i++,i=a(e,i);continue}if("?"!==e[i+1])break;if(i=o(e,++i),i.err)return i}else if("&"===e[i]){const t=h(e,i);if(-1==t)return d("InvalidChar","char '&' is not expected.",p(e,i));i=t}else if(!0===f&&!s(e[i]))return d("InvalidXml","Extra text at the end",p(e,i));"<"===e[i]&&i--}}}var g;return l?1==r.length?d("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",p(e,r[0].tagStartPos)):!(r.length>0)||d("InvalidXml","Invalid '"+JSON.stringify(r.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):d("InvalidXml","Start tag expected.",1)};function c(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])""===n?n=e[t]:n!==e[t]||(n="");else if(">"===e[t]&&""===n){i=!0;break}r+=e[t]}return""===n&&{value:r,index:t,tagClosed:i}}const l=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function u(e,t){const r=n.getAllMatches(e,l),i={};for(let e=0;e<r.length;e++){if(0===r[e][1].length)return d("InvalidAttr","Attribute '"+r[e][2]+"' has no space in starting.",g(r[e]));if(void 0!==r[e][3]&&void 0===r[e][4])return d("InvalidAttr","Attribute '"+r[e][2]+"' is without value.",g(r[e]));if(void 0===r[e][3]&&!t.allowBooleanAttributes)return d("InvalidAttr","boolean attribute '"+r[e][2]+"' is not allowed.",g(r[e]));const n=r[e][2];if(!f(n))return d("InvalidAttr","Attribute '"+n+"' is an invalid name.",g(r[e]));if(i.hasOwnProperty(n))return d("InvalidAttr","Attribute '"+n+"' is repeated.",g(r[e]));i[n]=1}return!0}function h(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let r=/\d/;for("x"===e[t]&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(r))break}return-1}(e,++t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(";"===e[t])break;return-1}return t}function d(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function f(e){return n.isName(e)}function p(e,t){const r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function g(e){return e.startIndex+e[1].length}},6851:(e,t,r)=>{"use strict";const n=r(5525),i={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function s(e){this.options=Object.assign({},i,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=c),this.processTextOrObjNode=o,this.options.format?(this.indentate=a,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function o(e,t,r){const n=this.j2x(e,r+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}function a(e){return this.options.indentBy.repeat(e)}function c(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}s.prototype.build=function(e){return this.options.preserveOrder?n(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)},s.prototype.j2x=function(e,t){let r="",n="";for(let i in e)if(void 0===e[i]);else if(null===e[i])"?"===i[0]?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)n+=this.buildTextValNode(e[i],i,"",t);else if("object"!=typeof e[i]){const s=this.isAttribute(i);if(s)r+=this.buildAttrPairStr(s,""+e[i]);else if(i===this.options.textNodeName){let t=this.options.tagValueProcessor(i,""+e[i]);n+=this.replaceEntitiesValue(t)}else n+=this.buildTextValNode(e[i],i,"",t)}else if(Array.isArray(e[i])){const r=e[i].length;let s="";for(let o=0;o<r;o++){const r=e[i][o];void 0===r||(null===r?"?"===i[0]?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar:"object"==typeof r?this.options.oneListGroup?s+=this.j2x(r,t+1).val:s+=this.processTextOrObjNode(r,i,t):s+=this.buildTextValNode(r,i,"",t))}this.options.oneListGroup&&(s=this.buildObjectNode(s,i,"",t)),n+=s}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const t=Object.keys(e[i]),n=t.length;for(let s=0;s<n;s++)r+=this.buildAttrPairStr(t[s],""+e[i][t[s]])}else n+=this.processTextOrObjNode(e[i],i,t);return{attrStr:r,val:n}},s.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'},s.prototype.buildObjectNode=function(e,t,r,n){if(""===e)return"?"===t[0]?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let i="</"+t+this.tagEndChar,s="";return"?"===t[0]&&(s="?",i=""),r&&-1===e.indexOf("<")?this.indentate(n)+"<"+t+r+s+">"+e+i:!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===s.length?this.indentate(n)+`\x3c!--${e}--\x3e`+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+i}},s.prototype.closeTag=function(e){let t="";return-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`,t},s.prototype.buildTextValNode=function(e,t,r,n){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(n)+`\x3c!--${e}--\x3e`+this.newLine;if("?"===t[0])return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(t,e);return i=this.replaceEntitiesValue(i),""===i?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+i+"</"+t+this.tagEndChar}},s.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e},e.exports=s},5525:e=>{function t(e,o,a,c){let l="",u=!1;for(let h=0;h<e.length;h++){const d=e[h],f=r(d);let p="";if(p=0===a.length?f:`${a}.${f}`,f===o.textNodeName){let e=d[f];i(p,o)||(e=o.tagValueProcessor(f,e),e=s(e,o)),u&&(l+=c),l+=e,u=!1;continue}if(f===o.cdataPropName){u&&(l+=c),l+=`<![CDATA[${d[f][0][o.textNodeName]}]]>`,u=!1;continue}if(f===o.commentPropName){l+=c+`\x3c!--${d[f][0][o.textNodeName]}--\x3e`,u=!0;continue}if("?"===f[0]){const e=n(d[":@"],o),t="?xml"===f?"":c;let r=d[f][0][o.textNodeName];r=0!==r.length?" "+r:"",l+=t+`<${f}${r}${e}?>`,u=!0;continue}let g=c;""!==g&&(g+=o.indentBy);const y=c+`<${f}${n(d[":@"],o)}`,w=t(d[f],o,p,g);-1!==o.unpairedTags.indexOf(f)?o.suppressUnpairedNode?l+=y+">":l+=y+"/>":w&&0!==w.length||!o.suppressEmptyNode?w&&w.endsWith(">")?l+=y+`>${w}${c}</${f}>`:(l+=y+">",w&&""!==c&&(w.includes("/>")||w.includes("</"))?l+=c+o.indentBy+w+c:l+=w,l+=`</${f}>`):l+=y+"/>",u=!0}return l}function r(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const r=t[e];if(":@"!==r)return r}}function n(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let i=t.attributeValueProcessor(n,e[n]);i=s(i,t),!0===i&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${i}"`}return r}function i(e,t){let r=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function s(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){const n=t.entities[r];e=e.replace(n.regex,n.val)}return e}e.exports=function(e,r){let n="";return r.format&&r.indentBy.length>0&&(n="\n"),t(e,r,"",n)}},4424:e=>{function t(e,t){let r="";for(;t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)r+=e[t];if(r=r.trim(),-1!==r.indexOf(" "))throw new Error("External entites are not supported");const n=e[t++];let i="";for(;t<e.length&&e[t]!==n;t++)i+=e[t];return[r,i,t]}function r(e,t){return"!"===e[t+1]&&"-"===e[t+2]&&"-"===e[t+3]}function n(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7]}function i(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8]}function s(e,t){return"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8]}function o(e,t){return"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9]}const a="!?\\/[]$%{}^&*()<>|+";function c(e){for(let t=0;t<a.length;t++){const r=a[t];if(-1!==e.indexOf(r))throw new Error(`Invalid character ${r} in entity name`)}return e}e.exports=function(e,a){const l={};if("O"!==e[a+3]||"C"!==e[a+4]||"T"!==e[a+5]||"Y"!==e[a+6]||"P"!==e[a+7]||"E"!==e[a+8])throw new Error("Invalid Tag instead of DOCTYPE");{a+=9;let u=1,h=!1,d=!1,f="";for(;a<e.length;a++)if("<"!==e[a]||d)if(">"===e[a]){if(d?"-"===e[a-1]&&"-"===e[a-2]&&(d=!1,u--):u--,0===u)break}else"["===e[a]?h=!0:f+=e[a];else{if(h&&n(e,a))a+=7,[entityName,val,a]=t(e,a+1),-1===val.indexOf("&")&&(l[c(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(h&&i(e,a))a+=8;else if(h&&s(e,a))a+=8;else if(h&&o(e,a))a+=9;else{if(!r)throw new Error("Invalid DOCTYPE");d=!0}u++,f=""}if(0!==u)throw new Error("Unclosed DOCTYPE")}return{entities:l,i:a}}},1476:(e,t)=>{const r={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}};t.buildOptions=function(e){return Object.assign({},r,e)},t.defaultOptions=r},2964:(e,t,r)=>{"use strict";const n=r(854),i=r(978),s=r(4424),o=r(1521);"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,n.nameRegexp);function a(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function c(e,t,r,n,i,s,o){if(void 0!==e&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));const n=this.options.tagValueProcessor(t,e,r,i,s);if(null==n)return e;if(typeof n!=typeof e||n!==e)return n;if(this.options.trimValues)return A(e,this.options.parseTagValue,this.options.numberParseOptions);return e.trim()===e?A(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function l(e){if(this.options.removeNSPrefix){const t=e.split(":"),r="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=r+t[1])}return e}const u=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function h(e,t,r){if(!this.options.ignoreAttributes&&"string"==typeof e){const r=n.getAllMatches(e,u),i=r.length,s={};for(let e=0;e<i;e++){const n=this.resolveNameSpace(r[e][1]);let i=r[e][4],o=this.options.attributeNamePrefix+n;if(n.length)if(this.options.transformAttributeName&&(o=this.options.transformAttributeName(o)),"__proto__"===o&&(o="#__proto__"),void 0!==i){this.options.trimValues&&(i=i.trim()),i=this.replaceEntitiesValue(i);const e=this.options.attributeValueProcessor(n,i,t);s[o]=null==e?i:typeof e!=typeof i||e!==i?e:A(i,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[o]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const e={};return e[this.options.attributesGroupName]=s,e}return s}}const d=function(e){e=e.replace(/\r\n?/g,"\n");const t=new i("!xml");let r=t,n="",o="";for(let a=0;a<e.length;a++){if("<"===e[a])if("/"===e[a+1]){const t=w(e,">",a,"Closing Tag is not closed.");let i=e.substring(a+2,t).trim();if(this.options.removeNSPrefix){const e=i.indexOf(":");-1!==e&&(i=i.substr(e+1))}this.options.transformTagName&&(i=this.options.transformTagName(i)),r&&(n=this.saveTextToParentTag(n,r,o));const s=o.substring(o.lastIndexOf(".")+1);if(i&&-1!==this.options.unpairedTags.indexOf(i))throw new Error(`Unpaired tag can not be used as closing tag: </${i}>`);let c=0;s&&-1!==this.options.unpairedTags.indexOf(s)?(c=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):c=o.lastIndexOf("."),o=o.substring(0,c),r=this.tagsNodeStack.pop(),n="",a=t}else if("?"===e[a+1]){let t=m(e,a,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{const e=new i(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,o,t.tagName)),this.addChild(r,e,o)}a=t.closeIndex+1}else if("!--"===e.substr(a+1,3)){const t=w(e,"--\x3e",a+4,"Comment is not closed.");if(this.options.commentPropName){const i=e.substring(a+4,t-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:i}])}a=t}else if("!D"===e.substr(a+1,2)){const t=s(e,a);this.docTypeEntities=t.entities,a=t.i}else if("!["===e.substr(a+1,2)){const t=w(e,"]]>",a,"CDATA is not closed.")-2,i=e.substring(a+9,t);if(n=this.saveTextToParentTag(n,r,o),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:i}]);else{let e=this.parseTextData(i,r.tagname,o,!0,!1,!0);null==e&&(e=""),r.add(this.options.textNodeName,e)}a=t+2}else{let s=m(e,a,this.options.removeNSPrefix),c=s.tagName,l=s.tagExp,u=s.attrExpPresent,h=s.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&"!xml"!==r.tagname&&(n=this.saveTextToParentTag(n,r,o,!1));const d=r;if(d&&-1!==this.options.unpairedTags.indexOf(d.tagname)&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c),this.isItStopNode(this.options.stopNodes,o,c)){let t="";if(l.length>0&&l.lastIndexOf("/")===l.length-1)a=s.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(c))a=s.closeIndex;else{const r=this.readStopNodeData(e,c,h+1);if(!r)throw new Error(`Unexpected end of ${c}`);a=r.i,t=r.tagContent}const n=new i(c);c!==l&&u&&(n[":@"]=this.buildAttributesMap(l,o,c)),t&&(t=this.parseTextData(t,c,o,!0,u,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),n.add(this.options.textNodeName,t),this.addChild(r,n,o)}else{if(l.length>0&&l.lastIndexOf("/")===l.length-1){"/"===c[c.length-1]?(c=c.substr(0,c.length-1),l=c):l=l.substr(0,l.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const e=new i(c);c!==l&&u&&(e[":@"]=this.buildAttributesMap(l,o,c)),this.addChild(r,e,o),o=o.substr(0,o.lastIndexOf("."))}else{const e=new i(c);this.tagsNodeStack.push(r),c!==l&&u&&(e[":@"]=this.buildAttributesMap(l,o,c)),this.addChild(r,e,o),r=e}n="",a=h}}else n+=e[a]}return t.child};function f(e,t,r){const n=this.options.updateTag(t.tagname,r,t[":@"]);!1===n||("string"==typeof n?(t.tagname=n,e.addChild(t)):e.addChild(t))}const p=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){const r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function g(e,t,r,n){return e&&(void 0===n&&(n=0===Object.keys(t.child).length),void 0!==(e=this.parseTextData(e,t.tagname,r,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,n))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function y(e,t,r){const n="*."+r;for(const r in e){const i=e[r];if(n===i||t===i)return!0}return!1}function w(e,t,r,n){const i=e.indexOf(t,r);if(-1===i)throw new Error(n);return i+t.length-1}function m(e,t,r,n=">"){const i=function(e,t,r=">"){let n,i="";for(let s=t;s<e.length;s++){let t=e[s];if(n)t===n&&(n="");else if('"'===t||"'"===t)n=t;else if(t===r[0]){if(!r[1])return{data:i,index:s};if(e[s+1]===r[1])return{data:i,index:s}}else"\t"===t&&(t=" ");i+=t}}(e,t+1,n);if(!i)return;let s=i.data;const o=i.index,a=s.search(/\s/);let c=s,l=!0;if(-1!==a&&(c=s.substr(0,a).replace(/\s\s*$/,""),s=s.substr(a+1)),r){const e=c.indexOf(":");-1!==e&&(c=c.substr(e+1),l=c!==i.data.substr(e+1))}return{tagName:c,tagExp:s,closeIndex:o,attrExpPresent:l}}function b(e,t,r){const n=r;let i=1;for(;r<e.length;r++)if("<"===e[r])if("/"===e[r+1]){const s=w(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(i--,0===i))return{tagContent:e.substring(n,r),i:s};r=s}else if("?"===e[r+1]){r=w(e,"?>",r+1,"StopNode is not closed.")}else if("!--"===e.substr(r+1,3)){r=w(e,"--\x3e",r+3,"StopNode is not closed.")}else if("!["===e.substr(r+1,2)){r=w(e,"]]>",r,"StopNode is not closed.")-2}else{const n=m(e,r,">");if(n){(n&&n.tagName)===t&&"/"!==n.tagExp[n.tagExp.length-1]&&i++,r=n.closeIndex}}}function A(e,t,r){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&o(e,r)}return n.isExist(e)?e:""}e.exports=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""}},this.addExternalEntities=a,this.parseXml=d,this.parseTextData=c,this.resolveNameSpace=l,this.buildAttributesMap=h,this.isItStopNode=y,this.replaceEntitiesValue=p,this.readStopNodeData=b,this.saveTextToParentTag=g,this.addChild=f}}},7945:(e,t,r)=>{const{buildOptions:n}=r(1476),i=r(2964),{prettify:s}=r(934),o=r(5736);e.exports=class{constructor(e){this.externalEntities={},this.options=n(e)}parse(e,t){if("string"==typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const r=o.validate(e,t);if(!0!==r)throw Error(`${r.err.msg}:${r.err.line}:${r.err.col}`)}const r=new i(this.options);r.addExternalEntities(this.externalEntities);const n=r.parseXml(e);return this.options.preserveOrder||void 0===n?n:s(n,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}}},934:(e,t)=>{"use strict";function r(e,t,o){let a;const c={};for(let l=0;l<e.length;l++){const u=e[l],h=n(u);let d="";if(d=void 0===o?h:o+"."+h,h===t.textNodeName)void 0===a?a=u[h]:a+=""+u[h];else{if(void 0===h)continue;if(u[h]){let e=r(u[h],t,d);const n=s(e,t);u[":@"]?i(e,u[":@"],d,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==c[h]&&c.hasOwnProperty(h)?(Array.isArray(c[h])||(c[h]=[c[h]]),c[h].push(e)):t.isArray(h,d,n)?c[h]=[e]:c[h]=e}}}return"string"==typeof a?a.length>0&&(c[t.textNodeName]=a):void 0!==a&&(c[t.textNodeName]=a),c}function n(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const r=t[e];if(":@"!==r)return r}}function i(e,t,r,n){if(t){const i=Object.keys(t),s=i.length;for(let o=0;o<s;o++){const s=i[o];n.isArray(s,r+"."+s,!0,!0)?e[s]=[t[s]]:e[s]=t[s]}}}function s(e,t){const{textNodeName:r}=t,n=Object.keys(e).length;return 0===n||!(1!==n||!e[r]&&"boolean"!=typeof e[r]&&0!==e[r])}t.prettify=function(e,t){return r(e,t)}},978:e=>{"use strict";e.exports=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}},8173:(e,t,r)=>{"use strict";var n=r(5385).Buffer,i=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/\s|\uFEFF|\xA0/,a=/\r?\n[\x20\x09]+/g,c=/[;,"]/,l=/[;,"]|\s/,u=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,h=1,d=2,f=4;function p(e){return e.replace(s,"")}function g(e){return o.test(e)}function y(e,t){for(;g(e[t]);)t++;return t}function w(e){return l.test(e)||!u.test(e)}class m{constructor(e){this.refs=[],e&&this.parse(e)}rel(e){for(var t=[],r=e.toLowerCase(),n=0;n<this.refs.length;n++)this.refs[n].rel.toLowerCase()===r&&t.push(this.refs[n]);return t}get(e,t){e=e.toLowerCase();for(var r=[],n=0;n<this.refs.length;n++)this.refs[n][e]===t&&r.push(this.refs[n]);return r}set(e){return this.refs.push(e),this}setUnique(e){return this.refs.some((t=>{return r=t,n=e,Object.keys(r).length===Object.keys(n).length&&Object.keys(r).every((e=>e in n&&r[e]===n[e]));var r,n}))||this.refs.push(e),this}has(e,t){e=e.toLowerCase();for(var r=0;r<this.refs.length;r++)if(this.refs[r][e]===t)return!0;return!1}parse(e,t){e=p(e=(t=t||0)?e.slice(t):e).replace(a,"");for(var r=h,n=e.length,i=(t=0,null);t<n;)if(r===h){if(g(e[t])){t++;continue}if("<"!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);if(null!=i&&(null!=i.rel?this.refs.push(...m.expandRelations(i)):this.refs.push(i)),-1===(l=e.indexOf(">",t)))throw new Error("Expected end of URI delimiter at offset "+t);i={uri:e.slice(t+1,l)},t=l,r=d,t++}else if(r===d){if(g(e[t])){t++;continue}if(";"===e[t])r=f,t++;else{if(","!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);r=h,t++}}else{if(r!==f)throw new Error('Unknown parser state "'+r+'"');if(";"===e[t]||g(e[t])){t++;continue}if(-1===(l=e.indexOf("=",t)))throw new Error("Expected attribute delimiter at offset "+t);var s=p(e.slice(t,l)).toLowerCase(),o="";if('"'===e[t=y(e,t=l+1)])for(t++;t<n;){if('"'===e[t]){t++;break}"\\"===e[t]&&t++,o+=e[t],t++}else{for(var l=t+1;!c.test(e[l])&&l<n;)l++;o=e.slice(t,l),t=l}switch(i[s]&&m.isSingleOccurenceAttr(s)||("*"===s[s.length-1]?i[s]=m.parseExtendedValue(o):(o="type"===s?o.toLowerCase():o,null!=i[s]?Array.isArray(i[s])?i[s].push(o):i[s]=[i[s],o]:i[s]=o)),e[t]){case",":r=h;break;case";":r=f}t++}return null!=i&&(null!=i.rel?this.refs.push(...m.expandRelations(i)):this.refs.push(i)),i=null,this}toString(){for(var e=[],t="",r=null,n=0;n<this.refs.length;n++)r=this.refs[n],t=Object.keys(this.refs[n]).reduce((function(e,t){return"uri"===t?e:e+"; "+m.formatAttribute(t,r[t])}),"<"+r.uri+">"),e.push(t);return e.join(", ")}}m.isCompatibleEncoding=function(e){return i.test(e)},m.parse=function(e,t){return(new m).parse(e,t)},m.isSingleOccurenceAttr=function(e){return"rel"===e||"type"===e||"media"===e||"title"===e||"title*"===e},m.isTokenAttr=function(e){return"rel"===e||"type"===e||"anchor"===e},m.escapeQuotes=function(e){return e.replace(/"/g,'\\"')},m.expandRelations=function(e){return e.rel.split(" ").map((function(t){var r=Object.assign({},e);return r.rel=t,r}))},m.parseExtendedValue=function(e){var t=/([^']+)?(?:'([^']*)')?(.+)/.exec(e);return{language:t[2].toLowerCase(),encoding:m.isCompatibleEncoding(t[1])?null:t[1].toLowerCase(),value:m.isCompatibleEncoding(t[1])?decodeURIComponent(t[3]):t[3]}},m.formatExtendedAttribute=function(e,t){var r=(t.encoding||"utf-8").toUpperCase();return e+"="+r+"'"+(t.language||"en")+"'"+(n.isBuffer(t.value)&&m.isCompatibleEncoding(r)?t.value.toString(r):n.isBuffer(t.value)?t.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(t.value))},m.formatAttribute=function(e,t){return Array.isArray(t)?t.map((t=>m.formatAttribute(e,t))).join("; "):"*"===e[e.length-1]||"string"!=typeof t?m.formatExtendedAttribute(e,t):(m.isTokenAttr(e)?t=w(t)?'"'+m.escapeQuotes(t)+'"':m.escapeQuotes(t):w(t)&&(t='"'+(t=(t=encodeURIComponent(t)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),e+"="+t)},e.exports=m},1144:(e,t)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,l=c>>1,u=-7,h=r?i-1:0,d=r?-1:1,f=e[t+h];for(h+=d,s=f&(1<<-u)-1,f>>=-u,u+=a;u>0;s=256*s+e[t+h],h+=d,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=256*o+e[t+h],h+=d,u-=8);if(0===s)s=1-l;else{if(s===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=l}return(f?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var o,a,c,l=8*s-i-1,u=(1<<l)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(t*c-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;e[r+f]=255&o,f+=p,o/=256,l-=8);e[r+f-p]|=128*g}},5712:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},1381:function(e){!function(t){"use strict";const r="(0?\\d+|0x[a-f0-9]+)",n={fourOctet:new RegExp(`^${r}\\.${r}\\.${r}\\.${r}$`,"i"),threeOctet:new RegExp(`^${r}\\.${r}\\.${r}$`,"i"),twoOctet:new RegExp(`^${r}\\.${r}$`,"i"),longValue:new RegExp(`^${r}$`,"i")},i=new RegExp("^0[0-7]+$","i"),s=new RegExp("^0x[a-f0-9]+$","i"),o="%[0-9a-z]{1,}",a="(?:[0-9a-f]+::?)+",c={zoneIndex:new RegExp(o,"i"),native:new RegExp(`^(::)?(${a})?([0-9a-f]+)?(::)?(${o})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${r}\\.${r}\\.${r}\\.${r}(${o})?)$`,"i"),transitional:new RegExp(`^((?:${a})|(?:::)(?:${a})?)${r}\\.${r}\\.${r}\\.${r}(${o})?$`,"i")};function l(e,t){if(e.indexOf("::")!==e.lastIndexOf("::"))return null;let r,n,i=0,s=-1,o=(e.match(c.zoneIndex)||[])[0];for(o&&(o=o.substring(1),e=e.replace(/%.+$/,""));(s=e.indexOf(":",s+1))>=0;)i++;if("::"===e.substr(0,2)&&i--,"::"===e.substr(-2,2)&&i--,i>t)return null;for(n=t-i,r=":";n--;)r+="0:";return":"===(e=e.replace("::",r))[0]&&(e=e.slice(1)),":"===e[e.length-1]&&(e=e.slice(0,-1)),t=function(){const t=e.split(":"),r=[];for(let e=0;e<t.length;e++)r.push(parseInt(t[e],16));return r}(),{parts:t,zoneId:o}}function u(e,t,r,n){if(e.length!==t.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let i,s=0;for(;n>0;){if(i=r-n,i<0&&(i=0),e[s]>>i!=t[s]>>i)return!1;n-=r,s+=1}return!0}function h(e){if(s.test(e))return parseInt(e,16);if("0"===e[0]&&!isNaN(parseInt(e[1],10))){if(i.test(e))return parseInt(e,8);throw new Error(`ipaddr: cannot parse ${e} as octal`)}return parseInt(e,10)}function d(e,t){for(;e.length<t;)e=`0${e}`;return e}const f={};f.IPv4=function(){function e(e){if(4!==e.length)throw new Error("ipaddr: ipv4 octet count should be 4");let t,r;for(t=0;t<e.length;t++)if(r=e[t],!(0<=r&&r<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=e}return e.prototype.SpecialRanges={unspecified:[[new e([0,0,0,0]),8]],broadcast:[[new e([255,255,255,255]),32]],multicast:[[new e([224,0,0,0]),4]],linkLocal:[[new e([169,254,0,0]),16]],loopback:[[new e([127,0,0,0]),8]],carrierGradeNat:[[new e([100,64,0,0]),10]],private:[[new e([10,0,0,0]),8],[new e([172,16,0,0]),12],[new e([192,168,0,0]),16]],reserved:[[new e([192,0,0,0]),24],[new e([192,0,2,0]),24],[new e([192,88,99,0]),24],[new e([198,51,100,0]),24],[new e([203,0,113,0]),24],[new e([240,0,0,0]),4]]},e.prototype.kind=function(){return"ipv4"},e.prototype.match=function(e,t){let r;if(void 0===t&&(r=e,e=r[0],t=r[1]),"ipv4"!==e.kind())throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return u(this.octets,e.octets,8,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e=0,t=!1;const r={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let n,i,s;for(n=3;n>=0;n-=1){if(i=this.octets[n],!(i in r))return null;if(s=r[i],t&&0!==s)return null;8!==s&&(t=!0),e+=s}return 32-e},e.prototype.range=function(){return f.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){return this.octets.slice(0)},e.prototype.toIPv4MappedAddress=function(){return f.IPv6.parse(`::ffff:${this.toString()}`)},e.prototype.toNormalizedString=function(){return this.toString()},e.prototype.toString=function(){return this.octets.join(".")},e}(),f.IPv4.broadcastAddressFromCIDR=function(e){try{const t=this.parseCIDR(e),r=t[0].toByteArray(),n=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),i=[];let s=0;for(;s<4;)i.push(parseInt(r[s],10)|255^parseInt(n[s],10)),s++;return new this(i)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},f.IPv4.isIPv4=function(e){return null!==this.parser(e)},f.IPv4.isValid=function(e){try{return new this(this.parser(e)),!0}catch(e){return!1}},f.IPv4.isValidFourPartDecimal=function(e){return!(!f.IPv4.isValid(e)||!e.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},f.IPv4.networkAddressFromCIDR=function(e){let t,r,n,i,s;try{for(t=this.parseCIDR(e),n=t[0].toByteArray(),s=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),i=[],r=0;r<4;)i.push(parseInt(n[r],10)&parseInt(s[r],10)),r++;return new this(i)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},f.IPv4.parse=function(e){const t=this.parser(e);if(null===t)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(t)},f.IPv4.parseCIDR=function(e){let t;if(t=e.match(/^(.+)\/(\d+)$/)){const e=parseInt(t[2]);if(e>=0&&e<=32){const r=[this.parse(t[1]),e];return Object.defineProperty(r,"toString",{value:function(){return this.join("/")}}),r}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},f.IPv4.parser=function(e){let t,r,i;if(t=e.match(n.fourOctet))return function(){const e=t.slice(1,6),n=[];for(let t=0;t<e.length;t++)r=e[t],n.push(h(r));return n}();if(t=e.match(n.longValue)){if(i=h(t[1]),i>4294967295||i<0)throw new Error("ipaddr: address outside defined range");return function(){const e=[];let t;for(t=0;t<=24;t+=8)e.push(i>>t&255);return e}().reverse()}return(t=e.match(n.twoOctet))?function(){const e=t.slice(1,4),r=[];if(i=h(e[1]),i>16777215||i<0)throw new Error("ipaddr: address outside defined range");return r.push(h(e[0])),r.push(i>>16&255),r.push(i>>8&255),r.push(255&i),r}():(t=e.match(n.threeOctet))?function(){const e=t.slice(1,5),r=[];if(i=h(e[2]),i>65535||i<0)throw new Error("ipaddr: address outside defined range");return r.push(h(e[0])),r.push(h(e[1])),r.push(i>>8&255),r.push(255&i),r}():null},f.IPv4.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>32)throw new Error("ipaddr: invalid IPv4 prefix length");const t=[0,0,0,0];let r=0;const n=Math.floor(e/8);for(;r<n;)t[r]=255,r++;return n<4&&(t[n]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},f.IPv6=function(){function e(e,t){let r,n;if(16===e.length)for(this.parts=[],r=0;r<=14;r+=2)this.parts.push(e[r]<<8|e[r+1]);else{if(8!==e.length)throw new Error("ipaddr: ipv6 part count should be 8 or 16");this.parts=e}for(r=0;r<this.parts.length;r++)if(n=this.parts[r],!(0<=n&&n<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");t&&(this.zoneId=t)}return e.prototype.SpecialRanges={unspecified:[new e([0,0,0,0,0,0,0,0]),128],linkLocal:[new e([65152,0,0,0,0,0,0,0]),10],multicast:[new e([65280,0,0,0,0,0,0,0]),8],loopback:[new e([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new e([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new e([0,0,0,0,0,65535,0,0]),96],rfc6145:[new e([0,0,0,0,65535,0,0,0]),96],rfc6052:[new e([100,65435,0,0,0,0,0,0]),96],"6to4":[new e([8194,0,0,0,0,0,0,0]),16],teredo:[new e([8193,0,0,0,0,0,0,0]),32],reserved:[[new e([8193,3512,0,0,0,0,0,0]),32]]},e.prototype.isIPv4MappedAddress=function(){return"ipv4Mapped"===this.range()},e.prototype.kind=function(){return"ipv6"},e.prototype.match=function(e,t){let r;if(void 0===t&&(r=e,e=r[0],t=r[1]),"ipv6"!==e.kind())throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return u(this.parts,e.parts,16,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e=0,t=!1;const r={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let n,i;for(let s=7;s>=0;s-=1){if(n=this.parts[s],!(n in r))return null;if(i=r[n],t&&0!==i)return null;16!==i&&(t=!0),e+=i}return 128-e},e.prototype.range=function(){return f.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){let e;const t=[],r=this.parts;for(let n=0;n<r.length;n++)e=r[n],t.push(e>>8),t.push(255&e);return t},e.prototype.toFixedLengthString=function(){const e=function(){const e=[];for(let t=0;t<this.parts.length;t++)e.push(d(this.parts[t].toString(16),4));return e}.call(this).join(":");let t="";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");const e=this.parts.slice(-2),t=e[0],r=e[1];return new f.IPv4([t>>8,255&t,r>>8,255&r])},e.prototype.toNormalizedString=function(){const e=function(){const e=[];for(let t=0;t<this.parts.length;t++)e.push(this.parts[t].toString(16));return e}.call(this).join(":");let t="";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toRFC5952String=function(){const e=/((^|:)(0(:|$)){2,})/g,t=this.toNormalizedString();let r,n=0,i=-1;for(;r=e.exec(t);)r[0].length>i&&(n=r.index,i=r[0].length);return i<0?t:`${t.substring(0,n)}::${t.substring(n+i)}`},e.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},e}(),f.IPv6.broadcastAddressFromCIDR=function(e){try{const t=this.parseCIDR(e),r=t[0].toByteArray(),n=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),i=[];let s=0;for(;s<16;)i.push(parseInt(r[s],10)|255^parseInt(n[s],10)),s++;return new this(i)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},f.IPv6.isIPv6=function(e){return null!==this.parser(e)},f.IPv6.isValid=function(e){if("string"==typeof e&&-1===e.indexOf(":"))return!1;try{const t=this.parser(e);return new this(t.parts,t.zoneId),!0}catch(e){return!1}},f.IPv6.networkAddressFromCIDR=function(e){let t,r,n,i,s;try{for(t=this.parseCIDR(e),n=t[0].toByteArray(),s=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),i=[],r=0;r<16;)i.push(parseInt(n[r],10)&parseInt(s[r],10)),r++;return new this(i)}catch(e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},f.IPv6.parse=function(e){const t=this.parser(e);if(null===t.parts)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(t.parts,t.zoneId)},f.IPv6.parseCIDR=function(e){let t,r,n;if((r=e.match(/^(.+)\/(\d+)$/))&&(t=parseInt(r[2]),t>=0&&t<=128))return n=[this.parse(r[1]),t],Object.defineProperty(n,"toString",{value:function(){return this.join("/")}}),n;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},f.IPv6.parser=function(e){let t,r,n,i,s,o;if(n=e.match(c.deprecatedTransitional))return this.parser(`::ffff:${n[1]}`);if(c.native.test(e))return l(e,8);if((n=e.match(c.transitional))&&(o=n[6]||"",t=l(n[1].slice(0,-1)+o,6),t.parts)){for(s=[parseInt(n[2]),parseInt(n[3]),parseInt(n[4]),parseInt(n[5])],r=0;r<s.length;r++)if(i=s[r],!(0<=i&&i<=255))return null;return t.parts.push(s[0]<<8|s[1]),t.parts.push(s[2]<<8|s[3]),{parts:t.parts,zoneId:t.zoneId}}return null},f.IPv6.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>128)throw new Error("ipaddr: invalid IPv6 prefix length");const t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let r=0;const n=Math.floor(e/8);for(;r<n;)t[r]=255,r++;return n<16&&(t[n]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},f.fromByteArray=function(e){const t=e.length;if(4===t)return new f.IPv4(e);if(16===t)return new f.IPv6(e);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},f.isValid=function(e){return f.IPv6.isValid(e)||f.IPv4.isValid(e)},f.parse=function(e){if(f.IPv6.isValid(e))return f.IPv6.parse(e);if(f.IPv4.isValid(e))return f.IPv4.parse(e);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},f.parseCIDR=function(e){try{return f.IPv6.parseCIDR(e)}catch(t){try{return f.IPv4.parseCIDR(e)}catch(e){throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},f.process=function(e){const t=this.parse(e);return"ipv6"===t.kind()&&t.isIPv4MappedAddress()?t.toIPv4Address():t},f.subnetMatch=function(e,t,r){let n,i,s,o;for(i in null==r&&(r="unicast"),t)if(Object.prototype.hasOwnProperty.call(t,i))for(s=t[i],!s[0]||s[0]instanceof Array||(s=[s]),n=0;n<s.length;n++)if(o=s[n],e.kind()===o[0].kind()&&e.match.apply(e,o))return i;return r},e.exports?e.exports=f:t.ipaddr=f}(this)},3040:e=>{"use strict";e.exports=function(){function e(e,t,r,n,i){return e<t||r<t?e>r?r+1:e+1:n===i?t:t+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,s=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(s-1);)i--,s--;for(var o=0;o<i&&t.charCodeAt(o)===r.charCodeAt(o);)o++;if(s-=o,0===(i-=o)||s<3)return s;var a,c,l,u,h,d,f,p,g,y,w,m,b=0,A=[];for(a=0;a<i;a++)A.push(a+1),A.push(t.charCodeAt(o+a));for(var E=A.length-1;b<s-3;)for(g=r.charCodeAt(o+(c=b)),y=r.charCodeAt(o+(l=b+1)),w=r.charCodeAt(o+(u=b+2)),m=r.charCodeAt(o+(h=b+3)),d=b+=4,a=0;a<E;a+=2)c=e(f=A[a],c,l,g,p=A[a+1]),l=e(c,l,u,y,p),u=e(l,u,h,w,p),d=e(u,h,d,m,p),A[a]=d,h=u,u=l,l=c,c=f;for(;b<s;)for(g=r.charCodeAt(o+(c=b)),d=++b,a=0;a<E;a+=2)f=A[a],A[a]=d=e(f,c,d,g,A[a+1]),c=f;return d}}()},6652:(e,t,r)=>{e.exports=r(3174)},3174:function(e,t){!function(r,n){"use strict";var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function s(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function o(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function a(e,t){return e<<t|e>>>32-t}function c(e){return e=o(e^=e>>>16,2246822507),e=o(e^=e>>>13,3266489909),e^=e>>>16}function l(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function u(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function h(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function d(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function f(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){return e=f(e,[0,e[0]>>>1]),e=f(e=u(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=f(e=u(e,[3301882366,444984403]),[0,e[0]>>>1])}i.x86.hash32=function(e,t){if(i.inputValidation&&!s(e))return n;t=t||0;for(var r=e.length%4,l=e.length-r,u=t,h=0,d=3432918353,f=461845907,p=0;p<l;p+=4)h=o(h=e[p]|e[p+1]<<8|e[p+2]<<16|e[p+3]<<24,d),h=o(h=a(h,15),f),u=o(u=a(u^=h,13),5)+3864292196;switch(h=0,r){case 3:h^=e[p+2]<<16;case 2:h^=e[p+1]<<8;case 1:h=o(h^=e[p],d),u^=h=o(h=a(h,15),f)}return(u=c(u^=e.length))>>>0},i.x86.hash128=function(e,t){if(i.inputValidation&&!s(e))return n;t=t||0;for(var r=e.length%16,l=e.length-r,u=t,h=t,d=t,f=t,p=0,g=0,y=0,w=0,m=597399067,b=2869860233,A=951274213,E=2716044179,v=0;v<l;v+=16)p=e[v]|e[v+1]<<8|e[v+2]<<16|e[v+3]<<24,g=e[v+4]|e[v+5]<<8|e[v+6]<<16|e[v+7]<<24,y=e[v+8]|e[v+9]<<8|e[v+10]<<16|e[v+11]<<24,w=e[v+12]|e[v+13]<<8|e[v+14]<<16|e[v+15]<<24,p=a(p=o(p,m),15),u=a(u^=p=o(p,b),19),u=o(u+=h,5)+1444728091,g=a(g=o(g,b),16),h=a(h^=g=o(g,A),17),h=o(h+=d,5)+197830471,y=a(y=o(y,A),17),d=a(d^=y=o(y,E),15),d=o(d+=f,5)+2530024501,w=a(w=o(w,E),18),f=a(f^=w=o(w,m),13),f=o(f+=u,5)+850148119;switch(p=0,g=0,y=0,w=0,r){case 15:w^=e[v+14]<<16;case 14:w^=e[v+13]<<8;case 13:w=o(w^=e[v+12],E),f^=w=o(w=a(w,18),m);case 12:y^=e[v+11]<<24;case 11:y^=e[v+10]<<16;case 10:y^=e[v+9]<<8;case 9:y=o(y^=e[v+8],A),d^=y=o(y=a(y,17),E);case 8:g^=e[v+7]<<24;case 7:g^=e[v+6]<<16;case 6:g^=e[v+5]<<8;case 5:g=o(g^=e[v+4],b),h^=g=o(g=a(g,16),A);case 4:p^=e[v+3]<<24;case 3:p^=e[v+2]<<16;case 2:p^=e[v+1]<<8;case 1:p=o(p^=e[v],m),u^=p=o(p=a(p,15),b)}return u^=e.length,u+=h^=e.length,u+=d^=e.length,h+=u+=f^=e.length,d+=u,f+=u,u=c(u),u+=h=c(h),u+=d=c(d),h+=u+=f=c(f),d+=u,f+=u,("00000000"+(u>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)},i.x64.hash128=function(e,t){if(i.inputValidation&&!s(e))return n;t=t||0;for(var r=e.length%16,o=e.length-r,a=[0,t],c=[0,t],g=[0,0],y=[0,0],w=[2277735313,289559509],m=[1291169091,658871167],b=0;b<o;b+=16)g=[e[b+4]|e[b+5]<<8|e[b+6]<<16|e[b+7]<<24,e[b]|e[b+1]<<8|e[b+2]<<16|e[b+3]<<24],y=[e[b+12]|e[b+13]<<8|e[b+14]<<16|e[b+15]<<24,e[b+8]|e[b+9]<<8|e[b+10]<<16|e[b+11]<<24],g=h(g=u(g,w),31),a=l(a=h(a=f(a,g=u(g,m)),27),c),a=l(u(a,[0,5]),[0,1390208809]),y=h(y=u(y,m),33),c=l(c=h(c=f(c,y=u(y,w)),31),a),c=l(u(c,[0,5]),[0,944331445]);switch(g=[0,0],y=[0,0],r){case 15:y=f(y,d([0,e[b+14]],48));case 14:y=f(y,d([0,e[b+13]],40));case 13:y=f(y,d([0,e[b+12]],32));case 12:y=f(y,d([0,e[b+11]],24));case 11:y=f(y,d([0,e[b+10]],16));case 10:y=f(y,d([0,e[b+9]],8));case 9:y=u(y=f(y,[0,e[b+8]]),m),c=f(c,y=u(y=h(y,33),w));case 8:g=f(g,d([0,e[b+7]],56));case 7:g=f(g,d([0,e[b+6]],48));case 6:g=f(g,d([0,e[b+5]],40));case 5:g=f(g,d([0,e[b+4]],32));case 4:g=f(g,d([0,e[b+3]],24));case 3:g=f(g,d([0,e[b+2]],16));case 2:g=f(g,d([0,e[b+1]],8));case 1:g=u(g=f(g,[0,e[b]]),w),a=f(a,g=u(g=h(g,31),m))}return a=l(a=f(a,[0,e.length]),c=f(c,[0,e.length])),c=l(c,a),a=l(a=p(a),c=p(c)),c=l(c,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(c[0]>>>0).toString(16)).slice(-8)+("00000000"+(c[1]>>>0).toString(16)).slice(-8)},e.exports&&(t=e.exports=i),t.murmurHash3=i}()},3097:(e,t,r)=>{"use strict";var n={};(0,r(2007).assign)(n,r(3576),r(5755),r(8011)),e.exports=n},3576:(e,t,r)=>{"use strict";var n=r(766),i=r(2007),s=r(8228),o=r(5301),a=r(7244),c=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==r)throw new Error(o[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(r=n.deflateSetDictionary(this.strm,u)))throw new Error(o[r]);this._dict_set=!0}}function u(e,t){var r=new l(t);if(r.push(e,!0),r.err)throw r.msg||o[r.err];return r.result}l.prototype.push=function(e,t){var r,o,a=this.strm,l=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=s.string2buf(e):"[object ArrayBuffer]"===c.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new i.Buf8(l),a.next_out=0,a.avail_out=l),1!==(r=n.deflate(a,o))&&0!==r)return this.onEnd(r),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(s.buf2binstring(i.shrinkBuf(a.output,a.next_out))):this.onData(i.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==r);return 4===o?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==o||(this.onEnd(0),a.avail_out=0,!0)},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=l,t.deflate=u,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},5755:(e,t,r)=>{"use strict";var n=r(9246),i=r(2007),s=r(8228),o=r(8011),a=r(5301),c=r(7244),l=r(7912),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==o.Z_OK)throw new Error(a[r]);if(this.header=new l,n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=s.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=n.inflateSetDictionary(this.strm,t.dictionary))!==o.Z_OK))throw new Error(a[r])}function d(e,t){var r=new h(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}h.prototype.push=function(e,t){var r,a,c,l,h,d=this.strm,f=this.options.chunkSize,p=this.options.dictionary,g=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?d.input=s.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(f),d.next_out=0,d.avail_out=f),(r=n.inflate(d,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&p&&(r=n.inflateSetDictionary(this.strm,p)),r===o.Z_BUF_ERROR&&!0===g&&(r=o.Z_OK,g=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&r!==o.Z_STREAM_END&&(0!==d.avail_in||a!==o.Z_FINISH&&a!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(c=s.utf8border(d.output,d.next_out),l=d.next_out-c,h=s.buf2string(d.output,c),d.next_out=l,d.avail_out=f-l,l&&i.arraySet(d.output,d.output,c,l,0),this.onData(h)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((d.avail_in>0||0===d.avail_out)&&r!==o.Z_STREAM_END);return r===o.Z_STREAM_END&&(a=o.Z_FINISH),a===o.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):a!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),d.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=h,t.inflate=d,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.ungzip=d},2007:(e,t)=>{"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)n(r,i)&&(e[i]=r[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){var t,r,n,i,s,o;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(o=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)s=e[t],o.set(s,i),i+=s.length;return o}},s={arraySet:function(e,t,r,n,i){for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(r)},8228:(e,t,r)=>{"use strict";var n=r(2007),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var o=new n.Buf8(256),a=0;a<256;a++)o[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function c(e,t){if(t<65534&&(e.subarray&&s||!e.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",o=0;o<t;o++)r+=String.fromCharCode(e[o]);return r}o[254]=o[254]=1,t.string2buf=function(e){var t,r,i,s,o,a=e.length,c=0;for(s=0;s<a;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(i=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),c+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(c),o=0,s=0;o<c;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(i=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|63&r):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|63&r):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|63&r);return t},t.buf2binstring=function(e){return c(e,e.length)},t.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},t.buf2string=function(e,t){var r,n,i,s,a=t||e.length,l=new Array(2*a);for(n=0,r=0;r<a;)if((i=e[r++])<128)l[n++]=i;else if((s=o[i])>4)l[n++]=65533,r+=s-1;else{for(i&=2===s?31:3===s?15:7;s>1&&r<a;)i=i<<6|63&e[r++],s--;s>1?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return c(l,n)},t.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+o[e[r]]>t?r:t}},8004:e=>{"use strict";e.exports=function(e,t,r,n){for(var i=65535&e|0,s=e>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{s=s+(i=i+t[n++]|0)|0}while(--o);i%=65521,s%=65521}return i|s<<16|0}},8011:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},5433:e=>{"use strict";var t=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,r,n,i){var s=t,o=i+n;e^=-1;for(var a=i;a<o;a++)e=e>>>8^s[255&(e^r[a])];return-1^e}},766:(e,t,r)=>{"use strict";var n,i=r(2007),s=r(7427),o=r(8004),a=r(5433),c=r(5301),l=-2,u=258,h=262,d=103,f=113,p=666;function g(e,t){return e.msg=c[t],t}function y(e){return(e<<1)-(e>4?9:0)}function w(e){for(var t=e.length;--t>=0;)e[t]=0}function m(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function b(e,t){s._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,m(e.strm)}function A(e,t){e.pending_buf[e.pending++]=t}function E(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function v(e,t){var r,n,i=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match,c=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,l=e.window,d=e.w_mask,f=e.prev,p=e.strstart+u,g=l[s+o-1],y=l[s+o];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(l[(r=t)+o]===y&&l[r+o-1]===g&&l[r]===l[s]&&l[++r]===l[s+1]){s+=2,r++;do{}while(l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&s<p);if(n=u-(p-s),s=p-u,n>o){if(e.match_start=t,o=n,n>=a)break;g=l[s+o-1],y=l[s+o]}}}while((t=f[t&d])>c&&0!=--i);return o<=e.lookahead?o:e.lookahead}function _(e){var t,r,n,s,c,l,u,d,f,p,g=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-h)){i.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=g?n-g:0}while(--r);t=r=g;do{n=e.prev[--t],e.prev[t]=n>=g?n-g:0}while(--r);s+=g}if(0===e.strm.avail_in)break;if(l=e.strm,u=e.window,d=e.strstart+e.lookahead,f=s,p=void 0,(p=l.avail_in)>f&&(p=f),r=0===p?0:(l.avail_in-=p,i.arraySet(u,l.input,l.next_in,p,d),1===l.state.wrap?l.adler=o(l.adler,u,p,d):2===l.state.wrap&&(l.adler=a(l.adler,u,p,d)),l.next_in+=p,l.total_in+=p,p),e.lookahead+=r,e.lookahead+e.insert>=3)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+3-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function T(e,t){for(var r,n;;){if(e.lookahead<h){if(_(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-h&&(e.match_length=v(e,r)),e.match_length>=3)if(n=s._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function S(e,t){for(var r,n,i;;){if(e.lookahead<h){if(_(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-h&&(e.match_length=v(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=s._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function I(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function C(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),w(this.dyn_ltree),w(this.dyn_dtree),w(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),w(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),w(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function R(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:f,e.adler=2===t.wrap?0:1,t.last_flush=0,s._tr_init(t),0):g(e,l)}function x(e){var t,r=R(e);return 0===r&&((t=e.state).window_size=2*t.w_size,w(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r}function k(e,t,r,n,s,o){if(!e)return l;var a=1;if(-1===t&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),s<1||s>9||8!==r||n<8||n>15||t<0||t>9||o<0||o>4)return g(e,l);8===n&&(n=9);var c=new C;return e.state=c,c.strm=e,c.wrap=a,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=s+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<s+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=o,c.method=r,x(e)}n=[new I(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(_(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new I(4,4,8,4,T),new I(4,5,16,8,T),new I(4,6,32,32,T),new I(4,4,16,16,S),new I(8,16,32,32,S),new I(8,16,128,128,S),new I(8,32,128,256,S),new I(32,128,258,1024,S),new I(32,258,258,4096,S)],t.deflateInit=function(e,t){return k(e,t,8,15,8,0)},t.deflateInit2=k,t.deflateReset=x,t.deflateResetKeep=R,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?l:(e.state.gzhead=t,0):l},t.deflate=function(e,t){var r,i,o,c;if(!e||!e.state||t>5||t<0)return e?g(e,l):l;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===p&&4!==t)return g(e,0===e.avail_out?-5:l);if(i.strm=e,r=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,A(i,31),A(i,139),A(i,8),i.gzhead?(A(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),A(i,255&i.gzhead.time),A(i,i.gzhead.time>>8&255),A(i,i.gzhead.time>>16&255),A(i,i.gzhead.time>>24&255),A(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),A(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(A(i,255&i.gzhead.extra.length),A(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(A(i,0),A(i,0),A(i,0),A(i,0),A(i,0),A(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),A(i,3),i.status=f);else{var h=8+(i.w_bits-8<<4)<<8;h|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=f,E(i,h),0!==i.strstart&&(E(i,e.adler>>>16),E(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),m(e),o=i.pending,i.pending!==i.pending_buf_size));)A(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),m(e),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,A(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),m(e),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,A(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>o&&(e.adler=a(e.adler,i.pending_buf,i.pending-o,o)),0===c&&(i.status=d)}else i.status=d;if(i.status===d&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&m(e),i.pending+2<=i.pending_buf_size&&(A(i,255&e.adler),A(i,e.adler>>8&255),e.adler=0,i.status=f)):i.status=f),0!==i.pending){if(m(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&y(t)<=y(r)&&4!==t)return g(e,-5);if(i.status===p&&0!==e.avail_in)return g(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==p){var v=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(_(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var r,n,i,o,a=e.window;;){if(e.lookahead<=u){if(_(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=a[i=e.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){o=e.strstart+u;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);e.match_length=u-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=s._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):n[i.level].func(i,t);if(3!==v&&4!==v||(i.status=p),1===v||3===v)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===v&&(1===t?s._tr_align(i):5!==t&&(s._tr_stored_block(i,0,0,!1),3===t&&(w(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),m(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(A(i,255&e.adler),A(i,e.adler>>8&255),A(i,e.adler>>16&255),A(i,e.adler>>24&255),A(i,255&e.total_in),A(i,e.total_in>>8&255),A(i,e.total_in>>16&255),A(i,e.total_in>>24&255)):(E(i,e.adler>>>16),E(i,65535&e.adler)),m(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==d&&t!==f&&t!==p?g(e,l):(e.state=null,t===f?g(e,-3):0):l},t.deflateSetDictionary=function(e,t){var r,n,s,a,c,u,h,d,f=t.length;if(!e||!e.state)return l;if(2===(a=(r=e.state).wrap)||1===a&&42!==r.status||r.lookahead)return l;for(1===a&&(e.adler=o(e.adler,t,f,0)),r.wrap=0,f>=r.w_size&&(0===a&&(w(r.head),r.strstart=0,r.block_start=0,r.insert=0),d=new i.Buf8(r.w_size),i.arraySet(d,t,f-r.w_size,r.w_size,0),t=d,f=r.w_size),c=e.avail_in,u=e.next_in,h=e.input,e.avail_in=f,e.next_in=0,e.input=t,_(r);r.lookahead>=3;){n=r.strstart,s=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--s);r.strstart=n,r.lookahead=2,_(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=u,e.input=h,e.avail_in=c,r.wrap=a,0},t.deflateInfo="pako deflate (from Nodeca project)"},7912:e=>{"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},6933:e=>{"use strict";e.exports=function(e,t){var r,n,i,s,o,a,c,l,u,h,d,f,p,g,y,w,m,b,A,E,v,_,T,S,I;r=e.state,n=e.next_in,S=e.input,i=n+(e.avail_in-5),s=e.next_out,I=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),c=r.dmax,l=r.wsize,u=r.whave,h=r.wnext,d=r.window,f=r.hold,p=r.bits,g=r.lencode,y=r.distcode,w=(1<<r.lenbits)-1,m=(1<<r.distbits)-1;e:do{p<15&&(f+=S[n++]<<p,p+=8,f+=S[n++]<<p,p+=8),b=g[f&w];t:for(;;){if(f>>>=A=b>>>24,p-=A,0===(A=b>>>16&255))I[s++]=65535&b;else{if(!(16&A)){if(0==(64&A)){b=g[(65535&b)+(f&(1<<A)-1)];continue t}if(32&A){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}E=65535&b,(A&=15)&&(p<A&&(f+=S[n++]<<p,p+=8),E+=f&(1<<A)-1,f>>>=A,p-=A),p<15&&(f+=S[n++]<<p,p+=8,f+=S[n++]<<p,p+=8),b=y[f&m];r:for(;;){if(f>>>=A=b>>>24,p-=A,!(16&(A=b>>>16&255))){if(0==(64&A)){b=y[(65535&b)+(f&(1<<A)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(v=65535&b,p<(A&=15)&&(f+=S[n++]<<p,(p+=8)<A&&(f+=S[n++]<<p,p+=8)),(v+=f&(1<<A)-1)>c){e.msg="invalid distance too far back",r.mode=30;break e}if(f>>>=A,p-=A,v>(A=s-o)){if((A=v-A)>u&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(_=0,T=d,0===h){if(_+=l-A,A<E){E-=A;do{I[s++]=d[_++]}while(--A);_=s-v,T=I}}else if(h<A){if(_+=l+h-A,(A-=h)<E){E-=A;do{I[s++]=d[_++]}while(--A);if(_=0,h<E){E-=A=h;do{I[s++]=d[_++]}while(--A);_=s-v,T=I}}}else if(_+=h-A,A<E){E-=A;do{I[s++]=d[_++]}while(--A);_=s-v,T=I}for(;E>2;)I[s++]=T[_++],I[s++]=T[_++],I[s++]=T[_++],E-=3;E&&(I[s++]=T[_++],E>1&&(I[s++]=T[_++]))}else{_=s-v;do{I[s++]=I[_++],I[s++]=I[_++],I[s++]=I[_++],E-=3}while(E>2);E&&(I[s++]=I[_++],E>1&&(I[s++]=I[_++]))}break}}break}}while(n<i&&s<a);n-=E=p>>3,f&=(1<<(p-=E<<3))-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=s<a?a-s+257:257-(s-a),r.hold=f,r.bits=p}},9246:(e,t,r)=>{"use strict";var n=r(2007),i=r(8004),s=r(5433),o=r(6933),a=r(8861),c=-2,l=12,u=30;function h(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,0):c}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,f(e)):c}function g(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?c:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,p(e))):c}function y(e,t){var r,n;return e?(n=new d,e.state=n,n.window=null,0!==(r=g(e,t))&&(e.state=null),r):c}var w,m,b=!0;function A(e){if(b){var t;for(w=new n.Buf32(512),m=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,w,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,m,0,e.work,{bits:5}),b=!1}e.lencode=w,e.lenbits=9,e.distcode=m,e.distbits=5}function E(e,t,r,i){var s,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),i>=o.wsize?(n.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((s=o.wsize-o.wnext)>i&&(s=i),n.arraySet(o.window,t,r-i,s,o.wnext),(i-=s)?(n.arraySet(o.window,t,r-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}t.inflateReset=p,t.inflateReset2=g,t.inflateResetKeep=f,t.inflateInit=function(e){return y(e,15)},t.inflateInit2=y,t.inflate=function(e,t){var r,d,f,p,g,y,w,m,b,v,_,T,S,I,C,R,x,k,N,B,O,D,L,P,U=0,M=new n.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;(r=e.state).mode===l&&(r.mode=13),g=e.next_out,f=e.output,w=e.avail_out,p=e.next_in,d=e.input,y=e.avail_in,m=r.hold,b=r.bits,v=y,_=w,D=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;b<16;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if(2&r.wrap&&35615===m){r.check=0,M[0]=255&m,M[1]=m>>>8&255,r.check=s(r.check,M,2,0),m=0,b=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",r.mode=u;break}if(8!=(15&m)){e.msg="unknown compression method",r.mode=u;break}if(b-=4,O=8+(15&(m>>>=4)),0===r.wbits)r.wbits=O;else if(O>r.wbits){e.msg="invalid window size",r.mode=u;break}r.dmax=1<<O,e.adler=r.check=1,r.mode=512&m?10:l,m=0,b=0;break;case 2:for(;b<16;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if(r.flags=m,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=u;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=u;break}r.head&&(r.head.text=m>>8&1),512&r.flags&&(M[0]=255&m,M[1]=m>>>8&255,r.check=s(r.check,M,2,0)),m=0,b=0,r.mode=3;case 3:for(;b<32;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}r.head&&(r.head.time=m),512&r.flags&&(M[0]=255&m,M[1]=m>>>8&255,M[2]=m>>>16&255,M[3]=m>>>24&255,r.check=s(r.check,M,4,0)),m=0,b=0,r.mode=4;case 4:for(;b<16;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}r.head&&(r.head.xflags=255&m,r.head.os=m>>8),512&r.flags&&(M[0]=255&m,M[1]=m>>>8&255,r.check=s(r.check,M,2,0)),m=0,b=0,r.mode=5;case 5:if(1024&r.flags){for(;b<16;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}r.length=m,r.head&&(r.head.extra_len=m),512&r.flags&&(M[0]=255&m,M[1]=m>>>8&255,r.check=s(r.check,M,2,0)),m=0,b=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((T=r.length)>y&&(T=y),T&&(r.head&&(O=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,d,p,T,O)),512&r.flags&&(r.check=s(r.check,d,T,p)),y-=T,p+=T,r.length-=T),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===y)break e;T=0;do{O=d[p+T++],r.head&&O&&r.length<65536&&(r.head.name+=String.fromCharCode(O))}while(O&&T<y);if(512&r.flags&&(r.check=s(r.check,d,T,p)),y-=T,p+=T,O)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===y)break e;T=0;do{O=d[p+T++],r.head&&O&&r.length<65536&&(r.head.comment+=String.fromCharCode(O))}while(O&&T<y);if(512&r.flags&&(r.check=s(r.check,d,T,p)),y-=T,p+=T,O)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;b<16;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if(m!==(65535&r.check)){e.msg="header crc mismatch",r.mode=u;break}m=0,b=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=l;break;case 10:for(;b<32;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}e.adler=r.check=h(m),m=0,b=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=g,e.avail_out=w,e.next_in=p,e.avail_in=y,r.hold=m,r.bits=b,2;e.adler=r.check=1,r.mode=l;case l:if(5===t||6===t)break e;case 13:if(r.last){m>>>=7&b,b-=7&b,r.mode=27;break}for(;b<3;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}switch(r.last=1&m,b-=1,3&(m>>>=1)){case 0:r.mode=14;break;case 1:if(A(r),r.mode=20,6===t){m>>>=2,b-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=u}m>>>=2,b-=2;break;case 14:for(m>>>=7&b,b-=7&b;b<32;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",r.mode=u;break}if(r.length=65535&m,m=0,b=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(T=r.length){if(T>y&&(T=y),T>w&&(T=w),0===T)break e;n.arraySet(f,d,p,T,g),y-=T,p+=T,w-=T,g+=T,r.length-=T;break}r.mode=l;break;case 17:for(;b<14;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if(r.nlen=257+(31&m),m>>>=5,b-=5,r.ndist=1+(31&m),m>>>=5,b-=5,r.ncode=4+(15&m),m>>>=4,b-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=u;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;b<3;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}r.lens[F[r.have++]]=7&m,m>>>=3,b-=3}for(;r.have<19;)r.lens[F[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,L={bits:r.lenbits},D=a(0,r.lens,0,19,r.lencode,0,r.work,L),r.lenbits=L.bits,D){e.msg="invalid code lengths set",r.mode=u;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;R=(U=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,x=65535&U,!((C=U>>>24)<=b);){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if(x<16)m>>>=C,b-=C,r.lens[r.have++]=x;else{if(16===x){for(P=C+2;b<P;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if(m>>>=C,b-=C,0===r.have){e.msg="invalid bit length repeat",r.mode=u;break}O=r.lens[r.have-1],T=3+(3&m),m>>>=2,b-=2}else if(17===x){for(P=C+3;b<P;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}b-=C,O=0,T=3+(7&(m>>>=C)),m>>>=3,b-=3}else{for(P=C+7;b<P;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}b-=C,O=0,T=11+(127&(m>>>=C)),m>>>=7,b-=7}if(r.have+T>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=u;break}for(;T--;)r.lens[r.have++]=O}}if(r.mode===u)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=u;break}if(r.lenbits=9,L={bits:r.lenbits},D=a(1,r.lens,0,r.nlen,r.lencode,0,r.work,L),r.lenbits=L.bits,D){e.msg="invalid literal/lengths set",r.mode=u;break}if(r.distbits=6,r.distcode=r.distdyn,L={bits:r.distbits},D=a(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,L),r.distbits=L.bits,D){e.msg="invalid distances set",r.mode=u;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(y>=6&&w>=258){e.next_out=g,e.avail_out=w,e.next_in=p,e.avail_in=y,r.hold=m,r.bits=b,o(e,_),g=e.next_out,f=e.output,w=e.avail_out,p=e.next_in,d=e.input,y=e.avail_in,m=r.hold,b=r.bits,r.mode===l&&(r.back=-1);break}for(r.back=0;R=(U=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,x=65535&U,!((C=U>>>24)<=b);){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if(R&&0==(240&R)){for(k=C,N=R,B=x;R=(U=r.lencode[B+((m&(1<<k+N)-1)>>k)])>>>16&255,x=65535&U,!(k+(C=U>>>24)<=b);){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}m>>>=k,b-=k,r.back+=k}if(m>>>=C,b-=C,r.back+=C,r.length=x,0===R){r.mode=26;break}if(32&R){r.back=-1,r.mode=l;break}if(64&R){e.msg="invalid literal/length code",r.mode=u;break}r.extra=15&R,r.mode=22;case 22:if(r.extra){for(P=r.extra;b<P;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}r.length+=m&(1<<r.extra)-1,m>>>=r.extra,b-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;R=(U=r.distcode[m&(1<<r.distbits)-1])>>>16&255,x=65535&U,!((C=U>>>24)<=b);){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if(0==(240&R)){for(k=C,N=R,B=x;R=(U=r.distcode[B+((m&(1<<k+N)-1)>>k)])>>>16&255,x=65535&U,!(k+(C=U>>>24)<=b);){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}m>>>=k,b-=k,r.back+=k}if(m>>>=C,b-=C,r.back+=C,64&R){e.msg="invalid distance code",r.mode=u;break}r.offset=x,r.extra=15&R,r.mode=24;case 24:if(r.extra){for(P=r.extra;b<P;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}r.offset+=m&(1<<r.extra)-1,m>>>=r.extra,b-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=u;break}r.mode=25;case 25:if(0===w)break e;if(T=_-w,r.offset>T){if((T=r.offset-T)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=u;break}T>r.wnext?(T-=r.wnext,S=r.wsize-T):S=r.wnext-T,T>r.length&&(T=r.length),I=r.window}else I=f,S=g-r.offset,T=r.length;T>w&&(T=w),w-=T,r.length-=T;do{f[g++]=I[S++]}while(--T);0===r.length&&(r.mode=21);break;case 26:if(0===w)break e;f[g++]=r.length,w--,r.mode=21;break;case 27:if(r.wrap){for(;b<32;){if(0===y)break e;y--,m|=d[p++]<<b,b+=8}if(_-=w,e.total_out+=_,r.total+=_,_&&(e.adler=r.check=r.flags?s(r.check,f,_,g-_):i(r.check,f,_,g-_)),_=w,(r.flags?m:h(m))!==r.check){e.msg="incorrect data check",r.mode=u;break}m=0,b=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;b<32;){if(0===y)break e;y--,m+=d[p++]<<b,b+=8}if(m!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=u;break}m=0,b=0}r.mode=29;case 29:D=1;break e;case u:D=-3;break e;case 31:return-4;default:return c}return e.next_out=g,e.avail_out=w,e.next_in=p,e.avail_in=y,r.hold=m,r.bits=b,(r.wsize||_!==e.avail_out&&r.mode<u&&(r.mode<27||4!==t))&&E(e,e.output,e.next_out,_-e.avail_out)?(r.mode=31,-4):(v-=e.avail_in,_-=e.avail_out,e.total_in+=v,e.total_out+=_,r.total+=_,r.wrap&&_&&(e.adler=r.check=r.flags?s(r.check,f,_,e.next_out-_):i(r.check,f,_,e.next_out-_)),e.data_type=r.bits+(r.last?64:0)+(r.mode===l?128:0)+(20===r.mode||15===r.mode?256:0),(0===v&&0===_||4===t)&&0===D&&(D=-5),D)},t.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?c:(r.head=t,t.done=!1,0):c},t.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?c:11===r.mode&&i(1,t,n,0)!==r.check?-3:E(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,0):c},t.inflateInfo="pako inflate (from Nodeca project)"},8861:(e,t,r)=>{"use strict";var n=r(2007),i=15,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,l,u,h,d,f){var p,g,y,w,m,b,A,E,v,_=f.bits,T=0,S=0,I=0,C=0,R=0,x=0,k=0,N=0,B=0,O=0,D=null,L=0,P=new n.Buf16(16),U=new n.Buf16(16),M=null,F=0;for(T=0;T<=i;T++)P[T]=0;for(S=0;S<l;S++)P[t[r+S]]++;for(R=_,C=i;C>=1&&0===P[C];C--);if(R>C&&(R=C),0===C)return u[h++]=20971520,u[h++]=20971520,f.bits=1,0;for(I=1;I<C&&0===P[I];I++);for(R<I&&(R=I),N=1,T=1;T<=i;T++)if(N<<=1,(N-=P[T])<0)return-1;if(N>0&&(0===e||1!==C))return-1;for(U[1]=0,T=1;T<i;T++)U[T+1]=U[T]+P[T];for(S=0;S<l;S++)0!==t[r+S]&&(d[U[t[r+S]]++]=S);if(0===e?(D=M=d,b=19):1===e?(D=s,L-=257,M=o,F-=257,b=256):(D=a,M=c,b=-1),O=0,S=0,T=I,m=h,x=R,k=0,y=-1,w=(B=1<<R)-1,1===e&&B>852||2===e&&B>592)return 1;for(;;){A=T-k,d[S]<b?(E=0,v=d[S]):d[S]>b?(E=M[F+d[S]],v=D[L+d[S]]):(E=96,v=0),p=1<<T-k,I=g=1<<x;do{u[m+(O>>k)+(g-=p)]=A<<24|E<<16|v|0}while(0!==g);for(p=1<<T-1;O&p;)p>>=1;if(0!==p?(O&=p-1,O+=p):O=0,S++,0==--P[T]){if(T===C)break;T=t[r+d[S]]}if(T>R&&(O&w)!==y){for(0===k&&(k=R),m+=I,N=1<<(x=T-k);x+k<C&&!((N-=P[x+k])<=0);)x++,N<<=1;if(B+=1<<x,1===e&&B>852||2===e&&B>592)return 1;u[y=O&w]=R<<24|x<<16|m-h|0}}return 0!==O&&(u[m+O]=T-k<<24|64<<16|0),f.bits=R,0}},5301:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},7427:(e,t,r)=>{"use strict";var n=r(2007);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var s=256,o=286,a=30,c=15,l=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array(576);i(f);var p=new Array(60);i(p);var g=new Array(512);i(g);var y=new Array(256);i(y);var w=new Array(29);i(w);var m,b,A,E=new Array(a);function v(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function _(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function T(e){return e<256?g[e]:g[256+(e>>>7)]}function S(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function I(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,S(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function C(e,t,r){I(e,r[2*t],r[2*t+1])}function R(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function x(e,t,r){var n,i,s=new Array(16),o=0;for(n=1;n<=c;n++)s[n]=o=o+r[n-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=R(s[a]++,a))}}function k(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<a;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function N(e){e.bi_valid>8?S(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function B(e,t,r,n){var i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function O(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&B(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!B(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function D(e,t,r){var n,i,o,a,c=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],i=e.pending_buf[e.l_buf+c],c++,0===n?C(e,i,t):(C(e,(o=y[i])+s+1,t),0!==(a=l[o])&&I(e,i-=w[o],a),C(e,o=T(--n),r),0!==(a=u[o])&&I(e,n-=E[o],a))}while(c<e.last_lit);C(e,256,t)}function L(e,t){var r,n,i,s=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<l;r++)0!==s[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=o[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;r>=1;r--)O(e,s,r);i=l;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],O(e,s,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,s[2*i]=s[2*r]+s[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,s[2*r+1]=s[2*n+1]=i,e.heap[1]=i++,O(e,s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,s,o,a,l=t.dyn_tree,u=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,g=t.stat_desc.max_length,y=0;for(s=0;s<=c;s++)e.bl_count[s]=0;for(l[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(s=l[2*l[2*(n=e.heap[r])+1]+1]+1)>g&&(s=g,y++),l[2*n+1]=s,n>u||(e.bl_count[s]++,o=0,n>=p&&(o=f[n-p]),a=l[2*n],e.opt_len+=a*(s+o),d&&(e.static_len+=a*(h[2*n+1]+o)));if(0!==y){do{for(s=g-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[g]--,y-=2}while(y>0);for(s=g;0!==s;s--)for(n=e.bl_count[s];0!==n;)(i=e.heap[--r])>u||(l[2*i+1]!==s&&(e.opt_len+=(s-l[2*i+1])*l[2*i],l[2*i+1]=s),n--)}}(e,t),x(s,u,e.bl_count)}function P(e,t,r){var n,i,s=-1,o=t[1],a=0,c=7,l=4;for(0===o&&(c=138,l=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=t[2*(n+1)+1],++a<c&&i===o||(a<l?e.bl_tree[2*i]+=a:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,s=i,0===o?(c=138,l=3):i===o?(c=6,l=3):(c=7,l=4))}function U(e,t,r){var n,i,s=-1,o=t[1],a=0,c=7,l=4;for(0===o&&(c=138,l=3),n=0;n<=r;n++)if(i=o,o=t[2*(n+1)+1],!(++a<c&&i===o)){if(a<l)do{C(e,i,e.bl_tree)}while(0!=--a);else 0!==i?(i!==s&&(C(e,i,e.bl_tree),a--),C(e,16,e.bl_tree),I(e,a-3,2)):a<=10?(C(e,17,e.bl_tree),I(e,a-3,3)):(C(e,18,e.bl_tree),I(e,a-11,7));a=0,s=i,0===o?(c=138,l=3):i===o?(c=6,l=3):(c=7,l=4)}}i(E);var M=!1;function F(e,t,r,i){I(e,0+(i?1:0),3),function(e,t,r,i){N(e),i&&(S(e,r),S(e,~r)),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}t._tr_init=function(e){M||(!function(){var e,t,r,n,i,s=new Array(16);for(r=0,n=0;n<28;n++)for(w[n]=r,e=0;e<1<<l[n];e++)y[r++]=n;for(y[r-1]=n,i=0,n=0;n<16;n++)for(E[n]=i,e=0;e<1<<u[n];e++)g[i++]=n;for(i>>=7;n<a;n++)for(E[n]=i<<7,e=0;e<1<<u[n]-7;e++)g[256+i++]=n;for(t=0;t<=c;t++)s[t]=0;for(e=0;e<=143;)f[2*e+1]=8,e++,s[8]++;for(;e<=255;)f[2*e+1]=9,e++,s[9]++;for(;e<=279;)f[2*e+1]=7,e++,s[7]++;for(;e<=287;)f[2*e+1]=8,e++,s[8]++;for(x(f,287,s),e=0;e<a;e++)p[2*e+1]=5,p[2*e]=R(e,5);m=new v(f,l,257,o,c),b=new v(p,u,0,a,c),A=new v(new Array(0),h,0,19,7)}(),M=!0),e.l_desc=new _(e.dyn_ltree,m),e.d_desc=new _(e.dyn_dtree,b),e.bl_desc=new _(e.bl_tree,A),e.bi_buf=0,e.bi_valid=0,k(e)},t._tr_stored_block=F,t._tr_flush_block=function(e,t,r,n){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<s;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),L(e,e.l_desc),L(e,e.d_desc),a=function(e){var t;for(P(e,e.dyn_ltree,e.l_desc.max_code),P(e,e.dyn_dtree,e.d_desc.max_code),L(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==t?F(e,t,r,n):4===e.strategy||o===i?(I(e,2+(n?1:0),3),D(e,f,p)):(I(e,4+(n?1:0),3),function(e,t,r,n){var i;for(I(e,t-257,5),I(e,r-1,5),I(e,n-4,4),i=0;i<n;i++)I(e,e.bl_tree[2*d[i]+1],3);U(e,e.dyn_ltree,t-1),U(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),D(e,e.dyn_ltree,e.dyn_dtree)),k(e),n&&N(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(y[r]+s+1)]++,e.dyn_dtree[2*T(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){I(e,2,3),C(e,256,f),function(e){16===e.bi_valid?(S(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},7244:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},3973:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var a,c=[],l=!1,u=-1;function h(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&d())}function d(){if(!l){var e=o(h);l=!0;for(var t=c.length;t;){for(a=c,c=[];++u<t;)a&&a[u].run();u=-1,t=c.length}a=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||l||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},67:(e,t,r)=>{"use strict";e.exports=r(9933)},9933:(e,t,r)=>{"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(4807),n.BufferWriter=r(3884),n.Reader=r(7936),n.BufferReader=r(6731),n.util=r(7547),n.rpc=r(8529),n.roots=r(4824),n.configure=i,i()},7936:(e,t,r)=>{"use strict";e.exports=c;var n,i=r(7547),s=i.LongBits,o=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},h=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new n(e):u(e)})(e)}:u};function d(){var e=new s(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw a(this,8);return new s(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.create=h(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return f(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|f(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},c.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){n=e,c.create=h(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},6731:(e,t,r)=>{"use strict";e.exports=s;var n=r(7936);(s.prototype=Object.create(n.prototype)).constructor=s;var i=r(7547);function s(e){n.call(this,e)}s._configure=function(){i.Buffer&&(s.prototype._slice=i.Buffer.prototype.slice)},s.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},s._configure()},4824:e=>{"use strict";e.exports={}},8529:(e,t,r)=>{"use strict";t.Service=r(8942)},8942:(e,t,r)=>{"use strict";e.exports=i;var n=r(7547);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,s,o){if(!s)throw TypeError("request must be specified");var a=this;if(!o)return n.asPromise(e,a,t,r,i,s);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](s).finish(),(function(e,r){if(e)return a.emit("error",e,t),o(e);if(null!==r){if(!(r instanceof i))try{r=i[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),o(e)}return a.emit("data",r,t),o(null,r)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},4111:(e,t,r)=>{"use strict";e.exports=i;var n=r(7547);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var s=i.zero=new i(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var o=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return s;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):s},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===o?s:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},7547:function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function s(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&i(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:()=>e,set:void 0,enumerable:!1,configurable:!0},toString:{value(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r(8598),n.base64=r(262),n.EventEmitter=r(1612),n.float=r(4869),n.inquire=r(7789),n.utf8=r(2241),n.pool=r(602),n.LongBits=r(4111),n.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),n.global=n.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=s,n.ProtocolError=s("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},4807:(e,t,r)=>{"use strict";e.exports=h;var n,i=r(7547),s=i.LongBits,o=i.base64,a=i.utf8;function c(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function l(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function h(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var d=function(){return i.Buffer?function(){return(h.create=function(){return new n})()}:function(){return new h}};function f(e,t,r){t[r]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function y(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}h.create=d(),h.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(h.alloc=i.pool(h.alloc,i.Array.prototype.subarray)),h.prototype._push=function(e,t,r){return this.tail=this.tail.next=new c(e,t,r),this.len+=t,this},p.prototype=Object.create(c.prototype),p.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},h.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},h.prototype.int32=function(e){return e<0?this._push(g,10,s.fromNumber(e)):this.uint32(e)},h.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},h.prototype.uint64=function(e){var t=s.from(e);return this._push(g,t.length(),t)},h.prototype.int64=h.prototype.uint64,h.prototype.sint64=function(e){var t=s.from(e).zzEncode();return this._push(g,t.length(),t)},h.prototype.bool=function(e){return this._push(f,1,e?1:0)},h.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},h.prototype.sfixed32=h.prototype.fixed32,h.prototype.fixed64=function(e){var t=s.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},h.prototype.sfixed64=h.prototype.fixed64,h.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},h.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var w=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};h.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(i.isString(e)){var r=h.alloc(t=o.length(e));o.decode(e,r,0),e=r}return this.uint32(t)._push(w,t,e)},h.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(f,1,0)},h.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},h.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},h.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},h.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},h._configure=function(e){n=e,h.create=d(),n._configure()}},3884:(e,t,r)=>{"use strict";e.exports=s;var n=r(4807);(s.prototype=Object.create(n.prototype)).constructor=s;var i=r(7547);function s(){n.call(this)}function o(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}s._configure=function(){s.alloc=i._Buffer_allocUnsafe,s.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},s.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s.writeBytesBuffer,t,e),this},s.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},s._configure()},11:(e,t,r)=>{"use strict";var n=r(5385).Buffer;class i{static isArrayBuffer(e){return"[object ArrayBuffer]"===Object.prototype.toString.call(e)}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e).slice().buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){const r=i.toUint8Array(e),n=i.toUint8Array(t);if(r.length!==n.byteLength)return!1;for(let e=0;e<r.length;e++)if(r[e]!==n[e])return!1;return!0}static concat(...e){if(Array.isArray(e[0])){const t=e[0];let r=0;for(const e of t)r+=e.byteLength;const n=new Uint8Array(r);let i=0;for(const e of t){const t=this.toUint8Array(e);n.set(t,i),i+=t.length}return e[1]?this.toView(n,e[1]):n.buffer}return this.concat(e)}}class s{static fromString(e){const t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}static toString(e){const t=i.toUint8Array(e);let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return decodeURIComponent(escape(r))}}class o{static toString(e,t=!1){const r=i.toArrayBuffer(e),n=new DataView(r);let s="";for(let e=0;e<r.byteLength;e+=2){const r=n.getUint16(e,t);s+=String.fromCharCode(r)}return s}static fromString(e,t=!1){const r=new ArrayBuffer(2*e.length),n=new DataView(r);for(let r=0;r<e.length;r++)n.setUint16(2*r,e.charCodeAt(r),t);return r}}class a{static isHex(e){return"string"==typeof e&&/^[a-z0-9]+$/i.test(e)}static isBase64(e){return"string"==typeof e&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}static isBase64Url(e){return"string"==typeof e&&/^[a-zA-Z0-9-_]+$/i.test(e)}static ToString(e,t="utf8"){const r=i.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);case"utf16le":return o.toString(r,!0);case"utf16":case"utf16be":return o.toString(r);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return o.fromString(e,!0);case"utf16":case"utf16be":return o.fromString(e);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){const t=i.toUint8Array(e);if("undefined"!=typeof btoa){const e=this.ToString(t,"binary");return btoa(e)}return n.from(t).toString("base64")}static FromBase64(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!a.isBase64(t))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return"undefined"!=typeof atob?this.FromBinary(atob(t)):new Uint8Array(n.from(t,"base64")).buffer}static FromBase64Url(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!a.isBase64Url(t))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=a.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return s.fromString(e);case"utf16":case"utf16be":return o.fromString(e);case"utf16le":case"usc2":return o.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=a.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return s.toString(e);case"utf16":case"utf16be":return o.toString(e);case"utf16le":case"usc2":return o.toString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){const t=e.length,r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);return r.buffer}static ToBinary(e){const t=i.toUint8Array(e);let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return r}static ToHex(e){const t=i.toUint8Array(e),r=[],n=t.length;for(let e=0;e<n;e++){const n=t[e].toString(16).padStart(2,"0");r.push(n)}return r.join("")}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!a.isHex(t))throw new TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);const r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2){const n=t.slice(e,e+2);r[e/2]=parseInt(n,16)}return r.buffer}static ToUtf16String(e,t=!1){return o.toString(e,t)}static FromUtf16String(e,t=!1){return o.fromString(e,t)}static Base64Padding(e){const t=4-e.length%4;if(t<4)for(let r=0;r<t;r++)e+="=";return e}static formatString(e){return(null==e?void 0:e.replace(/[\n\r\t ]/g,""))||""}}a.DEFAULT_UTF8_ENCODING="utf8",t.vJ=i,t.ep=a,t.$e=function(...e){const t=e.map((e=>e.byteLength)).reduce(((e,t)=>e+t)),r=new Uint8Array(t);let n=0;return e.map((e=>new Uint8Array(e))).forEach((e=>{for(const t of e)r[n++]=t})),r.buffer},t.Xy=function(e,t){if(!e||!t)return!1;if(e.byteLength!==t.byteLength)return!1;const r=new Uint8Array(e),n=new Uint8Array(t);for(let t=0;t<e.byteLength;t++)if(r[t]!==n[t])return!1;return!0}},9136:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,s,o,a;if("string"==typeof t&&(s="not ",t.substr(!o||o<0?0:+o,s.length)===s)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var c=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(n(t,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},7269:(e,t,r)=>{"use strict";var n=r(3973),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var s=r(5653),o=r(8539);r(5712)(u,s);for(var a=i(o.prototype),c=0;c<a.length;c++){var l=a[c];u.prototype[l]||(u.prototype[l]=o.prototype[l])}function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},4315:(e,t,r)=>{"use strict";e.exports=i;var n=r(618);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(5712)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},5653:(e,t,r)=>{"use strict";var n,i=r(3973);e.exports=S,S.ReadableState=T;r(686).EventEmitter;var s=function(e,t){return e.listeners(t).length},o=r(8842),a=r(5385).Buffer,c=r.g.Uint8Array||function(){};var l,u=r(1836);l=u&&u.debuglog?u.debuglog("stream"):function(){};var h,d,f,p=r(190),g=r(9680),y=r(3470).getHighWaterMark,w=r(9136).q,m=w.ERR_INVALID_ARG_TYPE,b=w.ERR_STREAM_PUSH_AFTER_EOF,A=w.ERR_METHOD_NOT_IMPLEMENTED,E=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5712)(S,o);var v=g.errorOrDestroy,_=["error","close","destroy","pause","resume"];function T(e,t,i){n=n||r(7269),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=r(9915).s),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function S(e){if(n=n||r(7269),!(this instanceof S))return new S(e);var t=this instanceof n;this._readableState=new T(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function I(e,t,r,n,i){l("readableAddChunk",t);var s,o=e._readableState;if(null===t)o.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?k(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,N(e)))}(e,o);else if(i||(s=function(e,t){var r;n=t,a.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(o,t)),s)v(e,s);else if(o.objectMode||t&&t.length>0)if("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)o.endEmitted?v(e,new E):C(e,o,t,!0);else if(o.ended)v(e,new b);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?C(e,o,t,!1):B(e,o)):C(e,o,t,!1)}else n||(o.reading=!1,B(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function C(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),B(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=g.destroy,S.prototype._undestroy=g.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),I(this,e,t,!1,r)},S.prototype.unshift=function(e){return I(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){h||(h=r(9915).s);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var R=1073741824;function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(N,e))}function N(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,U(e)}function B(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(l("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function D(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function L(e){l("readable nexttick read 0"),e.read(0)}function P(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),U(e),t.flowing&&!t.reading&&e.read(0)}function U(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function F(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(H,t,e))}function H(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function j(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?F(this):k(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&F(this),null;var n,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(r,t))),null===(n=e>0?M(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&F(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){v(this,new A("_read()"))},S.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,l("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?c:y;function a(t,i){l("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,l("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",a),r.removeListener("end",c),r.removeListener("end",y),r.removeListener("data",d),h=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function c(){l("onend"),e.end()}n.endEmitted?i.nextTick(o):r.once("end",o),e.on("unpipe",a);var u=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,U(e))}}(r);e.on("drain",u);var h=!1;function d(t){l("ondata");var i=e.write(t);l("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==j(n.pipes,e))&&!h&&(l("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function f(t){l("onerror",t),y(),e.removeListener("error",f),0===s(e,"error")&&v(e,t)}function p(){e.removeListener("finish",g),y()}function g(){l("onfinish"),e.removeListener("close",p),y()}function y(){l("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",p),e.once("finish",g),e.emit("pipe",r),n.flowing||(l("pipe resume"),r.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=j(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,l("on readable",n.length,n.reading),n.length?k(this):n.reading||i.nextTick(L,this))),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(D,this),r},S.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(D,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(P,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(l("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(l("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<_.length;s++)e.on(_[s],this.emit.bind(this,_[s]));return this._read=function(t){l("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r(3578)),d(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=M,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(e,t){return void 0===f&&(f=r(4582)),f(S,e,t)})},618:(e,t,r)=>{"use strict";e.exports=u;var n=r(9136).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(7269);function l(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}r(5712)(u,c),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new i("_transform()"))},u.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},8539:(e,t,r)=>{"use strict";var n,i=r(3973);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=S,S.WritableState=T;var o={deprecate:r(7881)},a=r(8842),c=r(5385).Buffer,l=r.g.Uint8Array||function(){};var u,h=r(9680),d=r(3470).getHighWaterMark,f=r(9136).q,p=f.ERR_INVALID_ARG_TYPE,g=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_MULTIPLE_CALLBACK,w=f.ERR_STREAM_CANNOT_PIPE,m=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,A=f.ERR_STREAM_WRITE_AFTER_END,E=f.ERR_UNKNOWN_ENCODING,v=h.errorOrDestroy;function _(){}function T(e,t,o){n=n||r(7269),e=e||{},"boolean"!=typeof o&&(o=t instanceof n),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,s=r.writecb;if("function"!=typeof s)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,s){--t.pendingcb,r?(i.nextTick(s,n),i.nextTick(N,e,t),e._writableState.errorEmitted=!0,v(e,n)):(s(n),e._writableState.errorEmitted=!0,v(e,n),N(e,t))}(e,r,n,t,s);else{var o=x(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||R(e,r),n?i.nextTick(C,e,r,o,s):C(e,r,o,s)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function S(e){var t=this instanceof(n=n||r(7269));if(!t&&!u.call(S,this))return new S(e);this._writableState=new T(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function I(e,t,r,n,i,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function C(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),N(e,t)}function R(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,I(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,h=r.callback;if(I(e,t,!1,t.objectMode?1:l.length,l,u,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final((function(r){t.pendingcb--,r&&v(e,r),t.prefinished=!0,e.emit("prefinish"),N(e,t)}))}function N(e,t){var r=x(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(k,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(5712)(S,a),T.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(T.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===S&&(e&&e._writableState instanceof T)}})):u=function(e){return e instanceof this},S.prototype.pipe=function(){v(this,new w)},S.prototype.write=function(e,t,r){var n,s=this._writableState,o=!1,a=!s.objectMode&&(n=e,c.isBuffer(n)||n instanceof l);return a&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof r&&(r=_),s.ending?function(e,t){var r=new A;v(e,r),i.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var s;return null===r?s=new b:"string"==typeof r||t.objectMode||(s=new p("chunk",["string","Buffer"],r)),!s||(v(e,s),i.nextTick(n,s),!1)}(this,s,e,r))&&(s.pendingcb++,o=function(e,t,r,n,i,s){if(!r){var o=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=t.objectMode?1:n.length;t.length+=a;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else I(e,t,!1,a,n,i,s);return l}(this,s,a,e,t,r)),o},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||R(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new g("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,N(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(e,t){t(e)}},3578:(e,t,r)=>{"use strict";var n,i=r(3973);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(1463),a=Symbol("lastResolve"),c=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function g(e){var t=e[a];if(null!==t){var r=e[f].read();null!==r&&(e[h]=null,e[a]=null,e[c]=null,t(p(r,!1)))}}function y(e){i.nextTick(g,e)}var w=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((s(n={get stream(){return this[f]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[l]?r(e[l]):t(p(void 0,!0))}))}));var r,n=this[h];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(p(void 0,!0)):t[d](r,n)}),n)}}(n,this));else{var s=this[f].read();if(null!==s)return Promise.resolve(p(s,!1));r=new Promise(this[d])}return this[h]=r,r}},Symbol.asyncIterator,(function(){return this})),s(n,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),w);e.exports=function(e){var t,r=Object.create(m,(s(t={},f,{value:e,writable:!0}),s(t,a,{value:null,writable:!0}),s(t,c,{value:null,writable:!0}),s(t,l,{value:null,writable:!0}),s(t,u,{value:e._readableState.endEmitted,writable:!0}),s(t,d,{value:function(e,t){var n=r[f].read();n?(r[h]=null,r[a]=null,r[c]=null,e(p(n,!1))):(r[a]=e,r[c]=t)},writable:!0}),t));return r[h]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];return null!==t&&(r[h]=null,r[a]=null,r[c]=null,t(e)),void(r[l]=e)}var n=r[a];null!==n&&(r[h]=null,r[a]=null,r[c]=null,n(p(void 0,!0))),r[u]=!0})),e.on("readable",y.bind(null,r)),r}},190:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(5385).Buffer,a=r(5901).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,l;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,r,n,i=o.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=i,n=a,o.prototype.copy.call(t,r,n),a+=s.data.length,s=s.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,s=e>i.length?i.length:e;if(s===i.length?n+=i:n+=i.slice(0,e),0==(e-=s)){s===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,s),0==(e-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&s(t.prototype,r),l&&s(t,l),e}()},9680:(e,t,r)=>{"use strict";var n=r(3973);function i(e,t){o(e,t),s(e)}function s(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(o,this,e)):n.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(s,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(s,r),t(e)):n.nextTick(s,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},1463:(e,t,r)=>{"use strict";var n=r(9136).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,s){if("function"==typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||u()},l=t._writableState&&t._writableState.finished,u=function(){a=!1,l=!0,o||s.call(t)},h=t._readableState&&t._readableState.endEmitted,d=function(){o=!1,h=!0,a||s.call(t)},f=function(e){s.call(t,e)},p=function(){var e;return o&&!h?(t._readableState&&t._readableState.ended||(e=new n),s.call(t,e)):a&&!l?(t._writableState&&t._writableState.ended||(e=new n),s.call(t,e)):void 0},g=function(){t.req.on("finish",u)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",u),t.on("abort",p),t.req?g():t.on("request",g)),t.on("end",d),t.on("finish",u),!1!==r.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",u),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",u),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",u),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",p)}}},4582:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},5088:(e,t,r)=>{"use strict";var n;var i=r(9136).q,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,i,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(1463)),n(e,{readable:t,writable:i},(function(e){if(e)return s(e);a=!0,s()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void s(t||new o("pipe"))}}function l(e){e()}function u(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var o=t.map((function(e,r){var s=r<t.length-1;return c(e,s,r>0,(function(e){n||(n=e),e&&o.forEach(l),s||(o.forEach(l),i(n))}))}));return t.reduce(u)}},3470:(e,t,r)=>{"use strict";var n=r(9136).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},8842:(e,t,r)=>{e.exports=r(686).EventEmitter},8784:(e,t,r)=>{var n,i=r(3973);
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */!function(e){!function(t){var n="object"==typeof r.g?r.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),s=o(e);function o(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===n.Reflect?n.Reflect=e:s=o(n.Reflect,s),function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",s=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,a={__proto__:[]}instanceof Array,c=!o&&!a,l={create:o?function(){return ie(Object.create(null))}:a?function(){return ie({__proto__:null})}:function(){return ie({})},has:c?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:c?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),h="object"==typeof i&&i.env&&"true"===i.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=h||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?te():Map,f=h||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?re():Set,p=new(h||"function"!=typeof WeakMap?ne():WeakMap);function g(e,t,r,n){if(P(r)){if(!q(e))throw new TypeError;if(!V(t))throw new TypeError;return S(e,t)}if(!q(e))throw new TypeError;if(!F(t))throw new TypeError;if(!F(n)&&!P(n)&&!U(n))throw new TypeError;return U(n)&&(n=void 0),I(e,t,r=G(r),n)}function y(e,t){function r(r,n){if(!F(r))throw new TypeError;if(!P(n)&&!K(n))throw new TypeError;B(e,t,r,n)}return r}function w(e,t,r,n){if(!F(r))throw new TypeError;return P(n)||(n=G(n)),B(e,t,r,n)}function m(e,t,r){if(!F(t))throw new TypeError;return P(r)||(r=G(r)),R(e,t,r)}function b(e,t,r){if(!F(t))throw new TypeError;return P(r)||(r=G(r)),x(e,t,r)}function A(e,t,r){if(!F(t))throw new TypeError;return P(r)||(r=G(r)),k(e,t,r)}function E(e,t,r){if(!F(t))throw new TypeError;return P(r)||(r=G(r)),N(e,t,r)}function v(e,t){if(!F(e))throw new TypeError;return P(t)||(t=G(t)),O(e,t)}function _(e,t){if(!F(e))throw new TypeError;return P(t)||(t=G(t)),D(e,t)}function T(e,t,r){if(!F(t))throw new TypeError;P(r)||(r=G(r));var n=C(t,r,!1);if(P(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var i=p.get(t);return i.delete(r),i.size>0||p.delete(t),!0}function S(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!P(n)&&!U(n)){if(!V(n))throw new TypeError;t=n}}return t}function I(e,t,r,n){for(var i=e.length-1;i>=0;--i){var s=(0,e[i])(t,r,n);if(!P(s)&&!U(s)){if(!F(s))throw new TypeError;n=s}}return n}function C(e,t,r){var n=p.get(e);if(P(n)){if(!r)return;n=new d,p.set(e,n)}var i=n.get(t);if(P(i)){if(!r)return;i=new d,n.set(t,i)}return i}function R(e,t,r){if(x(e,t,r))return!0;var n=ee(t);return!U(n)&&R(e,n,r)}function x(e,t,r){var n=C(t,r,!1);return!P(n)&&z(n.has(e))}function k(e,t,r){if(x(e,t,r))return N(e,t,r);var n=ee(t);return U(n)?void 0:k(e,n,r)}function N(e,t,r){var n=C(t,r,!1);if(!P(n))return n.get(e)}function B(e,t,r,n){C(r,n,!0).set(e,t)}function O(e,t){var r=D(e,t),n=ee(e);if(null===n)return r;var i=O(n,t);if(i.length<=0)return r;if(r.length<=0)return i;for(var s=new f,o=[],a=0,c=r;a<c.length;a++){var l=c[a];s.has(l)||(s.add(l),o.push(l))}for(var u=0,h=i;u<h.length;u++){l=h[u];s.has(l)||(s.add(l),o.push(l))}return o}function D(e,t){var r=[],n=C(e,t,!1);if(P(n))return r;for(var i=J(n.keys()),s=0;;){var o=Z(i);if(!o)return r.length=s,r;var a=X(o);try{r[s]=a}catch(e){try{$(i)}finally{throw e}}s++}}function L(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function P(e){return void 0===e}function U(e){return null===e}function M(e){return"symbol"==typeof e}function F(e){return"object"==typeof e?null!==e:"function"==typeof e}function H(e,t){switch(L(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",i=Y(e,n);if(void 0!==i){var s=i.call(e,r);if(F(s))throw new TypeError;return s}return j(e,"default"===r?"number":r)}function j(e,t){if("string"===t){var r=e.toString;if(Q(r))if(!F(i=r.call(e)))return i;if(Q(n=e.valueOf))if(!F(i=n.call(e)))return i}else{var n;if(Q(n=e.valueOf))if(!F(i=n.call(e)))return i;var i,s=e.toString;if(Q(s))if(!F(i=s.call(e)))return i}throw new TypeError}function z(e){return!!e}function W(e){return""+e}function G(e){var t=H(e,3);return M(t)?t:W(t)}function q(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function Q(e){return"function"==typeof e}function V(e){return"function"==typeof e}function K(e){switch(L(e)){case 3:case 4:return!0;default:return!1}}function Y(e,t){var r=e[t];if(null!=r){if(!Q(r))throw new TypeError;return r}}function J(e){var t=Y(e,s);if(!Q(t))throw new TypeError;var r=t.call(e);if(!F(r))throw new TypeError;return r}function X(e){return e.value}function Z(e){var t=e.next();return!t.done&&t}function $(e){var t=e.return;t&&t.call(e)}function ee(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var i=n.constructor;return"function"!=typeof i||i===e?t:i}function te(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[s]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,i)},t.prototype.entries=function(){return new r(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[s]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function i(e,t){return t}function o(e,t){return[e,t]}}function re(){return function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[s]=function(){return this.keys()},e}()}function ne(){var e=16,r=l.create(),n=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=s(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=s(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return s(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=s(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+c()}while(l.has(r,e));return r[e]=!0,e}function s(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:l.create()})}return e[n]}function o(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function a(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e):o(new Array(e),e)}function c(){var t=a(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",n=0;n<e;++n){var i=t[n];4!==n&&6!==n&&8!==n||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}function ie(e){return e.__=void 0,delete e.__,e}e("decorate",g),e("metadata",y),e("defineMetadata",w),e("hasMetadata",m),e("hasOwnMetadata",b),e("getMetadata",A),e("getOwnMetadata",E),e("getMetadataKeys",v),e("getOwnMetadataKeys",_),e("deleteMetadata",T)}(s)}()}(n||(n={}))},4317:(e,t,r)=>{
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(5385),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},9104:(e,t,r)=>{e.exports=i;var n=r(686).EventEmitter;function i(){n.call(this)}r(5712)(i,n),i.Readable=r(5653),i.Writable=r(8539),i.Duplex=r(7269),i.Transform=r(618),i.PassThrough=r(4315),i.finished=r(1463),i.pipeline=r(5088),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function s(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",s),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",c));var o=!1;function a(){o||(o=!0,e.end())}function c(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(u(),0===n.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",i),e.removeListener("drain",s),r.removeListener("end",a),r.removeListener("close",c),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("error",l),e.on("error",l),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e}},9915:(e,t,r)=>{"use strict";var n=r(4317).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=h,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.s=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=o(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=o(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},1521:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,r=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const n={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e,i={}){if(i=Object.assign({},n,i),!e||"string"!=typeof e)return e;let s=e.trim();if(void 0!==i.skipLike&&i.skipLike.test(s))return e;if(i.hex&&t.test(s))return Number.parseInt(s,16);{const t=r.exec(s);if(t){const r=t[1],n=t[2];let o=function(e){if(e&&-1!==e.indexOf("."))return"."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1)),e;return e}(t[3]);const a=t[4]||t[6];if(!i.leadingZeros&&n.length>0&&r&&"."!==s[2])return e;if(!i.leadingZeros&&n.length>0&&!r&&"."!==s[1])return e;{const t=Number(s),c=""+t;return-1!==c.search(/[eE]/)||a?i.eNotation?t:e:-1!==s.indexOf(".")?"0"===c&&""===o||c===o||r&&c==="-"+o?t:e:n?o===c||r+o===c?t:e:s===c||s===r+c?t:e}}return e}}},7881:(e,t,r)=>{function n(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},6223:(e,t,r)=>{"use strict";!function(){var t,n,i,s=0,o=[];for(n=0;n<256;n++)o[n]=(n+256).toString(16).substr(1);function a(){var e,r=(e=16,(!t||s+e>c.BUFFER_SIZE)&&(s=0,t=c.randomBytes(c.BUFFER_SIZE)),t.slice(s,s+=e));return r[6]=15&r[6]|64,r[8]=63&r[8]|128,r}function c(){var e=a();return o[e[0]]+o[e[1]]+o[e[2]]+o[e[3]]+"-"+o[e[4]]+o[e[5]]+"-"+o[e[6]]+o[e[7]]+"-"+o[e[8]]+o[e[9]]+"-"+o[e[10]]+o[e[11]]+o[e[12]]+o[e[13]]+o[e[14]]+o[e[15]]}c.BUFFER_SIZE=4096,c.bin=a,c.clearBuffer=function(){t=null,s=0},c.test=function(e){return"string"==typeof e&&/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},"undefined"!=typeof crypto?i=crypto:"undefined"!=typeof window&&void 0!==window.msCrypto&&(i=window.msCrypto),i=i||r(1460),e.exports=c,c.randomBytes=function(){if(i){if(i.randomBytes)return i.randomBytes;if(i.getRandomValues)return"function"!=typeof Uint8Array.prototype.slice?function(e){var t=new Uint8Array(e);return i.getRandomValues(t),Array.from(t)}:function(e){var t=new Uint8Array(e);return i.getRandomValues(t),t}}return function(e){var t,r=[];for(t=0;t<e;t++)r.push(Math.floor(256*Math.random()));return r}}()}()},5146:e=>{e.exports=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(o>=a||s>49)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=s<28?(127&n)<<s:(127&n)*Math.pow(2,s),s+=7}while(n>=128);return e.bytes=o-r,i}},4151:e=>{e.exports=function e(r,n,i){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw e.bytes=0,new RangeError("Could not encode varint");n=n||[];var s=i=i||0;for(;r>=t;)n[i++]=255&r|128,r/=128;for(;-128&r;)n[i++]=255&r|128,r>>>=7;return n[i]=0|r,e.bytes=i-s+1,n};var t=Math.pow(2,31)},6523:(e,t,r)=>{e.exports={encode:r(4151),decode:r(5146),encodingLength:r(2435)}},2435:e=>{var t=Math.pow(2,7),r=Math.pow(2,14),n=Math.pow(2,21),i=Math.pow(2,28),s=Math.pow(2,35),o=Math.pow(2,42),a=Math.pow(2,49),c=Math.pow(2,56),l=Math.pow(2,63);e.exports=function(e){return e<t?1:e<r?2:e<n?3:e<i?4:e<s?5:e<o?6:e<a?7:e<c?8:e<l?9:10}},2361:()=>{},4616:()=>{},9061:()=>{},5901:()=>{},1836:()=>{},1460:()=>{}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__);var e={};__webpack_require__.r(e),__webpack_require__.d(e,{Any:()=>cl,BaseBlock:()=>Ta,BaseStringBlock:()=>Ia,BitString:()=>vc,BmpString:()=>Wc,Boolean:()=>mc,CharacterString:()=>el,Choice:()=>ll,Constructed:()=>fc,DATE:()=>nl,DateTime:()=>sl,Duration:()=>ol,EndOfContent:()=>gc,Enumerated:()=>Rc,GeneralString:()=>$c,GeneralizedTime:()=>rl,GraphicString:()=>Xc,HexBlock:()=>ma,IA5String:()=>Jc,Integer:()=>Cc,Null:()=>yc,NumericString:()=>Qc,ObjectIdentifier:()=>Nc,OctetString:()=>Ac,Primitive:()=>lc,PrintableString:()=>Vc,RawData:()=>hl,RelativeObjectIdentifier:()=>Dc,Repeated:()=>ul,Sequence:()=>Lc,Set:()=>Pc,TIME:()=>al,TeletexString:()=>Kc,TimeOfDay:()=>il,UTCTime:()=>tl,UniversalString:()=>qc,Utf8String:()=>jc,ValueBlock:()=>Aa,VideotexString:()=>Yc,ViewWriter:()=>aa,VisibleString:()=>Zc,compareSchema:()=>dl,fromBER:()=>hc,verifySchema:()=>fl});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{Any:()=>_R,BaseBlock:()=>FI,BaseStringBlock:()=>jI,BitString:()=>UC,BmpString:()=>iR,Boolean:()=>OC,CharacterString:()=>gR,Choice:()=>TR,Constructed:()=>RC,DATE:()=>mR,DateTime:()=>AR,Duration:()=>ER,EndOfContent:()=>kC,Enumerated:()=>WC,GeneralString:()=>pR,GeneralizedTime:()=>wR,GraphicString:()=>dR,HexBlock:()=>OI,IA5String:()=>hR,Integer:()=>zC,Null:()=>NC,NumericString:()=>aR,ObjectIdentifier:()=>QC,OctetString:()=>LC,Primitive:()=>TC,PrintableString:()=>cR,RawData:()=>IR,RelativeObjectIdentifier:()=>YC,Repeated:()=>SR,Sequence:()=>JC,Set:()=>XC,TIME:()=>vR,TeletexString:()=>lR,TimeOfDay:()=>bR,UTCTime:()=>yR,UniversalString:()=>oR,Utf8String:()=>rR,ValueBlock:()=>LI,VideotexString:()=>uR,ViewWriter:()=>vI,VisibleString:()=>fR,compareSchema:()=>CR,fromBER:()=>IC,verifySchema:()=>RR});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{DEFAULT_DIRECTORY_MODE:()=>gH,DEFAULT_FILE_MODE:()=>pH,NodeType:()=>uH,code:()=>yH,createAdvancedFile:()=>_H,createComplexFile:()=>SH,createDirectoryShard:()=>RH,createEmptyFile:()=>AH,createFileChunk:()=>vH,createFileShard:()=>TH,createFlatDirectory:()=>IH,createRaw:()=>bH,createShardedDirectory:()=>CH,createSimpleFile:()=>EH,createSymlink:()=>jH,cumulativeContentByteLength:()=>KH,cumulativeDagByteLength:()=>YH,decode:()=>GH,decodeMetadata:()=>ej,encode:()=>WH,encodeAdvancedFile:()=>OH,encodeComplexFile:()=>PH,encodeDirectory:()=>UH,encodeDirectoryMetadata:()=>ZH,encodeFile:()=>kH,encodeFileChunk:()=>NH,encodeFileShard:()=>BH,encodeHAMTShard:()=>MH,encodeLink:()=>DH,encodeMetadata:()=>$H,encodeMode:()=>rj,encodeRaw:()=>xH,encodeSimpleFile:()=>LH,encodeSymlink:()=>zH,filesize:()=>cj,matchFile:()=>ij,name:()=>wH});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{context:()=>Ez,cut:()=>Tz,name:()=>Az,type:()=>vz,withMaxChunkSize:()=>_z});var i={};__webpack_require__.r(i);var s={};__webpack_require__.r(s),__webpack_require__.d(s,{API:()=>i,and:()=>GW,bitCount:()=>WW,empty:()=>PW,from:()=>UW,fromBytes:()=>VW,get:()=>zW,or:()=>qW,popcount:()=>FW,set:()=>HW,size:()=>MW,toBytes:()=>QW,unset:()=>jW});var o={};__webpack_require__.r(o),__webpack_require__.d(o,{configure:()=>XW,hash32:()=>JW});var a=__webpack_require__(2475),c={202:"Accepted",502:"Bad Gateway",400:"Bad Request",409:"Conflict",100:"Continue",201:"Created",417:"Expectation Failed",424:"Failed Dependency",403:"Forbidden",504:"Gateway Timeout",410:"Gone",505:"HTTP Version Not Supported",418:"I'm a teapot",419:"Insufficient Space on Resource",507:"Insufficient Storage",500:"Internal Server Error",411:"Length Required",423:"Locked",420:"Method Failure",405:"Method Not Allowed",301:"Moved Permanently",302:"Moved Temporarily",207:"Multi-Status",300:"Multiple Choices",511:"Network Authentication Required",204:"No Content",203:"Non Authoritative Information",406:"Not Acceptable",404:"Not Found",501:"Not Implemented",304:"Not Modified",200:"OK",206:"Partial Content",402:"Payment Required",308:"Permanent Redirect",412:"Precondition Failed",428:"Precondition Required",102:"Processing",407:"Proxy Authentication Required",431:"Request Header Fields Too Large",408:"Request Timeout",413:"Request Entity Too Large",414:"Request-URI Too Long",416:"Requested Range Not Satisfiable",205:"Reset Content",303:"See Other",503:"Service Unavailable",101:"Switching Protocols",307:"Temporary Redirect",429:"Too Many Requests",401:"Unauthorized",451:"Unavailable For Legal Reasons",422:"Unprocessable Entity",415:"Unsupported Media Type",305:"Use Proxy"};function l(e){var t=c[e.toString()];if(!t)throw new Error("Status code does not exist: "+e);return t}const u=25e6,h=262144,d="___wb_replay_top_frame",f=/Expires=\w{3},\s\d[^;,]+(?:;\s*)?/gi;function p(e,t){for(const r of t)if(e.startsWith(r))return!0;return!1}function g(e){return e.replace(/[-:T]/g,"").slice(0,14)}function y(e){if(!e)return new Date;e.length<17&&(e+="00000101000000000".substr(e.length));const t=e.substring(0,4)+"-"+e.substring(4,6)+"-"+e.substring(6,8)+"T"+e.substring(8,10)+":"+e.substring(10,12)+":"+e.substring(12,14)+"."+e.substring(14)+"Z";return new Date(t)}function w(e){return Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join("")}async function m(e,t,r=null){const n="string"==typeof e?(new TextEncoder).encode(e):e,i=await crypto.subtle.digest(t,n);return""===r?w(i):(r||t)+":"+w(i)}function b(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}function A(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=255&e.charCodeAt(r);return t}function E(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function v(e){try{return new Headers(e)}catch(t){for(let t of Object.keys(e)){const r=e[t],n=r.replace(/[\r\n]+/g,", ");r!=n&&(e[t]=n)}return new Headers(e)}}const _=[101,204,205,304];function T(e){return _.includes(e)}function S(e){try{return l(e)}catch(e){return"Unknown Status"}}function I(e){return"XMLHttpRequest"===e.headers.get("X-Pywb-Requested-With")||"cors"===e.mode&&("script"!==e.destination||"esm_"!==e.mod)}async function C(e,t){if(e instanceof N){const r=await self.clients.matchAll({type:"window"});for(const n of r){new URL(n.url).searchParams.get("source")===t.sourceUrl&&n.postMessage({source:t.sourceUrl,coll:t.dbname.slice(3),type:"authneeded",fileHandle:e.info&&e.info.fileHandle})}return!0}return!1}function R(e,t,r=404){let n,i;t||(t="Sorry, this url was not found in the archive."),"script"===e.destination||e.headers.get("x-pywb-requested-with")?(n=JSON.stringify(t),i="application/json"):(n=t,i="text/html");const s={status:r,statusText:S(r),headers:{"Content-Type":i}};return new Response(n,s)}function x(e){const t=e.config.metadata?e.config.metadata:{},r={title:t.title||"",desc:t.desc||"",size:t.size||0,filename:e.config.sourceName,loadUrl:e.config.loadUrl,sourceUrl:e.config.sourceUrl,id:e.name,ctime:e.config.ctime,mtime:t.mtime||e.config.ctime,onDemand:e.config.onDemand};return t.ipfsPins&&(r.ipfsPins=t.ipfsPins),r}class k{constructor(e={}){this.info=e}toString(){return JSON.stringify(this.info)}}class N extends k{}class B extends k{}class O{}function D(e){return new Promise((t=>setTimeout(t,e)))}var L=__webpack_require__(7709),P=__webpack_require__(8843),U=__webpack_require__(9591),M=__webpack_require__(2043);function F(e){let t;t="string"==typeof e?e:e&&e.length?e.reduce(((e,t)=>e+=String.fromCharCode(t)),""):e?e.toString():"";try{return"__wb_post_data="+btoa(t)}catch{return"__wb_post_data="}}function H(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function j(e){try{if(!e.startsWith("https:")&&!e.startsWith("http:"))return e;let t=(e=e.replace(/^(https?:\/\/)www\d*\./,"$1")).toLowerCase(),r=new URL(t),n=r.hostname.split(".").reverse().join(",");if(r.port&&(n+=":"+r.port),n+=")",n+=r.pathname,r.search){r.searchParams.sort(),n+=r.search;for(let[e,i]of r.searchParams.entries())if(!i){let r=new RegExp(`(?<=[&?])${H(e)}=(?=&|$)`);r.exec(t)||(n=n.replace(r,e))}}return n}catch{return e}}function z(e){let{method:t,headers:r,postData:n}=e;if("GET"===t)return!1;function i(e){return e instanceof Uint8Array&&(e=(new TextDecoder).decode(e)),e}let s="";switch((r.get("content-type")||"").split(";")[0]){case"application/x-www-form-urlencoded":s=i(n);break;case"application/json":s=q(i(n));break;case"text/plain":try{s=q(i(n),!1)}catch{s=F(n)}break;case"multipart/form-data":{let e=r.get("content-type");if(!e)throw new Error("utils cannot call postToGetURL when missing content-type header");s=function(e,t){return function(e,t){let r=new URLSearchParams;e instanceof Uint8Array&&(e=(new TextDecoder).decode(e));try{let n=t.split("boundary=")[1],i=e.split(new RegExp("-*"+n+"-*","mi"));for(let e of i){let t=e.trim().match(/name="([^"]+)"\r\n\r\n(.*)/im);t&&r.set(t[1],t[2])}}catch{}return r}(e,t).toString()}(i(n),e);break}default:s=F(n)}return null!==s&&(e.url=W(e.url,s,e.method),e.method="GET",e.requestBody=s,!0)}function W(e,t,r){if(!r)return e;let n=e.indexOf("?")>0?"&":"?";return`${e}${n}__wb_method=${r}&${t}`}function G(e,t=!0){if("string"==typeof e)try{e=JSON.parse(e)}catch{e={}}let r=new URLSearchParams,n={};try{JSON.stringify(e,((e,t)=>(["object","function"].includes(typeof t)||r.set((e=>r.has(e)?(e in n||(n[e]=1),e+"."+ ++n[e]+"_"):e)(e),t),t)))}catch(e){if(!t)throw e}return r}function q(e,t=!0){return G(e,t).toString()}function Q(e,t){if(1===e.length)return e[0];let r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.byteLength;return r}function V(e,t){return[e.slice(0,t),e.slice(t)]}var K=new TextDecoder("utf-8"),Y=class extends U.Inflate{constructor(e,t){super(e),this.ended=!1,this.chunks=[],this.reader=t}onEnd(e){this.err=e,this.err||(this.reader._rawOffset+=this.strm.total_in)}},J=class{static async readFully(e){let t=[],r=0;for await(let n of e)t.push(n),r+=n.byteLength;return Q(t,r)}getReadableStream(){let e=this[Symbol.asyncIterator]();return new ReadableStream({pull:t=>e.next().then((e=>{e.done||!e.value?t.close():t.enqueue(e.value)}))})}async readFully(){return await J.readFully(this)}async readline(e=0){let t=await this.readlineRaw(e);return t?K.decode(t):""}async*iterLines(e=0){let t=null;for(;t=await this.readline(e);)yield t}};var X=class extends J{constructor(e,t="gzip",r=!1){let n;if(super(),this.compressed=t,this.opts={raw:"deflateRaw"===t},this.inflator=t?new Y(this.opts,this):null,function(e){return e&&Symbol.asyncIterator in Object(e)}(e))n=e;else if("object"==typeof e&&"read"in e&&"function"==typeof e.read)n=X.fromReadable(e);else if(e instanceof ReadableStream)n=X.fromReadable(e.getReader());else{if(!function(e){return e&&Symbol.iterator in Object(e)}(e))throw new TypeError("Invalid Stream Source");n=X.fromIter(e)}this._sourceIter=r?this.dechunk(n):n[Symbol.asyncIterator](),this.lastValue=null,this.errored=!1,this._savedChunk=null,this._rawOffset=0,this._readOffset=0,this.numChunks=0}async _loadNext(){let e=await this._sourceIter.next();return e.done?null:e.value}async*dechunk(e){let t=e instanceof X?e:new X(e,null),r=-1,n=!0;for(;0!=r;){let e=await t.readlineRaw(64),i=new Uint8Array;if(r=e?parseInt(K.decode(e),16):0,!r||r>2**32){if(Number.isNaN(r)||r>2**32){n||(this.errored=!0),yield e;break}}else if(i=await t.readSize(r),i.length!=r){n?yield e:this.errored=!0,yield i;break}let s=await t.readSize(2);if(13!=s[0]||10!=s[1]){n?yield e:this.errored=!0,yield i,yield s;break}if(n=!1,!i||0===r)return;yield i}yield*t}unread(e){!e.length||(this._readOffset-=e.length,this._savedChunk&&console.log("Already have chunk!"),this._savedChunk=e)}async _next(){if(this._savedChunk){let e=this._savedChunk;return this._savedChunk=null,e}if(this.compressed){let e=this._getNextChunk();if(e)return e}let e=await this._loadNext();for(;this.compressed&&e;){this._push(e);let t=this._getNextChunk(e);if(t)return t;e=await this._loadNext()}return e}_push(e){if(!this.inflator)throw new Error("AsyncIterReader cannot call _push when this.compressed is null");this.lastValue=e,this.inflator.ended&&(this.inflator=new Y(this.opts,this)),this.inflator.push(e),this.inflator.err&&this.inflator.ended&&"deflate"===this.compressed&&!1===this.opts.raw&&0===this.numChunks&&(this.opts.raw=!0,this.compressed="deflateRaw",this.inflator=new Y(this.opts,this),this.inflator.push(e))}_getNextChunk(e){if(!this.inflator)throw new Error("AsyncIterReader cannot call _getNextChunk when this.compressed is null");for(;;){if(this.inflator.chunks.length>0)return this.numChunks++,this.inflator.chunks.shift();if(this.inflator.ended){if(0!==this.inflator.err)return this.compressed=null,e;let t=this.inflator.strm.avail_in;if(t&&this.lastValue){this._push(this.lastValue.slice(-t));continue}}return null}}async*[Symbol.asyncIterator](){let e=null;for(;e=await this._next();)this._readOffset+=e.length,yield e}async readlineRaw(e){let t=[],r=0,n=-1,i=null;for await(let s of this){if(e&&r+s.byteLength>e){i=s,n=e-r-1;let t=s.slice(0,n+1).indexOf(10);t>=0&&(n=t);break}if(n=s.indexOf(10),n>=0){i=s;break}t.push(s),r+=s.byteLength}if(i){let[e,s]=V(i,n+1);t.push(e),r+=e.byteLength,this.unread(s)}else if(!t.length)return null;return Q(t,r)}async readFully(){return(await this._readOrSkip())[1]}async readSize(e){return(await this._readOrSkip(e))[1]}async skipSize(e){return(await this._readOrSkip(e,!0))[0]}async _readOrSkip(e=-1,t=!1){let r=[],n=0;for await(let i of this){if(e>=0){if(i.length>e){let[s,o]=V(i,e);t||r.push(s),n+=s.byteLength,this.unread(o);break}if(i.length===e){t||r.push(i),n+=i.byteLength,e=0;break}e-=i.length}t||r.push(i),n+=i.byteLength}return t?[n,new Uint8Array]:[n,Q(r,n)]}getReadOffset(){return this._readOffset}getRawOffset(){return this.compressed?this._rawOffset:this._readOffset}getRawLength(e){return this.compressed?this.inflator.strm.total_in:this._readOffset-e}static fromReadable(e){return{async*[Symbol.asyncIterator](){let t=null;for(;(t=await e.read())&&!t.done;)yield t.value}}}static fromIter(e){return{async*[Symbol.asyncIterator](){for(let t of e)yield t}}}},Z=class extends J{constructor(e,t,r=0){super(),this.sourceIter=e,this.length=t,this.limit=t,this.skip=r}setLimitSkip(e,t=0){this.limit=e,this.skip=t}async*[Symbol.asyncIterator](){if(!(this.limit<=0))for await(let e of this.sourceIter){if(this.skip>0){if(!(e.length>=this.skip)){this.skip-=e.length;continue}{let[,t]=V(e,this.skip);e=t,this.skip=0}}if(e.length>this.limit){let[t,r]=V(e,this.limit);e=t,this.sourceIter.unread&&this.sourceIter.unread(r)}if(e.length&&(this.limit-=e.length,yield e),this.limit<=0)break}}async readlineRaw(e){if(this.limit<=0)return null;let t=await this.sourceIter.readlineRaw(e?Math.min(e,this.limit):this.limit);return this.limit-=t?.length||0,t}async skipFully(){let e=this.limit;for(;this.limit>0;)this.limit-=await this.sourceIter.skipSize(this.limit);return e}},$=new Uint8Array([13,10]),ee=new Uint8Array([13,10,13,10]),te=new TextDecoder("utf-8"),re=class{constructor({statusline:e,headers:t}){this.statusline=e,this.headers=t}toString(){let e=[this.statusline];for(let[t,r]of this.headers)e.push(`${t}: ${r}`);return e.join("\r\n")+"\r\n"}async*iterSerialize(e){yield e.encode(this.statusline),yield $;for(let[t,r]of this.headers)yield e.encode(`${t}: ${r}\r\n`)}_parseResponseStatusLine(){let e=function(e,t,r){let n=e.split(t),i=n.slice(0,r);return n.slice(r).length>0&&i.push(n.slice(r).join(t)),i}(this.statusline," ",2);this._protocol=e[0]??"",this._statusCode=e.length>1?Number(e[1]):"",this._statusText=e.length>2?e[2]:""}get statusCode(){return void 0===this._statusCode&&this._parseResponseStatusLine(),this._statusCode}get protocol(){return void 0===this._protocol&&this._parseResponseStatusLine(),this._protocol}get statusText(){return void 0===this._statusText&&this._parseResponseStatusLine(),this._statusText}_parseRequestStatusLine(){let e=this.statusline.split(" ",2);this._method=e[0]??"",this._requestPath=e.length>1?e[1]:""}get method(){return void 0===this._method&&this._parseRequestStatusLine(),this._method}get requestPath(){return void 0===this._requestPath&&this._parseRequestStatusLine(),this._requestPath}};async function ne(e,t){let r=0;for(let n=0;n<e.length-4;n++){let n=e.indexOf(13,r);if(n<0)break;if(n+3>=e.length){let{value:r}=await t.next();if(!r)break;let n=new Uint8Array(r.length+e.length);n.set(e,0),n.set(r,e.length),e=n}if(10===e[n+1]&&13===e[n+2]&&10===e[n+3])return[n+3,e];r=n+1}return[-1,e]}var ie=new TextDecoder("utf-8"),se=new TextEncoder,oe="WARC/1.0",ae={warcinfo:"application/warc-fields",response:"application/http; msgtype=response",revisit:"application/http; msgtype=response",request:"application/http; msgtype=request",metadata:"application/warc-fields"},ce=class extends J{constructor({warcHeaders:e,reader:t}){super(),this._offset=0,this._length=0,this.method="",this.requestBody="",this._urlkey="",this.warcHeaders=e,this._reader=t,this._contentReader=null,this.payload=null,this.httpHeaders=null,this.consumed="",this.fixUp()}static create({url:e,date:t,type:r,warcHeaders:n={},filename:i="",httpHeaders:s={},statusline:o="HTTP/1.1 200 OK",warcVersion:a=oe,keepHeadersCase:c=!0,refersToUrl:l,refersToDate:u}={},h){function d(e){let t=e;return a===oe&&("Z"!=(e=e.split(".")[0]).charAt(t.length-1)&&(e+="Z")),e}t=d(t||(new Date).toISOString()),n={...n},"warcinfo"===r?i&&(n["WARC-Filename"]=i):n["WARC-Target-URI"]=e,n["WARC-Date"]=t,n["WARC-Type"]=r,"revisit"===r&&(n["WARC-Profile"]="WARC/1.1"===a?"http://netpreserve.org/warc/1.1/revisit/identical-payload-digest":"http://netpreserve.org/warc/1.0/revisit/identical-payload-digest",n["WARC-Refers-To-Target-URI"]=l,n["WARC-Refers-To-Date"]=d(u||(new Date).toISOString())),(n=new re({statusline:a,headers:c?new Map(Object.entries(n)):new Headers(n)})).headers.get("WARC-Record-ID")||n.headers.set("WARC-Record-ID",`<urn:uuid:${M()}>`),n.headers.get("Content-Type")||n.headers.set("Content-Type",r&&ae[r]||"application/octet-stream"),h||(h=async function*(){}());let f=new ce({warcHeaders:n,reader:h}),p=null,g=[];switch(r){case"response":case"request":case"revisit":g=Object.entries(s),p=c?new Map(g):new Headers(s),(g.length>0||"revisit"!==r)&&(f.httpHeaders=new re({statusline:o,headers:p}))}return f}static createWARCInfo(e={},t){return e.type="warcinfo",ce.create(e,async function*(){for(let[e,r]of Object.entries(t))yield se.encode(`${e}: ${r}\r\n`)}())}getResponseInfo(){let e=this.httpHeaders;return e?{headers:e.headers,status:e.statusCode,statusText:e.statusText}:null}fixUp(){let e=this.warcHeaders.headers.get("WARC-Target-URI");e&&e.startsWith("<")&&e.endsWith(">")&&this.warcHeaders.headers.set("WARC-Target-URI",e.slice(1,-1))}async readFully(e=!1){if(this.httpHeaders){if(this.payload&&!this.payload.length)return this.payload;if(this._contentReader&&!e)throw new TypeError("WARC Record decoding already started, but requesting raw payload");if(e&&"raw"===this.consumed&&this.payload)return await this._createDecodingReader([this.payload]).readFully()}return this.payload||(e?(this.payload=await super.readFully(),this.consumed="content"):(this.payload=await ce.readFully(this._reader),this.consumed="raw")),this.payload}get reader(){if(this._contentReader)throw new TypeError("WARC Record decoding already started, but requesting raw payload");return this._reader}get contentReader(){return this.httpHeaders?(this._contentReader||(this._contentReader=this._createDecodingReader(this._reader)),this._contentReader):this._reader}_createDecodingReader(e){if(!this.httpHeaders)throw new Error("WARCRecord cannot call _createDecodingReader when this.httpHeaders === null");let t=this.httpHeaders.headers.get("Content-Encoding"),r=this.httpHeaders.headers.get("Transfer-Encoding"),n="chunked"===r;return!t&&!n&&(t=r),new X(e,t,n)}async readlineRaw(e){if(this.consumed)throw new Error("Record already consumed.. Perhaps a promise was not awaited?");if(this.contentReader instanceof J)return this.contentReader.readlineRaw(e);throw new Error("WARCRecord cannot call readlineRaw on this.contentReader if it does not extend BaseAsyncIterReader")}async contentText(){let e=await this.readFully(!0);return ie.decode(e)}async*[Symbol.asyncIterator](){for await(let e of this.contentReader)if(yield e,this.consumed)throw new Error("Record already consumed.. Perhaps a promise was not awaited?");this.consumed="content"}async skipFully(){if(!this.consumed){if(this._reader instanceof Z){let e=await this._reader.skipFully();return this.consumed="skipped",e}throw new Error("WARCRecord cannot call skipFully on this._reader if it is not a LimitReader")}}warcHeader(e){return this.warcHeaders.headers.get(e)}get warcType(){return this.warcHeaders.headers.get("WARC-Type")}get warcTargetURI(){return this.warcHeaders.headers.get("WARC-Target-URI")}get warcDate(){return this.warcHeaders.headers.get("WARC-Date")}get warcRefersToTargetURI(){return this.warcHeaders.headers.get("WARC-Refers-To-Target-URI")}get warcRefersToDate(){return this.warcHeaders.headers.get("WARC-Refers-To-Date")}get warcPayloadDigest(){return this.warcHeaders.headers.get("WARC-Payload-Digest")}get warcBlockDigest(){return this.warcHeaders.headers.get("WARC-Block-Digest")}get warcContentType(){return this.warcHeaders.headers.get("Content-Type")}get warcContentLength(){return Number(this.warcHeaders.headers.get("Content-Length"))}},le=new TextDecoder,ue=new Uint8Array([]),he=class{static parse(e,t){return new he(e,t).parse()}static iterRecords(e,t){return new he(e,t)[Symbol.asyncIterator]()}constructor(e,{keepHeadersCase:t=!1,parseHttp:r=!0}={}){this._offset=0,this._warcHeadersLength=0,this._headersClass=t?Map:Headers,this._parseHttp=r,this._reader=e instanceof X?e:new X(e),this._record=null}async readToNextRecord(){if(!this._reader||!this._record)return ue;await this._record.skipFully(),this._reader.compressed&&(this._offset=this._reader.getRawOffset());let e=await this._reader.readlineRaw(),t=0;if(e){if(t=e.byteLength-1,9===t&&le.decode(e).startsWith("WARC/"))return e;for(;t>0;){let r=e[t-1];if(10!==r&&13!==r)break;t--}t&&console.warn(`Content-Length Too Small: Record not followed by newline, Remainder Length: ${t}, Offset: ${this._reader.getRawOffset()-e.byteLength}`)}else e=ue;if(this._reader.compressed)await this._reader.skipSize(2),e=ue;else{for(e=await this._reader.readlineRaw();e&&2===e.byteLength;)e=await this._reader.readlineRaw();this._offset=this._reader.getRawOffset(),e&&(this._offset-=e.length)}return e}_initRecordReader(e){return new Z(this._reader,Number(e.headers.get("Content-Length")||0))}async parse(){let e=await this.readToNextRecord(),t=e?le.decode(e):"",r=new class{async parse(e,{headersClass:t,firstLine:r}={headersClass:Map}){let n=r||await e.readline();if(!n)return null;let i=n.trimEnd();if(!i)return null;let s,o,a,c,l=new t,u=await async function(e){let t=[],r=0,n=0,i=null,s=e[Symbol.asyncIterator]();for await(let e of s){if([n,e]=await ne(e,s),n>=0){i=e;break}t.push(e),r+=e.byteLength}if(i){let[s,o]=V(i,n+1);t.push(s),r+=s.byteLength,e.unread(o)}else if(!t.length)return"";return te.decode(Q(t,r))}(e),h=0,d="";for(;h<u.length;){if(a=u.indexOf("\n",h),!c||" "!==u[h]&&"\t"!==u[h]){if(c){try{l.set(d,c)}catch{}c=null}s=u.indexOf(":",h),o=s<0?h:s+1,s>=0&&s<a?(d=u.slice(h,s).trimStart(),c=u.slice(o,a<0?void 0:a).trim()):c=null}else c+=u.slice(h,a<0?void 0:a).trimEnd();if(a<0)break;h=a+1}if(c)try{l.set(d,c)}catch{}return new re({statusline:i,headers:l})}},n=await r.parse(this._reader,{firstLine:t,headersClass:this._headersClass});if(!n)return null;this._warcHeadersLength=this._reader.getReadOffset();let i=new ce({warcHeaders:n,reader:this._initRecordReader(n)});if(this._record=i,this._parseHttp)switch(i.warcType){case"response":case"request":await this._addHttpHeaders(i,r);break;case"revisit":i.warcContentLength>0&&await this._addHttpHeaders(i,r)}return i}get offset(){return this._offset}get recordLength(){return this._reader.getRawLength(this._offset)}async*[Symbol.asyncIterator](){let e=null;for(;null!==(e=await this.parse());)yield e;this._record=null}async _addHttpHeaders(e,t){let r=await t.parse(this._reader,{headersClass:this._headersClass});e.httpHeaders=r;let n=this._reader.getReadOffset()-this._warcHeadersLength;e.reader instanceof Z&&e.reader.setLimitSkip(e.warcContentLength-n)}},de=new TextEncoder,ge=class extends(null){constructor(e,t={}){super(),this.gzip=!1,this.digestAlgo="",this.digestAlgoPrefix="",this.digestBase32=!1,this.record=e,this.gzip=Boolean(t.gzip);let r=t&&t.digest||{};"revisit"===e.warcType||"warcinfo"===e.warcType||e.warcPayloadDigest&&e.warcBlockDigest?this.digestAlgo="":(this.digestAlgo=r?.algo||"sha-256",this.digestAlgoPrefix=r?.prefix||"sha256:",this.digestBase32=Boolean(r?.base32))}static async serialize(e,t){return await new ge(e,t).readFully()}static base16(e){return Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join("")}async*[Symbol.asyncIterator](){if(!this.gzip)return void(yield*this.generateRecord());let e=null;"CompressionStream"in globalThis?(e=new globalThis.CompressionStream("gzip"),yield*this.streamCompress(e)):yield*this.pakoCompress()}async readlineRaw(e){return null}async*pakoCompress(){let e=new pe.Deflate({gzip:!0}),t=null;for await(let r of this.generateRecord())for(t&&t.length>0&&e.push(t),t=r;e.chunks.length;)yield e.chunks.shift();t&&e.push(t,!0),yield e.result}async*streamCompress(e){let t=this.generateRecord();new ReadableStream({async pull(e){let r=await t.next();r.done?e.close():e.enqueue(r.value)}}).pipeThrough(e);let r=null,n=e.readable.getReader();for(;(r=await n.read())&&!r.done;)yield r.value}async digestMessage(e){let t=await crypto.subtle.digest(this.digestAlgo,e);return this.digestAlgoPrefix+(this.digestBase32?fe(t,"RFC4648"):ge.base16(t))}async*generateRecord(){let e=0,t=null;this.record.httpHeaders&&(t=de.encode(this.record.httpHeaders.toString()+"\r\n"),e+=t.length);let r=await this.record.readFully();if(e+=r.length,this.digestAlgo){let n=await this.digestMessage(r),i=t?await this.digestMessage(Q([t,r],e)):n;this.record.warcHeaders.headers.set("WARC-Payload-Digest",n),this.record.warcHeaders.headers.set("WARC-Block-Digest",i)}this.record.warcHeaders.headers.set("Content-Length",e.toString()),yield de.encode(this.record.warcHeaders.toString()),yield $,t&&(yield t),yield r,yield ee}},ye=["offset","warc-type","warc-target-uri"],we=class{constructor(e={}){this.opts=e,this.fields=e&&e.fields?e.fields.split(","):ye,this.parseHttp=!1}serialize(e){return JSON.stringify(e)+"\n"}write(e,t){t.write(this.serialize(e))}async writeAll(e,t){for await(let r of this.iterIndex(e))this.write(r,t)}async*iterIndex(e){let t={strictHeaders:!0,parseHttp:this.parseHttp};for(let{filename:r,reader:n}of e){let e=new he(n,t);yield*this.iterRecords(e,r)}}async*iterRecords(e,t){for await(let r of e){await r.skipFully();let n=this.indexRecord(r,e,t);n&&(yield n)}}indexRecord(e,t,r){if(this.filterRecord&&!this.filterRecord(e))return null;let n={},i={offset:t.offset,length:t.recordLength,filename:r};for(let t of this.fields)t in i?n[t]=i[t]:this.setField(t,e,n);return n}setField(e,t,r){let n=this.getField(e,t);null!==n&&(r[e]=n)}getField(e,t){return"http:status"===e?!t.httpHeaders||"response"!==t.warcType&&"revisit"!==t.warcType?null:t.httpHeaders.statusCode:e.startsWith("http:")?t.httpHeaders?t.httpHeaders.headers.get(e.slice(5)):null:t.warcHeaders.headers.get(e)||null}},me=class extends we{constructor(e){super(e);for(let e of this.fields)if(e.startsWith("http:")){this.parseHttp=!0;break}}},be="urlkey,timestamp,url,mime,status,digest,length,offset,filename".split(","),Ae="urlkey,timestamp,url,mime,status,digest,redirect,meta,length,offset,filename".split(","),Ee=class extends me{constructor(e){switch(super(e),this.includeAll=Boolean(e?.all),this.overrideIndexForAll=Boolean(e?.all),this.fields=be,this.parseHttp=!0,this.noSurt=Boolean(e?.noSurt),this._lastRecord=null,e?.format){case"cdxj":this.serialize=this.serializeCDXJ;break;case"cdx":this.serialize=this.serializeCDX11}}async*iterRecords(e,t){this._lastRecord=null;for await(let r of e){await r.readFully();let n=this.indexRecord(r,e,t);n&&(yield n)}let r=this.indexRecord(null,e,t);r&&(yield r)}filterRecord(e){if(this.includeAll)return!0;let t=e.warcType;return!("request"===t||"warcinfo"===t||("metadata"===t||"resource"===t)&&"application/warc-fields"===e.warcContentType)}indexRecord(e,t,r){if(this.overrideIndexForAll)return e?super.indexRecord(e,t,r):null;let n=this._lastRecord;if(this._lastRecord=e,e&&(e._offset=t.offset,e._length=t.recordLength),!n)return null;if(!e||n.warcTargetURI!=e.warcTargetURI)return this.indexRecordPair(n,null,t,r);let i=e.warcType,s=n.warcType;return"request"!==i||"response"!==s&&"revisit"!==s?"response"!==i&&"revisit"!==i||"request"!==s?this.indexRecordPair(n,null,t,r):(this._lastRecord=null,this.indexRecordPair(e,n,t,r)):(this._lastRecord=null,this.indexRecordPair(n,e,t,r))}indexRecordPair(e,t,r,n){let i,s,o=e.warcTargetURI||"";if(t&&t.httpHeaders&&"GET"!==t.httpHeaders.method){let r={url:o,method:t.httpHeaders.method,headers:t.httpHeaders.headers,postData:t.payload};i=r.method,z(r)&&(s=r.requestBody,e.method=i,e.requestBody=s,o=r.url)}e._urlkey=o;let a=super.indexRecord(e,r,n);return a&&(e&&void 0!==e._offset&&(a.offset=e._offset,a.length=e._length),i&&(a.method=i),s&&(a.requestBody=s)),a}serializeCDXJ(e){let{urlkey:t,timestamp:r}=e;return delete e.urlkey,delete e.timestamp,`${t} ${r} ${JSON.stringify(e)}\n`}serializeCDX11(e){let t=[];for(let r of Ae)t.push(null!=e[r]?e[r]:"-");return t.join(" ")+"\n"}getField(e,t){let r=null;switch(e){case"urlkey":return r=t._urlkey||t.warcTargetURI||null,this.noSurt||null===r?r:j(r);case"timestamp":return r=t.warcDate??"",r.replace(/[-:T]/g,"").slice(0,14);case"url":return t.warcTargetURI;case"mime":switch(t.warcType){case"revisit":return"warc/revisit";case"response":case"request":e="http:content-type";break;default:e="content-type"}return r=super.getField(e,t),r?r.toString().split(";",1)[0]?.trim():null;case"status":return super.getField("http:status",t);case"digest":return r=t.warcPayloadDigest,r?r.split(":",2)[1]:null;default:return null}}};async function ve(e,t,r){const n=e;try{"chunked"===r&&(e=function(e){let t=0,r=0;const n=new TextDecoder("utf-8");for(;t<e.length;){let s=t;for(;e[s]>=48&&e[s]<=57||e[s]>=65&&e[s]<=70||e[s]>=97&&e[s]<=102;)s++;if(0===s)return e;if(13!=e[s]||10!=e[s+1])return e;s+=2;var i=parseInt(n.decode(e.subarray(t,s)),16);if(0==i)break;e.set(e.subarray(s,s+i),r),s+=i,r+=i,13==e[s]&&10==e[s+1]&&(s+=2),t=s}return e.subarray(0,r)}(e))}catch(e){console.log("Chunk-Encoding Ignored: "+e)}try{if("br"===t)0===(e=L(e)).length&&(e=n);else if("gzip"===t||"gzip"===r){const t=new P.Inflate;t.push(e,!0),t.result&&!t.err&&(e=t.result)}}catch(e){console.log("Content-Encoding Ignored: "+e)}return e}const _e=new TextEncoder,Te=new TextDecoder;class Se{static fromResponse({url:e,response:t,date:r,noRW:n,isLive:i}){const s=t.body?new X(t.body.getReader(),!1):null,o=Number(t.headers.get("x-redirect-status")||t.status),a=t.headers.get("x-redirect-statusText")||t.statusText;let c=new Headers(t.headers),l=c.get("x-orig-location");l&&(l.startsWith(self.location.origin)&&(l=l.slice(self.location.origin.length)),c.set("location",l),c.delete("x-orig-location"),c.delete("x-redirect-status"),c.delete("x-redirect-statusText"));let u=null;const h=c.get("x-orig-ts");h&&(r=y(h),c.delete("x-orig-ts"),h&&l&&(u=h));const d=c.get("memento-datetime");d&&(r=new Date(d));const f=c.get("x-proxy-set-cookie");if(f){const e=[];f.split(",").forEach((t=>{const r=t.split(";",1)[0].trim();r.indexOf("=")>0&&e.push(r)})),c.delete("x-proxy-set-cookie"),e.length&&c.set("x-wabac-preset-cookie",e.join(";"))}return new Se({payload:s,status:o,statusText:a,headers:c,url:e,date:r,noRW:n,isLive:i,updateTS:u})}constructor({payload:e,status:t,statusText:r,headers:n,url:i,date:s,extraOpts:o=null,noRW:a=!1,isLive:c=!1,updateTS:l=null}){this.reader=null,this.buffer=null,e&&(e[Symbol.asyncIterator]||e instanceof J)?this.reader=e:this.buffer=e,this.status=t,this.statusText=r,this.headers=n,this.url=i,this.date=s,this.extraOpts=o,this.noRW=a,this.isLive=c,this.updateTS=l}async getText(e=!1){const t=await this.getBuffer();return"string"==typeof t?t:e?Te.decode(t):b(t)}setText(e,t=!1){this.setBuffer(t?_e.encode(e):A(e))}async getBuffer(){return this.buffer||(this.buffer=await this.reader.readFully()),this.buffer}setBuffer(e){this.buffer=e,this.reader=null}setReader(e){e instanceof J?(this.reader=e,this.buffer=null):e.getReader&&(this.reader=new X(e.getReader()),this.buffer=null)}expectedLength(){return this.buffer?this.buffer.length:this.reader&&this.reader.reader?this.reader.reader.length:void 0}createIter(){const e=this.buffer,t=this.reader;return async function*(){if(e)for(let t=0;t<e.length;t+=h)yield e.slice(t,t+h);else t&&(yield*t)}()}async*[Symbol.asyncIterator](){yield*this.createIter()}setRange(e){if(206===this.status){const e=this.headers.get("Content-Range");if(e&&!e.startsWith("bytes 0-"))return!1}const t=e.match(/^bytes=(\d+)-(\d+)?$/);let r=0;if(this.buffer)r=this.buffer.length;else if(this.reader&&(r=Number(this.headers.get("content-length")),!r))return!1;if(!t)return this.status=416,this.statusText="Range Not Satisfiable",this.headers.set("Content-Range",`*/${r}`),!1;const n=Number(t[1]),i=Number(t[2])||r-1;if(this.buffer)this.buffer=this.buffer.slice(n,i+1);else if(this.reader){if(!this.reader.setLimitSkip)return!1;0!==n||i!==r-1?this.reader.setLimitSkip(i-n+1,n):this.reader.setRangeAll&&this.reader.setRangeAll(r)}return this.headers.set("Content-Range",`bytes ${n}-${i}/${r}`),this.headers.set("Content-Length",i-n+1),this.status=206,this.statusText="Partial Content",!0}makeResponse(e=!1){let t=null;T(this.status)||(t=this.buffer||!this.reader?this.buffer:this.reader.getReadableStream());const r=new Response(t,{status:this.status,statusText:this.statusText,headers:this.headers});return r.date=this.date,e&&(r.headers.set("Cross-Origin-Opener-Policy","same-origin"),r.headers.set("Cross-Origin-Embedder-Policy","require-corp")),r}}var Ie=__webpack_require__(6932);function Ce(e={}){let t,r;const n=e&&e.response&&e.response.extraOpts;if(n&&(t=n.adaptive_max_resolution||n.maxRes,r=n.adaptive_max_bandwidth||n.maxBand,t&&r))return{maxRes:t,maxBand:r};let i;return i=e&&e.response&&!e.response.isLive?{maxRes:921600,maxBand:2e6}:{maxRes:412800,maxBand:1e6},e&&e.save&&(e.save.maxRes=i.maxRes,e.save.maxBand=i.maxBand),i}function Re(e,t){const r=/#EXT-X-STREAM-INF:(?:.*[,])?BANDWIDTH=([\d]+)/,n=/RESOLUTION=([\d]+)x([\d]+)/,{maxRes:i,maxBand:s}=Ce(t);let o=[],a=0,c=null,l=0,u=0,h=e.trimEnd().split("\n");for(const e of h){const d=e.match(r);if(!d){t&&t.rewriteUrl&&!e.startsWith("#")&&(h[a]=t.rewriteUrl(e)),a+=1;continue}o.push(a);const f=Number(d[1]),p=e.match(n),g=p?Number(p[1])*Number(p[2]):0;g&&i?g<=i&&g>u&&(u=g,l=f,c=a):f<=s&&f>l&&(u=g,l=f,c=a),a+=1}o.reverse();for(const e of o)e!==c&&h.splice(e,2);return h.join("\n")}const xe={ignoreAttributes:!1,removeNSPrefix:!1,format:!1,suppressEmptyNode:!0};function ke(e,t,r){try{return function(e,t,r){const n=new Ie.XMLParser(xe).parse(e),{maxRes:i,maxBand:s}=Ce(t);let o=null,a=0,c=0,l=null;l=Array.isArray(n.MPD.Period.AdaptationSet)?n.MPD.Period.AdaptationSet:[n.MPD.Period.AdaptationSet];for(const e of l){o=null,a=0,c=0;let t=null;t=Array.isArray(e.Representation)?e.Representation:[e.Representation];for(const e of t){const t=Number(e["@_width"]||"0")*Number(e["@_height"]||"0"),r=Number(e["@_bandwidth"]||"0");t&&i?t<=i&&t>a&&(a=t,c=r,o=e):r<=s&&r>c&&(a=t,c=r,o=e)}o&&Array.isArray(r)&&r.push(o["@_id"]),o&&(e.Representation=[o])}const u=new Ie.XMLBuilder(xe);return"<?xml version='1.0' encoding='UTF-8'?>\n"+u.build(n).trim()}(e,t,r)}catch(t){return console.log(t),e}}const Ne=[{contains:["youtube.com","youtube-nocookie.com"],rxRules:[[/ytplayer.load\(\);/,Be('ytplayer.config.args.dash = "0"; ytplayer.config.args.dashmpd = ""; {0}')],[/yt\.setConfig.*PLAYER_CONFIG.*args":\s*{/,Be('{0} "dash": "0", dashmpd: "", ')],[/(?:"player":|ytplayer\.config).*"args":\s*{/,Be('{0}"dash":"0","dashmpd":"",')],[/yt\.setConfig.*PLAYER_VARS.*?{/,Be('{0}"dash":"0","dashmpd":"",')],[/ytplayer.config={args:\s*{/,Be('{0}"dash":"0","dashmpd":"",')],[/"0"\s*?==\s*?\w+\.dash&&/m,Be("1&&")]]},{contains:["player.vimeo.com/video/"],rxRules:[[/^\{.+\}$/,function(e){let t;try{t=JSON.parse(e)}catch(t){return e}if(t&&t.request&&t.request.files){const e=t.request.files;if("object"==typeof e.progressive&&e.progressive.length)return e.dash&&(e.__dash=e.dash,delete e.dash),e.hls&&(e.__hls=e.hls,delete e.hls),JSON.stringify(t)}return e.replace(/query_string_ranges=1/g,"query_string_ranges=0")}]]},{contains:["master.json?query_string_ranges=0","master.json?base64"],rxRules:[[/^\{.+\}$/,function(e,t){if(!t)return e;let r=null;const n=Oe(t);try{r=JSON.parse(e),console.log("manifest",r)}catch(t){return e}function i(e,t,r){let n=0,i=null;for(const s of e)s.mime_type==r&&s.bitrate>i&&s.bitrate<=t&&(i=s.bitrate,n=s);return n?[n]:e}return r.video=i(r.video,n,"video/mp4"),r.audio=i(r.audio,n,"audio/mp4"),JSON.stringify(r)}]]},{contains:["facebook.com/"],rxRules:[[/"dash_/,Be('"__nodash__')],[/_dash"/,Be('__nodash__"')],[/_dash_/,Be("__nodash__")],[/"debugNoBatching\s?":(?:false|0)/,Be('"debugNoBatching":true')]]},{contains:["instagram.com/"],rxRules:[[/"is_dash_eligible":(?:true|1)/,Be('"is_dash_eligible":false')],[/"debugNoBatching\s?":(?:false|0)/,Be('"debugNoBatching":true')]]},{contains:["api.twitter.com/2/","twitter.com/i/api/2/","twitter.com/i/api/graphql/"],rxRules:[[/"video_info":.*?}]}/,De('"video_info":')]]},{contains:["cdn.syndication.twimg.com/tweet-result"],rxRules:[[/"video":.*?viewCount":\d+}/,De('"video":')]]},{contains:["/vqlweb.js"],rxRules:[[/\b\w+\.updatePortSize\(\);this\.updateApplicationSize\(\)(?![*])/gim,Be("/*{0}*/")]]}];function Be(e){return t=>e.replace("{0}",t)}function Oe(e){let t=5e6;const r=e.response&&e.response.extraOpts;return e.save?e.save.maxBitrate=t:r&&r.maxBitrate&&(t=r.maxBitrate),t}function De(e){return(t,r)=>{if(!r)return t;const n=t;try{const n=/([\d]+)x([\d]+)/,i=Oe(r);t=t.slice(e.length);const s=JSON.parse(t);let o=null,a=0;for(const e of s.variants)if(!(e.content_type&&"video/mp4"!==e.content_type||e.type&&"video/mp4"!==e.type))if(e.bitrate&&e.bitrate>a&&e.bitrate<=i)o=e,a=e.bitrate;else if(e.src){const t=n.exec(e.src);if(t){const r=Number(t[1])*Number(t[2]);r>a&&(a=r,o=e)}}return o&&(s.variants=[o]),e+JSON.stringify(s)}catch(e){return console.warn("rewriter error: ",e),n}}}class Le{constructor(e,t){this.rwRules=t||Ne,this.RewriterCls=e,this._initRules()}_initRules(){this.rewriters=new Map;for(const e of this.rwRules)e.rxRules&&this.rewriters.set(e,new this.RewriterCls(e.rxRules));this.defaultRewriter=new this.RewriterCls}getRewriter(e){for(const t of this.rwRules)if(t.contains)for(const r of t.contains)if(e.indexOf(r)>=0){const e=this.rewriters.get(t);if(e)return e}return this.defaultRewriter}}class Pe{constructor(e){this.rules=e||null,this.rules?this.compileRules():this.rx=null}compileRules(){let e="";for(let t of this.rules)e&&(e+="|"),e+=`(${t[0].source})`;const t=`(?:${e})`;this.rx=new RegExp(t,"gm")}doReplace(e,t){const r=e[e.length-2],n=e[e.length-1];for(let i=0;i<this.rules.length;i++){const s=e[i];if(!s)continue;const o=this.rules[i][1].call(this,s,t,r,n);if(o)return o}}rewrite(e,t){return this.rx?e.replace(this.rx,((e,...r)=>this.doReplace(r,t))):e}}const Ue=/^\s*?import\s*?[{"'*]/,Me=/^\s*?export\s*?({([\s\w,$\n]+?)}[\s;]*|default|class)\s+/m,Fe=/^\s*?import(?:['"\s]*(?:[\w*${}\s,]+from\s*)?['"\s]?['"\s])(?:.*?)['"\s]/,He=/(import(?:['"\s]*(?:[\w*${}\s,]+from\s*)?['"\s]?['"\s]))((?:https?|[./]).*?)(['"\s])/,je=["window","globalThis","self","document","location","top","parent","frames","opener"],ze=je.map((e=>`(?:^|[^$.])\\b${e}\\b(?:$|[^$])`)).join("|"),We=new RegExp(`(${ze})`),Ge=(()=>{const e="_____WB$wombat$check$this$function_____(this)";function t(){return t=>t.replace("this",e)}return[[/(?:^|\s)\beval\s*\(/,(n="WB_wombat_runEval2((_______eval_arg, isGlobal) => { var ge = eval; return isGlobal ? ge(_______eval_arg) : eval(_______eval_arg); }).eval(this, (function() { return arguments })(),",i="eval",e=>{const t=e.indexOf(i);return 0===t?n:e.slice(0,t)+n})],[/[=]\s*\beval\b(?![(:.$])/,function(e,t){return r=>r.replace(e,t)}("eval","self.eval")],[/\.postMessage\b\(/,function(e){return t=>e+t}(".__WB_pmw(self)")],[/[^$.]?\s?\blocation\b\s*[=]\s*(?![\s=])/,(r="((self.__WB_check_loc && self.__WB_check_loc(location, arguments)) || {}).href = ",(e,t,n,i)=>{if(n>0){const t=i[n-1];if("."===t||"$"===t)return e}return e+r})],[/\breturn\s+this\b\s*(?![\s\w.$])/,t()],[new RegExp(`[^$.]\\s?\\bthis\\b(?=(?:\\.(?:${je.join("|")})\\b))`),(t,r,n,i)=>{const s=n>0?i[n-1]:"";return"\n"===s?t.replace("this",";"+e):"."!==s&&"$"!==s?t.replace("this",e):t}],[/[=,]\s*\bthis\b\s*(?![\s\w:.$])/,t()],[/\}(?:\s*\))?\s*\(this\)/,t()],[/[^|&][|&]{2}\s*this\b\s*(?![|\s&.$](?:[^|&]|$))/,t()],[/async\s+import\s*\(/,e=>e],[/[^$.]\bimport\s*\(/,function(e,t){return(r,n)=>{let i=r.replace(e,t);return i+=n.isModule?"import.meta.url, ":"null, ",i}}("import","____wb_rewrite_import__")]];var r,n,i})();const qe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Qe="";var Ve;!function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"}(Ve=Ve||(Ve={}));const Ke="--",Ye="[CDATA[",Je="doctype",Xe="script",Ze="public",$e="system";function et(e){return e>=55296&&e<=57343}function tt(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159}function rt(e){return e>=64976&&e<=65007||qe.has(e)}var nt;!function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(nt=nt||(nt={}));class it{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e){const{line:t,col:r,offset:n}=this;return{code:e,startLine:t,endLine:t,startCol:r,endCol:r,startOffset:n,endOffset:n}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const t=this.html.charCodeAt(this.pos+1);if(function(e){return e>=56320&&e<=57343}(t))return this.pos++,this._addGap(),1024*(e-55296)+9216+t}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,Ve.EOF;return this._err(nt.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let t=0;t<e.length;t++){if((32|this.html.charCodeAt(this.pos+t))!==e.charCodeAt(t))return!1}return!0}peek(e){const t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Ve.EOF;const r=this.html.charCodeAt(t);return r===Ve.CARRIAGE_RETURN?Ve.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Ve.EOF;let e=this.html.charCodeAt(this.pos);if(e===Ve.CARRIAGE_RETURN)return this.isEol=!0,this.skipNextNewLine=!0,Ve.LINE_FEED;if(e===Ve.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine))return this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance();this.skipNextNewLine=!1,et(e)&&(e=this._processSurrogate(e));return null===this.handler.onParseError||e>31&&e<127||e===Ve.LINE_FEED||e===Ve.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e}_checkForProblematicCharacters(e){tt(e)?this._err(nt.controlCharacterInInputStream):rt(e)&&this._err(nt.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var st;!function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"}(st=st||(st={}));const ot=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map((e=>e.charCodeAt(0)))),at=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map((e=>e.charCodeAt(0))));var ct;const lt=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),ut=null!==(ct=String.fromCodePoint)&&void 0!==ct?ct:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};function ht(e){return ut(function(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=lt.get(e))&&void 0!==t?t:e}(e))}var dt,ft;function pt(e){return function(t,r){let n="",i=0,s=0;for(;(s=t.indexOf("&",s))>=0;){if(n+=t.slice(i,s),i=s,s+=1,t.charCodeAt(s)===dt.NUM){let e=s+1,o=10,a=t.charCodeAt(e);(a|dt.To_LOWER_BIT)===dt.LOWER_X&&(o=16,s+=1,e+=1);do{a=t.charCodeAt(++s)}while(a>=dt.ZERO&&a<=dt.NINE||16===o&&(a|dt.To_LOWER_BIT)>=dt.LOWER_A&&(a|dt.To_LOWER_BIT)<=dt.LOWER_F);if(e!==s){const a=t.substring(e,s),c=parseInt(a,o);if(t.charCodeAt(s)===dt.SEMI)s+=1;else if(r)continue;n+=ht(c),i=s}continue}let o=0,a=1,c=0,l=e[c];for(;s<t.length&&(c=gt(e,l,c+1,t.charCodeAt(s)),!(c<0));s++,a++){l=e[c];const n=l&ft.VALUE_LENGTH;if(n){r&&t.charCodeAt(s)!==dt.SEMI||(o=c,a=0);const e=(n>>14)-1;if(0===e)break;c+=e}}if(0!==o){const t=(e[o]&ft.VALUE_LENGTH)>>14;n+=1===t?String.fromCharCode(e[o]&~ft.VALUE_LENGTH):2===t?String.fromCharCode(e[o+1]):String.fromCharCode(e[o+1],e[o+2]),i=s-a+1}}return n+t.slice(i)}}function gt(e,t,r,n){const i=(t&ft.BRANCH_LENGTH)>>7,s=t&ft.JUMP_TABLE;if(0===i)return 0!==s&&n===s?r:-1;if(s){const t=n-s;return t<0||t>=i?-1:e[r+t]-1}let o=r,a=o+i-1;for(;o<=a;){const t=o+a>>>1,r=e[t];if(r<n)o=t+1;else{if(!(r>n))return e[t+i];a=t-1}}return-1}!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.To_LOWER_BIT=32]="To_LOWER_BIT"}(dt||(dt={})),function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(ft||(ft={}));pt(ot),pt(at);var yt,wt,mt,bt,At;!function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"}(yt=yt||(yt={})),function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"}(wt=wt||(wt={})),function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"}(mt=mt||(mt={})),function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"}(bt=bt||(bt={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"}(At=At||(At={}));const Et=new Map([[bt.A,At.A],[bt.ADDRESS,At.ADDRESS],[bt.ANNOTATION_XML,At.ANNOTATION_XML],[bt.APPLET,At.APPLET],[bt.AREA,At.AREA],[bt.ARTICLE,At.ARTICLE],[bt.ASIDE,At.ASIDE],[bt.B,At.B],[bt.BASE,At.BASE],[bt.BASEFONT,At.BASEFONT],[bt.BGSOUND,At.BGSOUND],[bt.BIG,At.BIG],[bt.BLOCKQUOTE,At.BLOCKQUOTE],[bt.BODY,At.BODY],[bt.BR,At.BR],[bt.BUTTON,At.BUTTON],[bt.CAPTION,At.CAPTION],[bt.CENTER,At.CENTER],[bt.CODE,At.CODE],[bt.COL,At.COL],[bt.COLGROUP,At.COLGROUP],[bt.DD,At.DD],[bt.DESC,At.DESC],[bt.DETAILS,At.DETAILS],[bt.DIALOG,At.DIALOG],[bt.DIR,At.DIR],[bt.DIV,At.DIV],[bt.DL,At.DL],[bt.DT,At.DT],[bt.EM,At.EM],[bt.EMBED,At.EMBED],[bt.FIELDSET,At.FIELDSET],[bt.FIGCAPTION,At.FIGCAPTION],[bt.FIGURE,At.FIGURE],[bt.FONT,At.FONT],[bt.FOOTER,At.FOOTER],[bt.FOREIGN_OBJECT,At.FOREIGN_OBJECT],[bt.FORM,At.FORM],[bt.FRAME,At.FRAME],[bt.FRAMESET,At.FRAMESET],[bt.H1,At.H1],[bt.H2,At.H2],[bt.H3,At.H3],[bt.H4,At.H4],[bt.H5,At.H5],[bt.H6,At.H6],[bt.HEAD,At.HEAD],[bt.HEADER,At.HEADER],[bt.HGROUP,At.HGROUP],[bt.HR,At.HR],[bt.HTML,At.HTML],[bt.I,At.I],[bt.IMG,At.IMG],[bt.IMAGE,At.IMAGE],[bt.INPUT,At.INPUT],[bt.IFRAME,At.IFRAME],[bt.KEYGEN,At.KEYGEN],[bt.LABEL,At.LABEL],[bt.LI,At.LI],[bt.LINK,At.LINK],[bt.LISTING,At.LISTING],[bt.MAIN,At.MAIN],[bt.MALIGNMARK,At.MALIGNMARK],[bt.MARQUEE,At.MARQUEE],[bt.MATH,At.MATH],[bt.MENU,At.MENU],[bt.META,At.META],[bt.MGLYPH,At.MGLYPH],[bt.MI,At.MI],[bt.MO,At.MO],[bt.MN,At.MN],[bt.MS,At.MS],[bt.MTEXT,At.MTEXT],[bt.NAV,At.NAV],[bt.NOBR,At.NOBR],[bt.NOFRAMES,At.NOFRAMES],[bt.NOEMBED,At.NOEMBED],[bt.NOSCRIPT,At.NOSCRIPT],[bt.OBJECT,At.OBJECT],[bt.OL,At.OL],[bt.OPTGROUP,At.OPTGROUP],[bt.OPTION,At.OPTION],[bt.P,At.P],[bt.PARAM,At.PARAM],[bt.PLAINTEXT,At.PLAINTEXT],[bt.PRE,At.PRE],[bt.RB,At.RB],[bt.RP,At.RP],[bt.RT,At.RT],[bt.RTC,At.RTC],[bt.RUBY,At.RUBY],[bt.S,At.S],[bt.SCRIPT,At.SCRIPT],[bt.SECTION,At.SECTION],[bt.SELECT,At.SELECT],[bt.SOURCE,At.SOURCE],[bt.SMALL,At.SMALL],[bt.SPAN,At.SPAN],[bt.STRIKE,At.STRIKE],[bt.STRONG,At.STRONG],[bt.STYLE,At.STYLE],[bt.SUB,At.SUB],[bt.SUMMARY,At.SUMMARY],[bt.SUP,At.SUP],[bt.TABLE,At.TABLE],[bt.TBODY,At.TBODY],[bt.TEMPLATE,At.TEMPLATE],[bt.TEXTAREA,At.TEXTAREA],[bt.TFOOT,At.TFOOT],[bt.TD,At.TD],[bt.TH,At.TH],[bt.THEAD,At.THEAD],[bt.TITLE,At.TITLE],[bt.TR,At.TR],[bt.TRACK,At.TRACK],[bt.TT,At.TT],[bt.U,At.U],[bt.UL,At.UL],[bt.SVG,At.SVG],[bt.VAR,At.VAR],[bt.WBR,At.WBR],[bt.XMP,At.XMP]]);function vt(e){var t;return null!==(t=Et.get(e))&&void 0!==t?t:At.UNKNOWN}const _t=At;yt.HTML,new Set([_t.ADDRESS,_t.APPLET,_t.AREA,_t.ARTICLE,_t.ASIDE,_t.BASE,_t.BASEFONT,_t.BGSOUND,_t.BLOCKQUOTE,_t.BODY,_t.BR,_t.BUTTON,_t.CAPTION,_t.CENTER,_t.COL,_t.COLGROUP,_t.DD,_t.DETAILS,_t.DIR,_t.DIV,_t.DL,_t.DT,_t.EMBED,_t.FIELDSET,_t.FIGCAPTION,_t.FIGURE,_t.FOOTER,_t.FORM,_t.FRAME,_t.FRAMESET,_t.H1,_t.H2,_t.H3,_t.H4,_t.H5,_t.H6,_t.HEAD,_t.HEADER,_t.HGROUP,_t.HR,_t.HTML,_t.IFRAME,_t.IMG,_t.INPUT,_t.LI,_t.LINK,_t.LISTING,_t.MAIN,_t.MARQUEE,_t.MENU,_t.META,_t.NAV,_t.NOEMBED,_t.NOFRAMES,_t.NOSCRIPT,_t.OBJECT,_t.OL,_t.P,_t.PARAM,_t.PLAINTEXT,_t.PRE,_t.SCRIPT,_t.SECTION,_t.SELECT,_t.SOURCE,_t.STYLE,_t.SUMMARY,_t.TABLE,_t.TBODY,_t.TD,_t.TEMPLATE,_t.TEXTAREA,_t.TFOOT,_t.TH,_t.THEAD,_t.TITLE,_t.TR,_t.TRACK,_t.UL,_t.WBR,_t.XMP]),yt.MATHML,new Set([_t.MI,_t.MO,_t.MN,_t.MS,_t.MTEXT,_t.ANNOTATION_XML]),yt.SVG,new Set([_t.TITLE,_t.FOREIGN_OBJECT,_t.DESC]),yt.XLINK,new Set,yt.XML,new Set,yt.XMLNS,new Set;const Tt=new Set([bt.STYLE,bt.SCRIPT,bt.XMP,bt.IFRAME,bt.NOEMBED,bt.NOFRAMES,bt.PLAINTEXT]);const St=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var It;!function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"}(It||(It={}));const Ct={DATA:It.DATA,RCDATA:It.RCDATA,RAWTEXT:It.RAWTEXT,SCRIPT_DATA:It.SCRIPT_DATA,PLAINTEXT:It.PLAINTEXT,CDATA_SECTION:It.CDATA_SECTION};function Rt(e){return e>=Ve.DIGIT_0&&e<=Ve.DIGIT_9}function xt(e){return e>=Ve.LATIN_CAPITAL_A&&e<=Ve.LATIN_CAPITAL_Z}function kt(e){return function(e){return e>=Ve.LATIN_SMALL_A&&e<=Ve.LATIN_SMALL_Z}(e)||xt(e)}function Nt(e){return kt(e)||Rt(e)}function Bt(e){return e>=Ve.LATIN_CAPITAL_A&&e<=Ve.LATIN_CAPITAL_F}function Ot(e){return e>=Ve.LATIN_SMALL_A&&e<=Ve.LATIN_SMALL_F}function Dt(e){return e+32}function Lt(e){return e===Ve.SPACE||e===Ve.LINE_FEED||e===Ve.TABULATION||e===Ve.FORM_FEED}function Pt(e){return Lt(e)||e===Ve.SOLIDUS||e===Ve.GREATER_THAN_SIGN}class Ut{constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=It.DATA,this.returnState=It.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new it(t),this.currentLocation=this.getCurrentLocation(-1)}_err(e){var t,r;null===(r=(t=this.handler).onParseError)||void 0===r||r.call(t,this.preprocessor.getError(e))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==e||e())}write(e,t,r){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||null==r||r()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(e){this.consumedAfterSnapshot-=e,this.preprocessor.retreat(e)}_reconsumeInState(e,t){this.state=e,this._callState(t)}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,t){return!!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}_createStartTagToken(){this.currentToken={type:st.START_TAG,tagName:"",tagID:At.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:st.END_TAG,tagName:"",tagID:At.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:st.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:st.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,t;const r=this.currentToken;if(null===function(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null}(r,this.currentAttr.name)){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){(null!==(e=(t=r.location).attrs)&&void 0!==e?e:t.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(nt.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=vt(e.tagName),e.type===st.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(nt.endTagWithAttributes),e.selfClosing&&this._err(nt.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case st.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case st.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case st.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:st.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken){if(this.currentCharacterToken.type===e)return void(this.currentCharacterToken.chars+=t);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(e,t)}_emitCodePoint(e){const t=Lt(e)?st.WHITESPACE_CHARACTER:e===Ve.NULL?st.NULL_CHARACTER:st.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(st.CHARACTER,e)}_matchNamedCharacterReference(e){let t=null,r=0,n=!1;for(let s=0,o=ot[0];s>=0&&(s=gt(ot,o,s+1,e),!(s<0));e=this._consume()){r+=1,o=ot[s];const a=o&ft.VALUE_LENGTH;if(a){const o=(a>>14)-1;if(e!==Ve.SEMICOLON&&this._isCharacterReferenceInAttribute()&&((i=this.preprocessor.peek(1))===Ve.EQUALS_SIGN||Nt(i))?(t=[Ve.AMPERSAND],s+=o):(t=0===o?[ot[s]&~ft.VALUE_LENGTH]:1===o?[ot[++s]]:[ot[++s],ot[++s]],r=0,n=e!==Ve.SEMICOLON),0===o){this._consume();break}}}var i;return this._unconsume(r),n&&!this.preprocessor.endOfChunkHit&&this._err(nt.missingSemicolonAfterCharacterReference),this._unconsume(1),t}_isCharacterReferenceInAttribute(){return this.returnState===It.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===It.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===It.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case It.DATA:this._stateData(e);break;case It.RCDATA:this._stateRcdata(e);break;case It.RAWTEXT:this._stateRawtext(e);break;case It.SCRIPT_DATA:this._stateScriptData(e);break;case It.PLAINTEXT:this._statePlaintext(e);break;case It.TAG_OPEN:this._stateTagOpen(e);break;case It.END_TAG_OPEN:this._stateEndTagOpen(e);break;case It.TAG_NAME:this._stateTagName(e);break;case It.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case It.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case It.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case It.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case It.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case It.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case It.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case It.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case It.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case It.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case It.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case It.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case It.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case It.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case It.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case It.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case It.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case It.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case It.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case It.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case It.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case It.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case It.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case It.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case It.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case It.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case It.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case It.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case It.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case It.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case It.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case It.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case It.BOGUS_COMMENT:this._stateBogusComment(e);break;case It.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case It.COMMENT_START:this._stateCommentStart(e);break;case It.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case It.COMMENT:this._stateComment(e);break;case It.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case It.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case It.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case It.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case It.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case It.COMMENT_END:this._stateCommentEnd(e);break;case It.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case It.DOCTYPE:this._stateDoctype(e);break;case It.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case It.DOCTYPE_NAME:this._stateDoctypeName(e);break;case It.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case It.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case It.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case It.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case It.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case It.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case It.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case It.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case It.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case It.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case It.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case It.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case It.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case It.CDATA_SECTION:this._stateCdataSection(e);break;case It.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case It.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case It.CHARACTER_REFERENCE:this._stateCharacterReference(e);break;case It.NAMED_CHARACTER_REFERENCE:this._stateNamedCharacterReference(e);break;case It.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;case It.NUMERIC_CHARACTER_REFERENCE:this._stateNumericCharacterReference(e);break;case It.HEXADEMICAL_CHARACTER_REFERENCE_START:this._stateHexademicalCharacterReferenceStart(e);break;case It.HEXADEMICAL_CHARACTER_REFERENCE:this._stateHexademicalCharacterReference(e);break;case It.DECIMAL_CHARACTER_REFERENCE:this._stateDecimalCharacterReference(e);break;case It.NUMERIC_CHARACTER_REFERENCE_END:this._stateNumericCharacterReferenceEnd(e);break;default:throw new Error("Unknown state")}}_stateData(e){switch(e){case Ve.LESS_THAN_SIGN:this.state=It.TAG_OPEN;break;case Ve.AMPERSAND:this.returnState=It.DATA,this.state=It.CHARACTER_REFERENCE;break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),this._emitCodePoint(e);break;case Ve.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case Ve.AMPERSAND:this.returnState=It.RCDATA,this.state=It.CHARACTER_REFERENCE;break;case Ve.LESS_THAN_SIGN:this.state=It.RCDATA_LESS_THAN_SIGN;break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),this._emitChars(Qe);break;case Ve.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case Ve.LESS_THAN_SIGN:this.state=It.RAWTEXT_LESS_THAN_SIGN;break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),this._emitChars(Qe);break;case Ve.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case Ve.LESS_THAN_SIGN:this.state=It.SCRIPT_DATA_LESS_THAN_SIGN;break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),this._emitChars(Qe);break;case Ve.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case Ve.NULL:this._err(nt.unexpectedNullCharacter),this._emitChars(Qe);break;case Ve.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateTagOpen(e){if(kt(e))this._createStartTagToken(),this.state=It.TAG_NAME,this._stateTagName(e);else switch(e){case Ve.EXCLAMATION_MARK:this.state=It.MARKUP_DECLARATION_OPEN;break;case Ve.SOLIDUS:this.state=It.END_TAG_OPEN;break;case Ve.QUESTION_MARK:this._err(nt.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=It.BOGUS_COMMENT,this._stateBogusComment(e);break;case Ve.EOF:this._err(nt.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(nt.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=It.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(kt(e))this._createEndTagToken(),this.state=It.TAG_NAME,this._stateTagName(e);else switch(e){case Ve.GREATER_THAN_SIGN:this._err(nt.missingEndTagName),this.state=It.DATA;break;case Ve.EOF:this._err(nt.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(nt.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=It.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const t=this.currentToken;switch(e){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:this.state=It.BEFORE_ATTRIBUTE_NAME;break;case Ve.SOLIDUS:this.state=It.SELF_CLOSING_START_TAG;break;case Ve.GREATER_THAN_SIGN:this.state=It.DATA,this.emitCurrentTagToken();break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),t.tagName+=Qe;break;case Ve.EOF:this._err(nt.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint(xt(e)?Dt(e):e)}}_stateRcdataLessThanSign(e){e===Ve.SOLIDUS?this.state=It.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=It.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){kt(e)?(this.state=It.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=It.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();this.currentToken.tagName=this.lastStartTagName;switch(this.preprocessor.peek(this.lastStartTagName.length)){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=It.BEFORE_ATTRIBUTE_NAME,!1;case Ve.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=It.SELF_CLOSING_START_TAG,!1;case Ve.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=It.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=It.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===Ve.SOLIDUS?this.state=It.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=It.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){kt(e)?(this.state=It.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=It.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=It.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case Ve.SOLIDUS:this.state=It.SCRIPT_DATA_END_TAG_OPEN;break;case Ve.EXCLAMATION_MARK:this.state=It.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=It.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){kt(e)?(this.state=It.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=It.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=It.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===Ve.HYPHEN_MINUS?(this.state=It.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=It.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===Ve.HYPHEN_MINUS?(this.state=It.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=It.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case Ve.HYPHEN_MINUS:this.state=It.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case Ve.LESS_THAN_SIGN:this.state=It.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),this._emitChars(Qe);break;case Ve.EOF:this._err(nt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case Ve.HYPHEN_MINUS:this.state=It.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case Ve.LESS_THAN_SIGN:this.state=It.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),this.state=It.SCRIPT_DATA_ESCAPED,this._emitChars(Qe);break;case Ve.EOF:this._err(nt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=It.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case Ve.HYPHEN_MINUS:this._emitChars("-");break;case Ve.LESS_THAN_SIGN:this.state=It.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Ve.GREATER_THAN_SIGN:this.state=It.SCRIPT_DATA,this._emitChars(">");break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),this.state=It.SCRIPT_DATA_ESCAPED,this._emitChars(Qe);break;case Ve.EOF:this._err(nt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=It.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===Ve.SOLIDUS?this.state=It.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:kt(e)?(this._emitChars("<"),this.state=It.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=It.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){kt(e)?(this.state=It.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=It.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=It.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Xe,!1)&&Pt(this.preprocessor.peek(Xe.length))){this._emitCodePoint(e);for(let e=0;e<Xe.length;e++)this._emitCodePoint(this._consume());this.state=It.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=It.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case Ve.HYPHEN_MINUS:this.state=It.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case Ve.LESS_THAN_SIGN:this.state=It.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),this._emitChars(Qe);break;case Ve.EOF:this._err(nt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case Ve.HYPHEN_MINUS:this.state=It.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case Ve.LESS_THAN_SIGN:this.state=It.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),this.state=It.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qe);break;case Ve.EOF:this._err(nt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=It.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case Ve.HYPHEN_MINUS:this._emitChars("-");break;case Ve.LESS_THAN_SIGN:this.state=It.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Ve.GREATER_THAN_SIGN:this.state=It.SCRIPT_DATA,this._emitChars(">");break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),this.state=It.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qe);break;case Ve.EOF:this._err(nt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=It.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===Ve.SOLIDUS?(this.state=It.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=It.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Xe,!1)&&Pt(this.preprocessor.peek(Xe.length))){this._emitCodePoint(e);for(let e=0;e<Xe.length;e++)this._emitCodePoint(this._consume());this.state=It.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=It.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:break;case Ve.SOLIDUS:case Ve.GREATER_THAN_SIGN:case Ve.EOF:this.state=It.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case Ve.EQUALS_SIGN:this._err(nt.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=It.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=It.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:case Ve.SOLIDUS:case Ve.GREATER_THAN_SIGN:case Ve.EOF:this._leaveAttrName(),this.state=It.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case Ve.EQUALS_SIGN:this._leaveAttrName(),this.state=It.BEFORE_ATTRIBUTE_VALUE;break;case Ve.QUOTATION_MARK:case Ve.APOSTROPHE:case Ve.LESS_THAN_SIGN:this._err(nt.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),this.currentAttr.name+=Qe;break;default:this.currentAttr.name+=String.fromCodePoint(xt(e)?Dt(e):e)}}_stateAfterAttributeName(e){switch(e){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:break;case Ve.SOLIDUS:this.state=It.SELF_CLOSING_START_TAG;break;case Ve.EQUALS_SIGN:this.state=It.BEFORE_ATTRIBUTE_VALUE;break;case Ve.GREATER_THAN_SIGN:this.state=It.DATA,this.emitCurrentTagToken();break;case Ve.EOF:this._err(nt.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=It.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:break;case Ve.QUOTATION_MARK:this.state=It.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case Ve.APOSTROPHE:this.state=It.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case Ve.GREATER_THAN_SIGN:this._err(nt.missingAttributeValue),this.state=It.DATA,this.emitCurrentTagToken();break;default:this.state=It.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case Ve.QUOTATION_MARK:this.state=It.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case Ve.AMPERSAND:this.returnState=It.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=It.CHARACTER_REFERENCE;break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),this.currentAttr.value+=Qe;break;case Ve.EOF:this._err(nt.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case Ve.APOSTROPHE:this.state=It.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case Ve.AMPERSAND:this.returnState=It.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=It.CHARACTER_REFERENCE;break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),this.currentAttr.value+=Qe;break;case Ve.EOF:this._err(nt.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:this._leaveAttrValue(),this.state=It.BEFORE_ATTRIBUTE_NAME;break;case Ve.AMPERSAND:this.returnState=It.ATTRIBUTE_VALUE_UNQUOTED,this.state=It.CHARACTER_REFERENCE;break;case Ve.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=It.DATA,this.emitCurrentTagToken();break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),this.currentAttr.value+=Qe;break;case Ve.QUOTATION_MARK:case Ve.APOSTROPHE:case Ve.LESS_THAN_SIGN:case Ve.EQUALS_SIGN:case Ve.GRAVE_ACCENT:this._err(nt.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case Ve.EOF:this._err(nt.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:this._leaveAttrValue(),this.state=It.BEFORE_ATTRIBUTE_NAME;break;case Ve.SOLIDUS:this._leaveAttrValue(),this.state=It.SELF_CLOSING_START_TAG;break;case Ve.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=It.DATA,this.emitCurrentTagToken();break;case Ve.EOF:this._err(nt.eofInTag),this._emitEOFToken();break;default:this._err(nt.missingWhitespaceBetweenAttributes),this.state=It.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case Ve.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=It.DATA,this.emitCurrentTagToken();break;case Ve.EOF:this._err(nt.eofInTag),this._emitEOFToken();break;default:this._err(nt.unexpectedSolidusInTag),this.state=It.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const t=this.currentToken;switch(e){case Ve.GREATER_THAN_SIGN:this.state=It.DATA,this.emitCurrentComment(t);break;case Ve.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),t.data+=Qe;break;default:t.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(Ke,!0)?(this._createCommentToken(Ke.length+1),this.state=It.COMMENT_START):this._consumeSequenceIfMatch(Je,!1)?(this.currentLocation=this.getCurrentLocation(Je.length+1),this.state=It.DOCTYPE):this._consumeSequenceIfMatch(Ye,!0)?this.inForeignNode?this.state=It.CDATA_SECTION:(this._err(nt.cdataInHtmlContent),this._createCommentToken(Ye.length+1),this.currentToken.data="[CDATA[",this.state=It.BOGUS_COMMENT):this._ensureHibernation()||(this._err(nt.incorrectlyOpenedComment),this._createCommentToken(2),this.state=It.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case Ve.HYPHEN_MINUS:this.state=It.COMMENT_START_DASH;break;case Ve.GREATER_THAN_SIGN:{this._err(nt.abruptClosingOfEmptyComment),this.state=It.DATA;const e=this.currentToken;this.emitCurrentComment(e);break}default:this.state=It.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const t=this.currentToken;switch(e){case Ve.HYPHEN_MINUS:this.state=It.COMMENT_END;break;case Ve.GREATER_THAN_SIGN:this._err(nt.abruptClosingOfEmptyComment),this.state=It.DATA,this.emitCurrentComment(t);break;case Ve.EOF:this._err(nt.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=It.COMMENT,this._stateComment(e)}}_stateComment(e){const t=this.currentToken;switch(e){case Ve.HYPHEN_MINUS:this.state=It.COMMENT_END_DASH;break;case Ve.LESS_THAN_SIGN:t.data+="<",this.state=It.COMMENT_LESS_THAN_SIGN;break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),t.data+=Qe;break;case Ve.EOF:this._err(nt.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const t=this.currentToken;switch(e){case Ve.EXCLAMATION_MARK:t.data+="!",this.state=It.COMMENT_LESS_THAN_SIGN_BANG;break;case Ve.LESS_THAN_SIGN:t.data+="<";break;default:this.state=It.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===Ve.HYPHEN_MINUS?this.state=It.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=It.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===Ve.HYPHEN_MINUS?this.state=It.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=It.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==Ve.GREATER_THAN_SIGN&&e!==Ve.EOF&&this._err(nt.nestedComment),this.state=It.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const t=this.currentToken;switch(e){case Ve.HYPHEN_MINUS:this.state=It.COMMENT_END;break;case Ve.EOF:this._err(nt.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=It.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const t=this.currentToken;switch(e){case Ve.GREATER_THAN_SIGN:this.state=It.DATA,this.emitCurrentComment(t);break;case Ve.EXCLAMATION_MARK:this.state=It.COMMENT_END_BANG;break;case Ve.HYPHEN_MINUS:t.data+="-";break;case Ve.EOF:this._err(nt.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=It.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const t=this.currentToken;switch(e){case Ve.HYPHEN_MINUS:t.data+="--!",this.state=It.COMMENT_END_DASH;break;case Ve.GREATER_THAN_SIGN:this._err(nt.incorrectlyClosedComment),this.state=It.DATA,this.emitCurrentComment(t);break;case Ve.EOF:this._err(nt.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=It.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:this.state=It.BEFORE_DOCTYPE_NAME;break;case Ve.GREATER_THAN_SIGN:this.state=It.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case Ve.EOF:{this._err(nt.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._err(nt.missingWhitespaceBeforeDoctypeName),this.state=It.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(xt(e))this._createDoctypeToken(String.fromCharCode(Dt(e))),this.state=It.DOCTYPE_NAME;else switch(e){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),this._createDoctypeToken(Qe),this.state=It.DOCTYPE_NAME;break;case Ve.GREATER_THAN_SIGN:{this._err(nt.missingDoctypeName),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=It.DATA;break}case Ve.EOF:{this._err(nt.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=It.DOCTYPE_NAME}}_stateDoctypeName(e){const t=this.currentToken;switch(e){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:this.state=It.AFTER_DOCTYPE_NAME;break;case Ve.GREATER_THAN_SIGN:this.state=It.DATA,this.emitCurrentDoctype(t);break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),t.name+=Qe;break;case Ve.EOF:this._err(nt.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint(xt(e)?Dt(e):e)}}_stateAfterDoctypeName(e){const t=this.currentToken;switch(e){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:break;case Ve.GREATER_THAN_SIGN:this.state=It.DATA,this.emitCurrentDoctype(t);break;case Ve.EOF:this._err(nt.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(Ze,!1)?this.state=It.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch($e,!1)?this.state=It.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(nt.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=It.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const t=this.currentToken;switch(e){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:this.state=It.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case Ve.QUOTATION_MARK:this._err(nt.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=It.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case Ve.APOSTROPHE:this._err(nt.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=It.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case Ve.GREATER_THAN_SIGN:this._err(nt.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=It.DATA,this.emitCurrentDoctype(t);break;case Ve.EOF:this._err(nt.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(nt.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=It.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:break;case Ve.QUOTATION_MARK:t.publicId="",this.state=It.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case Ve.APOSTROPHE:t.publicId="",this.state=It.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case Ve.GREATER_THAN_SIGN:this._err(nt.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=It.DATA,this.emitCurrentDoctype(t);break;case Ve.EOF:this._err(nt.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(nt.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=It.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case Ve.QUOTATION_MARK:this.state=It.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),t.publicId+=Qe;break;case Ve.GREATER_THAN_SIGN:this._err(nt.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=It.DATA;break;case Ve.EOF:this._err(nt.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case Ve.APOSTROPHE:this.state=It.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),t.publicId+=Qe;break;case Ve.GREATER_THAN_SIGN:this._err(nt.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=It.DATA;break;case Ve.EOF:this._err(nt.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:this.state=It.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case Ve.GREATER_THAN_SIGN:this.state=It.DATA,this.emitCurrentDoctype(t);break;case Ve.QUOTATION_MARK:this._err(nt.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=It.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Ve.APOSTROPHE:this._err(nt.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=It.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Ve.EOF:this._err(nt.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(nt.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=It.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const t=this.currentToken;switch(e){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:break;case Ve.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=It.DATA;break;case Ve.QUOTATION_MARK:t.systemId="",this.state=It.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Ve.APOSTROPHE:t.systemId="",this.state=It.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Ve.EOF:this._err(nt.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(nt.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=It.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const t=this.currentToken;switch(e){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:this.state=It.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case Ve.QUOTATION_MARK:this._err(nt.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=It.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Ve.APOSTROPHE:this._err(nt.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=It.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Ve.GREATER_THAN_SIGN:this._err(nt.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=It.DATA,this.emitCurrentDoctype(t);break;case Ve.EOF:this._err(nt.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(nt.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=It.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:break;case Ve.QUOTATION_MARK:t.systemId="",this.state=It.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Ve.APOSTROPHE:t.systemId="",this.state=It.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Ve.GREATER_THAN_SIGN:this._err(nt.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=It.DATA,this.emitCurrentDoctype(t);break;case Ve.EOF:this._err(nt.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(nt.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=It.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case Ve.QUOTATION_MARK:this.state=It.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),t.systemId+=Qe;break;case Ve.GREATER_THAN_SIGN:this._err(nt.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=It.DATA;break;case Ve.EOF:this._err(nt.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case Ve.APOSTROPHE:this.state=It.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case Ve.NULL:this._err(nt.unexpectedNullCharacter),t.systemId+=Qe;break;case Ve.GREATER_THAN_SIGN:this._err(nt.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=It.DATA;break;case Ve.EOF:this._err(nt.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case Ve.SPACE:case Ve.LINE_FEED:case Ve.TABULATION:case Ve.FORM_FEED:break;case Ve.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=It.DATA;break;case Ve.EOF:this._err(nt.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(nt.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=It.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const t=this.currentToken;switch(e){case Ve.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=It.DATA;break;case Ve.NULL:this._err(nt.unexpectedNullCharacter);break;case Ve.EOF:this.emitCurrentDoctype(t),this._emitEOFToken()}}_stateCdataSection(e){switch(e){case Ve.RIGHT_SQUARE_BRACKET:this.state=It.CDATA_SECTION_BRACKET;break;case Ve.EOF:this._err(nt.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===Ve.RIGHT_SQUARE_BRACKET?this.state=It.CDATA_SECTION_END:(this._emitChars("]"),this.state=It.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case Ve.GREATER_THAN_SIGN:this.state=It.DATA;break;case Ve.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=It.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(e){e===Ve.NUMBER_SIGN?this.state=It.NUMERIC_CHARACTER_REFERENCE:Nt(e)?(this.state=It.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(e)):(this._flushCodePointConsumedAsCharacterReference(Ve.AMPERSAND),this._reconsumeInState(this.returnState,e))}_stateNamedCharacterReference(e){const t=this._matchNamedCharacterReference(e);if(this._ensureHibernation());else if(t){for(let e=0;e<t.length;e++)this._flushCodePointConsumedAsCharacterReference(t[e]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(Ve.AMPERSAND),this.state=It.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(e){Nt(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===Ve.SEMICOLON&&this._err(nt.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,e))}_stateNumericCharacterReference(e){this.charRefCode=0,e===Ve.LATIN_SMALL_X||e===Ve.LATIN_CAPITAL_X?this.state=It.HEXADEMICAL_CHARACTER_REFERENCE_START:Rt(e)?(this.state=It.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(e)):(this._err(nt.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(Ve.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(Ve.NUMBER_SIGN),this._reconsumeInState(this.returnState,e))}_stateHexademicalCharacterReferenceStart(e){!function(e){return Rt(e)||Bt(e)||Ot(e)}(e)?(this._err(nt.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(Ve.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(Ve.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState):(this.state=It.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(e))}_stateHexademicalCharacterReference(e){Bt(e)?this.charRefCode=16*this.charRefCode+e-55:Ot(e)?this.charRefCode=16*this.charRefCode+e-87:Rt(e)?this.charRefCode=16*this.charRefCode+e-48:e===Ve.SEMICOLON?this.state=It.NUMERIC_CHARACTER_REFERENCE_END:(this._err(nt.missingSemicolonAfterCharacterReference),this.state=It.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateDecimalCharacterReference(e){Rt(e)?this.charRefCode=10*this.charRefCode+e-48:e===Ve.SEMICOLON?this.state=It.NUMERIC_CHARACTER_REFERENCE_END:(this._err(nt.missingSemicolonAfterCharacterReference),this.state=It.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateNumericCharacterReferenceEnd(e){if(this.charRefCode===Ve.NULL)this._err(nt.nullCharacterReference),this.charRefCode=Ve.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(nt.characterReferenceOutsideUnicodeRange),this.charRefCode=Ve.REPLACEMENT_CHARACTER;else if(et(this.charRefCode))this._err(nt.surrogateCharacterReference),this.charRefCode=Ve.REPLACEMENT_CHARACTER;else if(rt(this.charRefCode))this._err(nt.noncharacterCharacterReference);else if(tt(this.charRefCode)||this.charRefCode===Ve.CARRIAGE_RETURN){this._err(nt.controlCharacterReference);const e=St.get(this.charRefCode);void 0!==e&&(this.charRefCode=e)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,e)}}const Mt=new Set([At.DD,At.DT,At.LI,At.OPTGROUP,At.OPTION,At.P,At.RB,At.RP,At.RT,At.RTC]);new Set([...Mt,At.CAPTION,At.COLGROUP,At.TBODY,At.TD,At.TFOOT,At.TH,At.THEAD,At.TR]),new Map([[At.APPLET,yt.HTML],[At.CAPTION,yt.HTML],[At.HTML,yt.HTML],[At.MARQUEE,yt.HTML],[At.OBJECT,yt.HTML],[At.TABLE,yt.HTML],[At.TD,yt.HTML],[At.TEMPLATE,yt.HTML],[At.TH,yt.HTML],[At.ANNOTATION_XML,yt.MATHML],[At.MI,yt.MATHML],[At.MN,yt.MATHML],[At.MO,yt.MATHML],[At.MS,yt.MATHML],[At.MTEXT,yt.MATHML],[At.DESC,yt.SVG],[At.FOREIGN_OBJECT,yt.SVG],[At.TITLE,yt.SVG]]),At.H1,At.H2,At.H3,At.H4,At.H5,At.H6,At.TR,At.TEMPLATE,At.HTML,At.TBODY,At.TFOOT,At.THEAD,At.TEMPLATE,At.HTML,At.TABLE,At.TEMPLATE,At.HTML,At.TD,At.TH;var Ft;!function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"}(Ft=Ft||(Ft={}));Ft.Marker;const Ht=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],jt=(new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"]);const zt="text/html",Wt="application/xhtml+xml",Gt=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((e=>[e.toLowerCase(),e]))),qt=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:yt.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:yt.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:yt.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:yt.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:yt.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:yt.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:yt.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:yt.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:yt.XML}],["xml:space",{prefix:"xml",name:"space",namespace:yt.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:yt.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:yt.XMLNS}]]),Qt=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((e=>[e.toLowerCase(),e]))),Vt=new Set([At.B,At.BIG,At.BLOCKQUOTE,At.BODY,At.BR,At.CENTER,At.CODE,At.DD,At.DIV,At.DL,At.DT,At.EM,At.EMBED,At.H1,At.H2,At.H3,At.H4,At.H5,At.H6,At.HEAD,At.HR,At.I,At.IMG,At.LI,At.LISTING,At.MENU,At.META,At.NOBR,At.OL,At.P,At.PRE,At.RUBY,At.S,At.SMALL,At.SPAN,At.STRONG,At.STRIKE,At.SUB,At.SUP,At.TABLE,At.TT,At.U,At.UL,At.VAR]);function Kt(e){const t=Qt.get(e.tagName);null!=t&&(e.tagName=t,e.tagID=vt(e.tagName))}function Yt(e,t,r,n){return(!n||n===yt.HTML)&&function(e,t,r){if(t===yt.MATHML&&e===At.ANNOTATION_XML)for(let e=0;e<r.length;e++)if(r[e].name===wt.ENCODING){const t=r[e].value.toLowerCase();return t===zt||t===Wt}return t===yt.SVG&&(e===At.FOREIGN_OBJECT||e===At.DESC||e===At.TITLE)}(e,t,r)||(!n||n===yt.MATHML)&&function(e,t){return t===yt.MATHML&&(e===At.MI||e===At.MO||e===At.MN||e===At.MS||e===At.MTEXT)}(e,t)}var Jt;!function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"}(Jt||(Jt={}));new Set([At.TABLE,At.TBODY,At.TFOOT,At.THEAD,At.TR]);new Set([At.CAPTION,At.COL,At.COLGROUP,At.TBODY,At.TD,At.TFOOT,At.TH,At.THEAD,At.TR]);const Xt=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);String.prototype.codePointAt;function Zt(e,t){return function(r){let n,i=0,s="";for(;n=e.exec(r);)i!==n.index&&(s+=r.substring(i,n.index)),s+=t.get(n[0].charCodeAt(0)),i=n.index+1;return s+r.substring(i)}}Zt(/[&<>'"]/g,Xt);const $t=Zt(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),er=Zt(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));new Set([bt.AREA,bt.BASE,bt.BASEFONT,bt.BGSOUND,bt.BR,bt.COL,bt.EMBED,bt.FRAME,bt.HR,bt.IMG,bt.INPUT,bt.KEYGEN,bt.LINK,bt.META,bt.PARAM,bt.SOURCE,bt.TRACK,bt.WBR]);var tr=__webpack_require__(2830);class rr extends tr.Writable{_write(e,t,r){r()}}const nr=At;class ir{constructor(e,t){this.handler=t,this.namespaceStack=[],this.inForeignContent=!1,this.skipNextNewLine=!1,this.tokenizer=new Ut(e,this),this._enterNamespace(yt.HTML)}onNullCharacter(e){this.skipNextNewLine=!1,this.inForeignContent?this.handler.onCharacter({type:st.CHARACTER,chars:"",location:e.location}):this.handler.onNullCharacter(e)}onWhitespaceCharacter(e){if(this.skipNextNewLine&&10===e.chars.charCodeAt(0)){if(this.skipNextNewLine=!1,1===e.chars.length)return;e.chars=e.chars.substr(1)}this.handler.onWhitespaceCharacter(e)}onCharacter(e){this.skipNextNewLine=!1,this.handler.onCharacter(e)}onComment(e){this.skipNextNewLine=!1,this.handler.onComment(e)}onDoctype(e){this.skipNextNewLine=!1,this.handler.onDoctype(e)}onEof(e){this.skipNextNewLine=!1,this.handler.onEof(e)}_enterNamespace(e){this.namespaceStack.unshift(e),this.inForeignContent=e!==yt.HTML,this.tokenizer.inForeignNode=this.inForeignContent}_leaveCurrentNamespace(){this.namespaceStack.shift(),this.inForeignContent=this.namespaceStack[0]!==yt.HTML,this.tokenizer.inForeignNode=this.inForeignContent}_ensureTokenizerMode(e){switch(e){case nr.TEXTAREA:case nr.TITLE:this.tokenizer.state=Ct.RCDATA;break;case nr.PLAINTEXT:this.tokenizer.state=Ct.PLAINTEXT;break;case nr.SCRIPT:this.tokenizer.state=Ct.SCRIPT_DATA;break;case nr.STYLE:case nr.IFRAME:case nr.XMP:case nr.NOEMBED:case nr.NOFRAMES:case nr.NOSCRIPT:this.tokenizer.state=Ct.RAWTEXT}}onStartTag(e){let t=e.tagID;switch(t){case nr.SVG:this._enterNamespace(yt.SVG);break;case nr.MATH:this._enterNamespace(yt.MATHML)}if(this.inForeignContent)if(function(e){const t=e.tagID;return t===At.FONT&&e.attrs.some((({name:e})=>e===wt.COLOR||e===wt.SIZE||e===wt.FACE))||Vt.has(t)}(e))this._leaveCurrentNamespace();else{const r=this.namespaceStack[0];r===yt.MATHML?function(e){for(let t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}}(e):r===yt.SVG&&(Kt(e),function(e){for(let t=0;t<e.attrs.length;t++){const r=Gt.get(e.attrs[t].name);null!=r&&(e.attrs[t].name=r)}}(e)),function(e){for(let t=0;t<e.attrs.length;t++){const r=qt.get(e.attrs[t].name);r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}}(e),t=e.tagID,!e.selfClosing&&Yt(t,r,e.attrs)&&this._enterNamespace(yt.HTML)}else{switch(t){case nr.PRE:case nr.TEXTAREA:case nr.LISTING:this.skipNextNewLine=!0;break;case nr.IMAGE:e.tagName=bt.IMG,e.tagID=nr.IMG}this._ensureTokenizerMode(t)}this.handler.onStartTag(e)}onEndTag(e){let t=e.tagID;if(this.inForeignContent)(t===nr.SVG&&this.namespaceStack[0]===yt.SVG||t===nr.MATH&&this.namespaceStack[0]===yt.MATHML)&&this._leaveCurrentNamespace();else{const r=this.namespaceStack[1];if(r===yt.SVG){const r=Qt.get(e.tagName);r&&(t=vt(r))}Yt(t,r,e.attrs)&&this._leaveCurrentNamespace()}this.namespaceStack[0]===yt.SVG&&Kt(e),this.handler.onEndTag(e)}}class sr extends tr.Transform{constructor(e={}){super({encoding:"utf8",decodeStrings:!1}),this.pendingText=null,this.lastChunkWritten=!1,this.stopped=!1,this.options={sourceCodeLocationInfo:!1,...e},this.parserFeedbackSimulator=new ir(this.options,this),this.tokenizer=this.parserFeedbackSimulator.tokenizer,this.pipe(new rr)}_transform(e,t,r){if("string"!=typeof e)throw new TypeError("Parser can work only with string streams.");r(null,this._transformChunk(e))}_final(e){this.lastChunkWritten=!0,e(null,this._transformChunk(""))}stop(){this.stopped=!0,this.tokenizer.pause()}_transformChunk(e){return this.stopped||this.tokenizer.write(e,this.lastChunkWritten),e}onCharacter({chars:e,location:t}){if(null===this.pendingText)this.pendingText={text:e,sourceCodeLocation:t};else if(this.pendingText.text+=e,t&&this.pendingText.sourceCodeLocation){const{endLine:e,endCol:r,endOffset:n}=t;this.pendingText.sourceCodeLocation={...this.pendingText.sourceCodeLocation,endLine:e,endCol:r,endOffset:n}}this.tokenizer.preprocessor.willDropParsedChunk()&&this._emitPendingText()}onWhitespaceCharacter(e){this.onCharacter(e)}onNullCharacter(e){this.onCharacter(e)}onEof(){this._emitPendingText(),this.stopped=!0}onStartTag(e){this._emitPendingText();const t={tagName:e.tagName,attrs:e.attrs,selfClosing:e.selfClosing,sourceCodeLocation:e.location};this.emitIfListenerExists("startTag",t)}onEndTag(e){this._emitPendingText();const t={tagName:e.tagName,sourceCodeLocation:e.location};this.emitIfListenerExists("endTag",t)}onDoctype(e){this._emitPendingText();const t={name:e.name,publicId:e.publicId,systemId:e.systemId,sourceCodeLocation:e.location};this.emitIfListenerExists("doctype",t)}onComment(e){this._emitPendingText();const t={text:e.data,sourceCodeLocation:e.location};this.emitIfListenerExists("comment",t)}emitIfListenerExists(e,t){return 0!==this.listenerCount(e)&&(this._emitToken(e,t),!0)}_emitToken(e,t){this.emit(e,t)}_emitPendingText(){null!==this.pendingText&&(this.emitIfListenerExists("text",this.pendingText),this.pendingText=null)}}class or extends sr{constructor(){super({sourceCodeLocationInfo:!0})}_transformChunk(e){return super._transformChunk(e),""}_getRawHtml(e){const{droppedBufferSize:t,html:r}=this.tokenizer.preprocessor,n=e.startOffset-t,i=e.endOffset-t;return r.slice(n,i)}emitIfListenerExists(e,t){return super.emitIfListenerExists(e,t)||this.emitRaw(this._getRawHtml(t.sourceCodeLocation)),this.parserFeedbackSimulator.skipNextNewLine=!1,!0}_emitToken(e,t){this.emit(e,t,this._getRawHtml(t.sourceCodeLocation))}emitDoctype(e){let t=`<!DOCTYPE ${e.name}`;null!==e.publicId?t+=` PUBLIC "${e.publicId}"`:null!==e.systemId&&(t+=" SYSTEM"),null!==e.systemId&&(t+=` "${e.systemId}"`),t+=">",this.push(t)}emitStartTag(e){let t=`<${e.tagName}`;for(const r of e.attrs)t+=` ${r.name}="${$t(r.value)}"`;t+=e.selfClosing?"/>":">",this.push(t)}emitEndTag(e){this.push(`</${e.tagName}>`)}emitText({text:e}){var t,r;this.push(!this.parserFeedbackSimulator.inForeignContent&&(t=this.tokenizer.lastStartTagName,r=!0,Tt.has(t)||r&&t===bt.NOSCRIPT)?e:er(e))}emitComment(e){this.push(`\x3c!--${e.text}--\x3e`)}emitRaw(e){this.push(e)}}const ar=new TextEncoder,cr=new TextDecoder,lr=/([\d.]+\s*;\s*url\s*=\s*)(.+)(\s*)/im,ur=["http://","https://","//"],hr="mp_",dr={a:{href:hr},applet:{codebase:"oe_",archive:"oe_"},area:{href:hr},audio:{src:"oe_"},base:{href:hr},blockquote:{cite:hr},body:{background:"im_"},button:{formaction:hr},command:{icon:"im_"},del:{cite:hr},embed:{src:"oe_"},iframe:{src:"if_"},image:{src:"im_","xlink:href":"im_",href:"im_"},img:{src:"im_",srcset:"im_"},ins:{cite:hr},input:{src:"im_",formaction:hr},form:{action:hr},frame:{src:"fr_"},link:{href:"oe_"},meta:{content:hr},object:{codebase:"oe_",data:"oe_"},param:{value:"oe_"},q:{cite:hr},ref:{href:"oe_"},script:{src:"js_","xlink:href":"js_"},source:{src:"oe_",srcset:"oe_"},video:{src:"oe_",poster:"im_"}},fr=[{match:/youtube.com\/v\/([^&]+)[&]/,replace:"youtube.com/embed/$1?"}],pr=[{urlMatch:/[?&]:loadOrderID=([\d]+)/,match:/(loadOrderID&(quot;&)?#x[^;]+?;)([\d]+)/gi,replace:"$1$U1"}];class gr{constructor(e,t=!1){this.rewriter=e,this.rule=null;for(const e of pr){const t=this.rewriter.url.match(e.urlMatch);if(t){this.ruleMatch=t,this.rule=e;break}}this.isCharsetUTF8=t}rewriteMetaContent(e,t,r){let n=this.getAttr(e,"http-equiv");if(n&&(n=n.toLowerCase()),"content-security-policy"===n)t.name="_"+t.name;else{if("refresh"===n)return t.value.replace(lr,((e,t,n,i)=>t+this.rewriteUrl(r,n)+i));if("referrer"===this.getAttr(e,"name"))return"no-referrer-when-downgrade";if(p(t.value,ur))return this.rewriteUrl(r,t.value)}return t.value}rewriteSrcSet(e,t){const r=/\s*(\S*\s+[\d.]+[wx]),|(?:\s*,(?:\s+|(?=https?:)))/;let n=[];for(let i of e.split(r))if(i){const e=i.trim().split(" ");e[0]=this.rewriteUrl(t,e[0]),n.push(e.join(" "))}return n.join(", ")}rewriteTagAndAttrs(e,t,r){const n=e=>p(e,ur),i=e.tagName;for(let s of e.attrs){const o=s.name,a=s.value;if(o.startsWith("on")&&a.startsWith("javascript:")&&"-"!=o.slice(2,3))s.value="javascript:"+r.rewriteJS(a.slice("javascript:".length),{inline:!0});else if("style"===o)s.value=r.rewriteCSS(s.value);else if("background"===o)s.value=this.rewriteUrl(r,a);else if("srcset"===o||"imagesrcset"===o&&"link"===i)s.value=this.rewriteSrcSet(a,r);else if("crossorigin"===o||"integrity"===o||"download"===o)s.name="_"+s.name;else if("meta"===i&&"content"===o)s.value=this.rewriteMetaContent(e.attrs,s,r);else if("param"===i&&n(a))s.value=this.rewriteUrl(r,s.value);else if(o.startsWith("data-")&&n(a))s.value=this.rewriteUrl(r,s.value);else if("base"===i&&"href"===o)try{s.value=this.rewriter.updateBaseUrl(s.value)}catch(e){console.warn("Invalid <base>: "+s.value)}else if("script"===i&&"src"===o){const t="module"===this.getScriptRWType(e)?"esm_":null,n=this.rewriteUrl(r,s.value,!1,t);n===s.value?(e.attrs.push({name:"__wb_orig_src",value:s.value}),s.value=this.rewriteUrl(r,s.value,!0,t)):s.value=n}else if("object"===i&&"data"===o){const t=this.getAttr(e.attrs,"type");if("application/pdf"===t)s.name="src",e.tagName="iframe";else if("application/x-shockwave-flash"===t)for(const t of fr){const n=s.value.replace(t.match,t.replace);if(n!==s.value){s.name="src",s.value=this.rewriteUrl(r,n),e.tagName="iframe";break}}}else if("target"===o){const e=s.value;"_blank"!==e&&"_parent"!==e&&"_top"!==e&&"new"!==e||(s.value=d)}else("href"===o||"src"===o||t[s.name])&&(s.value=this.rewriteUrl(r,s.value))}}getAttr(e,t){for(let r of e)if(r.name===t)return r.value;return null}getScriptRWType(e){const t=this.getAttr(e.attrs,"type");return"module"===t?"module":"application/json"===t?"json":!t||t.indexOf("javascript")>=0||t.indexOf("ecmascript")>=0?"js":""}async rewrite(e){if(!e.buffer&&!e.reader)return e;if(e.expectedLength()>5e6)return console.warn("Skipping rewriting, HTML file too big: "+e.expectedLength()),e;const t=this.rewriter,r=new or;r.tokenizer.preprocessor.bufferWaterline=1/0;let n=!1,i="",s="",o=null;const a=()=>{if(!n&&t.headInsertFunc){const e=t.headInsertFunc(t.url);e&&r.emitRaw(e),n=!0}};r.on("startTag",(e=>{const c=dr[e.tagName],l=e.tagName;switch(this.rewriteTagAndAttrs(e,c||{},t),n||["head","html"].includes(e.tagName)||a(),r.emitStartTag(e),e.tagName){case"script":if(e.selfClosing)break;i=e.tagName,s=this.getScriptRWType(e);break;case"style":e.selfClosing||(i=e.tagName);break;case"head":a()}e.tagName!==l&&(i=l,o=e.tagName)})),r.on("endTag",(e=>{e.tagName===i&&(o&&(e.tagName=o,o=null),i=""),r.emitEndTag(e)})),r.on("text",((e,n)=>{const o=(()=>{if("script"===i){const r=t.prefix,n="module"===s;return"js"===s||n?t.rewriteJS(e.text,{isModule:n,prefix:r}):"json"===s?t.rewriteJSON(e.text,{prefix:r}):e.text}return"style"===i?t.rewriteCSS(e.text):this.rewriteHTMLText(n)})();for(let e=0;e<o.length;e+=h)r.emitRaw(o.slice(e,e+h))}));const c=e.createIter();let l=!1;const u=this.isCharsetUTF8;return e.setReader(new ReadableStream({async start(e){r.on("data",(t=>{e.enqueue(u?ar.encode(t):A(t))})),r.on("end",(()=>{e.close()}));for await(const e of c)u?r.write(cr.decode(e),"utf8"):r.write(b(e),"latin1"),l=!0;l&&a(),r.end()}})),e}rewriteUrl(e,t,r=!1,n=null){this.isCharsetUTF8||(t=cr.decode(A(t)));const i=e.rewriteUrl(t,r);return n?i.replace("mp_/",n+"/"):i}rewriteHTMLText(e){if(this.rule){const t=this.rule.replace.replace("$U1",this.ruleMatch[1]),r=e.replace(this.rule.match,t);if(e!==r)return r}return e}}const yr=/(url\s*\(\s*[\\"']*)([^)'"]+)([\\"']*\s*\))/gi,wr=/(@import\s*[\\"']*)([^)'";]+)([\\"']*\s*;?)/gi,mr=/WB_wombat_/g,br=/^(?:\s*(?:(?:\/\*[^*]*\*\/)|(?:\/\/[^\n]+[\n])))*\s*([\w.]+)\([{[]/,Ar=/[?].*(?:callback|jsonp)=([^&]+)/i,Er=new Le(class extends Pe{constructor(e){super(),this.extraRules=e,this.firstBuff=this.initLocalDecl(je),this.lastBuff="\n\n}"}initLocalDecl(e){const t="_____WB$wombat$assign$function_____";let r=`var ${t} = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };\nif (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }\n{\n`;for(let n of e)r+=`let ${n} = ${t}("${n}");\n`;return r+="let arguments;\n",r+"\n"}getModuleDecl(e,t){return`import { ${e.join(", ")} } from "${t}__wb_module_decl.js";\n`}detectIsModule(e){return!!(e.indexOf("import")>=0&&e.match(Ue))||!!(e.indexOf("export")>=0&&e.match(Me))}rewrite(e,t){void 0!==(t=t||{}).isModule&&null!==t.isModule||(t.isModule=this.detectIsModule(e,t));let r=Ge;t.isModule&&(r=[...r,this.getESMImportRule()]),this.extraRules&&this.extraRules.length?this.rules=[...r,...this.extraRules]:this.rules=r,this.compileRules();let n=super.rewrite(e,t);if(t.isModule)return this.getModuleDecl(je,t.prefix)+n;return We.exec(e)&&(n=this.firstBuff+n+this.lastBuff),t&&t.inline&&(n=n.replace(/\n/g," ")),n}getESMImportRule(){return[Fe,(e,t)=>{const r=t.prefix.replace("mp_/","esm_/");return e.replace(He,((e,n,i,s)=>{try{i=new URL(i,t.baseUrl).href,i=r+i}catch(e){}return n+i+s}))}]}}),vr=new Le(Pe);class _r{constructor({baseUrl:e,prefix:t,responseUrl:r,workerInsertFunc:n,headInsertFunc:i=null,urlRewrite:s=!0,contentRewrite:o=!0,decode:a=!0,useBaseRules:c=!1}={}){if(this.urlRewrite=s,this.contentRewrite=o,this.dsRules=s&&!c?Er:vr,this.decode=a,this.prefix=t||"",this.prefix&&s){const e=new URL(this.prefix);this.relPrefix=e.pathname,this.schemeRelPrefix=this.prefix.slice(e.protocol.length)}const l=new URL(r||e);this.scheme=l.protocol,e.startsWith("//")&&(e=this.scheme+e),this.url=this.baseUrl=e,this.headInsertFunc=i,this.workerInsertFunc=n,this.responseUrl=r,this.isCharsetUTF8=!1,this._jsonpCallback=null}getRewriteMode(e,t,r="",n=null){if(!n&&t){const e=(n=t.headers.get("Content-Type")||"").split(";");n=e[0],e.length>1&&(this.isCharsetUTF8="utf8"===e[1].trim().toLowerCase().replace("charset=","").replace("-",""))}if(e)switch(e.destination){case"style":return"css";case"script":return this.getScriptRewriteMode(n,r,"js");case"worker":return"js-worker"}switch(n){case"text/html":return e.destination||"application/json"!==e.headers.get("Accept")?"html":"json";case"text/css":return"css";case"application/x-mpegURL":case"application/vnd.apple.mpegurl":return"hls";case"application/dash+xml":return"dash";default:return this.getScriptRewriteMode(n,r,null)}}getScriptRewriteMode(e,t,r){switch(e){case"text/javascript":case"application/javascript":case"application/x-javascript":return this.parseJSONPCallback(t)?"jsonp":t.endsWith(".json")?"json":"js";case"application/json":return"json";default:return r}}async rewrite(e,t){const r=this.contentRewrite?this.getRewriteMode(t,e,this.baseUrl):null,n=I(t),i=this.urlRewrite&&!n,s=this.rewriteHeaders(e.headers,this.urlRewrite,!!r,n),o=e.headers.get("content-encoding"),a=e.headers.get("transfer-encoding");e.headers=s,this.decode&&(o||a)&&(e=await async function(e,t,r,n){if(e.reader&&n&&("gzip"===t&&!r||!t&&"gzip"===r))return e.setReader(new X(e.reader)),e;const i=new Uint8Array(await e.getBuffer()),s=await ve(i,t,r);return i!==s&&e.setBuffer(s),e}(e,o,a,null===r));const c={response:e,prefix:this.prefix,baseUrl:this.baseUrl};let l=null;switch(r){case"html":if(i)return await this.rewriteHtml(e);break;case"css":this.urlRewrite&&(l=this.rewriteCSS);break;case"js":l=this.rewriteJS,"esm_"===t.mod&&(c.isModule=!0);break;case"json":l=this.rewriteJSON;break;case"js-worker":l=this.workerInsertFunc;break;case"jsonp":l=this.rewriteJSONP;break;case"hls":l=Re;break;case"dash":l=ke}if(i&&(c.rewriteUrl=e=>this.rewriteUrl(e)),l){let t=await e.getText(this.isCharsetUTF8);t=l.call(this,t,c),e.setText(t,this.isCharsetUTF8)}return e}updateBaseUrl(e){if(this.baseUrl=new URL(e,this.baseUrl).href,e&&this.baseUrl!=e)try{e=new URL(e).href}catch(t){e.startsWith("//")&&(e=(e=new URL("https:"+e).href).slice("https:".length))}return this.rewriteUrl(e)}isRewritableUrl(e){const t=["#","javascript:","data:","mailto:","about:","file:","blob:","{"];for(let r of t)if(e.startsWith(r))return!1;return!0}rewriteUrl(e,t=!1){if(!this.urlRewrite)return e;var r=e;return!(e=e.trim())||!this.isRewritableUrl(e)||e.startsWith(this.prefix)||e.startsWith(this.relPrefix)?r:e.startsWith("http:")||e.startsWith("https:")||e.startsWith("https\\3a/")?this.prefix+e:e.startsWith("//")||e.startsWith("\\/\\/")?this.schemeRelPrefix+e:e.startsWith("/")?(e=new URL(e,this.baseUrl).href,this.relPrefix+e):t||e.indexOf("../")>=0?(e=new URL(e,this.baseUrl).href,this.prefix+e):r}rewriteHtml(e){return new gr(this,this.isCharsetUTF8).rewrite(e)}rewriteCSS(e){const t=this;function r(e,r,n,i){return n=n.trim(),r+t.rewriteUrl(n)+i}return e.replace(yr,r).replace(wr,r).replace(mr,"")}rewriteJS(e,t){const r=t&&!t.rewriteUrl&&void 0===t.isModule,n=r?vr:this.dsRules,i=n.getRewriter(this.baseUrl);return i===n.defaultRewriter&&r?e:i.rewrite(e,t)}rewriteJSON(e,t){e=this.rewriteJSONP(e);const r=vr.getRewriter(this.baseUrl);return r!==vr.defaultRewriter?r.rewrite(e,t):e}parseJSONPCallback(e){const t=e.match(Ar);return t&&"?"!==t[1]?(this._jsonpCallback=t[1],!0):(this._jsonpCallback=!1,!1)}rewriteJSONP(e){const t=e.match(br);return t?(null===this._jsonpCallback&&this.parseJSONPCallback(this.baseUrl),!1===this._jsonpCallback?e:this._jsonpCallback+e.slice(e.indexOf(t[1])+t[1].length)):e}rewriteHeaders(e,t,r,n){const i={"access-control-allow-origin":"prefix-if-url-rewrite","access-control-allow-credentials":"prefix-if-url-rewrite","access-control-expose-headers":"prefix-if-url-rewrite","access-control-max-age":"prefix-if-url-rewrite","access-control-allow-methods":"prefix-if-url-rewrite","access-control-allow-headers":"prefix-if-url-rewrite","accept-patch":"keep","accept-ranges":"keep",age:"prefix",allow:"keep","alt-svc":"prefix","cache-control":"prefix",connection:"prefix","content-base":"url-rewrite","content-disposition":"keep","content-encoding":"prefix-if-content-rewrite","content-language":"keep","content-length":"content-length","content-location":"url-rewrite","content-md5":"prefix","content-range":"keep","content-security-policy":"prefix","content-security-policy-report-only":"prefix","content-type":"keep",date:"keep",etag:"prefix",expires:"prefix","last-modified":"prefix",link:"link",location:"url-rewrite",p3p:"prefix",pragma:"prefix","proxy-authenticate":"keep","public-key-pins":"prefix","retry-after":"prefix",server:"prefix","set-cookie":"cookie",status:"prefix","strict-transport-security":"prefix",trailer:"prefix","transfer-encoding":"transfer-encoding",tk:"prefix",upgrade:"prefix","upgrade-insecure-requests":"prefix",vary:"prefix",via:"prefix",warning:"prefix","www-authenticate":"keep","x-frame-options":"prefix","x-xss-protection":"prefix"},s="X-Archive-Orig-";let o=new Headers;for(let a of e.entries()){switch(i[a[0]]){case"keep":case"cookie":default:o.append(a[0],a[1]);break;case"url-rewrite":if(t){if("location"===a[0]&&this.url!==this.responseUrl){const e="http:"===this.scheme?"https:":"http:",t=e+this.responseUrl.slice(this.scheme.length);a[1]===t&&(a[1]=e+this.url.slice(this.url.indexOf("//")))}o.append(a[0],this.rewriteUrl(a[1]))}else o.append(a[0],a[1]);break;case"prefix-if-content-rewrite":r?o.append(s+a[0],a[1]):o.append(a[0],a[1]);break;case"prefix-if-url-rewrite":t?o.append(s+a[0],a[1]):o.append(a[0],a[1]);break;case"content-length":if("0"==a[1]){o.append(a[0],a[1]);continue}if(r)try{if(parseInt(a[1])>=0){o.append(a[0],a[1]);continue}}catch(e){}o.append(a[0],a[1]);break;case"transfer-encoding":case"prefix":o.append(s+a[0],a[1]);break;case"link":t&&!n?o.append(a[0],this.rewriteLinkHeader(a[1])):o.append(a[0],a[1])}}return o}rewriteLinkHeader(e){try{const t=a.parse(e);for(const e of t.refs)e.uri&&(e.uri=this.rewriteUrl(e.uri));return t.toString()}catch(t){return console.warn("Error parsing link header: "+e),e}}}class Tr{constructor(e,t,r={}){const{name:n,store:i,config:s}=e;this.name=n,this.store=i,this.config=s,this.metadata=this.config.metadata?this.config.metadata:{};const o={...r,...this.config.extraConfig};this.injectScripts=o.injectScripts||[],this.noRewritePrefixes=o.noRewritePrefixes||null,this.noPostToGet=!!o.noPostToGet,this.convertPostToGet=!!o.convertPostToGet,this.coHeaders=o.coHeaders||!1,this.csp=o.csp||"default-src 'unsafe-eval' 'unsafe-inline' 'self' data: blob: mediastream: ws: wss: ; form-action 'self'",this.injectRelCanon=o.injectRelCanon||!1,this.baseFramePrefix=o.baseUrlSourcePrefix,this.baseFrameUrl=o.baseUrl,this.baseFrameHashReplay=o.baseUrlHashReplay||!1,this.liveRedirectOnNotFound=o.liveRedirectOnNotFound||!1,this.rootPrefix=t.root||t.main,this.prefix=t.main,this.config.root?this.isRoot=!0:(this.prefix+=this.name+"/",this.isRoot=!1),this.staticPrefix=t.static}async handleRequest(e,t){let r=e.url,n=e.timestamp;if(!e.mod)return await this.makeTopFrame(r,n);this.noPostToGet||(r=await e.convertPostToGet());let i=null,s=r;try{if(r.startsWith("srcdoc:"))i=this.getSrcDocResponse(r,r.slice("srcdoc:".length));else if(r.startsWith("blob:")){const e=r.indexOf("/"),t=r.slice(5,e),n=`blob:${self.location.origin}/${t}`;s=r.slice(e+1),i=await this.getBlobResponse(n)}else"about:blank"===r?i=await this.getSrcDocResponse(r):"__wb_module_decl.js"===r?i=await this.getWrappedModuleDecl(r):(i=await this.getReplayResponse(e,t),r=e.url,i&&i.updateTS&&(n=i.updateTS))}catch(t){if(await C(t,this.config))return R(e,'<p style="margin: auto">Please wait, this page will reload after authentication...</p>',401)}if(!i){try{r=decodeURIComponent(r),r+=e.hash}catch(e){}const t=`\n      <html>\n      <body style="font-family: sans-serif">\n      <h2>Archived Page Not Found</h2>\n      <p>Sorry, this page was not found in this archive:</p>\n      <p><code style="word-break: break-all; font-size: larger">${r}</code></p>\n      ${this.liveRedirectOnNotFound&&"navigate"===e.mode?`\n      <p>Redirecting to live page now... (If this URL is a file download, the download should have started).</p>\n      <script>\n      window.top.location.href = "${r}";\n      <\/script>\n      `:"\n      "}\n      <p>\n      <a target="_blank" href="${r}">Click Here</a> to try to load the live page in a new tab (or to download the URL as a file).</p>\n      </body>\n      </html>\n      `;return R(e,t)}if(i instanceof Response)return i;if(!i.noRW){const t=this.prefix+(e.pageId?`:${e.pageId}/`:""),o=t+n,a=r=>{let s=i.headers.get("x-wabac-preset-cookie")||"";const a=i.headers.get("Set-Cookie"),c=o+(n?"/":"")+r;return this.makeHeadInsert(r,n,i.date,c,t,s,a,i.isLive,e.referrer,i.extraOpts)},c=e=>`\n        (function() { self.importScripts('${this.staticPrefix}wombatWorkers.js');            new WBWombat({'prefix': '${o}/', 'prefixMod': '${o}wkrf_/', 'originalURL': '${r}'});        })();`+e,l=e.mod,u="id_"===l||"wkrf_"===l,h=o+l+"/",d={baseUrl:s,responseUrl:i.url,prefix:h,headInsertFunc:a,workerInsertFunc:c,urlRewrite:!u,contentRewrite:!u,decode:this.config.decode},f=new _r(d);i=await f.rewrite(i,e),"id_"!==l&&i.headers.append("Content-Security-Policy",this.csp)}const o=e.headers.get("range");return!o||200!==i.status&&206!==i.status||i.setRange(o),i.makeResponse(this.coHeaders)}getCanonRedirect(e){let{url:t,timestamp:r,mod:n,referrer:i}=e;const s=t.startsWith("//");if(s){t=(i&&i.indexOf("/http://")>0?"http:":"https:")+t}try{const i=new URL(t);if(i.href!==t){if("/"===i.pathname){let e=this.prefix+r+n;return(r||n)&&(e+="/"),e+=i.href,Response.redirect(e,301)}(!s&&t.indexOf(":443")||t.indexOf(":80"))&&(e.url=i.href)}}catch(e){}return null}getWrappedModuleDecl(){const e=(new TextEncoder).encode('\n    var wrapObj = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };\n    if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }\n\n    const window = wrapObj("window");\n    const document = wrapObj("document");\n    const location = wrapObj("location");\n    const top = wrapObj("top");\n    const parent = wrapObj("parent");\n    const frames = wrapObj("frames");\n    const opener = wrapObj("opener");\n    const __self = wrapObj("self");\n    const __globalThis = wrapObj("globalThis");\n\n    export { window, document, location, top, parent, frames, opener, __self as self, __globalThis as globalThis };\n    '),t=new Headers({"Content-Type":"application/javascript"});return new Response(e,{headers:t,status:200,statusText:"OK"})}getSrcDocResponse(e,t){const r=t?decodeURIComponent(atob(t)):"<!DOCTYPE html><html><head></head><body></body></html>",n=(new TextEncoder).encode(r),i=new Headers({"Content-Type":"text/html"}),s=new Date;return new Se({payload:n,status:200,statusText:"OK",headers:i,url:e,date:s})}async getBlobResponse(e){const t=await fetch(e),r=t.status,n=t.statusText,i=new Headers(t.headers);"application/xhtml+xml"===i.get("content-type")&&i.set("content-type","text/html");const s=new Date,o=new Uint8Array(await t.arrayBuffer());return new Se({payload:o,status:r,statusText:n,headers:i,url:e,date:s})}async getReplayResponse(e,t){let r=this.getCanonRedirect(e);if(r)return r;const n={pageId:e.pageId};r=await this.store.getResource(e,this.prefix,t,n);const{request:i,url:s}=e;if(("video"===i.destination||"audio"===i.destination)&&"navigate"!==i.mode)for(;r&&r.status>=301&&r.status<400;){const i=new URL(r.headers.get("location"),s);e.url=i.href,console.log(`resolve redirect ${s} -> ${e.url}`),r=await this.store.getResource(e,this.prefix,t,n)}return r}async makeTopFrame(e,t){let r=null;if(this.baseFrameUrl&&!this.baseFramePrefix?r=this.baseFrameUrl:!this.isRoot&&this.config.sourceUrl&&(r=this.baseFramePrefix||"./",r+=`?source=${this.config.sourceUrl}`),r){if(this.baseFrameHashReplay)r+=`#${t}/${e}`;else{r+="#"+new URLSearchParams({url:e,ts:t,view:"replay"}).toString()}return Response.redirect(r)}let n=null;if(this.config.topTemplateUrl){const r=await fetch(this.config.topTemplateUrl);n=(await r.text()).replace("$URL",e).replace("$TS",t).replace("$PREFIX",this.prefix)}else n=`\n<!DOCTYPE html>\n<html>\n<head>\n<style>\nhtml, body\n{\n  height: 100%;\n  margin: 0px;\n  padding: 0px;\n  border: 0px;\n  overflow: hidden;\n}\n\n</style>\n<script src='${this.staticPrefix}wb_frame.js'> <\/script>\n\n<script>\nwindow.home = "${this.rootPrefix}";\n<\/script>\n\n<script src='${this.staticPrefix}default_banner.js'> <\/script>\n<link rel='stylesheet' href='${this.staticPrefix}default_banner.css'/>\n\n</head>\n<body style="margin: 0px; padding: 0px;">\n<div id="wb_iframe_div">\n<iframe id="replay_iframe" name="___wb_replay_top_frame" frameborder="0" seamless="seamless" scrolling="yes" class="wb_iframe" allow="autoplay; fullscreen"></iframe>\n</div>\n<script>\n  var cframe = new ContentFrame({"url": "${e}",\n                                 "app_prefix": "${this.prefix}",\n                                 "content_prefix": "${this.prefix}",\n                                 "request_ts": "${t}",\n                                 "iframe": "#replay_iframe"});\n\n<\/script>\n</body>\n</html>\n`;let i={status:200,statusText:"OK",headers:{"Content-Type":"text/html","Content-Security-Policy":this.csp}};return new Response(n,i)}makeHeadInsert(e,t,r,n,i,s,o,a,c,l){const u=this.name,h=function(e){if(!e)return"";try{return""+parseInt(e.getTime()/1e3)}catch(e){return""}}(r),d=g(r.toISOString()),p=new URL(e);let y;y="https:"!==p.protocol&&"http:"!==p.protocol?c&&c.indexOf("/http://")>0?"http":"https":p.protocol.slice(0,-1),o&&(s=function(e,t){e=e.replace(f,"");const r=[];for(const n of e.split(",")){const e=n.split(";",1)[0];if(e!==n){const r=n.slice(e.length).toLowerCase();if(r.indexOf("httponly")>0)continue;if("http"===t&&r.indexOf("secure")>0)continue}r.push(e)}return r.join(";")}(o,y)+";"+s);const w=l&&Number(l.pixelRatio)?l.pixelRatio:1,m=l&&l.storage?btoa(l.storage):"",b=s?JSON.stringify(s):'""';return`\n\x3c!-- WB Insert --\x3e\n<style>\nbody {\n  font-family: inherit;\n  font-size: inherit;\n}\n</style>\n${this.injectRelCanon?`<link rel="canonical" href="${e}"/>`:""}\n<script>\n  wbinfo = {};\n  wbinfo.top_url = "${n}";\n  // Fast Top-Frame Redirect\n  if (window == window.top && wbinfo.top_url) {\n    var loc = window.location.href.replace(window.location.hash, "");\n    loc = decodeURI(loc);\n\n    if (loc != decodeURI(wbinfo.top_url)) {\n        window.location.href = wbinfo.top_url + window.location.hash;\n    }\n  }\n  wbinfo.url = "${e}";\n  wbinfo.timestamp = "${d}";\n  wbinfo.request_ts = "${t}";\n  wbinfo.prefix = decodeURI("${i}");\n  wbinfo.mod = "mp_";\n  wbinfo.is_framed = true;\n  wbinfo.is_live = ${a?"true":"false"};\n  wbinfo.coll = "${u}";\n  wbinfo.proxy_magic = "";\n  wbinfo.static_prefix = "${this.staticPrefix}";\n  wbinfo.enable_auto_fetch = true;\n  wbinfo.presetCookie = ${b};\n  wbinfo.storage = "${m}";\n  wbinfo.isSW = true;\n  wbinfo.pixel_ratio = ${w};\n  wbinfo.convert_post_to_get = ${this.convertPostToGet};\n  wbinfo.target_frame = "___wb_replay_top_frame";\n<\/script>\n<script src='${this.staticPrefix}wombat.js'> <\/script>\n<script>\n  wbinfo.wombat_ts = "${a?d:t}";\n  wbinfo.wombat_sec = "${h}";\n  wbinfo.wombat_scheme = "${y}";\n  wbinfo.wombat_host = "${p.host}";\n\n  ${this.noRewritePrefixes?`\n  wbinfo.wombat_opts = {"no_rewrite_prefixes": ${JSON.stringify(this.noRewritePrefixes)}}`:"\n  wbinfo.wombat_opts = {}\n  "}\n\n  if (window && window._WBWombatInit) {\n    window._WBWombatInit(wbinfo);\n  }\n<\/script>\n${this.injectScripts.map((e=>`<script src='${e}'> <\/script>`)).join("")}\n  `}}const Sr=(e,t)=>t.some((t=>e instanceof t));let Ir,Cr;const Rr=new WeakMap,xr=new WeakMap,kr=new WeakMap,Nr=new WeakMap,Br=new WeakMap;let Or={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return xr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||kr.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ur(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Dr(e){Or=e(Or)}function Lr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Cr||(Cr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Mr(this),t),Ur(Rr.get(this))}:function(...t){return Ur(e.apply(Mr(this),t))}:function(t,...r){const n=e.call(Mr(this),t,...r);return kr.set(n,t.sort?t.sort():[t]),Ur(n)}}function Pr(e){return"function"==typeof e?Lr(e):(e instanceof IDBTransaction&&function(e){if(xr.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),n()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));xr.set(e,t)}(e),Sr(e,Ir||(Ir=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Or):e)}function Ur(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Ur(e.result)),n()},s=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Rr.set(t,e)})).catch((()=>{})),Br.set(t,e),t}(e);if(Nr.has(e))return Nr.get(e);const t=Pr(e);return t!==e&&(Nr.set(e,t),Br.set(t,e)),t}const Mr=e=>Br.get(e);function Fr(e,t,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Ur(o);return n&&o.addEventListener("upgradeneeded",(e=>{n(Ur(o.result),e.oldVersion,e.newVersion,Ur(o.transaction),e)})),r&&o.addEventListener("blocked",(e=>r(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}function Hr(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",(e=>t(e.oldVersion,e))),Ur(r).then((()=>{}))}const jr=["get","getKey","getAll","getAllKeys","count"],zr=["put","add","delete","clear"],Wr=new Map;function Gr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Wr.get(t))return Wr.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=zr.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!jr.includes(r))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;return n&&(o=o.index(t.shift())),(await Promise.all([o[r](...t),i&&s.done]))[0]};return Wr.set(t,s),s}Dr((e=>({...e,get:(t,r,n)=>Gr(t,r)||e.get(t,r,n),has:(t,r)=>!!Gr(t,r)||e.has(t,r)})));const qr=["continue","continuePrimaryKey","advance"],Qr={},Vr=new WeakMap,Kr=new WeakMap,Yr={get(e,t){if(!qr.includes(t))return e[t];let r=Qr[t];return r||(r=Qr[t]=function(...e){Vr.set(this,Kr.get(this)[t](...e))}),r}};async function*Jr(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const r=new Proxy(t,Yr);for(Kr.set(r,t),Br.set(r,Mr(t));t;)yield r,t=await(Vr.get(r)||t.continue()),Vr.delete(r)}function Xr(e,t){return t===Symbol.asyncIterator&&Sr(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&Sr(e,[IDBIndex,IDBObjectStore])}Dr((e=>({...e,get:(t,r,n)=>Xr(t,r)?Jr:e.get(t,r,n),has:(t,r)=>Xr(t,r)||e.has(t,r)})));var Zr=__webpack_require__(9991);const $r=1024,en=/\[\d]+/,tn=[{match:/\/\/.*(?:gcs-vimeo|vod|vod-progressive)\.akamaized\.net.*?\/([\d/]+\.mp4)/,fuzzyCanonReplace:"//vimeo-cdn.fuzzy.replayweb.page/$1",split:".net"},{match:/\/\/.*player.vimeo.com\/(video\/[\d]+)\?.*/i,fuzzyCanonReplace:"//vimeo.fuzzy.replayweb.page/$1"},{match:/www.\washingtonpost\.com\/wp-apps\/imrs.php/,args:[["src"]]},{match:/(static.wixstatic.com\/.*\.[\w]+\/v1\/fill\/)(w_.*)/,replace:"$1?_args=$2",split:"/v1/fill"},{match:/(twimg.com\/profile_images\/[^/]+\/[^_]+)_([\w]+\.[\w]+)/,replace:"$1=_args=$2",split:"_",splitLast:!0},{match:/^https?:\/\/(?:www\.)?(youtube\.com\/embed\/[^?]+)[?].*/i,replace:"$1"},{match:/^(https?:\/\/(?:www\.)?)(youtube\.com\/@[^?]+)[?].*/i,fuzzyCanonReplace:"$1$2"},{match:/\/\/(?:www\.)?youtube(?:-nocookie)?\.com\/(get_video_info)/i,fuzzyCanonReplace:"//youtube.fuzzy.replayweb.page/$1",args:[["video_id"]]},{match:/\/\/(?:www\.)?youtube(?:-nocookie)?\.com\/(youtubei\/v1\/[^?]+\?).*(videoId[^&]+).*/i,fuzzyCanonReplace:"//youtube.fuzzy.replayweb.page/$1$2",args:[["videoId"]]},{match:/\/\/.*googlevideo.com\/(videoplayback)/i,fuzzyCanonReplace:"//youtube.fuzzy.replayweb.page/$1",args:[["id","itag"],["id"]],fuzzyArgs:!0},{match:/facebook\.com\/ajax\/pagelet\/generic.php\/photoviewerinitpagelet/i,args:[[{arg:"data",keys:["query_type","fbid","v","cursor","data"]}]]},{match:/(twitter.com\/[^/]+\/status\/[^?]+)(\?.*)/,fuzzyCanonReplace:"$1"},{match:/facebook\.com\/ajax\//i,fuzzySet:!0},{match:(rn=["(callback=jsonp)[^&]+(?=&|$)","((?:\\w+)=jquery)[\\d]+_[\\d]+","utm_[^=]+=[^&]+(?=&|$)","(_|cb|_ga|\\w*cache\\w*)=[\\d.-]+(?=$|&)"],new RegExp("[?&]"+rn.map((e=>"("+e+")")).join("|"),"gi")),replace:""},{match:/(\.(?:js|webm|mp4|gif|jpg|png|css|json|m3u8))\?.*/i,replace:"$1",maxResults:2}];var rn;const nn=new class{constructor(e){this.rules=e||tn}getRuleFor(e){let t;const r=-1===e.indexOf("?")?e+"?":e;for(const e of this.rules)if(r.match(e.match)){t=e;break}let n=e;t&&t.fuzzyCanonReplace&&(n=e.replace(t.match,t.fuzzyCanonReplace));const i=t&&t.split||"?",s=t&&t.splitLast?e.lastIndexOf(i):e.indexOf(i);return{prefix:s>0?e.slice(0,s+i.length):e,rule:t,fuzzyCanonUrl:n}}getFuzzyCanonsWithArgs(e){let{fuzzyCanonUrl:t,prefix:r,rule:n}=this.getRuleFor(e);t===e&&(t=r);const i=[];if(n&&n.args){const r=new URL(t),s=new URL(e);for(const e of n.args){const t=new URLSearchParams;for(const r of e)t.set(r,s.searchParams.get(r)||"");r.search=t.toString(),i.push(r.href)}return i}return[t]}fuzzyCompareUrls(e,t,r){if(!t||!t.length)return null;if(r&&void 0!==r.replace&&void 0!==r.match&&(!r.maxResults||t.length<=r.maxResults)){const n=r.match,i=r.replace,s=e.replace(n,i),o=[];for(const e of t){const t=("string"==typeof e?e:e.url).replace(n,i);if(s===t)return e;e.fuzzyMatchUrl=t,o.push(e)}t=o,e=s}return this.fuzzyBestMatchQuery(e,t,r)}fuzzyBestMatchQuery(e,t,r){try{e=new URL(e)}catch(e){return 0}const n=r&&r.args&&!r.fuzzyArgs?new Set(r.args[0]):null;let i=0,s=null;const o=new URLSearchParams(e.search);for(const e of t){if(204===e.status||304===e.status)continue;let t="string"==typeof e?e:e.fuzzyMatchUrl||e.url;try{t=new URL(t)}catch(e){continue}const a=new URLSearchParams(t.search);let c=this.getMatch(o,a,n,r&&r.fuzzySet);c+=this.getMatch(a,o,n),c/=2,e.status>200&&(c*=10**(3e-4*(200-e.status))),c>i&&(i=c,s=e)}return s}getMatch(e,t,r=null,n=!1){let i=1,s=1;const o={};for(let[a,c]of e){let e,l=t.get(a);if(r&&r.has(a)&&l!==c)return-1e3;e="_"===a[0]?.1:10,null!==l&&(i+=.5*e,l.length>$r&&(l=l.slice(0,$r))),c&&c.length>$r&&(c=c.slice(0,$r));const u=Number(c),h=Number(l);if(s+=e,n&&this.addSetMatch(o,a,c,l),l===c)i+=e*c.length;else if(null===l||null===c)i+=0;else if(isNaN(u)||isNaN(h))if(c.startsWith("{")&&l.startsWith("{"))try{const t=G(c),r=G(l);i+=this.getMatch(t,r)*e*2}catch(t){i+=.5*e*this.levScore(c,l)}else n||(i+=e*this.levScore(c,l));else i+=10-Math.log(Math.abs(u-h)+1)}return i/s+(n?this.paramSetMatch(o,100):0)}addSetMatch(e,t,r,n){if(!r||!n||"/"!==r[0]||"/"!==n[0])return;const i=t.split(en);if(i.length<=1)return;const s=r.indexOf("?"),o=n.indexOf("?"),a=i[0],c=s>0?r.slice(0,s):r,l=o>0?n.slice(0,o):n;e[a]||(e[a]={value:[],found:new Set}),e[a].value.push(c),e[a].found.add(l)}paramSetMatch(e,t){let r=0;for(const n of Object.values(e)){let e=t;for(const t of n.value)n.found.has(t)&&(r+=e),e*=.33}return r}levScore(e,t){const r=Math.min(e.length,t.length),n=Zr(e,t);return n<r?r-n:0}},sn=new Date("9999-01-01").getTime(),on="warc/revisit";class an{constructor(e,t={}){this.name=e,this.db=null;const{minDedupSize:r,noRefCounts:n}=t;this.minDedupSize=Number.isInteger(r)?r:1024,this.version=4,this.autoHttpsCheck=!0,this.useRefCounts=!n,this.allowRepeats=!0,this.repeatTracker=this.allowRepeats?new cn:null,this.fuzzyPrefixSearch=!0,this.initing=this.init()}async init(){let e=0;this.db=await Fr(this.name,this.version,{upgrade:(t,r,n,i)=>{e=r,this._initDB(t,r,n,i)},blocking:(e,t)=>{t||this.close()}}),1===e&&await this.convertCuratedPagesToV2(this.db)}_initDB(e,t){if(!t){const t=e.createObjectStore("pages",{keyPath:"id"});t.createIndex("url","url"),t.createIndex("ts","ts"),t.createIndex("state","state"),e.createObjectStore("pageLists",{keyPath:"id",autoIncrement:!0});e.createObjectStore("curatedPages",{keyPath:"id",autoIncrement:!0}).createIndex("listPages",["list","pos"]);const r=e.createObjectStore("resources",{keyPath:["url","ts"]});r.createIndex("pageId","pageId"),r.createIndex("mimeStatusUrl",["mime","status","url"]),e.createObjectStore("payload",{keyPath:"digest",unique:!0}),e.createObjectStore("digestRef",{keyPath:"digest",unique:!0})}}async clearAll(){const e=["pages","resources","payload","digestRef"];for(const t of e)await this.db.clear(t)}close(){this.db&&(this.db.close(),this.db=null)}async delete(){this.close(),await Hr(this.name,{blocked(e,t){console.log("Unable to delete: "+t)}})}async addPage(e,t){const r=e.url,n=e.title||e.url,i=e.id||this.newPageId(),s=e.state||17;let o=e.ts;if("number"!=typeof o)if(e.timestamp)o=y(e.timestamp).getTime();else{const t=e.ts||e.date||e.datetime;t&&(o=new Date(t).getTime())}const a={...e,url:r,ts:o,title:n,id:i,state:s};return t?(t.store.put(a),a.id):await this.db.put("pages",a)}async addPages(e,t="pages",r=!1){const n=this.db.transaction(t,"readwrite");for(const t of e)r?n.store.put(t):this.addPage(t,n);try{await n.done}catch(e){console.warn("addPages tx",e.toString())}}async createPageList(e){const t={};return t.title=e.title,t.desc=e.desc||e.description,t.slug=e.id||e.slug,await this.db.put("pageLists",t)}async addCuratedPageList(e,t){const r=await this.createPageList(e);let n=0;for(const e of t)e.pos=n++,e.list=r;await this.addPages(t,"curatedPages")}async addCuratedPageLists(e,t="pages",r="public"){for(const n of e){if(r&&!n[r])continue;const e=n[t]||[];await this.addCuratedPageList(n,e)}}async convertCuratedPagesToV2(e){const t=await e.getAll("curatedPages");if(!t||!t.length)return;const r=await e.getAll("pages"),n=new Map;for(const e of r)n.set(e.id,e);for(const e of t)if(e.page){const t=n.get(e.page);t&&(e.id=this.newPageId(),e.url=t.url,e.ts=t.ts,!e.title&&t.title&&(e.title=t.title)),delete e.page}await e.clear("curatedPages");const i=e.transaction("curatedPages","readwrite");for(const e of t)i.store.put(e);try{await i.done}catch(e){console.warn("Conversion Failed",e)}}async getCuratedPagesByList(){const e=await this.db.getAll("pageLists"),t=this.db.transaction("curatedPages","readonly");for await(const r of t.store.index("listPages").iterate()){const t=e[r.value.list-1];t&&(t.show=!0,t.pages||(t.pages=[]),t.pages.push(r.value))}return e}newPageId(){return E()}async getAllPages(){return await this.db.getAll("pages")}async getPages(e){const t=[];e.sort();for await(const r of this.matchAny("pages",null,e))t.push(r);return t}async getPagesWithState(e){return await this.db.getAllFromIndex("pages","state",e)}async getVerifyInfo(){return{}}async addVerifyData(){}async addVerifyDataList(){}async dedupResource(e,t,r,n=1){const i=r.objectStore("digestRef"),s=await i.get(e);if(s)return++s.count,s;if(t)try{r.objectStore("payload").put({digest:e,payload:t});return{digest:e,count:n,size:t.length}}catch(e){console.log(e)}return null}async addResources(e){const t=[],r=[],n={},i=new Set,s=this.db.transaction(["digestRef","payload"],"readwrite");for(const o of e){let e=1;const a=o.mime===on?t:r;a.push(o);const c=this.getFuzzyUrl(o);c&&(a.push(c),e=2),this.useRefCounts&&o.digest&&(n[o.digest]?(n[o.digest].count+=e,i.add(o.digest)):n[o.digest]=await this.dedupResource(o.digest,o.payload,s,e),delete o.payload)}if(this.useRefCounts){const e=s.objectStore("digestRef");for(const t of i)e.put(n[t])}try{await s.done}catch(e){console.error("Payload and Ref Count Bulk Add Failed: ",e)}const o=this.db.transaction("resources","readwrite");for(const e of t)o.store.put(e);for(const e of r)o.store.put(e);try{await o.done}catch(e){console.error("Resources Bulk Add Failed",e)}}getFuzzyUrl(e){if(e.status>=200&&e.status<400&&304!==e.status&&204!==e.status){const{fuzzyCanonUrl:t}=nn.getRuleFor(e.url);if(!t||t===e.url)return null;return{url:t,ts:e.ts,origURL:e.url,origTS:e.ts,pageId:e.pageId,digest:e.digest}}return null}async addResource(e){e.payload&&e.payload.length>this.minDedupSize&&(e.digest||(e.digest=await m(e.payload,"sha-256")));let t=null,r=!1;const n=this.db.transaction(["resources","digestRef","payload"],"readwrite");if(e.payload&&e.payload.length>this.minDedupSize?(t=await this.dedupResource(e.digest,e.payload,n),r=t&&1===t.count,delete e.payload):e.payload&&(r=!0),e.mime!==on){n.objectStore("resources").put(e);const r=this.getFuzzyUrl(e);r&&(n.objectStore("resources").put(r),t&&t.count++)}else n.objectStore("resources").add(e);t&&n.objectStore("digestRef").put(t);try{await n.done}catch(t){e.mime===on?console.log("Skip Duplicate revisit for: "+e.url):console.log("Add Error for "+e.url),console.log(t)}return r}async getResource(e,t,r,n={}){const i=y(e.timestamp).getTime();let s=e.url,o=null;const a=this.repeatTracker?this.repeatTracker.getSkipCount(r,s,e.request.method):0,c={...n,skip:a};if(s.startsWith("//")){let t=!1;o=await this.lookupUrl("https:"+s,i,c),o||(o=await this.lookupUrl("http:"+s,i,c),(o||e.request.referrer.indexOf("/http://",2)>0)&&(t=!0)),s=(t?"http:":"https:")+s}else if(o=await this.lookupUrl(s,i,c),!o&&this.autoHttpsCheck&&s.startsWith("http://")){const e=s.replace("http://","https://");o=await this.lookupUrl(e,i,c),o&&(s=e)}if(o||!this.fuzzyPrefixSearch||n.noFuzzyCheck||(o=await this.lookupQueryPrefix(s,n)),o&&o.origURL){const e=await this.lookupUrl(o.origURL,o.origTS||o.ts,n);e&&(s=e.url,o=e)}if(!o)return null;const l=o.status,u=o.statusText||S(l);let h=null;if(!T()&&(h=await this.loadPayload(o,n),!h))return null;const d=v(o.respHeaders),f=new Date(o.ts),p=o.extraOpts||null;return s=o.url,s!==e.url&&d.set("Content-Location",s),new Se({url:s,payload:h,status:l,statusText:u,headers:d,date:f,extraOpts:p})}async loadPayload(e){if(e.digest&&!e.payload){if("sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"===e.digest||"sha1:3I42H3S6NNFQ2MSVX7XZKYAYSCX5QBYJ"===e.digest)return new Uint8Array([]);const t=await this.db.get("payload",e.digest);if(!t)return null;const{payload:r}=t;return r}return e.payload}async lookupUrl(e,t,r={}){const n=this.db.transaction("resources","readonly");if(t){const i=IDBKeyRange.bound([e,t],[e,sn]);if(r.noRevisits||r.pageId){let e=await n.store.getAll(i,16);e=e||[];for(const t of e)if(!(r.pageId&&t.pageId&&t.pageId!==r.pageId||r.noRevisits&&t.mime===on))return t}else{const e=await n.store.get(i);if(e)return e}}const i=IDBKeyRange.bound([e],[e,t||sn]);for await(const e of n.store.iterate(i,"prev")){const t=e.value;if((!r.pageId||!t.pageId||t.pageId===r.pageId)&&(!r.noRevisits||t.mime!==on))return t}return null}async lookupQueryPrefix(e,t){const{rule:r,prefix:n,fuzzyCanonUrl:i}=nn.getRuleFor(e);if(i!==e){const e=await this.lookupUrl(i,0,t);if(e)return e}if(!r&&n===e&&n===i&&!e.endsWith("?"))return null;const s=await this.db.getAll("resources",this.getLookupRange(n,"prefix"),128e3);return nn.fuzzyCompareUrls(e,s,r)}resJson(e){const t=new Date(e.ts).toISOString();return{url:e.url,date:t,ts:g(t),mime:e.mime,status:e.status}}async resourcesByPage(e){return this.db.getAllFromIndex("resources","pageId",e)}async*resourcesByPages2(e){e.sort(),yield*this.matchAny("resources","pageId",e)}async*resourcesByPages(e){const t=this.db.transaction("resources","readonly");for await(const r of t.store.iterate())e.includes(r.value.pageId)&&(yield r.value)}async*matchAny(e,t,r,n,i=!1){const s=this.db.transaction(e,"readonly"),o=IDBKeyRange.lowerBound(r[0],i);let a=t?await s.store.index(t).openCursor(o):await s.store.openCursor(o),c=0;for(;a&&c<r.length;){let e,t,i;void 0!==n?(e=a.key[n],t=r[c][n],i=e.startsWith(t)):(e=a.key,t=r[c],i=e===t),!i&&e>t?++c:i?(yield a.value,a=await a.continue()):a=await a.continue(r[c])}}async resourcesByUrlAndMime(e,t,r=1e3,n=!0,i="",s=""){const o=t?null:r,a=await this.db.getAll("resources",this.getLookupRange(e,n?"prefix":"exact",i,s),o);t=t.split(",");const c=[];for(const e of a)for(const n of t)if(!n||e.mime&&e.mime.startsWith(n)){if(c.push(this.resJson(e)),c.length===r)return c;break}return c}async resourcesByMime(e,t=100,r="",n="",i=0){const s=[];(e=e.split(",")).sort();let o=[];r&&o.push([r,i,n]);for(const t of e)(!r||!t||t>r)&&o.push([t,0,""]);for await(const e of this.matchAny("resources","mimeStatusUrl",o,0,!0))if(s.push(this.resJson(e)),s.length===t)break;return s}async deletePage(e){const t=this.db.transaction("pages","readwrite"),r=await t.store.get(e);await t.store.delete(e);const n=await this.deletePageResources(e);return{pageSize:r&&r.size||0,dedupSize:n}}async deletePageResources(e){const t={},r=this.db.transaction("resources","readwrite");let n=await r.store.index("pageId").openCursor(e),i=0;for(;n;){const e=n.value.digest;e?t[e]=(t[e]||0)+1:n.value.payload&&(i+=n.value.payload.length),r.store.delete(n.primaryKey),n=await n.continue()}await r.done;const s=this.db.transaction(["payload","digestRef"],"readwrite"),o=s.objectStore("digestRef");for(const e of Object.keys(t)){const r=await o.get(e);r&&(r.count-=t[e]),r&&r.count>=1?o.put(r):(i+=r?r.size:0,o.delete(e),s.objectStore("payload").delete(e))}return await s.done,i}prefixUpperBound(e){return e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+1)}getLookupRange(e,t,r,n){let i,s,o;switch(t){case"prefix":i=[e],s=[this.prefixUpperBound(e)];break;case"host":{const t=new URL(e).origin;i=[t+"/"],s=[t+"0"];break}default:i=[e],s=[e,Number.MAX_SAFE_INTEGER]}return r?(i=[r,n||""],o=!0):o=!1,IDBKeyRange.bound(i,s,o,!0)}}class cn{constructor(){this.repeats={}}getSkipCount(e,t,r){if("POST"!==r&&!t.endsWith(".m3u8"))return 0;e.replacesClientId&&delete this.repeats[e.replacesClientId];const n=e.resultingClientId||e.clientId;return n?(void 0===this.repeats[n]&&(this.repeats[n]={}),void 0===this.repeats[n][t]?this.repeats[n][t]=0:this.repeats[n][t]++,this.repeats[n][t]):0}}const ln=["script","style","header","footer","banner-div","noscript"];class un{constructor(e=1e3){this.batchSize=e,this.promises=[],this.batch=[],this.count=0,this.dupeSet=new Set}addPage(e){this.promises.push(this.db.addPage(e))}isBatchFull(){return this.batch.length>=this.batchSize}addResource(e){if(this.isBatchFull()&&this.flush(),Number.isNaN(e.ts))return void console.warn("Skipping resource with missing/invalid ts: "+e.url);const t=e.url+" "+e.ts;if("warc/revisit"===e.mime){if(this.dupeSet.has(t))return void console.warn("Skipping duplicate revisit, prevent overriding non-revisit")}else this.dupeSet.add(t);this.batch.push(e)}flush(){this.batch.length>0&&this.promises.push(this.db.addResources(this.batch)),console.log(`Read ${this.count+=this.batch.length} records`),this.batch=[]}async finishIndexing(){this.flush(),this._finishLoad();try{await Promise.all(this.promises)}catch(e){console.warn(e)}this.promises=[]}_finishLoad(){}}class hn extends un{constructor(e,t=null,r=null,n=null){super(),this.reader=e,this.abort=t,this.loadId=r,this.anyPages=!1,this.detectPages=!1,this._lastRecord=null,this.metadata={},this.pageMap={},this.pages=[],this.lists=[],this.source=n}parseWarcInfo(e){if(!e.payload)return;const t=new TextDecoder("utf-8").decode(e.payload);for(const e of t.split("\n"))if(e.startsWith("json-metadata:"))try{const t=JSON.parse(e.slice("json-metadata:".length));if("collection"===t.type&&(this.metadata.desc=t.desc,this.metadata.title=t.title),t.pages&&t.pages.length){this.pages=this.pages.concat(t.pages);for(const e of t.pages)e.ts=y(e.timestamp).getTime(),this.pageMap[e.ts+"/"+e.url]={page:e};this.anyPages=!0}t.lists&&t.lists.length&&(this.lists=this.lists.concat(t.lists))}catch(e){console.log("Page Add Error",e.toString())}}index(e,t){if("warcinfo"!==e.warcType){if(this._lastRecord)return this._lastRecord.warcTargetURI!=e.warcTargetURI?(this.indexReqResponse(this._lastRecord,null,t),void(this._lastRecord=e)):void("request"===e.warcType&&"response"===this._lastRecord.warcType?(this.indexReqResponse(this._lastRecord,e,t),this._lastRecord=null):"response"===e.warcType&&"request"===this._lastRecord.warcType?(this.indexReqResponse(e,this._lastRecord,t),this._lastRecord=null):(this.indexReqResponse(this._lastRecord,null,t),this._lastRecord=e));this._lastRecord=e}else this.parseWarcInfo(e)}indexDone(e){this._lastRecord&&(this.indexReqResponse(this._lastRecord,null,e),this._lastRecord=null)}shouldIndexMetadataRecord(e){const t=e.warcTargetURI;return!(!t||!t.startsWith("metadata://"))}parseRevisitRecord(e,t){const r=e.warcTargetURI.split("#")[0],n=e.warcDate,i=new Date(n).getTime();let s;if(e.httpHeaders){const n=this.parseResponseHttpHeaders(e,r,t);s=n&&Object.fromEntries(n.headers.entries())}const o=e.warcRefersToTargetURI,a=new Date(e.warcRefersToDate).getTime();if(o===r&&a===i)return null;return{url:r,ts:i,origURL:o,origTS:a,digest:e.warcPayloadDigest,pageId:null,respHeaders:s}}parseResponseHttpHeaders(e,t,r){let n=200,i=null,s="";const o=r&&r.httpHeaders.method;if(e.httpHeaders){if(n=Number(e.httpHeaders.statusCode)||200,"OPTIONS"===o||"HEAD"===o)return null;if(i=v(e.httpHeaders.headers),s=(i.get("content-type")||"").split(";")[0],206===n&&!this.isFullRangeRequest(i))return null;if(n>300&&n<400){const e=i.get("location");if(e&&new URL(e,t).href===t)return null}}else i=new Headers,i.set("content-type",e.warcContentType),i.set("content-length",e.warcContentLength),s=e.warcContentType;return{status:n,method:o,headers:i,mime:s}}indexReqResponse(e,t){const r=this.parseRecords(e,t);r&&this.addResource(r)}parseRecords(e,t){switch(e.warcType){case"revisit":return this.parseRevisitRecord(e,t);case"resource":t=null;break;case"response":break;case"metadata":if(!this.shouldIndexMetadataRecord(e))return null;break;default:return null}let r=e.warcTargetURI.split("#")[0];const n=e.warcDate,i=this.parseResponseHttpHeaders(e,r,t);if(!i)return null;const{status:s,method:o,headers:a,mime:c}=i;let l,u,h=null,d=null;if(t&&t.httpHeaders.headers){let e=null;try{e=new Headers(t.httpHeaders.headers);const r=e.get("cookie");r&&a.set("x-wabac-preset-cookie",r),h=t.httpHeaders.headers.get("Referer")}catch(t){e=new Headers,console.warn(t)}if(u=Object.fromEntries(e.entries()),"GET"!==o){const n={headers:e,method:o,url:r,postData:t.payload};z(n)&&(l=r,r=n.url,d=t.payload)}}if(void 0===this.detectPages&&(this.detectPages=!this.anyPages),this.detectPages&&function(e,t,r){if(200!=t)return!1;if(!e.startsWith("http:")&&!e.startsWith("https:")&&!e.startsWith("blob:"))return!1;if(e.endsWith("/robots.txt"))return!1;const n=e.split("?",2);if(2===n.length&&n[1].length>n[0].length)return!1;if(n[0].substring(n[0].lastIndexOf("/")+1).startsWith("."))return!1;if(r&&"text/html"!==r)return!1;return!0}(r,s,c)){const e=r;this.addPage({url:r,date:n,title:e})}const f=new Date(n).getTime(),p=Object.fromEntries(a.entries()),g=e.warcPayloadDigest,y=e.payload,w={url:r,ts:f,status:s,mime:c,respHeaders:p,reqHeaders:u,digest:g,payload:y,reader:y?null:e.reader,referrer:h};this.pageMap[f+"/"+r]&&y&&c.startsWith("text/")&&(this.pageMap[f+"/"+r].textPromise=async function(e,t,r,n){const i=new sr,s=[];let o=null;i.on("text",(e=>{if(o)return;const t=e.text.trim();t&&s.push(t)})),i.on("startTag",(e=>{!e.selfClosing&&ln.includes(e.tagName)&&(o=e.tagName)})),i.on("endTag",(e=>{e.tagName===o&&(o=null)})),(r||n)&&(t=await ve(t,r,n)),i.end((new TextDecoder).decode(t));const a=new Promise((e=>{i.on("end",(()=>{e(s.join(" "))}))}));return await a}(0,y,a.get("content-encoding"),a.get("transfer-encoding")));const m=e.warcHeader("WARC-JSON-Metadata");if(m)try{w.extraOpts=JSON.parse(m)}catch(e){}const b=e.warcHeader("WARC-Page-ID");return b&&(w.pageId=b),this.sourceExtra&&(w.source=this.sourceExtra),"GET"!==o&&l&&null!==d&&(w.requestUrl=l,w.method=o,w.requestBody=d),w}isFullRangeRequest(e){const t=e.get("content-range"),r=parseInt(e.get("content-length")||0);return t&&t===`bytes 0-${r-1}/${r}`}filterRecord(){return null}async load(e,t,r){this.db=e;const n=new he(this.reader);let i=0,s=0,o=0;try{for await(const e of n){if(o++,!e.warcType){console.log("skip empty record");continue}if(self.interruptLoads&&this.loadId&&self.interruptLoads[this.loadId])throw t(Math.round(n.offset/r*95),"Loading Canceled",n.offset,r),self.interruptLoads[this.loadId](),this.abort&&this.abort.abort(),new O;if(s=(new Date).getTime(),s-i>500){const e=`Processed ${o} records`;t(Math.round(n.offset/r*95),null,n.offset,r,null,e),i=s}const a=this.filterRecord(e);if("done"===a){this.abort&&this.abort.abort();break}if("skip"!==a&&("skipContent"===a?await e.skipFully():await e.readFully(),o++,this.index(e,n),this.promises.length>0)){try{await Promise.all(this.promises)}catch(e){console.warn(e.toString())}this.promises=[]}}}catch(e){if(e instanceof O)throw e;t(Math.round(n.offset/r*95),`Sorry there was an error downloading. Please try again (${e})`,n.offset,r),console.warn(e)}return this.indexDone(n),t(95,null,n.offset,r),await this.finishIndexing(),t(100,null,r,r),this.metadata}async _finishLoad(){if(this.pages.length){for(const{page:e,textPromise:t}of Object.values(this.pageMap))if(t)try{e.text=await t}catch(e){console.warn("Error adding text: "+e.toString())}this.promises.push(this.db.addPages(this.pages))}this.lists.length&&this.promises.push(this.db.addCuratedPageLists(this.lists,"bookmarks","public"))}}class dn extends hn{constructor(e){super(e),this.detectPages=!1}addPage(){}async load(){const e=await new he(this.reader).parse();if(!e)return null;const t=this.parseRecords(e,null);return t&&"revisit"!==e.warcType||await e.readFully(),t}}const fn="https://w3s.link/";function pn(e){const{hostname:t,protocol:r,pathname:n}=new URL(e),i=r.slice(0,-1);if(!t){const[e,...t]=n.slice(2).split("/");return{type:i,cid:e,path:"/"+t.join("/")}}return{type:i,cid:t,path:n}}async function gn(e){return En(e)?e:vn(e)?mn(e):e}async function yn(e){return new Response(e).blob()}async function*wn(e){const t=await e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)return;yield r}}finally{t.releaseLock()}}function mn(e){let t=e;t.next||(t=e[Symbol.asyncIterator]());const r=new TextEncoder;return new ReadableStream({async pull(e){const{value:n,done:i}=await t.next();if(i)await e.close();else{let t=n;"string"==typeof t&&(t=r.encode(t)),await e.enqueue(t)}}})}async function bn(e){if(!e.ok){const t=await e.text(),r=e.status;throw new Error(`HTTP Error ${r}: ${t}`)}}async function An({url:e,file:t,fileName:r="",parameterName:n="file",fetch:i=globalThis.fetch,signal:s}){const o=new FormData,a=new Headers;_n(e,a);const c=await async function(e){if(En(e))return await yn(e);if(vn(e)){const t=mn(e);return await yn(t)}return e instanceof Blob?e:new Blob([e])}(t);r?o.append(n,c,r):o.append(n,c);const l=await i(e,{method:"POST",body:o,headers:a,signal:s});return await bn(l),l}function En(e){return"function"==typeof e.getReader}function vn(e){return e[Symbol.asyncIterator]}function _n(e,t){if(e.password)if(e.username){const r=`Basic ${btoa(`${unescape(e.username)}:${unescape(e.password)}`)}`;t.append("Authorization",unescape(r)),e.username="",e.password=""}else{const r=`Bearer ${e.password}`;t.append("Authorization",unescape(r)),e.password=""}}async function Tn({url:e,fetch:t=globalThis.fetch,signal:r}){const n=await t(e,{method:"HEAD",signal:r});await bn(n);const i=n.headers.get("x-ipfs-datasize")||n.headers.get("Content-Length");return parseInt(i,10)}async function*Sn({url:e,start:t,end:r,format:n,signal:i,fetch:s=globalThis.fetch}){const o=new Headers;Number.isInteger(t)&&(Number.isInteger(r)?o.set("Range",`bytes=${t}-${r}`):o.set("Range",`bytes=${t}-`));const a=new URL(e);n&&(o.set("Accept",`application/vnd.ipld.${n}`),o.set("cache-control","no-cache"));const c=await s(a.href,{headers:o,signal:i});await bn(c),yield*wn(c.body)}async function*In({url:e,start:t,end:r,format:n,signal:i,gatewayURL:s=Cn()}){const o=function(e,t=Cn()){const{cid:r,path:n,type:i}=pn(e);return new URL(`/${i}/${r}${n}`,t)}(e,s);yield*Sn({url:o,start:t,end:r,format:n,signal:i})}function Cn(){if(!globalThis.location)return fn;const{pathname:e,hostname:t,protocol:r}=globalThis.location;if(e.startsWith("/ipfs/")||e.startsWith("/ipns/"))return`${r}//${t}/`;const[n,...i]=t.split(".");return 59===n.length&&i.length>=2?`${r}//${i.join(".")}/`:fn}let Rn=!1;const xn=[5001,45001,45002,45003,45004,45005],kn="https://api.web3.storage/",Nn="https://api.estuary.tech/",Bn="http://localhost:5001/",On="agregore",Dn="daemon",Ln="web3.storage",Pn="estuary",Un="readonly",Mn=[On,Dn,Ln,Pn,Un];class Fn{get type(){return"invalid"}async*get(e,{start:t,end:r,signal:n=null,format:i=null}={}){throw new Error("Not Implemented")}async getSize(e,t=null){throw new Error("Not Implemented")}async uploadCAR(e,t=null){throw new Error("Not Implemented")}async uploadFile(e,t,r=null){throw new Error("Not Implemented")}async clear(e,t=null){throw new Error("Not Implemented")}}async function Hn({daemonURL:e,web3StorageToken:t,web3StorageURL:r=kn,estuaryToken:n,estuaryURL:i=Nn,publicGatewayURL:s=Cn(),readonly:o=!0,timeout:a=1e3,fetch:c=globalThis.fetch}={}){const l=[],u=[];if(u.push(async function(e=globalThis.fetch){try{return await e("ipfs://localhost/"),!0}catch(e){return Rn&&console.warn("Unable to detect Agregore",e),!1}}(c).then((e=>e&&l.push({type:On,fetch:c})))),u.push(async function(){const e=xn.map((e=>`http://localhost:${e}`));try{const r=await Promise.any(e.map((e=>Yn(e).then((t=>{if(t)return e;throw new Error("Not found")})))));return!!r&&(Kn&&!Vn&&(t=r,Vn=!0,globalThis.chrome.webRequest.onBeforeSendHeaders.addListener((e=>{const{requestHeaders:r}=e;for(const e of r)if("origin"===e.name.toLowerCase())return e.value=t,{requestHeaders:r};return e.requestHeaders.push({name:"Origin",value:t}),{requestHeaders:r}}),{urls:[t+"/*"]},["blocking","requestHeaders","extraHeaders"])),r)}catch{return!1}var t}().then((e=>e&&l.push({type:Dn,url:e,fetch:c})))),e&&u.push(Yn(e,a,c).then((t=>t&&l.push({type:Dn,url:e,fetch:c})))),n){const e=i,t=n;l.push({type:Pn,url:e,authorization:t,fetch:c,publicGatewayURL:s})}if(t){const e=r,n=t;l.push({type:Ln,url:e,authorization:n,fetch:c,publicGatewayURL:s})}return o&&s&&l.push({type:Un,fetch:c,publicGatewayURL:s}),await Promise.allSettled(u),l}async function jn({chooseOrder:e=Mn,...t}={}){const r=function(e,t=Mn){const r=e.filter((({type:e})=>t.includes(e))).sort((({type:e},{type:r})=>t.indexOf(e)-t.indexOf(r))),n=r[0];if(!n)throw new Error("Unable to find valid type");return n}(await Hn(t),e);return async function(e){const{type:t}=e;let r=null;if(t===On)r=new Gn(e.fetch||globalThis.fetch);else if(t===Dn)r=new Qn(e.url);else if(t===Ln)r=new qn(e.authorization,e.url,e.publicGatewayURL);else if(t===Pn)r=new Wn(e.authorization,e.url,e.publicGatewayURL);else{if(t!==Un)throw new TypeError(`Unknown API type: ${t}.`);r=new zn(e.publicGatewayURL)}return r}(r)}class zn extends Fn{constructor(e=Cn()){super(),this.gatewayURL=e}get type(){return Un}async*get(e,{start:t,end:r,signal:n=null,format:i=null}={}){yield*In({url:e,start:t,end:r,format:i,gatewayURL:this.gatewayURL,signal:n})}async getSize(e,t=null){const{cid:r,path:n,type:i}=pn(e);return Tn({url:new URL(`/${i}/${r}${n}`,this.gatewayURL),signal:t})}}class Wn extends zn{constructor(e,t=Nn,r=Cn()){super(r),this.authorization=e,this.url=t}get type(){return Pn}async uploadCAR(e,t=null){throw new Error("Not Implemented")}async uploadFile(e,t,r=null){const n=new URL("/content/add",this.url);n.password=this.authorization;const i=await An({url:n,file:e,fileName:t,parameterName:"data",signal:r}),{cid:s}=await i.json();return`ipfs://${s}/`}}class Gn extends Fn{constructor(e=globalThis.fetch){super(),this.fetch=e}get type(){return On}async*get(e,{start:t,end:r,signal:n=null,format:i=null}={}){const{fetch:s}=this;yield*Sn({url:e,start:t,end:r,format:i,fetch:s,signal:n})}async getSize(e,t=null){const{fetch:r}=this;return Tn({url:e,fetch:r,signal:t})}async uploadCAR(e,t=null){const r=await gn(e),{fetch:n}=this,i=await n("ipfs://localhost",{method:"POST",headers:{"Content-Type":"application/vnd.ipld.car"},signal:t,body:r});await bn(i);return(await i.text()).split("\n")}async uploadFile(e,t=null){const r=await gn(e),{fetch:n}=this,i=await n("ipfs://localhost",{method:"POST",headers:{"Content-Type":"application/octet-stream"},signal:t,body:r});return await bn(i),i.headers.get("Location")}}class qn extends zn{constructor(e,t=kn,r=Cn()){super(r),this.authorization=e,this.url=t}get type(){return Ln}async uploadCAR(e,t=null){const r=new URL("/car",this.url);r.password=this.authorization;const n=await async function({url:e,fileIterator:t,signal:r}){const n=new Headers;n.set("Content-Type","application/octet-stream"),_n(e,n);const i=await gn(t),s=await fetch(e,{method:"POST",signal:r,body:i,headers:n,duplex:"half"});return await bn(s),s}({url:r,fileIterator:e,signal:t});return(await n.text()).split("\n").filter((e=>e)).map((e=>{const{cid:t}=JSON.parse(e);return`ipfs://${t}/`}))}async uploadFile(e,{fileName:t="",signal:r=null}={}){const n=new URL("/upload",this.url);n.password=this.authorization;const i=await An({url:n,file:e,fileName:t,signal:r}),{cid:s}=await i.json();return`ipfs://${s}/`}}class Qn extends Fn{constructor(e=Bn){super(),this.url=e}get type(){return Dn}async*get(e,{start:t,end:r,signal:n=null,format:i=null}={}){const{cid:s,path:o,type:a}=pn(e),c=new URL(`/api/v0/cat?arg=/${a}/${s}${o}`,this.url);if(t&&c.searchParams.set("offset",t),r&&c.searchParams.set("length",r-(t||0)+1),i)throw new Error("Format is unsupported on Kubo Daemons for now");const l=await fetch(c,{method:"POST",signal:n});await bn(l),yield*wn(l.body)}async getSize(e,t=null){try{const{cid:r,path:n,type:i}=pn(e),s=`/api/v0/file/ls?arg=/${i}/${r}${n}&size=true`,o=new URL(s,this.url),a=await fetch(o,{method:"POST",signal:t});await bn(a);const{Objects:c}=await a.json(),[{Size:l}]=Object.values(c);return l}catch(r){return Rn&&console.warn(r),this._getSizeWithDag(e,t)}}async _getSizeWithDag(e,t=null){const{cid:r,path:n,type:i}=pn(e),s=new URL(`/api/v0/dag/stat?arg=/${i}/${r}${n}`,this.url),o=await fetch(s,{method:"POST",signal:t});await bn(o);const{Size:a}=await o.json();return parseInt(a,10)}async _pin(e,t=null){const{cid:r,path:n,type:i}=pn(e),s=new URL(`/api/v0/pin/add?arg=/${i}/${r}${n}`,this.url),o=await fetch(s,{method:"POST",signal:t});await bn(o)}async _unpin(e,t=null){const{cid:r,path:n,type:i}=pn(e),s=new URL(`/api/v0/pin/rm?arg=/${i}/${r}${n}`,this.url),o=await fetch(s,{method:"POST",signal:t});await bn(o)}async clear(e,t=null){return this._unpin(e,t)}async uploadCAR(e,t=null){const r=new URL("/api/v0/dag/import?allow-big-block=true&pin-roots=true",this.url),n=await An({url:r,file:e,signal:t});return(await n.text()).split("\n").filter((e=>e)).map((e=>{const{Root:t}=JSON.parse(e);return`ipfs://${t.Cid["/"]}/`}))}async uploadFile(e,t="",r=null){const n=new URL("/api/v0/add?pin=true&cid-version=1&inline=false&raw-leaves=true",this.url),i=e.name&&e instanceof Blob;(t||i)&&n.searchParams.set("wrap-with-directory","true");const s=await An({url:n,file:e,fileName:t,signal:r}),o=await s.text(),[a]=o.split("\n"),{Hash:c}=JSON.parse(a),l=`ipfs://${c}/`;return await this._pin(l,r),l}}let Vn=!1;const Kn=!!(globalThis&&globalThis.chrome&&globalThis.chrome.webRequest&&globalThis.chrome.webRequest.onBeforeSendHeaders&&globalThis.chrome.webRequest.onBeforeSendHeaders.addListener);async function Yn(e=Bn,t=1e3,r=globalThis.fetch){try{const n=new AbortController,{signal:i}=n;setTimeout((()=>n.abort()),t);const s=await r(new URL("/api/v0/version",e),{method:"POST",signal:i});return!!s.ok||!(!s.status||404===s.status)}catch(t){return Rn&&console.warn("Unable to detect Kubo Daemon",t,e),!1}}let Jn=null;async function Xn(e){return Jn||(Jn=await jn(e)),Jn}const Zn="https://helper-proxy.webrecorder.workers.dev";async function $n(e){const{url:t}=e;if(e.extra&&e.extra.arrayBuffer)return new ri(e.extra.arrayBuffer);const r=t.split(":",1)[0];switch(r){case"blob":return new ni(e);case"http":case"https":return new ei(e);case"file":return new ii(e);case"googledrive":return new ti(e);case"ipfs":return new si(e)}try{if(self.location&&r===self.location.protocol.split(":")[0])return new ei(e)}catch(e){}try{return await fetch(`${r}://localhost`,{method:"HEAD"}),new ei(e)}catch(e){}throw new Error("Invalid URL: "+t)}class ei{constructor({url:e,headers:t,length:r=null,canLoadOnDemand:n=!1}){this.url=e,this.headers=t||{},this.length=r,this.canLoadOnDemand=n,this.isValid=!1,this.ipfsAPI=null,this.loadingIPFS=null}async doInitialFetch(e,t=!1){const r=new Headers(this.headers);t||r.set("Range","bytes=0-"),this.isValid=!1;let n=null,i=null;if(e)try{i=await this.retryFetch(this.url,{headers:r,method:"HEAD",cache:"no-store"}),200!==i.status&&206!=i.status||(this.canLoadOnDemand=206===i.status||"bytes"===i.headers.get("Accept-Ranges"),this.isValid=!0)}catch(e){}if(!this.isValid||!this.canLoadOnDemand){n=new AbortController;const t=n.signal;i=await this.retryFetch(this.url,{headers:r,signal:t,cache:"no-store"}),this.canLoadOnDemand=206===i.status||"bytes"===i.headers.get("Accept-Ranges"),this.isValid=206===i.status||200===i.status,e&&(n.abort(),n=null)}if(null===this.length&&(this.length=Number(i.headers.get("Content-Length")),!this.length&&206===i.status)){let e=i.headers.get("Content-Range");e&&(e=e.split("/"),2===e.length&&(this.length=e[1]))}if(null===this.length)try{const e=await fetch(`${Zn}/c/${this.url}`),t=await e.json();t.size&&(this.length=t.size)}catch(e){console.log("Error fetching from helper: "+e.toString())}return this.length=Number(this.length||0),{response:i,abort:n}}async getLength(){if(null===this.length){const{abort:e}=await this.doInitialFetch(!0);e&&e.abort()}return this.length}async getRange(e,t,r=!1,n=null){const i=new Headers(this.headers);i.set("Range",`bytes=${e}-${e+t-1}`);const s={signal:n,headers:i,cache:"no-store"};let o=null;try{o=await this.retryFetch(this.url,s)}catch(e){throw console.log(e),new k(this.url)}if(206!=o.status){const e={url:this.url,status:o.status,resp:o};throw 401===o.status?new N(e):403==o.status?new B(e):new k(e)}return r?o.body:new Uint8Array(await o.arrayBuffer())}async retryFetch(e,t){let r=null,n=1e3;for(let i=0;i<20&&(r=await fetch(e,t),429===r.status);i++)await D(n),n+=2e3;return r}}class ti{constructor({url:e,headers:t,size:r,extra:n}){this.fileId=e.slice("googledrive://".length),this.apiUrl=`https://www.googleapis.com/drive/v3/files/${this.fileId}?alt=media`,this.canLoadOnDemand=!0,this.headers=t,n&&n.publicUrl?this.publicUrl=n.publicUrl:this.publicUrl=null,this.length=r,this.isValid=!1}async getLength(){return this.length}async doInitialFetch(e){let t=null,r=null;if(this.publicUrl){t=new ei({url:this.publicUrl,length:this.length});try{r=await t.doInitialFetch(e)}catch(e){}if(!t.isValid&&(r&&r.abort&&r.abort.abort(),await this.refreshPublicUrl())){t=new ei({url:this.publicUrl,length:this.length});try{r=await t.doInitialFetch(e)}catch(e){}!t.isValid&&r&&r.abort&&r.abort.abort()}}return t&&t.isValid||(this.publicUrl=null,t=new ei({url:this.apiUrl,headers:this.headers,length:this.length}),r=await t.doInitialFetch(e)),this.isValid=t.isValid,this.length||(this.length=t.length),r}async getRange(e,t,r=!1,n){let i=null;if(this.publicUrl){i=new ei({url:this.publicUrl,length:this.length});try{return await i.getRange(e,t,r,n)}catch(s){if(await this.refreshPublicUrl()){i=new ei({url:this.publicUrl,length:this.length});try{return await i.getRange(e,t,r,n)}catch(e){}}}this.publicUrl=null}i=new ei({url:this.apiUrl,headers:this.headers,length:this.length});let s=50;for(;s<2e3;)try{return await i.getRange(e,t,r,n)}catch(e){if(e instanceof B&&e.info&&e.info.resp&&e.info.resp.headers.get("content-type").startsWith("application/json")){const t=await e.info.resp.json();if(t.error&&t.error.errors&&"userRateLimitExceeded"===t.error.errors[0].reason){console.log(`Exponential backoff, waiting for: ${s}`),await D(s),s*=2;continue}}throw e}}async refreshPublicUrl(){try{const e=await fetch(`${Zn}/g/${this.fileId}`),t=await e.json();if(t.url)return this.publicUrl=t.url,!0}catch(e){}return!1}}class ri{constructor(e){this.arrayBuffer=e,this.size=e.length,this.canLoadOnDemand=!0}get length(){return this.size}get isValid(){return!!this.arrayBuffer}async getLength(){return this.size}async doInitialFetch(e=!1){const t=e?null:ai(this.arrayBuffer);return{response:new Response(t)}}async getRange(e,t,r=!1){const n=this.arrayBuffer.slice(e,e+t);return r?ai(n):n}}class ni{constructor({url:e,blob:t=null,size:r=null}){this.url=e,this.blob=t,this.size=this.blob?this.blob.size:r,this.canLoadOnDemand=!0}get length(){return this.size}get isValid(){return!!this.blob}async getLength(){if(!this.blob||!this.blob.size){let e=await fetch(this.url);this.blob=await e.blob(),this.size=this.blob.size}return this.size}async doInitialFetch(e=!1){if(!this.blob)try{const e=await fetch(this.url);this.blob=await e.blob(),this.size=this.blob.size}catch(e){throw console.warn(e),e}this.arrayBuffer=this.blob.arrayBuffer?await this.blob.arrayBuffer():await this._getArrayBuffer(),this.arrayBuffer=new Uint8Array(this.arrayBuffer);const t=e?null:ai(this.arrayBuffer);return{response:new Response(t)}}async getRange(e,t,r=!1){this.arrayBuffer||await this.doInitialFetch(!0);const n=this.arrayBuffer.slice(e,e+t);return r?ai(n):n}_getArrayBuffer(){return new Promise((e=>{const t=new FileReader;t.onloadend=()=>{e(t.result)},t.readAsArrayBuffer(this.blob)}))}}class ii{constructor({blob:e,size:t,extra:r,url:n}){this.url=n,this.file=e,this.size=this.blob?this.blob.size:t,this.fileHandle=r.fileHandle,this.canLoadOnDemand=!0}get length(){return this.size}get isValid(){return!!this.file}async getLength(){return void 0===this.size&&await this.initFileObject(),this.size}async initFileObject(){const e={mode:"read"};if("granted"!==await this.fileHandle.queryPermission(e)){if("granted"!==await this.fileHandle.requestPermission(e))throw new N({fileHandle:this.fileHandle})}this.file=await this.fileHandle.getFile(),this.size=this.file.size}async doInitialFetch(e=!1){this.file||await this.initFileObject();const t=e?null:this.file.stream();return{response:new Response(t)}}async getRange(e,t,r=!1){this.file||await this.initFileObject();const n=this.file.slice(e,e+t);return r?n.stream():new Uint8Array(await n.arrayBuffer())}}class si{constructor({url:e,headers:t,...r}){this.url=e,this.opts=r;let n=e.lastIndexOf("#");n<0&&(n=void 0),this.headers=t,this.length=null,this.canLoadOnDemand=!0}async getLength(){return null===this.length&&await this.doInitialFetch(!0),this.length}async doInitialFetch(e){const t=await Xn(this.opts);try{this.length=await t.getSize(this.url),this.isValid=null!==this.length}catch(e){console.warn(e),this.length=null,this.isValid=!1}let r=206;this.isValid||(r=404);const n=new AbortController,i=n.signal;let s;if(e||!this.isValid)s=new Uint8Array([]);else{s=oi(t.get(this.url,{signal:i}))}return{response:new Response(s,{status:r}),abort:n}}async getRange(e,t,r=!1,n=null){const i=(await Xn(this.opts)).get(this.url,{start:e,end:e+t-1,signal:n});if(r)return oi(i);{const e=[];let t=0;for await(const r of i)e.push(r),t+=r.byteLength;return Q(e,t)}}}function oi(e){return new ReadableStream({start:async t=>{try{for await(const r of e)t.enqueue(r)}catch(e){console.log(e)}t.close()}})}function ai(e){return new ReadableStream({start(t){t.enqueue(e),t.close()}})}class ci extends an{constructor(e,t=!1){super(e),this.noCache=t,this.useRefCounts=!t,this.streamMap=new Map}async loadRecordFromSource(e){const t=await this.loadSource(e.source),r=new dn(t);return{remote:await r.load()}}async loadPayload(e,t){let r=await super.loadPayload(e,t);if(r&&e.respHeaders&&("warc/revisit"!==e.mime||e.status>=300&&e.status<400))return r;const n=this.streamMap.get(e.url);if(n)return console.log(`Reuse stream for ${e.url}`),new hi(n);const{remote:i,hasher:s}=await this.loadRecordFromSource(e);if(!i)return console.log(`No WARC Record Loaded for: ${e.url}`),null;if(!(i.url===e.url||e.method&&e.url.startsWith(i.url)))return console.log(`Wrong url: expected ${e.url}, got ${i.url}`),null;if(i.ts!==e.ts){if(1e3*Math.floor(i.ts/1e3)!==e.ts)return console.log(`Wrong timestamp: expected ${e.ts}, got ${i.ts}`),null}if(i.digest!==e.digest&&e.digest&&i.digest){const t=i.digest.split(":"),r=e.digest.split(":");2===t.length&&2===r.length&&r[1]===t[1]?e.digest=t[0]+":"+r[1]:console.log(`Wrong digest: expected ${e.digest}, got ${i.digest}`)}if(i.origURL){if(!r&&e.status>=300&&e.status<400&&i.respHeaders){if(e.respHeaders=i.respHeaders,!this.noCache)try{await this.db.put("resources",e)}catch(e){console.log(e)}return new Uint8Array([])}const n=await this.lookupUrl(i.origURL,i.origTS,{...t,noRevisits:!0});if(!n)return null;const s=t&&t.depth||0;if(!r&&(s<2?r=await this.loadPayload(n,{...t,depth:s+1}):console.warn("Avoiding revisit lookup loop for: "+JSON.stringify(i)),!r))return null;if(e.respHeaders=i.respHeaders?i.respHeaders:n.respHeaders,e.mime=n.mime,e.digest=n.digest,n.extraOpts&&(e.extraOpts=n.extraOpts),!this.noCache){delete e.payload;try{await this.db.put("resources",e)}catch(e){console.log(e)}n.digest===i.digest||r[Symbol.asyncIterator]||await this.commitPayload(r,i.digest)}return r}const o=i.digest;if(!this.noCache&&i.reader&&o&&(i.reader=new fi(this,i.reader,o,e.url,this.streamMap,s,e.recordDigest,e.source)),r=i.payload,!r&&!i.reader)return null;try{r&&!this.noCache&&await this.commitPayload(r,o)}catch(t){console.warn(`Payload Update Error: ${e.url}`),console.warn(t)}if(!(e.respHeaders&&e.digest||(e.respHeaders=i.respHeaders,e.digest=o,i.extraOpts&&(e.extraOpts=i.extraOpts),this.noCache)))try{await this.db.put("resources",e)}catch(t){console.warn(`Resource Update Error: ${e.url}`),console.warn(t)}return r||i.reader}async commitPayload(e,t){if(!e||0===e.length)return;const r=this.db.transaction(["payload","digestRef"],"readwrite");try{if(r.objectStore("payload").put({payload:e,digest:t}),this.useRefCounts){const n=await r.objectStore("digestRef").get(t);n&&(n.size=e.length,r.objectStore("digestRef").put(n))}await r.done}catch(e){console.warn("Payload Commit Error: "+e)}}}class li extends ci{constructor(e,t,r=!1){super(e,r),this.loader=t}updateHeaders(e){this.loader.headers=e}async loadSource(e){const{start:t,length:r}=e;return await this.loader.getRange(t,r,!0)}}class ui extends ci{constructor(e,t,r,n=!1){super(e,n),this.remoteUrlPrefix=t,this.headers=r}updateHeaders(e){this.headers=e}async loadSource(e){const{start:t,length:r}=e,n=(new Headers(this.headers),new URL(e.path,this.remoteUrlPrefix).href),i=await $n(n);return await i.getRange(t,r,!0)}}class hi extends J{constructor(e){super(),this.chunkstore=e,this.offset=0,this.size=this.chunkstore.totalLength}setLimitSkip(e=-1,t=0){this.offset=t,e>0&&(this.size=e)}setRangeAll(e){this.size=e}getReadableStream(){console.log(`Offset: ${this.offset}, Size: ${this.size}`);const e=this.chunkstore.getChunkIter();return new Z(e,this.size,this.offset).getReadableStream()}}class di{constructor(e){this.chunks=[],this.size=0,this.done=!1,this.totalLength=e,this.nextChunk=new Promise((e=>this._nextResolve=e))}add(e){this.chunks.push(e),this.size+=e.byteLength,this._nextResolve(!0),this.nextChunk=new Promise((e=>this._nextResolve=e))}concatChunks(){return this._nextResolve(!1),this.done=!0,Q(this.chunks,this.size)}async*getChunkIter(){for(const e of this.chunks)yield e;let e=this.chunks.length;for(;!this.done&&await this.nextChunk;)for(;e<this.chunks.length;e++)yield this.chunks[e]}}class fi extends J{constructor(e,t,r,n="",i,s,o,a){super(),this.db=e,this.reader=t,this.digest=r,this.url=n,this.commit=!0,this.fullbuff=null,this.hasher=s,this.expectedHash=o,this.source=a,this.isRange=!1,this.totalLength=-1,this.streamMap=i}setRangeAll(e){this.isRange=!0,this.totalLength=e}setLimitSkip(e=-1,t=0){this.isRange=!0,2!==e||0!==t?((-1!=e||t>0)&&(this.commit=!1),this.reader.setLimitSkip(e,t)):this.fixedSize=2}async*[Symbol.asyncIterator](){let e=null;this.commit&&(e=new di(this.totalLength),this.isRange&&(console.log(`Store stream for ${this.url}, ${this.totalLength}`),this.streamMap.set(this.url,e)));for await(const t of this.reader)e&&e.add(t),yield t;if(0!==this.reader.limit)console.warn(`Expected payload not consumed, ${this.reader.limit} bytes left`);else{if(!this.isRange&&this.hasher&&this.expectedHash&&this.source){const e=this.hasher.getHash(),{path:t,start:r,length:n}=this.source,i=`${t}:${r}-${n}`;this.db.addVerifyData(i,this.expectedHash,e)}this.commit&&(this.fullbuff=e.concatChunks(),await this.db.commitPayload(this.fullbuff,this.digest))}this.commit&&this.isRange&&(this.streamMap.delete(this.url),console.log(`Delete stream for ${this.url}`))}async _consumeIter(e){for await(const t of e);}async readFully(){return this.fullbuff||await this._consumeIter(this),this.fullbuff}getReadableStream(){const e=super.getReadableStream();if(!this.commit)return e;const t=e.tee();return this._consumeIter(X.fromReadable(t[1].getReader())),this.fixedSize?this.getFixedSizeReader(t[0].getReader(),this.fixedSize):t[0]}getFixedSizeReader(e,t){return new ReadableStream({async start(r){const{value:n,done:i}=await e.read();i||r.enqueue(n.slice(0,t)),r.close(),e.close()}})}}class pi extends un{constructor(e){super(),this.har=e,this.pageRefs={}}async load(e){return this.db=e,"string"==typeof this.har&&(this.har=JSON.parse(this.har)),this.parseEntries(this.har),this.parsePages(this.har),await this.finishIndexing(),{}}parsePages(e){for(const t of e.log.pages){if(!t.pageTimings||!t.pageTimings.onLoad)continue;let e;e=t.title&&(t.title.startsWith("http:")||t.title.startsWith("https:"))?t.title:this.pageRefs[t.id];const r=t.title||e,n=t.startedDateTime;this.addPage({url:e,date:n,title:r})}}parseEntries(e){for(const t of e.log.entries){const e=new Date(t.startedDateTime).getTime(),r={};for(const{name:e,value:n}of t.response.headers)r[e]=n;let n=null;const i=new TextEncoder;if(t.response.content&&t.response.content.text)try{n=Uint8Array.from(atob(t.response.content.text),(e=>e.charCodeAt(0)))}catch(e){n=t.response.content.text}else{const e=r["Content-Length"];e&&"0"!==e?(console.log(`Warning: Content-Length ${e} but no content found for ${t.request.url}`),n=i.encode("Sorry, the HAR file did not include the content for this resource.")):n=Uint8Array.from([])}this.addResource({url:t.request.url,ts:e,status:t.response.status,respHeaders:r,payload:n}),t.pageref&&!this.pageRefs[t.pageref]&&(this.pageRefs[t.pageref]=t.request.url)}}}const gi="req.http:cookie";class yi extends hn{constructor(e,t,r,n={},i="sha256:"){super(e,t,r),this.cdxindexer=null,this.sourceExtra=n,this.shaPrefix=i}filterRecord(e){switch(e.warcType){case"warcinfo":case"revisit":case"request":return null;case"metadata":return this.shouldIndexMetadataRecord(e)?null:"skip"}const t=e.warcTargetURI,r=new Date(e.warcDate).getTime();if(this.pageMap[r+"/"+t])return e._isPage=!0,null}index(e,t){return e&&(e._offset=t.offset,e._length=t.recordLength),super.index(e,t)}indexReqResponse(e,t,r){if(e._isPage)return super.indexReqResponse(e,t,r);if("warcinfo"===e.warcType)return void this.parseWarcInfo(e);this.cdxindexer||(this.cdxindexer=new Ee({noSurt:!0},null));const n=this.cdxindexer.indexRecordPair(e,t,r,"");if(n&&(206!==n.status||this.isFullRangeRequest(e.httpHeaders.headers))){if(t&&t.httpHeaders){let e=t.httpHeaders.headers.get("cookie");e&&(n[gi]=e)}this.addCdx(n)}}getSource(e){return{...this.sourceExtra,path:e.filename,start:Number(e.offset),length:Number(e.length)}}addCdx(e){const{url:t,mime:r}=e,n=Number(e.status)||200,i=y(e.timestamp).getTime(),s=this.getSource(e);let{digest:o,recordDigest:a}=e;o&&-1===o.indexOf(":")&&(o=this.shaPrefix+o);const c={url:t,ts:i,status:n,digest:o,recordDigest:a,mime:r,loaded:!1,source:s};if(e.method){if("HEAD"===e.method||"OPTIONS"===e.method)return;c.method=e.method}e[gi]&&(c[gi]=e[gi]),e.requestBody&&(c.url=W(e.url,e.requestBody,e.method)),this.addResource(c)}}class wi extends yi{async load(e,t,r){this.db=e;let n=this.reader;n.iterLines||(n=new X(this.reader));let i=0;for await(const e of n.iterLines()){let n,s,o;i+=e.length;let a=e.trimEnd();if(!a.startsWith("{")){const e=a.indexOf(" {");if(e<0)continue;[s,o]=a.split(" ",2),a=a.slice(e)}try{n=JSON.parse(a)}catch(e){console.log("JSON Parser error on: "+a);continue}n.timestamp=o,n.url||(n.url=s,console.warn(`URL missing, using urlkey ${s}`)),t&&this.isBatchFull()&&t(Math.round(i/r*100),null,i,r),this.addCdx(n)}await this.finishIndexing(),t&&t(100,null,r,r)}}
/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function mi(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))}class bi{constructor(){this.mutex=Promise.resolve()}lock(){let e=()=>{};return this.mutex=this.mutex.then((()=>new Promise(e))),new Promise((t=>{e=t}))}dispatch(e){return mi(this,void 0,void 0,(function*(){const t=yield this.lock();try{return yield Promise.resolve(e())}finally{t()}}))}}var Ai;const Ei="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:__webpack_require__.g,vi=null!==(Ai=Ei.Buffer)&&void 0!==Ai?Ai:null,_i=Ei.TextEncoder?new Ei.TextEncoder:null;function Ti(e,t){return(15&e)+(e>>6|e>>3&8)<<4|(15&t)+(t>>6|t>>3&8)}function Si(e,t){const r=t.length>>1;for(let n=0;n<r;n++){const r=n<<1;e[n]=Ti(t.charCodeAt(r),t.charCodeAt(r+1))}}const Ii="a".charCodeAt(0)-10,Ci="0".charCodeAt(0);function Ri(e,t,r){let n=0;for(let i=0;i<r;i++){let r=t[i]>>>4;e[n++]=r>9?r+Ii:r+Ci,r=15&t[i],e[n++]=r>9?r+Ii:r+Ci}return String.fromCharCode.apply(null,e)}const xi=null!==vi?e=>{if("string"==typeof e){const t=vi.from(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.length)}if(vi.isBuffer(e))return new Uint8Array(e.buffer,e.byteOffset,e.length);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Invalid data type!")}:e=>{if("string"==typeof e)return _i.encode(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Invalid data type!")},ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ni=new Uint8Array(256);for(let e=0;e<ki.length;e++)Ni[ki.charCodeAt(e)]=e;function Bi(e){let t=Math.floor(.75*e.length);const r=e.length;return"="===e[r-1]&&(t-=1,"="===e[r-2]&&(t-=1)),t}function Oi(e){const t=Bi(e),r=e.length,n=new Uint8Array(t);let i=0;for(let t=0;t<r;t+=4){const r=Ni[e.charCodeAt(t)],s=Ni[e.charCodeAt(t+1)],o=Ni[e.charCodeAt(t+2)],a=Ni[e.charCodeAt(t+3)];n[i]=r<<2|s>>4,i+=1,n[i]=(15&s)<<4|o>>2,i+=1,n[i]=(3&o)<<6|63&a,i+=1}return n}const Di=16384,Li=new bi,Pi=new Map;function Ui(e,t){return mi(this,void 0,void 0,(function*(){let r=null,n=null,i=!1;if("undefined"==typeof WebAssembly)throw new Error("WebAssembly is not supported in this environment!");const s=()=>new DataView(r.exports.memory.buffer).getUint32(r.exports.STATE_SIZE,!0),o=Li.dispatch((()=>mi(this,void 0,void 0,(function*(){if(!Pi.has(e.name)){const t=Oi(e.data),r=WebAssembly.compile(t);Pi.set(e.name,r)}const t=yield Pi.get(e.name);r=yield WebAssembly.instantiate(t,{})})))),a=(e=null)=>{i=!0,r.exports.Hash_Init(e)},c=e=>{if(!i)throw new Error("update() called before init()");(e=>{let t=0;for(;t<e.length;){const i=e.subarray(t,t+Di);t+=i.length,n.set(i),r.exports.Hash_Update(i.length)}})(xi(e))},l=new Uint8Array(2*t),u=(e,s=null)=>{if(!i)throw new Error("digest() called before init()");return i=!1,r.exports.Hash_Final(s),"binary"===e?n.slice(0,t):Ri(l,n,t)},h=e=>"string"==typeof e?e.length<4096:e.byteLength<Di;let d=h;switch(e.name){case"argon2":case"scrypt":d=()=>!0;break;case"blake2b":case"blake2s":d=(e,t)=>t<=512&&h(e);break;case"blake3":d=(e,t)=>0===t&&h(e);break;case"xxhash64":case"xxhash3":case"xxhash128":d=()=>!1}return yield(()=>mi(this,void 0,void 0,(function*(){r||(yield o);const e=r.exports.Hash_GetBuffer(),t=r.exports.memory.buffer;n=new Uint8Array(t,e,Di)})))(),{getMemory:()=>n,writeMemory:(e,t=0)=>{n.set(e,t)},getExports:()=>r.exports,setMemorySize:e=>{r.exports.Hash_SetMemorySize(e);const t=r.exports.Hash_GetBuffer(),i=r.exports.memory.buffer;n=new Uint8Array(i,t,e)},init:a,update:c,digest:u,save:()=>{if(!i)throw new Error("save() can only be called after init() and before digest()");const t=r.exports.Hash_GetState(),n=s(),o=r.exports.memory.buffer,a=new Uint8Array(o,t,n),c=new Uint8Array(4+n);return Si(c,e.hash),c.set(a,4),c},load:t=>{if(!(t instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const n=r.exports.Hash_GetState(),o=s(),a=4+o,c=r.exports.memory.buffer;if(t.length!==a)throw new Error(`Bad state length (expected ${a} bytes, got ${t.length})`);if(!function(e,t){if(e.length!==2*t.length)return!1;for(let r=0;r<t.length;r++){const n=r<<1;if(t[r]!==Ti(e.charCodeAt(n),e.charCodeAt(n+1)))return!1}return!0}(e.hash,t.subarray(0,4)))throw new Error("This state was written by an incompatible hash implementation");const l=t.subarray(4);new Uint8Array(c,n,o).set(l),i=!0},calculate:(e,i=null,s=null)=>{if(!d(e,i))return a(i),c(e),u("hex",s);const o=xi(e);return n.set(o),r.exports.Hash_Calculate(o.length,i,s),Ri(l,n,t)},hashLength:t}}))}new bi;new bi;new DataView(new ArrayBuffer(4));new bi;new bi;new bi;new bi;new bi;new bi;new bi;new bi;new bi;var Mi={name:"sha256",data:"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",hash:"817d957e"};new bi;new bi;function Fi(){return Ui(Mi,32).then((e=>{e.init(256);const t={init:()=>(e.init(256),t),update:r=>(e.update(r),t),digest:t=>e.digest(t),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:64,digestSize:32};return t}))}new bi;new bi;new bi;new bi;new ArrayBuffer(8);new bi;new ArrayBuffer(8);new bi;new ArrayBuffer(8);new bi;new bi;new bi;const Hi=4294967295,ji=65535;class zi{constructor(e,t){this.start=e,this.length=t}}class Wi extends X{constructor(e,t="gzip",r=!1){super(e,t,r)}async initHasher(){this.hasher=await Fi()}async _loadNext(){const e=await super._loadNext();return e&&this.hasher.update(e),e}getHash(){return"sha256:"+this.hasher.digest("hex")}}class Gi{constructor(e,t=null){this.loader=e,this.entries=t,this.entriesUpdated=!1,this.enableHashing=!0}async load(e=!1){if(!this.entries||e){const e=await this.loader.getLength(),t=Math.min(65558,e),r=e-t,n=await this.loader.getRange(r,t);try{this.entries=this._loadEntries(n,r)}catch(e){if(e instanceof zi){const r=Q([await this.loader.getRange(e.start,e.length),n],e.length+t);this.entries=this._loadEntries(r,e.start)}}this.entriesUpdated=!0}return this.entries}_loadEntries(e,t){const r=e.byteLength;if(!r)return null;const n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=new TextDecoder("utf8"),s=new TextDecoder("ascii"),o={};let a=0,c=0,l=r;for(let t=r-22,i=Math.max(0,t-ji);t>=i;--t)if(80===e[t]&&75===e[t+1]&&5===e[t+2]&&6===e[t+3]){l=t,c=n.getUint32(t+16,!0),a=n.getUint16(t+8,!0);break}if(c===Hi||a===ji){if(117853008!==n.getUint32(l-20,!0))return void console.warn("invalid zip64 EOCD locator");const e=this.getUint64(n,l-12,!0)-t;if(101075792!==n.getUint32(e,!0))return void console.warn("invalid zip64 EOCD record");a=this.getUint64(n,e+32,!0),c=this.getUint64(n,e+48,!0)}if(c>=t)c-=t;else if(c<t&&c>0)throw new zi(c,t-c);if(c>=r||c<0)for(c=-1,a=ji;++c<r&&80!==e[c]&&75!==e[c+1]&&1!==e[c+2]&&2!==e[c+3];);for(l-=46;--a>=0&&c<l&&1347092738==n.getUint32(c);){const t=n.getUint16(c+8,!0);let r=n.getUint32(c+20,!0),a=n.getUint32(c+24,!0);const l=n.getUint16(c+28,!0),u=n.getUint16(c+30,!0),h=n.getUint16(c+32,!0),d=8===n.getUint16(c+10,!0);let f=n.getUint32(c+42,!0);const p=(2048&t?i:s).decode(e.subarray(c+46,c+46+l));if(r===Hi||a===Hi||f===Hi){let e=c+46+l;const t=e+u-3;for(;e<t;){const t=n.getUint16(e,!0);let i=n.getUint16(e+2,!0);e+=4,1===t&&(a===Hi&&i>=8&&(a=this.getUint64(n,e,!0),e+=8,i-=8),r===Hi&&i>=8&&(r=this.getUint64(n,e,!0),e+=8,i-=8),f===Hi&&i>=8&&(f=this.getUint64(n,e,!0),e+=8,i-=8)),e+=i}}p.endsWith("/")||(o[p]={filename:p,deflate:d,uncompressedSize:a,compressedSize:r,localEntryOffset:f},u||(o[p].offset=30+l+f)),c+=46+l+u+h}return o}getCompressedSize(e){if(null===this.entries)return 0;const t=this.entries[e];return t?isNaN(t.compressedSize)?0:t.compressedSize:0}async loadFile(e,{offset:t=0,length:r=-1,signal:n=null,unzip:i=!1,computeHash:s=null}={}){null===this.entries&&await this.load();const o=this.entries[e];if(!o)return{reader:null};if(void 0===o.offset){const e=await this.loader.getRange(o.localEntryOffset,30),t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=t.getUint16(26,!0),n=t.getUint16(28,!0);o.offset=30+r+n+o.localEntryOffset,this.entriesUpdated=!0}r=r<0?o.compressedSize:Math.min(r,o.compressedSize-t),t+=o.offset;let a=(await this.loader.getRange(t,r,!0,n)).getReader(),c=null;const l=e=>s&&this.enableHashing?(c=new Wi(e),c):e;return i?o.deflate?(a=new X(new X(a,"deflate")),a=l(a)):(a=l(a),a=new X(a)):(a=new X(a,o.deflate?"deflate":null),a=l(a)),c&&await c.initHasher(),{reader:a,hasher:c}}getUint64(e,t,r){const n=e.getUint32(t,r),i=e.getUint32(t+4,r),s=r?n+2**32*i:2**32*n+i;return Number.isSafeInteger(s)||console.warn(s,"exceeds MAX_SAFE_INTEGER. Precision may be lost"),s}}class qi{constructor(e,t){this.zipreader=e,this.filename=t,this.size=null}async doInitialFetch(e=!1){await this.zipreader.load(),this.size=this.zipreader.getCompressedSize(this.filename);let t=null;if(!e){const{reader:e}=await this.zipreader.loadFile(this.filename,{unzip:!0});t=oi(e)}return{response:new Response(t)}}async getLength(){return null===this.size&&await this.doInitialFetch(!0),this.size}async getRange(e,t,r=!1,n=null){const{reader:i}=await this.zipreader.loadFile(this.filename,{offset:e,length:t,signal:n,unzip:!0});return r?oi(i):await i.readFully()}}const Qi="wacz";class Vi{getLoadPath(){}getName(){}async createLoader(){}}class Ki extends Vi{constructor({waczname:e,hash:t,path:r,parent:n=null,entries:i=null,fileType:s="wacz",indexType:o=0,nonSurt:a=!1,loader:c=null}={}){super(),this.waczname=e,this.hash=t,this.path=r,this.loader=c,this.parent=n,this.zipreader=null,this.entries=i,this.indexType=o,this.fileType=s,this.nonSurt=a}markAsMultiWACZ(){this.fileType="multi-wacz"}async init(e){e&&(this.path=e);const t=this.loader?this.loader:await this.parent.createLoader({url:this.path});return await this.initFromLoader(t)}async initFromLoader(e){return this.zipreader=new Gi(e,this.entries),this.entries||(this.entries=await this.zipreader.load()),this.entries}async loadFile(e,t){return this.zipreader||await this.init(),await this.zipreader.loadFile(e,t)}containsFile(e){return!!this.entries[e]}getSizeOf(e){return this.zipreader?this.zipreader.getCompressedSize(e):0}serialize(){return{waczname:this.waczname,hash:this.hash,path:this.path,entries:this.entries,indexType:this.indexType,nonSurt:this.nonSurt}}async save(e,t=!1){const r=this.zipreader;(t||r&&r.entriesUpdated)&&(await e.put("waczfiles",this.serialize()),r&&(r.entriesUpdated=!1))}iterContainedFiles(){return this.entries?Object.keys(this.entries):[]}getLoadPath(e){return this.waczname+"#!/"+e}getName(e){return this.waczname+"#!/"+e}async createLoader(e){const{url:t}=e,r=t.lastIndexOf("#!/");if(this.zipreader||await this.init(),r>=0)return new qi(this.zipreader,t.slice(r+3))}}
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
function Yi(e){return null==e}var Ji={isNothing:Yi,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:Yi(e)?[]:[e]},repeat:function(e,t){var r,n="";for(r=0;r<t;r+=1)n+=e;return n},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var r,n,i,s;if(t)for(r=0,n=(s=Object.keys(t)).length;r<n;r+=1)e[i=s[r]]=t[i];return e}};function Xi(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+="\n\n"+e.mark.snippet),n+" "+r):n}function Zi(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Xi(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}Zi.prototype=Object.create(Error.prototype),Zi.prototype.constructor=Zi,Zi.prototype.toString=function(e){return this.name+": "+Xi(this,e)};var $i=Zi;function es(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(t=n-a+(s=" ... ").length),r-n>a&&(r=n+a-(o=" ...").length),{str:s+e.slice(t,r).replace(/\t/g,"")+o,pos:n-t+s.length}}function ts(e,t){return Ji.repeat(" ",t-e.length)+e}var rs=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var r,n=/\r?\n|\r|\0/g,i=[0],s=[],o=-1;r=n.exec(e.buffer);)s.push(r.index),i.push(r.index+r[0].length),e.position<=r.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var a,c,l="",u=Math.min(e.line+t.linesAfter,s.length).toString().length,h=t.maxLength-(t.indent+u+3);for(a=1;a<=t.linesBefore&&!(o-a<0);a++)c=es(e.buffer,i[o-a],s[o-a],e.position-(i[o]-i[o-a]),h),l=Ji.repeat(" ",t.indent)+ts((e.line-a+1).toString(),u)+" | "+c.str+"\n"+l;for(c=es(e.buffer,i[o],s[o],e.position,h),l+=Ji.repeat(" ",t.indent)+ts((e.line+1).toString(),u)+" | "+c.str+"\n",l+=Ji.repeat("-",t.indent+u+3+c.pos)+"^\n",a=1;a<=t.linesAfter&&!(o+a>=s.length);a++)c=es(e.buffer,i[o+a],s[o+a],e.position-(i[o]-i[o+a]),h),l+=Ji.repeat(" ",t.indent)+ts((e.line+a+1).toString(),u)+" | "+c.str+"\n";return l.replace(/\n$/,"")},ns=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],is=["scalar","sequence","mapping"];var ss=function(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===ns.indexOf(t))throw new $i('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(r){e[r].forEach((function(e){t[String(e)]=r}))})),t}(t.styleAliases||null),-1===is.indexOf(this.kind))throw new $i('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function os(e,t){var r=[];return e[t].forEach((function(e){var t=r.length;r.forEach((function(r,n){r.tag===e.tag&&r.kind===e.kind&&r.multi===e.multi&&(t=n)})),r[t]=e})),r}function as(e){return this.extend(e)}as.prototype.extend=function(e){var t=[],r=[];if(e instanceof ss)r.push(e);else if(Array.isArray(e))r=r.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new $i("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof ss))throw new $i("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new $i("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new $i("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),r.forEach((function(e){if(!(e instanceof ss))throw new $i("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var n=Object.create(as.prototype);return n.implicit=(this.implicit||[]).concat(t),n.explicit=(this.explicit||[]).concat(r),n.compiledImplicit=os(n,"implicit"),n.compiledExplicit=os(n,"explicit"),n.compiledTypeMap=function(){var e,t,r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function n(e){e.multi?(r.multi[e.kind].push(e),r.multi.fallback.push(e)):r[e.kind][e.tag]=r.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return r}(n.compiledImplicit,n.compiledExplicit),n};var cs=as,ls=new ss("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),us=new ss("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),hs=new ss("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}}),ds=new cs({explicit:[ls,us,hs]});var fs=new ss("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});var ps=new ss("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function gs(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function ys(e){return 48<=e&&e<=55}function ws(e){return 48<=e&&e<=57}var ms=new ss("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r=e.length,n=0,i=!1;if(!r)return!1;if("-"!==(t=e[n])&&"+"!==t||(t=e[++n]),"0"===t){if(n+1===r)return!0;if("b"===(t=e[++n])){for(n++;n<r;n++)if("_"!==(t=e[n])){if("0"!==t&&"1"!==t)return!1;i=!0}return i&&"_"!==t}if("x"===t){for(n++;n<r;n++)if("_"!==(t=e[n])){if(!gs(e.charCodeAt(n)))return!1;i=!0}return i&&"_"!==t}if("o"===t){for(n++;n<r;n++)if("_"!==(t=e[n])){if(!ys(e.charCodeAt(n)))return!1;i=!0}return i&&"_"!==t}}if("_"===t)return!1;for(;n<r;n++)if("_"!==(t=e[n])){if(!ws(e.charCodeAt(n)))return!1;i=!0}return!(!i||"_"===t)},construct:function(e){var t,r=e,n=1;if(-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(t=r[0])&&"+"!==t||("-"===t&&(n=-1),t=(r=r.slice(1))[0]),"0"===r)return 0;if("0"===t){if("b"===r[1])return n*parseInt(r.slice(2),2);if("x"===r[1])return n*parseInt(r.slice(2),16);if("o"===r[1])return n*parseInt(r.slice(2),8)}return n*parseInt(r,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!Ji.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),bs=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var As=/^[-+]?[0-9]+e/;var Es=new ss("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!bs.test(e)||"_"===e[e.length-1])},construct:function(e){var t,r;return r="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:r*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||Ji.isNegativeZero(e))},represent:function(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ji.isNegativeZero(e))return"-0.0";return r=e.toString(10),As.test(r)?r.replace("e",".e"):r},defaultStyle:"lowercase"}),vs=ds.extend({implicit:[fs,ps,ms,Es]}),_s=vs,Ts=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Ss=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var Is=new ss("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==Ts.exec(e)||null!==Ss.exec(e))},construct:function(e){var t,r,n,i,s,o,a,c,l=0,u=null;if(null===(t=Ts.exec(e))&&(t=Ss.exec(e)),null===t)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(u=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(u=-u)),c=new Date(Date.UTC(r,n,i,s,o,a,l)),u&&c.setTime(c.getTime()-u),c},instanceOf:Date,represent:function(e){return e.toISOString()}});var Cs=new ss("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),Rs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var xs=new ss("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,n=0,i=e.length,s=Rs;for(r=0;r<i;r++)if(!((t=s.indexOf(e.charAt(r)))>64)){if(t<0)return!1;n+=6}return n%8==0},construct:function(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=Rs,o=0,a=[];for(t=0;t<i;t++)t%4==0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(255&o)),o=o<<6|s.indexOf(n.charAt(t));return 0===(r=i%4*6)?(a.push(o>>16&255),a.push(o>>8&255),a.push(255&o)):18===r?(a.push(o>>10&255),a.push(o>>2&255)):12===r&&a.push(o>>4&255),new Uint8Array(a)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,r,n="",i=0,s=e.length,o=Rs;for(t=0;t<s;t++)t%3==0&&t&&(n+=o[i>>18&63],n+=o[i>>12&63],n+=o[i>>6&63],n+=o[63&i]),i=(i<<8)+e[t];return 0===(r=s%3)?(n+=o[i>>18&63],n+=o[i>>12&63],n+=o[i>>6&63],n+=o[63&i]):2===r?(n+=o[i>>10&63],n+=o[i>>4&63],n+=o[i<<2&63],n+=o[64]):1===r&&(n+=o[i>>2&63],n+=o[i<<4&63],n+=o[64],n+=o[64]),n}}),ks=Object.prototype.hasOwnProperty,Ns=Object.prototype.toString;var Bs=new ss("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,i,s,o=[],a=e;for(t=0,r=a.length;t<r;t+=1){if(n=a[t],s=!1,"[object Object]"!==Ns.call(n))return!1;for(i in n)if(ks.call(n,i)){if(s)return!1;s=!0}if(!s)return!1;if(-1!==o.indexOf(i))return!1;o.push(i)}return!0},construct:function(e){return null!==e?e:[]}}),Os=Object.prototype.toString;var Ds=new ss("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],"[object Object]"!==Os.call(n))return!1;if(1!==(i=Object.keys(n)).length)return!1;s[t]=[i[0],n[i[0]]]}return!0},construct:function(e){if(null===e)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}}),Ls=Object.prototype.hasOwnProperty;var Ps=new ss("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,r=e;for(t in r)if(Ls.call(r,t)&&null!==r[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),Us=_s.extend({implicit:[Is,Cs],explicit:[xs,Bs,Ds,Ps]}),Ms=Object.prototype.hasOwnProperty,Fs=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Hs=/[\x85\u2028\u2029]/,js=/[,\[\]\{\}]/,zs=/^(?:!|!!|![a-z\-]+!)$/i,Ws=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Gs(e){return Object.prototype.toString.call(e)}function qs(e){return 10===e||13===e}function Qs(e){return 9===e||32===e}function Vs(e){return 9===e||32===e||10===e||13===e}function Ks(e){return 44===e||91===e||93===e||123===e||125===e}function Ys(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function Js(e){return 120===e?2:117===e?4:85===e?8:0}function Xs(e){return 48<=e&&e<=57?e-48:-1}function Zs(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?"":76===e?"\u2028":80===e?"\u2029":""}function $s(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var eo=new Array(256),to=new Array(256),ro=0;ro<256;ro++)eo[ro]=Zs(ro)?1:0,to[ro]=Zs(ro);function no(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Us,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function io(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=rs(r),new $i(t,r)}function so(e,t){throw io(e,t)}function oo(e,t){e.onWarning&&e.onWarning.call(null,io(e,t))}var ao={YAML:function(e,t,r){var n,i,s;null!==e.version&&so(e,"duplication of %YAML directive"),1!==r.length&&so(e,"YAML directive accepts exactly one argument"),null===(n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]))&&so(e,"ill-formed argument of the YAML directive"),i=parseInt(n[1],10),s=parseInt(n[2],10),1!==i&&so(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=s<2,1!==s&&2!==s&&oo(e,"unsupported YAML version of the document")},TAG:function(e,t,r){var n,i;2!==r.length&&so(e,"TAG directive accepts exactly two arguments"),n=r[0],i=r[1],zs.test(n)||so(e,"ill-formed tag handle (first argument) of the TAG directive"),Ms.call(e.tagMap,n)&&so(e,'there is a previously declared suffix for "'+n+'" tag handle'),Ws.test(i)||so(e,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch(t){so(e,"tag prefix is malformed: "+i)}e.tagMap[n]=i}};function co(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)9===(o=a.charCodeAt(i))||32<=o&&o<=1114111||so(e,"expected valid JSON character");else Fs.test(a)&&so(e,"the stream contains non-printable characters");e.result+=a}}function lo(e,t,r,n){var i,s,o,a;for(Ji.isObject(r)||so(e,"cannot merge mappings; the provided source object is unacceptable"),o=0,a=(i=Object.keys(r)).length;o<a;o+=1)s=i[o],Ms.call(t,s)||(t[s]=r[s],n[s]=!0)}function uo(e,t,r,n,i,s,o,a,c){var l,u;if(Array.isArray(i))for(l=0,u=(i=Array.prototype.slice.call(i)).length;l<u;l+=1)Array.isArray(i[l])&&so(e,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===Gs(i[l])&&(i[l]="[object Object]");if("object"==typeof i&&"[object Object]"===Gs(i)&&(i="[object Object]"),i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(s))for(l=0,u=s.length;l<u;l+=1)lo(e,t,s[l],r);else lo(e,t,s,r);else e.json||Ms.call(r,i)||!Ms.call(t,i)||(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=c||e.position,so(e,"duplicated mapping key")),"__proto__"===i?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function ho(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):so(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function fo(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);0!==i;){for(;Qs(i);)9===i&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&35===i)do{i=e.input.charCodeAt(++e.position)}while(10!==i&&13!==i&&0!==i);if(!qs(i))break;for(ho(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==r&&0!==n&&e.lineIndent<r&&oo(e,"deficient indentation"),n}function po(e){var t,r=e.position;return!(45!==(t=e.input.charCodeAt(r))&&46!==t||t!==e.input.charCodeAt(r+1)||t!==e.input.charCodeAt(r+2)||(r+=3,0!==(t=e.input.charCodeAt(r))&&!Vs(t)))}function go(e,t){1===t?e.result+=" ":t>1&&(e.result+=Ji.repeat("\n",t-1))}function yo(e,t){var r,n,i=e.tag,s=e.anchor,o=[],a=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),n=e.input.charCodeAt(e.position);0!==n&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,so(e,"tab characters must not be used in indentation")),45===n)&&Vs(e.input.charCodeAt(e.position+1));)if(a=!0,e.position++,fo(e,!0,-1)&&e.lineIndent<=t)o.push(null),n=e.input.charCodeAt(e.position);else if(r=e.line,bo(e,t,3,!1,!0),o.push(e.result),fo(e,!0,-1),n=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&0!==n)so(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!a&&(e.tag=i,e.anchor=s,e.kind="sequence",e.result=o,!0)}function wo(e){var t,r,n,i,s=!1,o=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&so(e,"duplication of a tag property"),60===(i=e.input.charCodeAt(++e.position))?(s=!0,i=e.input.charCodeAt(++e.position)):33===i?(o=!0,r="!!",i=e.input.charCodeAt(++e.position)):r="!",t=e.position,s){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(n=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):so(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!Vs(i);)33===i&&(o?so(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),zs.test(r)||so(e,"named tag handle cannot contain such characters"),o=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);n=e.input.slice(t,e.position),js.test(n)&&so(e,"tag suffix cannot contain flow indicator characters")}n&&!Ws.test(n)&&so(e,"tag name cannot contain such characters: "+n);try{n=decodeURIComponent(n)}catch(t){so(e,"tag name is malformed: "+n)}return s?e.tag=n:Ms.call(e.tagMap,r)?e.tag=e.tagMap[r]+n:"!"===r?e.tag="!"+n:"!!"===r?e.tag="tag:yaml.org,2002:"+n:so(e,'undeclared tag handle "'+r+'"'),!0}function mo(e){var t,r;if(38!==(r=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&so(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!Vs(r)&&!Ks(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&so(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function bo(e,t,r,n,i){var s,o,a,c,l,u,h,d,f,p=1,g=!1,y=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=4===r||3===r,n&&fo(e,!0,-1)&&(g=!0,e.lineIndent>t?p=1:e.lineIndent===t?p=0:e.lineIndent<t&&(p=-1)),1===p)for(;wo(e)||mo(e);)fo(e,!0,-1)?(g=!0,a=s,e.lineIndent>t?p=1:e.lineIndent===t?p=0:e.lineIndent<t&&(p=-1)):a=!1;if(a&&(a=g||i),1!==p&&4!==r||(d=1===r||2===r?t:t+1,f=e.position-e.lineStart,1===p?a&&(yo(e,f)||function(e,t,r){var n,i,s,o,a,c,l,u=e.tag,h=e.anchor,d={},f=Object.create(null),p=null,g=null,y=null,w=!1,m=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=d),l=e.input.charCodeAt(e.position);0!==l;){if(w||-1===e.firstTabInLine||(e.position=e.firstTabInLine,so(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,63!==l&&58!==l||!Vs(n)){if(o=e.line,a=e.lineStart,c=e.position,!bo(e,r,2,!1,!0))break;if(e.line===s){for(l=e.input.charCodeAt(e.position);Qs(l);)l=e.input.charCodeAt(++e.position);if(58===l)Vs(l=e.input.charCodeAt(++e.position))||so(e,"a whitespace character is expected after the key-value separator within a block mapping"),w&&(uo(e,d,f,p,g,null,o,a,c),p=g=y=null),m=!0,w=!1,i=!1,p=e.tag,g=e.result;else{if(!m)return e.tag=u,e.anchor=h,!0;so(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!m)return e.tag=u,e.anchor=h,!0;so(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===l?(w&&(uo(e,d,f,p,g,null,o,a,c),p=g=y=null),m=!0,w=!0,i=!0):w?(w=!1,i=!0):so(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,l=n;if((e.line===s||e.lineIndent>t)&&(w&&(o=e.line,a=e.lineStart,c=e.position),bo(e,t,4,!0,i)&&(w?g=e.result:y=e.result),w||(uo(e,d,f,p,g,y,o,a,c),p=g=y=null),fo(e,!0,-1),l=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&0!==l)so(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return w&&uo(e,d,f,p,g,null,o,a,c),m&&(e.tag=u,e.anchor=h,e.kind="mapping",e.result=d),m}(e,f,d))||function(e,t){var r,n,i,s,o,a,c,l,u,h,d,f,p=!0,g=e.tag,y=e.anchor,w=Object.create(null);if(91===(f=e.input.charCodeAt(e.position)))o=93,l=!1,s=[];else{if(123!==f)return!1;o=125,l=!0,s={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=s),f=e.input.charCodeAt(++e.position);0!==f;){if(fo(e,!0,t),(f=e.input.charCodeAt(e.position))===o)return e.position++,e.tag=g,e.anchor=y,e.kind=l?"mapping":"sequence",e.result=s,!0;p?44===f&&so(e,"expected the node content, but found ','"):so(e,"missed comma between flow collection entries"),d=null,a=c=!1,63===f&&Vs(e.input.charCodeAt(e.position+1))&&(a=c=!0,e.position++,fo(e,!0,t)),r=e.line,n=e.lineStart,i=e.position,bo(e,t,1,!1,!0),h=e.tag,u=e.result,fo(e,!0,t),f=e.input.charCodeAt(e.position),!c&&e.line!==r||58!==f||(a=!0,f=e.input.charCodeAt(++e.position),fo(e,!0,t),bo(e,t,1,!1,!0),d=e.result),l?uo(e,s,w,h,u,d,r,n,i):a?s.push(uo(e,null,w,h,u,d,r,n,i)):s.push(u),fo(e,!0,t),44===(f=e.input.charCodeAt(e.position))?(p=!0,f=e.input.charCodeAt(++e.position)):p=!1}so(e,"unexpected end of the stream within a flow collection")}(e,d)?y=!0:(o&&function(e,t){var r,n,i,s,o=1,a=!1,c=!1,l=t,u=0,h=!1;if(124===(s=e.input.charCodeAt(e.position)))n=!1;else{if(62!==s)return!1;n=!0}for(e.kind="scalar",e.result="";0!==s;)if(43===(s=e.input.charCodeAt(++e.position))||45===s)1===o?o=43===s?3:2:so(e,"repeat of a chomping mode identifier");else{if(!((i=Xs(s))>=0))break;0===i?so(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?so(e,"repeat of an indentation width identifier"):(l=t+i-1,c=!0)}if(Qs(s)){do{s=e.input.charCodeAt(++e.position)}while(Qs(s));if(35===s)do{s=e.input.charCodeAt(++e.position)}while(!qs(s)&&0!==s)}for(;0!==s;){for(ho(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!c||e.lineIndent<l)&&32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!c&&e.lineIndent>l&&(l=e.lineIndent),qs(s))u++;else{if(e.lineIndent<l){3===o?e.result+=Ji.repeat("\n",a?1+u:u):1===o&&a&&(e.result+="\n");break}for(n?Qs(s)?(h=!0,e.result+=Ji.repeat("\n",a?1+u:u)):h?(h=!1,e.result+=Ji.repeat("\n",u+1)):0===u?a&&(e.result+=" "):e.result+=Ji.repeat("\n",u):e.result+=Ji.repeat("\n",a?1+u:u),a=!0,c=!0,u=0,r=e.position;!qs(s)&&0!==s;)s=e.input.charCodeAt(++e.position);co(e,r,e.position,!1)}}return!0}(e,d)||function(e,t){var r,n,i;if(39!==(r=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;0!==(r=e.input.charCodeAt(e.position));)if(39===r){if(co(e,n,e.position,!0),39!==(r=e.input.charCodeAt(++e.position)))return!0;n=e.position,e.position++,i=e.position}else qs(r)?(co(e,n,i,!0),go(e,fo(e,!1,t)),n=i=e.position):e.position===e.lineStart&&po(e)?so(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);so(e,"unexpected end of the stream within a single quoted scalar")}(e,d)||function(e,t){var r,n,i,s,o,a;if(34!==(a=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;0!==(a=e.input.charCodeAt(e.position));){if(34===a)return co(e,r,e.position,!0),e.position++,!0;if(92===a){if(co(e,r,e.position,!0),qs(a=e.input.charCodeAt(++e.position)))fo(e,!1,t);else if(a<256&&eo[a])e.result+=to[a],e.position++;else if((o=Js(a))>0){for(i=o,s=0;i>0;i--)(o=Ys(a=e.input.charCodeAt(++e.position)))>=0?s=(s<<4)+o:so(e,"expected hexadecimal character");e.result+=$s(s),e.position++}else so(e,"unknown escape sequence");r=n=e.position}else qs(a)?(co(e,r,n,!0),go(e,fo(e,!1,t)),r=n=e.position):e.position===e.lineStart&&po(e)?so(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}so(e,"unexpected end of the stream within a double quoted scalar")}(e,d)?y=!0:!function(e){var t,r,n;if(42!==(n=e.input.charCodeAt(e.position)))return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!Vs(n)&&!Ks(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&so(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Ms.call(e.anchorMap,r)||so(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],fo(e,!0,-1),!0}(e)?function(e,t,r){var n,i,s,o,a,c,l,u,h=e.kind,d=e.result;if(Vs(u=e.input.charCodeAt(e.position))||Ks(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(Vs(n=e.input.charCodeAt(e.position+1))||r&&Ks(n)))return!1;for(e.kind="scalar",e.result="",i=s=e.position,o=!1;0!==u;){if(58===u){if(Vs(n=e.input.charCodeAt(e.position+1))||r&&Ks(n))break}else if(35===u){if(Vs(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&po(e)||r&&Ks(u))break;if(qs(u)){if(a=e.line,c=e.lineStart,l=e.lineIndent,fo(e,!1,-1),e.lineIndent>=t){o=!0,u=e.input.charCodeAt(e.position);continue}e.position=s,e.line=a,e.lineStart=c,e.lineIndent=l;break}}o&&(co(e,i,s,!1),go(e,e.line-a),i=s=e.position,o=!1),Qs(u)||(s=e.position+1),u=e.input.charCodeAt(++e.position)}return co(e,i,s,!1),!!e.result||(e.kind=h,e.result=d,!1)}(e,d,1===r)&&(y=!0,null===e.tag&&(e.tag="?")):(y=!0,null===e.tag&&null===e.anchor||so(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===p&&(y=a&&yo(e,f))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&so(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),c=0,l=e.implicitTypes.length;c<l;c+=1)if((h=e.implicitTypes[c]).resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(Ms.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,c=0,l=(u=e.typeMap.multi[e.kind||"fallback"]).length;c<l;c+=1)if(e.tag.slice(0,u[c].tag.length)===u[c].tag){h=u[c];break}h||so(e,"unknown tag !<"+e.tag+">"),null!==e.result&&h.kind!==e.kind&&so(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):so(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||y}function Ao(e){var t,r,n,i,s=e.position,o=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(i=e.input.charCodeAt(e.position))&&(fo(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==i));){for(o=!0,i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!Vs(i);)i=e.input.charCodeAt(++e.position);for(n=[],(r=e.input.slice(t,e.position)).length<1&&so(e,"directive name must not be less than one character in length");0!==i;){for(;Qs(i);)i=e.input.charCodeAt(++e.position);if(35===i){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&!qs(i));break}if(qs(i))break;for(t=e.position;0!==i&&!Vs(i);)i=e.input.charCodeAt(++e.position);n.push(e.input.slice(t,e.position))}0!==i&&ho(e),Ms.call(ao,r)?ao[r](e,r,n):oo(e,'unknown document directive "'+r+'"')}fo(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,fo(e,!0,-1)):o&&so(e,"directives end mark is expected"),bo(e,e.lineIndent-1,4,!1,!0),fo(e,!0,-1),e.checkLineBreaks&&Hs.test(e.input.slice(s,e.position))&&oo(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&po(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,fo(e,!0,-1)):e.position<e.length-1&&so(e,"end of the stream or a document separator is expected")}function Eo(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var r=new no(e,t),n=e.indexOf("\0");for(-1!==n&&(r.position=n,so(r,"null byte is not allowed in input")),r.input+="\0";32===r.input.charCodeAt(r.position);)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Ao(r);return r.documents}var vo={loadAll:function(e,t,r){null!==t&&"object"==typeof t&&void 0===r&&(r=t,t=null);var n=Eo(e,r);if("function"!=typeof t)return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])},load:function(e,t){var r=Eo(e,t);if(0!==r.length){if(1===r.length)return r[0];throw new $i("expected a single document in the stream, but found more")}}},_o=Object.prototype.toString,To=Object.prototype.hasOwnProperty,So=65279,Io={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},Co=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Ro=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function xo(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else{if(!(e<=4294967295))throw new $i("code point within a string may not be greater than 0xFFFFFFFF");r="U",n=8}return"\\"+r+Ji.repeat("0",n-t.length)+t}function ko(e){this.schema=e.schema||Us,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Ji.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var r,n,i,s,o,a,c;if(null===t)return{};for(r={},i=0,s=(n=Object.keys(t)).length;i<s;i+=1)o=n[i],a=String(t[o]),"!!"===o.slice(0,2)&&(o="tag:yaml.org,2002:"+o.slice(2)),(c=e.compiledTypeMap.fallback[o])&&To.call(c.styleAliases,a)&&(a=c.styleAliases[a]),r[o]=a;return r}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?2:1,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function No(e,t){for(var r,n=Ji.repeat(" ",t),i=0,s=-1,o="",a=e.length;i<a;)-1===(s=e.indexOf("\n",i))?(r=e.slice(i),i=a):(r=e.slice(i,s+1),i=s+1),r.length&&"\n"!==r&&(o+=n),o+=r;return o}function Bo(e,t){return"\n"+Ji.repeat(" ",e.indent*t)}function Oo(e){return 32===e||9===e}function Do(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==So||65536<=e&&e<=1114111}function Lo(e){return Do(e)&&e!==So&&13!==e&&10!==e}function Po(e,t,r){var n=Lo(e),i=n&&!Oo(e);return(r?n:n&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e)&&35!==e&&!(58===t&&!i)||Lo(t)&&!Oo(t)&&35===e||58===t&&i}function Uo(e,t){var r,n=e.charCodeAt(t);return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1))>=56320&&r<=57343?1024*(n-55296)+r-56320+65536:n}function Mo(e){return/^\n* /.test(e)}function Fo(e,t,r,n,i,s,o,a){var c,l=0,u=null,h=!1,d=!1,f=-1!==n,p=-1,g=function(e){return Do(e)&&e!==So&&!Oo(e)&&45!==e&&63!==e&&58!==e&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e&&35!==e&&38!==e&&42!==e&&33!==e&&124!==e&&61!==e&&62!==e&&39!==e&&34!==e&&37!==e&&64!==e&&96!==e}(Uo(e,0))&&function(e){return!Oo(e)&&58!==e}(Uo(e,e.length-1));if(t||o)for(c=0;c<e.length;l>=65536?c+=2:c++){if(!Do(l=Uo(e,c)))return 5;g=g&&Po(l,u,a),u=l}else{for(c=0;c<e.length;l>=65536?c+=2:c++){if(10===(l=Uo(e,c)))h=!0,f&&(d=d||c-p-1>n&&" "!==e[p+1],p=c);else if(!Do(l))return 5;g=g&&Po(l,u,a),u=l}d=d||f&&c-p-1>n&&" "!==e[p+1]}return h||d?r>9&&Mo(e)?5:o?2===s?5:2:d?4:3:!g||o||i(e)?2===s?5:2:1}function Ho(e,t,r,n,i){e.dump=function(){if(0===t.length)return 2===e.quotingType?'""':"''";if(!e.noCompatMode&&(-1!==Co.indexOf(t)||Ro.test(t)))return 2===e.quotingType?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;switch(Fo(t,a,e.indent,o,(function(t){return function(e,t){var r,n;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(e.implicitTypes[r].resolve(t))return!0;return!1}(e,t)}),e.quotingType,e.forceQuotes&&!n,i)){case 1:return t;case 2:return"'"+t.replace(/'/g,"''")+"'";case 3:return"|"+jo(t,e.indent)+zo(No(t,s));case 4:return">"+jo(t,e.indent)+zo(No(function(e,t){var r,n,i=/(\n+)([^\n]*)/g,s=(a=e.indexOf("\n"),a=-1!==a?a:e.length,i.lastIndex=a,Wo(e.slice(0,a),t)),o="\n"===e[0]||" "===e[0];var a;for(;n=i.exec(e);){var c=n[1],l=n[2];r=" "===l[0],s+=c+(o||r||""===l?"":"\n")+Wo(l,t),o=r}return s}(t,o),s));case 5:return'"'+function(e){for(var t,r="",n=0,i=0;i<e.length;n>=65536?i+=2:i++)n=Uo(e,i),!(t=Io[n])&&Do(n)?(r+=e[i],n>=65536&&(r+=e[i+1])):r+=t||xo(n);return r}(t)+'"';default:throw new $i("impossible error: invalid scalar style")}}()}function jo(e,t){var r=Mo(e)?String(t):"",n="\n"===e[e.length-1];return r+(n&&("\n"===e[e.length-2]||"\n"===e)?"+":n?"":"-")+"\n"}function zo(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function Wo(e,t){if(""===e||" "===e[0])return e;for(var r,n,i=/ [^ ]/g,s=0,o=0,a=0,c="";r=i.exec(e);)(a=r.index)-s>t&&(n=o>s?o:a,c+="\n"+e.slice(s,n),s=n+1),o=a;return c+="\n",e.length-s>t&&o>s?c+=e.slice(s,o)+"\n"+e.slice(o+1):c+=e.slice(s),c.slice(1)}function Go(e,t,r,n){var i,s,o,a="",c=e.tag;for(i=0,s=r.length;i<s;i+=1)o=r[i],e.replacer&&(o=e.replacer.call(r,String(i),o)),(Qo(e,t+1,o,!0,!0,!1,!0)||void 0===o&&Qo(e,t+1,null,!0,!0,!1,!0))&&(n&&""===a||(a+=Bo(e,t)),e.dump&&10===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=c,e.dump=a||"[]"}function qo(e,t,r){var n,i,s,o,a,c;for(s=0,o=(i=r?e.explicitTypes:e.implicitTypes).length;s<o;s+=1)if(((a=i[s]).instanceOf||a.predicate)&&(!a.instanceOf||"object"==typeof t&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(c=e.styleMap[a.tag]||a.defaultStyle,"[object Function]"===_o.call(a.represent))n=a.represent(t,c);else{if(!To.call(a.represent,c))throw new $i("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');n=a.represent[c](t,c)}e.dump=n}return!0}return!1}function Qo(e,t,r,n,i,s,o){e.tag=null,e.dump=r,qo(e,r,!1)||qo(e,r,!0);var a,c=_o.call(e.dump),l=n;n&&(n=e.flowLevel<0||e.flowLevel>t);var u,h,d="[object Object]"===c||"[object Array]"===c;if(d&&(h=-1!==(u=e.duplicates.indexOf(r))),(null!==e.tag&&"?"!==e.tag||h||2!==e.indent&&t>0)&&(i=!1),h&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(d&&h&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),"[object Object]"===c)n&&0!==Object.keys(e.dump).length?(!function(e,t,r,n){var i,s,o,a,c,l,u="",h=e.tag,d=Object.keys(r);if(!0===e.sortKeys)d.sort();else if("function"==typeof e.sortKeys)d.sort(e.sortKeys);else if(e.sortKeys)throw new $i("sortKeys must be a boolean or a function");for(i=0,s=d.length;i<s;i+=1)l="",n&&""===u||(l+=Bo(e,t)),a=r[o=d[i]],e.replacer&&(a=e.replacer.call(r,o,a)),Qo(e,t+1,o,!0,!0,!0)&&((c=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&10===e.dump.charCodeAt(0)?l+="?":l+="? "),l+=e.dump,c&&(l+=Bo(e,t)),Qo(e,t+1,a,!0,c)&&(e.dump&&10===e.dump.charCodeAt(0)?l+=":":l+=": ",u+=l+=e.dump));e.tag=h,e.dump=u||"{}"}(e,t,e.dump,i),h&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,r){var n,i,s,o,a,c="",l=e.tag,u=Object.keys(r);for(n=0,i=u.length;n<i;n+=1)a="",""!==c&&(a+=", "),e.condenseFlow&&(a+='"'),o=r[s=u[n]],e.replacer&&(o=e.replacer.call(r,s,o)),Qo(e,t,s,!1,!1)&&(e.dump.length>1024&&(a+="? "),a+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Qo(e,t,o,!1,!1)&&(c+=a+=e.dump));e.tag=l,e.dump="{"+c+"}"}(e,t,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else if("[object Array]"===c)n&&0!==e.dump.length?(e.noArrayIndent&&!o&&t>0?Go(e,t-1,e.dump,i):Go(e,t,e.dump,i),h&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,r){var n,i,s,o="",a=e.tag;for(n=0,i=r.length;n<i;n+=1)s=r[n],e.replacer&&(s=e.replacer.call(r,String(n),s)),(Qo(e,t,s,!1,!1)||void 0===s&&Qo(e,t,null,!1,!1))&&(""!==o&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=a,e.dump="["+o+"]"}(e,t,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else{if("[object String]"!==c){if("[object Undefined]"===c)return!1;if(e.skipInvalid)return!1;throw new $i("unacceptable kind of an object to dump "+c)}"?"!==e.tag&&Ho(e,e.dump,t,s,l)}null!==e.tag&&"?"!==e.tag&&(a=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),a="!"===e.tag[0]?"!"+a:"tag:yaml.org,2002:"===a.slice(0,18)?"!!"+a.slice(18):"!<"+a+">",e.dump=a+" "+e.dump)}return!0}function Vo(e,t){var r,n,i=[],s=[];for(Ko(e,i,s),r=0,n=s.length;r<n;r+=1)t.duplicates.push(i[s[r]]);t.usedDuplicates=new Array(n)}function Ko(e,t,r){var n,i,s;if(null!==e&&"object"==typeof e)if(-1!==(i=t.indexOf(e)))-1===r.indexOf(i)&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)Ko(e[i],t,r);else for(i=0,s=(n=Object.keys(e)).length;i<s;i+=1)Ko(e[n[i]],t,r)}function Yo(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}const Jo={Type:ss,Schema:cs,FAILSAFE_SCHEMA:ds,JSON_SCHEMA:vs,CORE_SCHEMA:_s,DEFAULT_SCHEMA:Us,load:vo.load,loadAll:vo.loadAll,dump:{dump:function(e,t){var r=new ko(t=t||{});r.noRefs||Vo(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Qo(r,0,n,!0,!0)?r.dump+"\n":""}}.dump,YAMLException:$i,types:{binary:xs,float:Es,map:hs,null:fs,pairs:Ds,set:Ps,timestamp:Is,bool:ps,int:ms,merge:Cs,omap:Bs,seq:us,str:ls},safeLoad:Yo("safeLoad","load"),safeLoadAll:Yo("safeLoadAll","loadAll"),safeDump:Yo("safeDump","dump")};var Xo=__webpack_require__(9742),Zo=(__webpack_require__(8660),__webpack_require__(4585));function $o(e,t){let r=0;if(1===e.length)return e[0];for(let n=e.length-1;n>=0;n--)r+=e[e.length-1-n]*Math.pow(2,t*n);return r}function ea(e,t,r=-1){const n=r;let i=e,s=0,o=Math.pow(2,t);for(let r=1;r<8;r++){if(e<o){let e;if(n<0)e=new ArrayBuffer(r),s=r;else{if(n<r)return new ArrayBuffer(0);e=new ArrayBuffer(n),s=n}const o=new Uint8Array(e);for(let e=r-1;e>=0;e--){const r=Math.pow(2,e*t);o[s-e-1]=Math.floor(i/r),i-=o[s-e-1]*r}return e}o*=Math.pow(2,t)}return new ArrayBuffer(0)}function ta(...e){let t=0,r=0;for(const r of e)t+=r.length;const n=new ArrayBuffer(t),i=new Uint8Array(n);for(const t of e)i.set(t,r),r+=t.length;return i}function ra(){const e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const t=255===e[0]&&128&e[1],r=0===e[0]&&0==(128&e[1]);(t||r)&&this.warnings.push("Needlessly long format")}const t=new ArrayBuffer(this.valueHex.byteLength),r=new Uint8Array(t);for(let e=0;e<this.valueHex.byteLength;e++)r[e]=0;r[0]=128&e[0];const n=$o(r,8),i=new ArrayBuffer(this.valueHex.byteLength),s=new Uint8Array(i);for(let t=0;t<this.valueHex.byteLength;t++)s[t]=e[t];s[0]&=127;return $o(s,8)-n}function na(e,t){const r=e.toString(10);if(t<r.length)return"";const n=t-r.length,i=new Array(n);for(let e=0;e<n;e++)i[e]="0";return i.join("").concat(r)}Math.log(2);
/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */
function ia(){if("undefined"==typeof BigInt)throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function sa(e){let t=0,r=0;for(let r=0;r<e.length;r++){t+=e[r].byteLength}const n=new Uint8Array(t);for(let t=0;t<e.length;t++){const i=e[t];n.set(new Uint8Array(i),r),r+=i.byteLength}return n.buffer}function oa(e,t,r,n){return t instanceof Uint8Array?t.byteLength?r<0?(e.error="Wrong parameter: inputOffset less than zero",!1):n<0?(e.error="Wrong parameter: inputLength less than zero",!1):!(t.byteLength-r-n<0)||(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):(e.error="Wrong parameter: inputBuffer has zero length",!1):(e.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class aa{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return sa(this.items)}}const ca=[new Uint8Array([1])],la="0123456789",ua="name",ha="valueHexView",da="",fa=new ArrayBuffer(0),pa=new Uint8Array(0),ga="EndOfContent",ya="OCTET STRING",wa="BIT STRING";function ma(e){var t;return(t=class extends e{constructor(...e){var t;super(...e);const r=e[0]||{};this.isHexOnly=null!==(t=r.isHexOnly)&&void 0!==t&&t,this.valueHexView=r.valueHex?Zo.vJ.toUint8Array(r.valueHex):pa}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(e){this.valueHexView=new Uint8Array(e)}fromBER(e,t,r){const n=e instanceof ArrayBuffer?new Uint8Array(e):e;if(!oa(this,n,t,r))return-1;const i=t+r;return this.valueHexView=n.subarray(t,i),this.valueHexView.length?(this.blockLength=r,i):(this.warnings.push("Zero buffer length"),t)}toBER(e=!1){return this.isHexOnly?e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",fa)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:Zo.ep.ToHex(this.valueHexView)}}}).NAME="hexBlock",t}class ba{constructor({blockLength:e=0,error:t="",warnings:r=[],valueBeforeDecode:n=pa}={}){this.blockLength=e,this.error=t,this.warnings=r,this.valueBeforeDecodeView=Zo.vJ.toUint8Array(n)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:Zo.ep.ToHex(this.valueBeforeDecodeView)}}}ba.NAME="baseBlock";class Aa extends ba{fromBER(e,t,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}Aa.NAME="valueBlock";class Ea extends(ma(ba)){constructor({idBlock:e={}}={}){var t,r,n,i;super(),e?(this.isHexOnly=null!==(t=e.isHexOnly)&&void 0!==t&&t,this.valueHexView=e.valueHex?Zo.vJ.toUint8Array(e.valueHex):pa,this.tagClass=null!==(r=e.tagClass)&&void 0!==r?r:-1,this.tagNumber=null!==(n=e.tagNumber)&&void 0!==n?n:-1,this.isConstructed=null!==(i=e.isConstructed)&&void 0!==i&&i):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",fa}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){const r=new Uint8Array(1);if(!e){let e=this.tagNumber;e&=31,t|=e,r[0]=t}return r.buffer}if(!this.isHexOnly){const r=ea(this.tagNumber,7),n=new Uint8Array(r),i=r.byteLength,s=new Uint8Array(i+1);if(s[0]=31|t,!e){for(let e=0;e<i-1;e++)s[e+1]=128|n[e];s[i]=n[i-1]}return s.buffer}const r=new Uint8Array(this.valueHexView.byteLength+1);if(r[0]=31|t,!e){const e=this.valueHexView;for(let t=0;t<e.length-1;t++)r[t+1]=128|e[t];r[this.valueHexView.byteLength]=e[e.length-1]}return r.buffer}fromBER(e,t,r){const n=Zo.vJ.toUint8Array(e);if(!oa(this,n,t,r))return-1;const i=n.subarray(t,t+r);if(0===i.length)return this.error="Zero buffer length",-1;switch(192&i[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=32==(32&i[0]),this.isHexOnly=!1;const s=31&i[0];if(31!==s)this.tagNumber=s,this.blockLength=1;else{let e=1,t=this.valueHexView=new Uint8Array(255),r=255;for(;128&i[e];){if(t[e-1]=127&i[e],e++,e>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(e===r){r+=255;const e=new Uint8Array(r);for(let r=0;r<t.length;r++)e[r]=t[r];t=this.valueHexView=new Uint8Array(r)}}this.blockLength=e+1,t[e-1]=127&i[e];const n=new Uint8Array(e);for(let r=0;r<e;r++)n[r]=t[r];t=this.valueHexView=new Uint8Array(e),t.set(n),this.blockLength<=9?this.tagNumber=$o(t,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}Ea.NAME="identificationBlock";class va extends ba{constructor({lenBlock:e={}}={}){var t,r,n;super(),this.isIndefiniteForm=null!==(t=e.isIndefiniteForm)&&void 0!==t&&t,this.longFormUsed=null!==(r=e.longFormUsed)&&void 0!==r&&r,this.length=null!==(n=e.length)&&void 0!==n?n:0}fromBER(e,t,r){const n=Zo.vJ.toUint8Array(e);if(!oa(this,n,t,r))return-1;const i=n.subarray(t,t+r);if(0===i.length)return this.error="Zero buffer length",-1;if(255===i[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===i[0],this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(128&i[0]),!1===this.longFormUsed)return this.length=i[0],this.blockLength=1,t+this.blockLength;const s=127&i[0];if(s>8)return this.error="Too big integer",-1;if(s+1>i.length)return this.error="End of input reached before message was fully decoded",-1;const o=t+1,a=n.subarray(o,o+s);return 0===a[s-1]&&this.warnings.push("Needlessly long encoded length"),this.length=$o(a,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=s+1,t+this.blockLength}toBER(e=!1){let t,r;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),!1===e&&(r=new Uint8Array(t),r[0]=128),t;if(this.longFormUsed){const n=ea(this.length,8);if(n.byteLength>127)return this.error="Too big length",fa;if(t=new ArrayBuffer(n.byteLength+1),e)return t;const i=new Uint8Array(n);r=new Uint8Array(t),r[0]=128|n.byteLength;for(let e=0;e<n.byteLength;e++)r[e+1]=i[e];return t}return t=new ArrayBuffer(1),!1===e&&(r=new Uint8Array(t),r[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}va.NAME="lengthBlock";const _a={};class Ta extends ba{constructor({name:e="",optional:t=!1,primitiveSchema:r,...n}={},i){super(n),this.name=e,this.optional=t,r&&(this.primitiveSchema=r),this.idBlock=new Ea(n),this.lenBlock=new va(n),this.valueBlock=i?new i(n):new Aa(n)}fromBER(e,t,r){const n=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===n?(this.error=this.valueBlock.error,n):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),n)}toBER(e,t){const r=t||new aa;t||Sa(this);const n=this.idBlock.toBER(e);if(r.write(n),this.lenBlock.isIndefiniteForm)r.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,r),r.write(new ArrayBuffer(2));else{const t=this.valueBlock.toBER(e);this.lenBlock.length=t.byteLength;const n=this.lenBlock.toBER(e);r.write(n),r.write(t)}return t?fa:r.final()}toJSON(){const e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return"ascii"===e?this.onAsciiEncoding():Zo.ep.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${Zo.ep.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;return function(e,t){if(e.byteLength!==t.byteLength)return!1;const r=new Uint8Array(e),n=new Uint8Array(t);for(let e=0;e<r.length;e++)if(r[e]!==n[e])return!1;return!0}(this.toBER(),e.toBER())}}function Sa(e){if(e instanceof _a.Constructed)for(const t of e.valueBlock.value)Sa(t)&&(e.lenBlock.isIndefiniteForm=!0);return!!e.lenBlock.isIndefiniteForm}Ta.NAME="BaseBlock";class Ia extends Ta{constructor({value:e="",...t}={},r){super(t,r),e&&this.fromString(e)}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}fromBER(e,t,r){const n=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===n?(this.error=this.valueBlock.error,n):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),n)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}Ia.NAME="BaseStringBlock";class Ca extends(ma(Aa)){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}}var Ra,xa,ka,Na,Ba,Oa,Da,La,Pa,Ua,Ma,Fa,Ha,ja,za,Wa,Ga,qa,Qa,Va,Ka,Ya,Ja,Xa,Za,$a,ec,tc,rc,nc,ic,sc,oc,ac,cc;Ca.NAME="PrimitiveValueBlock";class lc extends Ta{constructor(e={}){super(e,Ca),this.idBlock.isConstructed=!1}}function uc(e,t=0,r=e.length){const n=t;let i=new Ta({},Aa);const s=new ba;if(!oa(s,e,t,r))return i.error=s.error,{offset:-1,result:i};if(!e.subarray(t,t+r).length)return i.error="Zero buffer length",{offset:-1,result:i};let o=i.idBlock.fromBER(e,t,r);if(i.idBlock.warnings.length&&i.warnings.concat(i.idBlock.warnings),-1===o)return i.error=i.idBlock.error,{offset:-1,result:i};if(t=o,r-=i.idBlock.blockLength,o=i.lenBlock.fromBER(e,t,r),i.lenBlock.warnings.length&&i.warnings.concat(i.lenBlock.warnings),-1===o)return i.error=i.lenBlock.error,{offset:-1,result:i};if(t=o,r-=i.lenBlock.blockLength,!i.idBlock.isConstructed&&i.lenBlock.isIndefiniteForm)return i.error="Indefinite length form used for primitive encoding form",{offset:-1,result:i};let a=Ta;if(1===i.idBlock.tagClass){if(i.idBlock.tagNumber>=37&&!1===i.idBlock.isHexOnly)return i.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:i};switch(i.idBlock.tagNumber){case 0:if(i.idBlock.isConstructed&&i.lenBlock.length>0)return i.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:i};a=_a.EndOfContent;break;case 1:a=_a.Boolean;break;case 2:a=_a.Integer;break;case 3:a=_a.BitString;break;case 4:a=_a.OctetString;break;case 5:a=_a.Null;break;case 6:a=_a.ObjectIdentifier;break;case 10:a=_a.Enumerated;break;case 12:a=_a.Utf8String;break;case 13:a=_a.RelativeObjectIdentifier;break;case 14:a=_a.TIME;break;case 15:return i.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:i};case 16:a=_a.Sequence;break;case 17:a=_a.Set;break;case 18:a=_a.NumericString;break;case 19:a=_a.PrintableString;break;case 20:a=_a.TeletexString;break;case 21:a=_a.VideotexString;break;case 22:a=_a.IA5String;break;case 23:a=_a.UTCTime;break;case 24:a=_a.GeneralizedTime;break;case 25:a=_a.GraphicString;break;case 26:a=_a.VisibleString;break;case 27:a=_a.GeneralString;break;case 28:a=_a.UniversalString;break;case 29:a=_a.CharacterString;break;case 30:a=_a.BmpString;break;case 31:a=_a.DATE;break;case 32:a=_a.TimeOfDay;break;case 33:a=_a.DateTime;break;case 34:a=_a.Duration;break;default:{const e=i.idBlock.isConstructed?new _a.Constructed:new _a.Primitive;e.idBlock=i.idBlock,e.lenBlock=i.lenBlock,e.warnings=i.warnings,i=e}}}else a=i.idBlock.isConstructed?_a.Constructed:_a.Primitive;return i=function(e,t){if(e instanceof t)return e;const r=new t;return r.idBlock=e.idBlock,r.lenBlock=e.lenBlock,r.warnings=e.warnings,r.valueBeforeDecodeView=e.valueBeforeDecodeView,r}(i,a),o=i.fromBER(e,t,i.lenBlock.isIndefiniteForm?r:i.lenBlock.length),i.valueBeforeDecodeView=e.subarray(n,n+i.blockLength),{offset:o,result:i}}function hc(e){if(!e.byteLength){const e=new Ta({},Aa);return e.error="Input buffer has zero length",{offset:-1,result:e}}return uc(Zo.vJ.toUint8Array(e).slice(),0,e.byteLength)}Ra=lc,_a.Primitive=Ra,lc.NAME="PRIMITIVE";class dc extends Aa{constructor({value:e=[],isIndefiniteForm:t=!1,...r}={}){super(r),this.value=e,this.isIndefiniteForm=t}fromBER(e,t,r){const n=Zo.vJ.toUint8Array(e);if(!oa(this,n,t,r))return-1;if(this.valueBeforeDecodeView=n.subarray(t,t+r),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),t;let i=t;for(;s=this.isIndefiniteForm,o=r,(s?1:o)>0;){const e=uc(n,i,r);if(-1===e.offset)return this.error=e.result.error,this.warnings.concat(e.result.warnings),-1;if(i=e.offset,this.blockLength+=e.result.blockLength,r-=e.result.blockLength,this.value.push(e.result),this.isIndefiniteForm&&e.result.constructor.NAME===ga)break}var s,o;return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===ga?this.value.pop():this.warnings.push("No EndOfContent block encoded")),i}toBER(e,t){const r=t||new aa;for(let t=0;t<this.value.length;t++)this.value[t].toBER(e,r);return t?fa:r.final()}toJSON(){const e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const t of this.value)e.value.push(t.toJSON());return e}}dc.NAME="ConstructedValueBlock";class fc extends Ta{constructor(e={}){super(e,dc),this.idBlock.isConstructed=!0}fromBER(e,t,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const n=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===n?(this.error=this.valueBlock.error,n):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),n)}onAsciiEncoding(){const e=[];for(const t of this.valueBlock.value)e.push(t.toString("ascii").split("\n").map((e=>`  ${e}`)).join("\n"));const t=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :\n${e.join("\n")}`:`${t} :`}}xa=fc,_a.Constructed=xa,fc.NAME="CONSTRUCTED";class pc extends Aa{fromBER(e,t,r){return t}toBER(e){return fa}}pc.override="EndOfContentValueBlock";class gc extends Ta{constructor(e={}){super(e,pc),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}ka=gc,_a.EndOfContent=ka,gc.NAME=ga;class yc extends Ta{constructor(e={}){super(e,Aa),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,r){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=r,t+r>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+r}toBER(e,t){const r=new ArrayBuffer(2);if(!e){const e=new Uint8Array(r);e[0]=5,e[1]=0}return t&&t.write(r),r}onAsciiEncoding(){return`${this.constructor.NAME}`}}Na=yc,_a.Null=Na,yc.NAME="NULL";class wc extends(ma(Aa)){constructor({value:e,...t}={}){super(t),t.valueHex?this.valueHexView=Zo.vJ.toUint8Array(t.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}get value(){for(const e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}fromBER(e,t,r){const n=Zo.vJ.toUint8Array(e);return oa(this,n,t,r)?(this.valueHexView=n.subarray(t,t+r),r>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,ra.call(this),this.blockLength=r,t+r):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}wc.NAME="BooleanValueBlock";class mc extends Ta{constructor(e={}){super(e,wc),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}Ba=mc,_a.Boolean=Ba,mc.NAME="BOOLEAN";class bc extends(ma(dc)){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,r){let n=0;if(this.isConstructed){if(this.isHexOnly=!1,n=dc.prototype.fromBER.call(this,e,t,r),-1===n)return n;for(let e=0;e<this.value.length;e++){const t=this.value[e].constructor.NAME;if(t===ga){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(t!==ya)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,n=super.fromBER(e,t,r),this.blockLength=r;return n}toBER(e,t){return this.isConstructed?dc.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}bc.NAME="OctetStringValueBlock";class Ac extends Ta{constructor({idBlock:e={},lenBlock:t={},...r}={}){var n,i;null!==(n=r.isConstructed)&&void 0!==n||(r.isConstructed=!!(null===(i=r.value)||void 0===i?void 0:i.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},bc),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,r){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===r)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){const n=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+r);try{if(n.byteLength){const e=uc(n,0,n.byteLength);-1!==e.offset&&e.offset===r&&(this.valueBlock.value=[e.result])}}catch(e){}}return super.fromBER(e,t,r)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?fc.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${Zo.ep.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const e=[];for(const t of this.valueBlock.value)t instanceof Ac&&e.push(t.valueBlock.valueHexView);return Zo.vJ.concat(e)}}Oa=Ac,_a.OctetString=Oa,Ac.NAME=ya;class Ec extends(ma(dc)){constructor({unusedBits:e=0,isConstructed:t=!1,...r}={}){super(r),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,t,r){if(!r)return t;let n=-1;if(this.isConstructed){if(n=dc.prototype.fromBER.call(this,e,t,r),-1===n)return n;for(const e of this.value){const t=e.constructor.NAME;if(t===ga){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(t!==wa)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const r=e.valueBlock;if(this.unusedBits>0&&r.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=r.unusedBits}return n}const i=Zo.vJ.toUint8Array(e);if(!oa(this,i,t,r))return-1;const s=i.subarray(t,t+r);if(this.unusedBits=s[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const e=s.subarray(1);try{if(e.byteLength){const t=uc(e,0,e.byteLength);-1!==t.offset&&t.offset===r-1&&(this.value=[t.result])}}catch(e){}}return this.valueHexView=s.subarray(1),this.blockLength=s.length,t+r}toBER(e,t){if(this.isConstructed)return dc.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return fa;const r=new Uint8Array(this.valueHexView.length+1);return r[0]=this.unusedBits,r.set(this.valueHexView,1),r.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}Ec.NAME="BitStringValueBlock";class vc extends Ta{constructor({idBlock:e={},lenBlock:t={},...r}={}){var n,i;null!==(n=r.isConstructed)&&void 0!==n||(r.isConstructed=!!(null===(i=r.value)||void 0===i?void 0:i.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},Ec),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,r){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return fc.prototype.onAsciiEncoding.call(this);{const e=[],t=this.valueBlock.valueHexView;for(const r of t)e.push(r.toString(2).padStart(8,"0"));const r=e.join("");return`${this.constructor.NAME} : ${r.substring(0,r.length-this.valueBlock.unusedBits)}`}}}function _c(e,t){const r=new Uint8Array([0]),n=new Uint8Array(e),i=new Uint8Array(t);let s=n.slice(0);const o=s.length-1,a=i.slice(0),c=a.length-1;let l=0;let u=0;for(let e=c<o?o:c;e>=0;e--,u++){if(!0==u<a.length)l=s[o-u]+a[c-u]+r[0];else l=s[o-u]+r[0];if(r[0]=l/10,!0==u>=s.length)s=ta(new Uint8Array([l%10]),s);else s[o-u]=l%10}return r[0]>0&&(s=ta(r,s)),s}function Tc(e){if(e>=ca.length)for(let t=ca.length;t<=e;t++){const e=new Uint8Array([0]);let r=ca[t-1].slice(0);for(let t=r.length-1;t>=0;t--){const n=new Uint8Array([(r[t]<<1)+e[0]]);e[0]=n[0]/10,r[t]=n[0]%10}e[0]>0&&(r=ta(e,r)),ca.push(r)}return ca[e]}function Sc(e,t){let r=0;const n=new Uint8Array(e),i=new Uint8Array(t),s=n.slice(0),o=s.length-1,a=i.slice(0),c=a.length-1;let l,u=0;for(let e=c;e>=0;e--,u++)if(l=s[o-u]-a[c-u]-r,!0==l<0)r=1,s[o-u]=l+10;else r=0,s[o-u]=l;if(r>0)for(let e=o-c+1;e>=0;e--,u++){if(l=s[o-u]-r,!(l<0)){r=0,s[o-u]=l;break}r=1,s[o-u]=l+10}return s.slice()}Da=vc,_a.BitString=Da,vc.NAME=wa;class Ic extends(ma(Aa)){constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),void 0!==e&&(this.valueDec=e)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=ra.call(this)))}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(function(e){const t=e<0?-1*e:e;let r=128;for(let n=1;n<8;n++){if(t<=r){if(e<0){const e=ea(r-t,8,n);return new Uint8Array(e)[0]|=128,e}let i=ea(t,8,n),s=new Uint8Array(i);if(128&s[0]){const e=i.slice(0),t=new Uint8Array(e);i=new ArrayBuffer(i.byteLength+1),s=new Uint8Array(i);for(let r=0;r<e.byteLength;r++)s[r+1]=t[r];s[0]=0}return i}r*=Math.pow(2,8)}return new ArrayBuffer(0)}(e))}get valueDec(){return this._valueDec}fromDER(e,t,r,n=0){const i=this.fromBER(e,t,r);if(-1===i)return i;const s=this.valueHexView;return 0===s[0]&&0!=(128&s[1])?this.valueHexView=s.subarray(1):0!==n&&s.length<n&&(n-s.length>1&&(n=s.length+1),this.valueHexView=s.subarray(n-s.length)),i}toDER(e=!1){const t=this.valueHexView;switch(!0){case 0!=(128&t[0]):{const e=new Uint8Array(this.valueHexView.length+1);e[0]=0,e.set(t,1),this.valueHexView=e}break;case 0===t[0]&&0==(128&t[1]):this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(e)}fromBER(e,t,r){const n=super.fromBER(e,t,r);return-1===n||this.setValueHex(),n}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const e=8*this.valueHexView.length-1;let t,r=new Uint8Array(8*this.valueHexView.length/3),n=0;const i=this.valueHexView;let s="",o=!1;for(let o=i.byteLength-1;o>=0;o--){t=i[o];for(let i=0;i<8;i++){if(1==(1&t))if(n===e)r=Sc(Tc(n),r),s="-";else r=_c(r,Tc(n));n++,t>>=1}}for(let e=0;e<r.length;e++)r[e]&&(o=!0),o&&(s+=la.charAt(r[e]));return!1===o&&(s+=la.charAt(0)),s}}La=Ic,Ic.NAME="IntegerValueBlock",Object.defineProperty(La.prototype,"valueHex",{set:function(e){this.valueHexView=new Uint8Array(e),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class Cc extends Ta{constructor(e={}){super(e,Ic),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return ia(),BigInt(this.valueBlock.toString())}static fromBigInt(e){ia();const t=BigInt(e),r=new aa,n=t.toString(16).replace(/^-/,""),i=new Uint8Array(Zo.ep.FromHex(n));if(t<0){const e=new Uint8Array(i.length+(128&i[0]?1:0));e[0]|=128;const n=BigInt(`0x${Zo.ep.ToHex(e)}`)+t,s=Zo.vJ.toUint8Array(Zo.ep.FromHex(n.toString(16)));s[0]|=128,r.write(s)}else 128&i[0]&&r.write(new Uint8Array([0])),r.write(i);return new Cc({valueHex:r.final()})}convertToDER(){const e=new Cc({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new Cc({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}Pa=Cc,_a.Integer=Pa,Cc.NAME="INTEGER";class Rc extends Cc{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}Ua=Rc,_a.Enumerated=Ua,Rc.NAME="ENUMERATED";class xc extends(ma(Aa)){constructor({valueDec:e=-1,isFirstSid:t=!1,...r}={}){super(r),this.valueDec=e,this.isFirstSid=t}fromBER(e,t,r){if(!r)return t;const n=Zo.vJ.toUint8Array(e);if(!oa(this,n,t,r))return-1;const i=n.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&i[e],this.blockLength++,0!=(128&i[e]));e++);const s=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)s[e]=this.valueHexView[e];return this.valueHexView=s,0!=(128&i[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=$o(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}set valueBigInt(e){ia();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;const r=new Uint8Array(t.length/7);for(let e=0;e<r.length;e++)r[e]=parseInt(t.slice(7*e,7*e+7),2)+(e+1<r.length?128:0);this.fromBER(r.buffer,0,r.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}const t=ea(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",fa;const r=new Uint8Array(t.byteLength);if(!e){const e=new Uint8Array(t),n=t.byteLength-1;for(let t=0;t<n;t++)r[t]=128|e[t];r[n]=e[n]}return r}toString(){let e="";if(this.isHexOnly)e=Zo.ep.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}xc.NAME="sidBlock";class kc extends Aa{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let n=t;for(;r>0;){const t=new xc;if(n=t.fromBER(e,n,r),-1===n)return this.blockLength=0,this.error=t.error,n;0===this.value.length&&(t.isFirstSid=!0),this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return n}toBER(e){const t=[];for(let r=0;r<this.value.length;r++){const n=this.value[r].toBER(e);if(0===n.byteLength)return this.error=this.value[r].error,fa;t.push(n)}return sa(t)}fromString(e){this.value=[];let t=0,r=0,n="",i=!1;do{if(r=e.indexOf(".",t),n=-1===r?e.substring(t):e.substring(t,r),t=r+1,i){const e=this.value[0];let t=0;switch(e.valueDec){case 0:break;case 1:t=40;break;case 2:t=80;break;default:return void(this.value=[])}const r=parseInt(n,10);if(isNaN(r))return;e.valueDec=r+t,i=!1}else{const e=new xc;if(n>Number.MAX_SAFE_INTEGER){ia();const t=BigInt(n);e.valueBigInt=t}else if(e.valueDec=parseInt(n,10),isNaN(e.valueDec))return;this.value.length||(e.isFirstSid=!0,i=!0),this.value.push(e)}}while(-1!==r)}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let n=this.value[r].toString();0!==r&&(e=`${e}.`),t?(n=`{${n}}`,this.value[r].isFirstSid?e=`2.{${n} - 80}`:e+=n):e+=n}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}kc.NAME="ObjectIdentifierValueBlock";class Nc extends Ta{constructor(e={}){super(e,kc),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Ma=Nc,_a.ObjectIdentifier=Ma,Nc.NAME="OBJECT IDENTIFIER";class Bc extends(ma(ba)){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,t,r){if(0===r)return t;const n=Zo.vJ.toUint8Array(e);if(!oa(this,n,t,r))return-1;const i=n.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&i[e],this.blockLength++,0!=(128&i[e]));e++);const s=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)s[e]=this.valueHexView[e];return this.valueHexView=s,0!=(128&i[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=$o(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}const t=ea(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",fa;const r=new Uint8Array(t.byteLength);if(!e){const e=new Uint8Array(t),n=t.byteLength-1;for(let t=0;t<n;t++)r[t]=128|e[t];r[n]=e[n]}return r.buffer}toString(){let e="";return e=this.isHexOnly?Zo.ep.ToHex(this.valueHexView):this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}Bc.NAME="relativeSidBlock";class Oc extends Aa{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let n=t;for(;r>0;){const t=new Bc;if(n=t.fromBER(e,n,r),-1===n)return this.blockLength=0,this.error=t.error,n;this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return n}toBER(e,t){const r=[];for(let t=0;t<this.value.length;t++){const n=this.value[t].toBER(e);if(0===n.byteLength)return this.error=this.value[t].error,fa;r.push(n)}return sa(r)}fromString(e){this.value=[];let t=0,r=0,n="";do{r=e.indexOf(".",t),n=-1===r?e.substring(t):e.substring(t,r),t=r+1;const i=new Bc;if(i.valueDec=parseInt(n,10),isNaN(i.valueDec))return!0;this.value.push(i)}while(-1!==r);return!0}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let n=this.value[r].toString();0!==r&&(e=`${e}.`),t?(n=`{${n}}`,e+=n):e+=n}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}Oc.NAME="RelativeObjectIdentifierValueBlock";class Dc extends Ta{constructor(e={}){super(e,Oc),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Fa=Dc,_a.RelativeObjectIdentifier=Fa,Dc.NAME="RelativeObjectIdentifier";class Lc extends fc{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}Ha=Lc,_a.Sequence=Ha,Lc.NAME="SEQUENCE";class Pc extends fc{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}ja=Pc,_a.Set=ja,Pc.NAME="SET";class Uc extends(ma(Aa)){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=da}toJSON(){return{...super.toJSON(),value:this.value}}}Uc.NAME="StringValueBlock";class Mc extends Uc{}Mc.NAME="SimpleStringValueBlock";class Fc extends Ia{constructor({...e}={}){super(e,Mc)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,Zo.vJ.toUint8Array(e))}fromString(e){const t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);this.valueBlock.value=e}}Fc.NAME="SIMPLE STRING";class Hc extends Fc{fromBuffer(e){this.valueBlock.valueHexView=Zo.vJ.toUint8Array(e);try{this.valueBlock.value=Zo.ep.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=Zo.ep.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(Zo.ep.FromUtf8String(e)),this.valueBlock.value=e}}Hc.NAME="Utf8StringValueBlock";class jc extends Hc{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}za=jc,_a.Utf8String=za,jc.NAME="UTF8String";class zc extends Fc{fromBuffer(e){this.valueBlock.value=Zo.ep.ToUtf16String(e),this.valueBlock.valueHexView=Zo.vJ.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(Zo.ep.FromUtf16String(e))}}zc.NAME="BmpStringValueBlock";class Wc extends zc{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}Wa=Wc,_a.BmpString=Wa,Wc.NAME="BMPString";class Gc extends Fc{fromBuffer(e){const t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),r=new Uint8Array(t);for(let e=0;e<r.length;e+=4)r[e]=r[e+3],r[e+1]=r[e+2],r[e+2]=0,r[e+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){const t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(4*t);for(let n=0;n<t;n++){const t=ea(e.charCodeAt(n),8),i=new Uint8Array(t);if(i.length>4)continue;const s=4-i.length;for(let e=i.length-1;e>=0;e--)r[4*n+e+s]=i[e]}this.valueBlock.value=e}}Gc.NAME="UniversalStringValueBlock";class qc extends Gc{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}Ga=qc,_a.UniversalString=Ga,qc.NAME="UniversalString";class Qc extends Fc{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}qa=Qc,_a.NumericString=qa,Qc.NAME="NumericString";class Vc extends Fc{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}Qa=Vc,_a.PrintableString=Qa,Vc.NAME="PrintableString";class Kc extends Fc{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}Va=Kc,_a.TeletexString=Va,Kc.NAME="TeletexString";class Yc extends Fc{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}Ka=Yc,_a.VideotexString=Ka,Yc.NAME="VideotexString";class Jc extends Fc{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}Ya=Jc,_a.IA5String=Ya,Jc.NAME="IA5String";class Xc extends Fc{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}Ja=Xc,_a.GraphicString=Ja,Xc.NAME="GraphicString";class Zc extends Fc{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}Xa=Zc,_a.VisibleString=Xa,Zc.NAME="VisibleString";class $c extends Fc{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}Za=$c,_a.GeneralString=Za,$c.NAME="GeneralString";class el extends Fc{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}$a=el,_a.CharacterString=$a,el.NAME="CharacterString";class tl extends Zc{constructor({value:e,valueDate:t,...r}={}){if(super(r),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let t=0;t<e.length;t++)this.valueBlock.valueHexView[t]=e.charCodeAt(t)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,Zo.vJ.toUint8Array(e)))}toBuffer(){const e=this.toString(),t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){const t=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(e);if(null===t)return void(this.error="Wrong input string for conversion");const r=parseInt(t[1],10);this.year=r>=50?1900+r:2e3+r,this.month=parseInt(t[2],10),this.day=parseInt(t[3],10),this.hour=parseInt(t[4],10),this.minute=parseInt(t[5],10),this.second=parseInt(t[6],10)}toString(e="iso"){if("iso"===e){const e=new Array(7);return e[0]=na(this.year<2e3?this.year-1900:this.year-2e3,2),e[1]=na(this.month,2),e[2]=na(this.day,2),e[3]=na(this.hour,2),e[4]=na(this.minute,2),e[5]=na(this.second,2),e[6]="Z",e.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}ec=tl,_a.UTCTime=ec,tl.NAME="UTCTime";class rl extends tl{constructor(e={}){var t;super(e),null!==(t=this.millisecond)&&void 0!==t||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t,r=!1,n="",i="",s=0,o=0,a=0;if("Z"===e[e.length-1])n=e.substring(0,e.length-1),r=!0;else{const t=new Number(e[e.length-1]);if(isNaN(t.valueOf()))throw new Error("Wrong input string for conversion");n=e}if(r){if(-1!==n.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==n.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let e=1,t=n.indexOf("+"),r="";if(-1===t&&(t=n.indexOf("-"),e=-1),-1!==t){if(r=n.substring(t+1),n=n.substring(0,t),2!==r.length&&4!==r.length)throw new Error("Wrong input string for conversion");let i=parseInt(r.substring(0,2),10);if(isNaN(i.valueOf()))throw new Error("Wrong input string for conversion");if(o=e*i,4===r.length){if(i=parseInt(r.substring(2,4),10),isNaN(i.valueOf()))throw new Error("Wrong input string for conversion");a=e*i}}}let c=n.indexOf(".");if(-1===c&&(c=n.indexOf(",")),-1!==c){const e=new Number(`0${n.substring(c)}`);if(isNaN(e.valueOf()))throw new Error("Wrong input string for conversion");s=e.valueOf(),i=n.substring(0,c)}else i=n;switch(!0){case 8===i.length:if(t=/(\d{4})(\d{2})(\d{2})/gi,-1!==c)throw new Error("Wrong input string for conversion");break;case 10===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==c){let e=60*s;this.minute=Math.floor(e),e=60*(e-this.minute),this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 12===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==c){let e=60*s;this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 14===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==c){const e=1e3*s;this.millisecond=Math.floor(e)}break;default:throw new Error("Wrong input string for conversion")}const l=t.exec(i);if(null===l)throw new Error("Wrong input string for conversion");for(let e=1;e<l.length;e++)switch(e){case 1:this.year=parseInt(l[e],10);break;case 2:this.month=parseInt(l[e],10);break;case 3:this.day=parseInt(l[e],10);break;case 4:this.hour=parseInt(l[e],10)+o;break;case 5:this.minute=parseInt(l[e],10)+a;break;case 6:this.second=parseInt(l[e],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===r){const e=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=e.getUTCFullYear(),this.month=e.getUTCMonth(),this.day=e.getUTCDay(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}}toString(e="iso"){if("iso"===e){const e=[];return e.push(na(this.year,4)),e.push(na(this.month,2)),e.push(na(this.day,2)),e.push(na(this.hour,2)),e.push(na(this.minute,2)),e.push(na(this.second,2)),0!==this.millisecond&&(e.push("."),e.push(na(this.millisecond,3))),e.push("Z"),e.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}tc=rl,_a.GeneralizedTime=tc,rl.NAME="GeneralizedTime";class nl extends jc{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}rc=nl,_a.DATE=rc,nl.NAME="DATE";class il extends jc{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}nc=il,_a.TimeOfDay=nc,il.NAME="TimeOfDay";class sl extends jc{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}ic=sl,_a.DateTime=ic,sl.NAME="DateTime";class ol extends jc{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}sc=ol,_a.Duration=sc,ol.NAME="Duration";class al extends jc{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}oc=al,_a.TIME=oc,al.NAME="TIME";class cl{constructor({name:e="",optional:t=!1}={}){this.name=e,this.optional=t}}class ll extends cl{constructor({value:e=[],...t}={}){super(t),this.value=e}}class ul extends cl{constructor({value:e=new cl,local:t=!1,...r}={}){super(r),this.value=e,this.local=t}}class hl{constructor({data:e=pa}={}){this.dataView=Zo.vJ.toUint8Array(e)}get data(){return this.dataView.slice().buffer}set data(e){this.dataView=Zo.vJ.toUint8Array(e)}fromBER(e,t,r){const n=t+r;return this.dataView=Zo.vJ.toUint8Array(e).subarray(t,n),n}toBER(e){return this.dataView.slice().buffer}}function dl(e,t,r){if(r instanceof ll){for(let n=0;n<r.value.length;n++){if(dl(e,t,r.value[n]).verified)return{verified:!0,result:e}}{const e={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(ua)&&(e.name=r.name),e}}if(r instanceof cl)return r.hasOwnProperty(ua)&&(e[r.name]=t),{verified:!0,result:e};if(e instanceof Object==!1)return{verified:!1,result:{error:"Wrong root object"}};if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(r instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("idBlock"in r==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("fromBER"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("toBER"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const n=r.idBlock.toBER(!1);if(0===n.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===r.idBlock.fromBER(n,0,n.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===r.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if(!("isHexOnly"in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(r.idBlock.isHexOnly){if(ha in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const n=r.idBlock.valueHexView,i=t.idBlock.valueHexView;if(n.length!==i.length)return{verified:!1,result:e};for(let t=0;t<n.length;t++)if(n[t]!==i[1])return{verified:!1,result:e}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,da),r.name&&(e[r.name]=t)),r instanceof _a.Constructed){let n=0,i={verified:!1,result:{error:"Unknown error"}},s=r.valueBlock.value.length;if(s>0&&r.valueBlock.value[0]instanceof ul&&(s=t.valueBlock.value.length),0===s)return{verified:!0,result:e};if(0===t.valueBlock.value.length&&0!==r.valueBlock.value.length){let t=!0;for(let e=0;e<r.valueBlock.value.length;e++)t=t&&(r.valueBlock.value[e].optional||!1);return t?{verified:!0,result:e}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,da),r.name&&delete e[r.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(let o=0;o<s;o++)if(o-n>=t.valueBlock.value.length){if(!1===r.valueBlock.value[o].optional){const t={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,da),r.name&&(delete e[r.name],t.name=r.name)),t}}else if(r.valueBlock.value[0]instanceof ul){if(i=dl(e,t.valueBlock.value[o],r.valueBlock.value[0].value),!1===i.verified){if(!r.valueBlock.value[0].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,da),r.name&&delete e[r.name]),i;n++}if(ua in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let n={};n="local"in r.valueBlock.value[0]&&r.valueBlock.value[0].local?t:e,void 0===n[r.valueBlock.value[0].name]&&(n[r.valueBlock.value[0].name]=[]),n[r.valueBlock.value[0].name].push(t.valueBlock.value[o])}}else if(i=dl(e,t.valueBlock.value[o-n],r.valueBlock.value[o]),!1===i.verified){if(!r.valueBlock.value[o].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,da),r.name&&delete e[r.name]),i;n++}if(!1===i.verified){const t={verified:!1,result:e};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,da),r.name&&(delete e[r.name],t.name=r.name)),t}return{verified:!0,result:e}}if(r.primitiveSchema&&ha in t.valueBlock){const n=uc(t.valueBlock.valueHexView);if(-1===n.offset){const t={verified:!1,result:n.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,da),r.name&&(delete e[r.name],t.name=r.name)),t}return dl(e,n.result,r.primitiveSchema)}return{verified:!0,result:e}}function fl(e,t){if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};const r=uc(Zo.vJ.toUint8Array(e));return-1===r.offset?{verified:!1,result:r.result}:dl(r.result,r.result,t)}!function(e){e[e.Sequence=0]="Sequence",e[e.Set=1]="Set",e[e.Choice=2]="Choice"}(ac||(ac={})),function(e){e[e.Any=1]="Any",e[e.Boolean=2]="Boolean",e[e.OctetString=3]="OctetString",e[e.BitString=4]="BitString",e[e.Integer=5]="Integer",e[e.Enumerated=6]="Enumerated",e[e.ObjectIdentifier=7]="ObjectIdentifier",e[e.Utf8String=8]="Utf8String",e[e.BmpString=9]="BmpString",e[e.UniversalString=10]="UniversalString",e[e.NumericString=11]="NumericString",e[e.PrintableString=12]="PrintableString",e[e.TeletexString=13]="TeletexString",e[e.VideotexString=14]="VideotexString",e[e.IA5String=15]="IA5String",e[e.GraphicString=16]="GraphicString",e[e.VisibleString=17]="VisibleString",e[e.GeneralString=18]="GeneralString",e[e.CharacterString=19]="CharacterString",e[e.UTCTime=20]="UTCTime",e[e.GeneralizedTime=21]="GeneralizedTime",e[e.DATE=22]="DATE",e[e.TimeOfDay=23]="TimeOfDay",e[e.DateTime=24]="DateTime",e[e.Duration=25]="Duration",e[e.TIME=26]="TIME",e[e.Null=27]="Null"}(cc||(cc={}));class pl{constructor(e,t=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),e)if("number"==typeof e)this.fromNumber(e);else{if(!Zo.vJ.isBufferSource(e))throw TypeError("Unsupported type of 'params' argument for BitString");this.unusedBits=t,this.value=Zo.vJ.toArrayBuffer(e)}}fromASN(e){if(!(e instanceof vc))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=e.valueBlock.unusedBits,this.value=e.valueBlock.valueHex,this}toASN(){return new vc({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new vc({name:e})}toNumber(){let e="";const t=new Uint8Array(this.value);for(const r of t)e+=r.toString(2).padStart(8,"0");return e=e.split("").reverse().join(""),this.unusedBits&&(e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(e,2)}fromNumber(e){let t=e.toString(2);const r=t.length+7>>3;this.unusedBits=(r<<3)-t.length;const n=new Uint8Array(r);t=t.padStart(r<<3,"0").split("").reverse().join("");let i=0;for(;i<r;)n[i]=parseInt(t.slice(i<<3,8+(i<<3)),2),i++;this.value=n.buffer}}class gl{constructor(e){"number"==typeof e?this.buffer=new ArrayBuffer(e):Zo.vJ.isBufferSource(e)?this.buffer=Zo.vJ.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}fromASN(e){if(!(e instanceof Ac))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new Ac({valueHex:this.buffer})}toSchema(e){return new Ac({name:e})}}const yl={fromASN:e=>e instanceof yc?null:e.valueBeforeDecodeView,toASN:e=>{if(null===e)return new yc;const t=hc(e);if(t.result.error)throw new Error(t.result.error);return t.result}},wl={fromASN:e=>e.valueBlock.valueHexView.byteLength>=4?e.valueBlock.toString():e.valueBlock.valueDec,toASN:e=>new Cc({value:+e})},ml={fromASN:e=>e.valueBlock.valueDec,toASN:e=>new Rc({value:e})},bl={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new Cc({valueHex:e})},Al={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new vc({valueHex:e})},El={fromASN:e=>e.valueBlock.toString(),toASN:e=>new Nc({value:e})},vl={fromASN:e=>e.valueBlock.value,toASN:e=>new mc({value:e})},_l={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new Ac({valueHex:e})},Tl={fromASN:e=>new gl(e.getValue()),toASN:e=>e.toASN()};function Sl(e){return{fromASN:e=>e.valueBlock.value,toASN:t=>new e({value:t})}}const Il=Sl(jc),Cl=Sl(Wc),Rl=Sl(qc),xl=Sl(Qc),kl=Sl(Vc),Nl=Sl(Kc),Bl=Sl(Yc),Ol=Sl(Jc),Dl=Sl(Xc),Ll=Sl(Zc),Pl=Sl($c),Ul=Sl(el),Ml={fromASN:e=>e.toDate(),toASN:e=>new tl({valueDate:e})},Fl={fromASN:e=>e.toDate(),toASN:e=>new rl({valueDate:e})},Hl={fromASN:()=>null,toASN:()=>new yc};function jl(e){switch(e){case cc.Any:return yl;case cc.BitString:return Al;case cc.BmpString:return Cl;case cc.Boolean:return vl;case cc.CharacterString:return Ul;case cc.Enumerated:return ml;case cc.GeneralString:return Pl;case cc.GeneralizedTime:return Fl;case cc.GraphicString:return Dl;case cc.IA5String:return Ol;case cc.Integer:return wl;case cc.Null:return Hl;case cc.NumericString:return xl;case cc.ObjectIdentifier:return El;case cc.OctetString:return _l;case cc.PrintableString:return kl;case cc.TeletexString:return Nl;case cc.UTCTime:return Ml;case cc.UniversalString:return Rl;case cc.Utf8String:return Il;case cc.VideotexString:return Bl;case cc.VisibleString:return Ll;default:return null}}function zl(e){return"function"==typeof e&&e.prototype?!(!e.prototype.toASN||!e.prototype.fromASN)||zl(e.prototype):!!(e&&"object"==typeof e&&"toASN"in e&&"fromASN"in e)}function Wl(e){var t;if(e){const r=Object.getPrototypeOf(e);return(null===(t=null==r?void 0:r.prototype)||void 0===t?void 0:t.constructor)===Array||Wl(r)}return!1}function Gl(e,t){if(!e||!t)return!1;if(e.byteLength!==t.byteLength)return!1;const r=new Uint8Array(e),n=new Uint8Array(t);for(let t=0;t<e.byteLength;t++)if(r[t]!==n[t])return!1;return!0}const ql=new class{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,t=!1){const r=this.items.get(e);if(!r)throw new Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(t&&!r.schema)throw new Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return r}cache(e){const t=this.get(e);t.schema||(t.schema=this.create(e,!0))}createDefault(e){const t={type:ac.Sequence,items:{}},r=this.findParentSchema(e);return r&&(Object.assign(t,r),t.items=Object.assign({},t.items,r.items)),t}create(t,r){const n=this.items.get(t)||this.createDefault(t),i=[];for(const t in n.items){const s=n.items[t],o=r?t:"";let a;if("number"==typeof s.type){const t=cc[s.type],r=e[t];if(!r)throw new Error(`Cannot get ASN1 class by name '${t}'`);a=new r({name:o})}else if(zl(s.type)){a=(new s.type).toSchema(o)}else if(s.optional){this.get(s.type).type===ac.Choice?a=new cl({name:o}):(a=this.create(s.type,!1),a.name=o)}else a=new cl({name:o});const c=!!s.optional||void 0!==s.defaultValue;if(s.repeated){a.name="";a=new("set"===s.repeated?Pc:Lc)({name:"",value:[new ul({name:o,value:a})]})}if(null!==s.context&&void 0!==s.context)if(s.implicit)if("number"==typeof s.type||zl(s.type)){const e=s.repeated?fc:lc;i.push(new e({name:o,optional:c,idBlock:{tagClass:3,tagNumber:s.context}}))}else{this.cache(s.type);const e=!!s.repeated;let t=e?a:this.get(s.type,!0).schema;t="valueBlock"in t?t.valueBlock.value:t.value,i.push(new fc({name:e?"":o,optional:c,idBlock:{tagClass:3,tagNumber:s.context},value:t}))}else i.push(new fc({optional:c,idBlock:{tagClass:3,tagNumber:s.context},value:[a]}));else a.optional=c,i.push(a)}switch(n.type){case ac.Sequence:return new Lc({value:i,name:""});case ac.Set:return new Pc({value:i,name:""});case ac.Choice:return new ll({value:i,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(e,t){return this.items.set(e,t),this}findParentSchema(e){const t=Object.getPrototypeOf(e);if(t){return this.items.get(t)||this.findParentSchema(t)}return null}},Ql=e=>t=>{let r;ql.has(t)?r=ql.get(t):(r=ql.createDefault(t),ql.set(t,r)),Object.assign(r,e)},Vl=e=>(t,r)=>{let n;ql.has(t.constructor)?n=ql.get(t.constructor):(n=ql.createDefault(t.constructor),ql.set(t.constructor,n));const i=Object.assign({},e);if("number"==typeof i.type&&!i.converter){const n=jl(e.type);if(!n)throw new Error(`Cannot get default converter for property '${r}' of ${t.constructor.name}`);i.converter=n}n.items[r]=i};class Kl extends Error{constructor(){super(...arguments),this.schemas=[]}}class Yl{static parse(e,t){const r=hc(e);if(r.result.error)throw new Error(r.result.error);return this.fromASN(r.result,t)}static fromASN(t,r){var n;try{if(zl(r)){return(new r).fromASN(t)}const i=ql.get(r);ql.cache(r);let s=i.schema;if(t.constructor===fc&&i.type!==ac.Choice){s=new fc({idBlock:{tagClass:3,tagNumber:t.idBlock.tagNumber},value:i.schema.valueBlock.value});for(const e in i.items)delete t[e]}const o=dl({},t,s);if(!o.verified)throw new Kl(`Data does not match to ${r.name} ASN1 schema. ${o.result.error}`);const a=new r;if(Wl(r)){if(!("value"in t.valueBlock)||!Array.isArray(t.valueBlock.value))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const e=i.itemType;if("number"==typeof e){const n=jl(e);if(!n)throw new Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);return r.from(t.valueBlock.value,(e=>n.fromASN(e)))}return r.from(t.valueBlock.value,(t=>this.fromASN(t,e)))}for(const t in i.items){const r=o.result[t];if(!r)continue;const s=i.items[t],c=s.type;if("number"==typeof c||zl(c)){const i=null!==(n=s.converter)&&void 0!==n?n:zl(c)?new c:null;if(!i)throw new Error("Converter is empty");if(s.repeated)if(s.implicit){const e=new("sequence"===s.repeated?Lc:Pc);e.valueBlock=r.valueBlock;const n=hc(e.toBER(!1));if(-1===n.offset)throw new Error(`Cannot parse the child item. ${n.result.error}`);if(!("value"in n.result.valueBlock)||!Array.isArray(n.result.valueBlock.value))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const o=n.result.valueBlock.value;a[t]=Array.from(o,(e=>i.fromASN(e)))}else a[t]=Array.from(r,(e=>i.fromASN(e)));else{let n=r;if(s.implicit){let t;if(zl(c))t=(new c).toSchema("");else{const r=cc[c],n=e[r];if(!n)throw new Error(`Cannot get '${r}' class from asn1js module`);t=new n}t.valueBlock=n.valueBlock,n=hc(t.toBER(!1)).result}a[t]=i.fromASN(n)}}else if(s.repeated){if(!Array.isArray(r))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");a[t]=Array.from(r,(e=>this.fromASN(e,c)))}else a[t]=this.fromASN(r,c)}return a}catch(e){throw e instanceof Kl&&e.schemas.push(r.name),e}}}class Jl{static serialize(e){return e instanceof Ta?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){if(e&&"object"==typeof e&&zl(e))return e.toASN();if(!e||"object"!=typeof e)throw new TypeError("Parameter 1 should be type of Object.");const t=e.constructor,r=ql.get(t);ql.cache(t);let n,i=[];if(r.itemType){if(!Array.isArray(e))throw new TypeError("Parameter 1 should be type of Array.");if("number"==typeof r.itemType){const n=jl(r.itemType);if(!n)throw new Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);i=e.map((e=>n.toASN(e)))}else i=e.map((e=>this.toAsnItem({type:r.itemType},"[]",t,e)))}else for(const n in r.items){const s=r.items[n],o=e[n];if(void 0===o||s.defaultValue===o||"object"==typeof s.defaultValue&&"object"==typeof o&&Gl(this.serialize(s.defaultValue),this.serialize(o)))continue;const a=Jl.toAsnItem(s,n,t,o);if("number"==typeof s.context)if(s.implicit)if(s.repeated||"number"!=typeof s.type&&!zl(s.type))i.push(new fc({optional:s.optional,idBlock:{tagClass:3,tagNumber:s.context},value:a.valueBlock.value}));else{const e={};e.valueHex=a instanceof yc?a.valueBeforeDecodeView:a.valueBlock.toBER(),i.push(new lc({optional:s.optional,idBlock:{tagClass:3,tagNumber:s.context},...e}))}else i.push(new fc({optional:s.optional,idBlock:{tagClass:3,tagNumber:s.context},value:[a]}));else s.repeated?i=i.concat(a):i.push(a)}switch(r.type){case ac.Sequence:n=new Lc({value:i});break;case ac.Set:n=new Pc({value:i});break;case ac.Choice:if(!i[0])throw new Error(`Schema '${t.name}' has wrong data. Choice cannot be empty.`);n=i[0]}return n}static toAsnItem(e,t,r,n){let i;if("number"==typeof e.type){const s=e.converter;if(!s)throw new Error(`Property '${t}' doesn't have converter for type ${cc[e.type]} in schema '${r.name}'`);if(e.repeated){if(!Array.isArray(n))throw new TypeError("Parameter 'objProp' should be type of Array.");const t=Array.from(n,(e=>s.toASN(e)));i=new("sequence"===e.repeated?Lc:Pc)({value:t})}else i=s.toASN(n)}else if(e.repeated){if(!Array.isArray(n))throw new TypeError("Parameter 'objProp' should be type of Array.");const t=Array.from(n,(e=>this.toASN(e)));i=new("sequence"===e.repeated?Lc:Pc)({value:t})}else i=this.toASN(n);return i}}class Xl extends Array{constructor(e=[]){if("number"==typeof e)super(e);else{super();for(const t of e)this.push(t)}}}class Zl{static serialize(e){return Jl.serialize(e)}static parse(e,t){return Yl.parse(e,t)}static toString(e){const t=hc(Zo.vJ.isBufferSource(e)?Zo.vJ.toArrayBuffer(e):Zl.serialize(e));if(-1===t.offset)throw new Error(`Cannot decode ASN.1 data. ${t.result.error}`);return t.result.toString()}}function $l(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}Object.create;Object.create;var eu,tu,ru,nu=__webpack_require__(6512);class iu{static decodeIP(e){if(64===e.length&&0===parseInt(e,16))return"::/0";if(16!==e.length)return e;const t=parseInt(e.slice(8),16).toString(2).split("").reduce(((e,t)=>e+ +t),0);let r=e.slice(0,8).replace(/(.{2})/g,(e=>`${parseInt(e,16)}.`));return r=r.slice(0,-1),`${r}/${t}`}static toString(e){if(4===e.byteLength||16===e.byteLength){const t=new Uint8Array(e);return nu.fromByteArray(Array.from(t)).toString()}return this.decodeIP(Zo.ep.ToHex(e))}static fromString(e){const t=nu.parse(e);return new Uint8Array(t.toByteArray()).buffer}}let su=class{constructor(e={}){Object.assign(this,e)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};$l([Vl({type:cc.TeletexString})],su.prototype,"teletexString",void 0),$l([Vl({type:cc.PrintableString})],su.prototype,"printableString",void 0),$l([Vl({type:cc.UniversalString})],su.prototype,"universalString",void 0),$l([Vl({type:cc.Utf8String})],su.prototype,"utf8String",void 0),$l([Vl({type:cc.BmpString})],su.prototype,"bmpString",void 0),su=$l([Ql({type:ac.Choice})],su);let ou=class extends su{constructor(e={}){super(e),Object.assign(this,e)}toString(){return this.ia5String||(this.anyValue?Zo.ep.ToHex(this.anyValue):super.toString())}};$l([Vl({type:cc.IA5String})],ou.prototype,"ia5String",void 0),$l([Vl({type:cc.Any})],ou.prototype,"anyValue",void 0),ou=$l([Ql({type:ac.Choice})],ou);class au{constructor(e={}){this.type="",this.value=new ou,Object.assign(this,e)}}$l([Vl({type:cc.ObjectIdentifier})],au.prototype,"type",void 0),$l([Vl({type:ou})],au.prototype,"value",void 0);let cu=eu=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,eu.prototype)}};cu=eu=$l([Ql({type:ac.Set,itemType:au})],cu);let lu=tu=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,tu.prototype)}};lu=tu=$l([Ql({type:ac.Sequence,itemType:cu})],lu);let uu=ru=class extends lu{constructor(e){super(e),Object.setPrototypeOf(this,ru.prototype)}};uu=ru=$l([Ql({type:ac.Sequence})],uu);const hu={fromASN:e=>iu.toString(_l.fromASN(e)),toASN:e=>_l.toASN(iu.fromString(e))};class du{constructor(e={}){this.typeId="",this.value=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:cc.ObjectIdentifier})],du.prototype,"typeId",void 0),$l([Vl({type:cc.Any,context:0})],du.prototype,"value",void 0);class fu{constructor(e={}){this.partyName=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:su,optional:!0,context:0,implicit:!0})],fu.prototype,"nameAssigner",void 0),$l([Vl({type:su,context:1,implicit:!0})],fu.prototype,"partyName",void 0);let pu=class{constructor(e={}){Object.assign(this,e)}};$l([Vl({type:du,context:0,implicit:!0})],pu.prototype,"otherName",void 0),$l([Vl({type:cc.IA5String,context:1,implicit:!0})],pu.prototype,"rfc822Name",void 0),$l([Vl({type:cc.IA5String,context:2,implicit:!0})],pu.prototype,"dNSName",void 0),$l([Vl({type:cc.Any,context:3,implicit:!0})],pu.prototype,"x400Address",void 0),$l([Vl({type:uu,context:4,implicit:!1})],pu.prototype,"directoryName",void 0),$l([Vl({type:fu,context:5})],pu.prototype,"ediPartyName",void 0),$l([Vl({type:cc.IA5String,context:6,implicit:!0})],pu.prototype,"uniformResourceIdentifier",void 0),$l([Vl({type:cc.OctetString,context:7,implicit:!0,converter:hu})],pu.prototype,"iPAddress",void 0),$l([Vl({type:cc.ObjectIdentifier,context:8,implicit:!0})],pu.prototype,"registeredID",void 0),pu=$l([Ql({type:ac.Choice})],pu);const gu="1.3.6.1.5.5.7",yu=`${gu}.3`;var wu;class mu{constructor(e={}){this.accessMethod="",this.accessLocation=new pu,Object.assign(this,e)}}$l([Vl({type:cc.ObjectIdentifier})],mu.prototype,"accessMethod",void 0),$l([Vl({type:pu})],mu.prototype,"accessLocation",void 0);let bu=wu=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,wu.prototype)}};bu=wu=$l([Ql({type:ac.Sequence,itemType:mu})],bu);const Au="2.5.29.35";class Eu extends gl{}class vu{constructor(e={}){e&&Object.assign(this,e)}}$l([Vl({type:Eu,context:0,optional:!0,implicit:!0})],vu.prototype,"keyIdentifier",void 0),$l([Vl({type:pu,context:1,optional:!0,implicit:!0,repeated:"sequence"})],vu.prototype,"authorityCertIssuer",void 0),$l([Vl({type:cc.Integer,context:2,optional:!0,implicit:!0,converter:bl})],vu.prototype,"authorityCertSerialNumber",void 0);const _u="2.5.29.19";class Tu{constructor(e={}){this.cA=!1,Object.assign(this,e)}}var Su;$l([Vl({type:cc.Boolean,defaultValue:!1})],Tu.prototype,"cA",void 0),$l([Vl({type:cc.Integer,optional:!0})],Tu.prototype,"pathLenConstraint",void 0);let Iu=Su=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,Su.prototype)}};var Cu;Iu=Su=$l([Ql({type:ac.Sequence,itemType:pu})],Iu);let Ru=Cu=class extends Iu{constructor(e){super(e),Object.setPrototypeOf(this,Cu.prototype)}};var xu;Ru=Cu=$l([Ql({type:ac.Sequence})],Ru);const ku="2.5.29.32";let Nu=class{constructor(e={}){Object.assign(this,e)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""}};$l([Vl({type:cc.IA5String})],Nu.prototype,"ia5String",void 0),$l([Vl({type:cc.VisibleString})],Nu.prototype,"visibleString",void 0),$l([Vl({type:cc.BmpString})],Nu.prototype,"bmpString",void 0),$l([Vl({type:cc.Utf8String})],Nu.prototype,"utf8String",void 0),Nu=$l([Ql({type:ac.Choice})],Nu);class Bu{constructor(e={}){this.organization=new Nu,this.noticeNumbers=[],Object.assign(this,e)}}$l([Vl({type:Nu})],Bu.prototype,"organization",void 0),$l([Vl({type:cc.Integer,repeated:"sequence"})],Bu.prototype,"noticeNumbers",void 0);class Ou{constructor(e={}){Object.assign(this,e)}}$l([Vl({type:Bu,optional:!0})],Ou.prototype,"noticeRef",void 0),$l([Vl({type:Nu,optional:!0})],Ou.prototype,"explicitText",void 0);let Du=class{constructor(e={}){Object.assign(this,e)}};$l([Vl({type:cc.IA5String})],Du.prototype,"cPSuri",void 0),$l([Vl({type:Ou})],Du.prototype,"userNotice",void 0),Du=$l([Ql({type:ac.Choice})],Du);class Lu{constructor(e={}){this.policyQualifierId="",this.qualifier=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:cc.ObjectIdentifier})],Lu.prototype,"policyQualifierId",void 0),$l([Vl({type:cc.Any})],Lu.prototype,"qualifier",void 0);class Pu{constructor(e={}){this.policyIdentifier="",Object.assign(this,e)}}$l([Vl({type:cc.ObjectIdentifier})],Pu.prototype,"policyIdentifier",void 0),$l([Vl({type:Lu,repeated:"sequence",optional:!0})],Pu.prototype,"policyQualifiers",void 0);let Uu=xu=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,xu.prototype)}};Uu=xu=$l([Ql({type:ac.Sequence,itemType:Pu})],Uu);let Mu=class{constructor(e=0){this.value=e}};$l([Vl({type:cc.Integer})],Mu.prototype,"value",void 0),Mu=$l([Ql({type:ac.Choice})],Mu);let Fu=class extends Mu{};var Hu;Fu=$l([Ql({type:ac.Choice})],Fu);var ju;!function(e){e[e.unused=1]="unused",e[e.keyCompromise=2]="keyCompromise",e[e.cACompromise=4]="cACompromise",e[e.affiliationChanged=8]="affiliationChanged",e[e.superseded=16]="superseded",e[e.cessationOfOperation=32]="cessationOfOperation",e[e.certificateHold=64]="certificateHold",e[e.privilegeWithdrawn=128]="privilegeWithdrawn",e[e.aACompromise=256]="aACompromise"}(ju||(ju={}));class zu extends pl{toJSON(){const e=[],t=this.toNumber();return t&ju.aACompromise&&e.push("aACompromise"),t&ju.affiliationChanged&&e.push("affiliationChanged"),t&ju.cACompromise&&e.push("cACompromise"),t&ju.certificateHold&&e.push("certificateHold"),t&ju.cessationOfOperation&&e.push("cessationOfOperation"),t&ju.keyCompromise&&e.push("keyCompromise"),t&ju.privilegeWithdrawn&&e.push("privilegeWithdrawn"),t&ju.superseded&&e.push("superseded"),t&ju.unused&&e.push("unused"),e}toString(){return`[${this.toJSON().join(", ")}]`}}let Wu=class{constructor(e={}){Object.assign(this,e)}};$l([Vl({type:pu,context:0,repeated:"sequence",implicit:!0})],Wu.prototype,"fullName",void 0),$l([Vl({type:cu,context:1,implicit:!0})],Wu.prototype,"nameRelativeToCRLIssuer",void 0),Wu=$l([Ql({type:ac.Choice})],Wu);class Gu{constructor(e={}){Object.assign(this,e)}}$l([Vl({type:Wu,context:0,optional:!0})],Gu.prototype,"distributionPoint",void 0),$l([Vl({type:zu,context:1,optional:!0,implicit:!0})],Gu.prototype,"reasons",void 0),$l([Vl({type:pu,context:2,optional:!0,repeated:"sequence",implicit:!0})],Gu.prototype,"cRLIssuer",void 0);let qu=Hu=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,Hu.prototype)}};var Qu;qu=Hu=$l([Ql({type:ac.Sequence,itemType:Gu})],qu);let Vu=Qu=class extends qu{constructor(e){super(e),Object.setPrototypeOf(this,Qu.prototype)}};Vu=Qu=$l([Ql({type:ac.Sequence,itemType:Gu})],Vu);class Ku{constructor(e={}){this.onlyContainsUserCerts=Ku.ONLY,this.onlyContainsCACerts=Ku.ONLY,this.indirectCRL=Ku.ONLY,this.onlyContainsAttributeCerts=Ku.ONLY,Object.assign(this,e)}}Ku.ONLY=!1,$l([Vl({type:Wu,context:0,optional:!0})],Ku.prototype,"distributionPoint",void 0),$l([Vl({type:cc.Boolean,context:1,defaultValue:Ku.ONLY,implicit:!0})],Ku.prototype,"onlyContainsUserCerts",void 0),$l([Vl({type:cc.Boolean,context:2,defaultValue:Ku.ONLY,implicit:!0})],Ku.prototype,"onlyContainsCACerts",void 0),$l([Vl({type:zu,context:3,optional:!0,implicit:!0})],Ku.prototype,"onlySomeReasons",void 0),$l([Vl({type:cc.Boolean,context:4,defaultValue:Ku.ONLY,implicit:!0})],Ku.prototype,"indirectCRL",void 0),$l([Vl({type:cc.Boolean,context:5,defaultValue:Ku.ONLY,implicit:!0})],Ku.prototype,"onlyContainsAttributeCerts",void 0);var Yu;!function(e){e[e.unspecified=0]="unspecified",e[e.keyCompromise=1]="keyCompromise",e[e.cACompromise=2]="cACompromise",e[e.affiliationChanged=3]="affiliationChanged",e[e.superseded=4]="superseded",e[e.cessationOfOperation=5]="cessationOfOperation",e[e.certificateHold=6]="certificateHold",e[e.removeFromCRL=8]="removeFromCRL",e[e.privilegeWithdrawn=9]="privilegeWithdrawn",e[e.aACompromise=10]="aACompromise"}(Yu||(Yu={}));let Ju=class{constructor(e=Yu.unspecified){this.reason=Yu.unspecified,this.reason=e}toJSON(){return Yu[this.reason]}toString(){return this.toJSON()}};var Xu;$l([Vl({type:cc.Enumerated})],Ju.prototype,"reason",void 0),Ju=$l([Ql({type:ac.Choice})],Ju);const Zu="2.5.29.37";let $u=Xu=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,Xu.prototype)}};$u=Xu=$l([Ql({type:ac.Sequence,itemType:cc.ObjectIdentifier})],$u);const eh=`${yu}.1`,th=`${yu}.2`,rh=`${yu}.3`,nh=`${yu}.4`,ih=`${yu}.8`,sh=`${yu}.9`;let oh=class{constructor(e=new ArrayBuffer(0)){this.value=e}};$l([Vl({type:cc.Integer,converter:bl})],oh.prototype,"value",void 0),oh=$l([Ql({type:ac.Choice})],oh);let ah=class{constructor(e){this.value=new Date,e&&(this.value=e)}};var ch;$l([Vl({type:cc.GeneralizedTime})],ah.prototype,"value",void 0),ah=$l([Ql({type:ac.Choice})],ah);let lh=ch=class extends Iu{constructor(e){super(e),Object.setPrototypeOf(this,ch.prototype)}};lh=ch=$l([Ql({type:ac.Sequence})],lh);const uh="2.5.29.15";var hh,dh;!function(e){e[e.digitalSignature=1]="digitalSignature",e[e.nonRepudiation=2]="nonRepudiation",e[e.keyEncipherment=4]="keyEncipherment",e[e.dataEncipherment=8]="dataEncipherment",e[e.keyAgreement=16]="keyAgreement",e[e.keyCertSign=32]="keyCertSign",e[e.cRLSign=64]="cRLSign",e[e.encipherOnly=128]="encipherOnly",e[e.decipherOnly=256]="decipherOnly"}(hh||(hh={}));class fh extends pl{toJSON(){const e=this.toNumber(),t=[];return e&hh.cRLSign&&t.push("crlSign"),e&hh.dataEncipherment&&t.push("dataEncipherment"),e&hh.decipherOnly&&t.push("decipherOnly"),e&hh.digitalSignature&&t.push("digitalSignature"),e&hh.encipherOnly&&t.push("encipherOnly"),e&hh.keyAgreement&&t.push("keyAgreement"),e&hh.keyCertSign&&t.push("keyCertSign"),e&hh.keyEncipherment&&t.push("keyEncipherment"),e&hh.nonRepudiation&&t.push("nonRepudiation"),t}toString(){return`[${this.toJSON().join(", ")}]`}}class ph{constructor(e={}){this.base=new pu,this.minimum=0,Object.assign(this,e)}}$l([Vl({type:pu})],ph.prototype,"base",void 0),$l([Vl({type:cc.Integer,context:0,defaultValue:0,implicit:!0})],ph.prototype,"minimum",void 0),$l([Vl({type:cc.Integer,context:1,optional:!0,implicit:!0})],ph.prototype,"maximum",void 0);let gh=dh=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,dh.prototype)}};gh=dh=$l([Ql({type:ac.Sequence,itemType:ph})],gh);class yh{constructor(e={}){Object.assign(this,e)}}$l([Vl({type:gh,context:0,optional:!0,implicit:!0})],yh.prototype,"permittedSubtrees",void 0),$l([Vl({type:gh,context:1,optional:!0,implicit:!0})],yh.prototype,"excludedSubtrees",void 0);class wh{constructor(e={}){Object.assign(this,e)}}var mh;$l([Vl({type:cc.Integer,context:0,implicit:!0,optional:!0,converter:bl})],wh.prototype,"requireExplicitPolicy",void 0),$l([Vl({type:cc.Integer,context:1,implicit:!0,optional:!0,converter:bl})],wh.prototype,"inhibitPolicyMapping",void 0);class bh{constructor(e={}){this.issuerDomainPolicy="",this.subjectDomainPolicy="",Object.assign(this,e)}}$l([Vl({type:cc.ObjectIdentifier})],bh.prototype,"issuerDomainPolicy",void 0),$l([Vl({type:cc.ObjectIdentifier})],bh.prototype,"subjectDomainPolicy",void 0);let Ah=mh=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,mh.prototype)}};var Eh;Ah=mh=$l([Ql({type:ac.Sequence,itemType:bh})],Ah);const vh="2.5.29.17";let _h=Eh=class extends Iu{constructor(e){super(e),Object.setPrototypeOf(this,Eh.prototype)}};_h=Eh=$l([Ql({type:ac.Sequence})],_h);class Th{constructor(e={}){this.type="",this.values=[],Object.assign(this,e)}}var Sh;$l([Vl({type:cc.ObjectIdentifier})],Th.prototype,"type",void 0),$l([Vl({type:cc.Any,repeated:"set"})],Th.prototype,"values",void 0);let Ih=Sh=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,Sh.prototype)}};Ih=Sh=$l([Ql({type:ac.Sequence,itemType:Th})],Ih);const Ch="2.5.29.14";class Rh extends Eu{}class xh{constructor(e={}){Object.assign(this,e)}}$l([Vl({type:cc.GeneralizedTime,context:0,implicit:!0,optional:!0})],xh.prototype,"notBefore",void 0),$l([Vl({type:cc.GeneralizedTime,context:1,implicit:!0,optional:!0})],xh.prototype,"notAfter",void 0);var kh,Nh;!function(e){e[e.keyUpdateAllowed=1]="keyUpdateAllowed",e[e.newExtensions=2]="newExtensions",e[e.pKIXCertificate=4]="pKIXCertificate"}(kh||(kh={}));class Bh extends pl{toJSON(){const e=[],t=this.toNumber();return t&kh.pKIXCertificate&&e.push("pKIXCertificate"),t&kh.newExtensions&&e.push("newExtensions"),t&kh.keyUpdateAllowed&&e.push("keyUpdateAllowed"),e}toString(){return`[${this.toJSON().join(", ")}]`}}class Oh{constructor(e={}){this.entrustVers="",this.entrustInfoFlags=new Bh,Object.assign(this,e)}}$l([Vl({type:cc.GeneralString})],Oh.prototype,"entrustVers",void 0),$l([Vl({type:Bh})],Oh.prototype,"entrustInfoFlags",void 0);let Dh=Nh=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,Nh.prototype)}};Dh=Nh=$l([Ql({type:ac.Sequence,itemType:mu})],Dh);class Lh{constructor(e={}){this.algorithm="",Object.assign(this,e)}isEqual(e){return e instanceof Lh&&e.algorithm==this.algorithm&&(e.parameters&&this.parameters&&Zo.Xy(e.parameters,this.parameters)||e.parameters===this.parameters)}}$l([Vl({type:cc.ObjectIdentifier})],Lh.prototype,"algorithm",void 0),$l([Vl({type:cc.Any,optional:!0})],Lh.prototype,"parameters",void 0);class Ph{constructor(e={}){this.algorithm=new Lh,this.subjectPublicKey=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:Lh})],Ph.prototype,"algorithm",void 0),$l([Vl({type:cc.BitString})],Ph.prototype,"subjectPublicKey",void 0);let Uh=class{constructor(e){if(e)if("string"==typeof e||"number"==typeof e||e instanceof Date){const t=new Date(e);t.getUTCFullYear()>2049?this.generalTime=t:this.utcTime=t}else Object.assign(this,e)}getTime(){const e=this.utcTime||this.generalTime;if(!e)throw new Error("Cannot get time from CHOICE object");return e}};$l([Vl({type:cc.UTCTime})],Uh.prototype,"utcTime",void 0),$l([Vl({type:cc.GeneralizedTime})],Uh.prototype,"generalTime",void 0),Uh=$l([Ql({type:ac.Choice})],Uh);class Mh{constructor(e){this.notBefore=new Uh(new Date),this.notAfter=new Uh(new Date),e&&(this.notBefore=new Uh(e.notBefore),this.notAfter=new Uh(e.notAfter))}}var Fh;$l([Vl({type:Uh})],Mh.prototype,"notBefore",void 0),$l([Vl({type:Uh})],Mh.prototype,"notAfter",void 0);class Hh{constructor(e={}){this.extnID="",this.critical=Hh.CRITICAL,this.extnValue=new gl,Object.assign(this,e)}}Hh.CRITICAL=!1,$l([Vl({type:cc.ObjectIdentifier})],Hh.prototype,"extnID",void 0),$l([Vl({type:cc.Boolean,defaultValue:Hh.CRITICAL})],Hh.prototype,"critical",void 0),$l([Vl({type:gl})],Hh.prototype,"extnValue",void 0);let jh=Fh=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,Fh.prototype)}};var zh,Wh;jh=Fh=$l([Ql({type:ac.Sequence,itemType:Hh})],jh),function(e){e[e.v1=0]="v1",e[e.v2=1]="v2",e[e.v3=2]="v3"}(zh||(zh={}));class Gh{constructor(e={}){this.version=zh.v1,this.serialNumber=new ArrayBuffer(0),this.signature=new Lh,this.issuer=new uu,this.validity=new Mh,this.subject=new uu,this.subjectPublicKeyInfo=new Ph,Object.assign(this,e)}}$l([Vl({type:cc.Integer,context:0,defaultValue:zh.v1})],Gh.prototype,"version",void 0),$l([Vl({type:cc.Integer,converter:bl})],Gh.prototype,"serialNumber",void 0),$l([Vl({type:Lh})],Gh.prototype,"signature",void 0),$l([Vl({type:uu})],Gh.prototype,"issuer",void 0),$l([Vl({type:Mh})],Gh.prototype,"validity",void 0),$l([Vl({type:uu})],Gh.prototype,"subject",void 0),$l([Vl({type:Ph})],Gh.prototype,"subjectPublicKeyInfo",void 0),$l([Vl({type:cc.BitString,context:1,implicit:!0,optional:!0})],Gh.prototype,"issuerUniqueID",void 0),$l([Vl({type:cc.BitString,context:2,implicit:!0,optional:!0})],Gh.prototype,"subjectUniqueID",void 0),$l([Vl({type:jh,context:3,optional:!0})],Gh.prototype,"extensions",void 0);class qh{constructor(e={}){this.tbsCertificate=new Gh,this.signatureAlgorithm=new Lh,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:Gh})],qh.prototype,"tbsCertificate",void 0),$l([Vl({type:Lh})],qh.prototype,"signatureAlgorithm",void 0),$l([Vl({type:cc.BitString})],qh.prototype,"signatureValue",void 0);class Qh{constructor(e={}){this.userCertificate=new ArrayBuffer(0),this.revocationDate=new Uh,Object.assign(this,e)}}$l([Vl({type:cc.Integer,converter:bl})],Qh.prototype,"userCertificate",void 0),$l([Vl({type:Uh})],Qh.prototype,"revocationDate",void 0),$l([Vl({type:Hh,optional:!0,repeated:"sequence"})],Qh.prototype,"crlEntryExtensions",void 0);class Vh{constructor(e={}){this.signature=new Lh,this.issuer=new uu,this.thisUpdate=new Uh,Object.assign(this,e)}}$l([Vl({type:cc.Integer,optional:!0})],Vh.prototype,"version",void 0),$l([Vl({type:Lh})],Vh.prototype,"signature",void 0),$l([Vl({type:uu})],Vh.prototype,"issuer",void 0),$l([Vl({type:Uh})],Vh.prototype,"thisUpdate",void 0),$l([Vl({type:Uh,optional:!0})],Vh.prototype,"nextUpdate",void 0),$l([Vl({type:Qh,repeated:"sequence",optional:!0})],Vh.prototype,"revokedCertificates",void 0),$l([Vl({type:Hh,optional:!0,context:0,repeated:"sequence"})],Vh.prototype,"crlExtensions",void 0);class Kh{constructor(e={}){this.tbsCertList=new Vh,this.signatureAlgorithm=new Lh,this.signature=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:Vh})],Kh.prototype,"tbsCertList",void 0),$l([Vl({type:Lh})],Kh.prototype,"signatureAlgorithm",void 0),$l([Vl({type:cc.BitString})],Kh.prototype,"signature",void 0);class Yh{constructor(e={}){this.attrType="",this.attrValues=[],Object.assign(this,e)}}$l([Vl({type:cc.ObjectIdentifier})],Yh.prototype,"attrType",void 0),$l([Vl({type:cc.Any,repeated:"set"})],Yh.prototype,"attrValues",void 0);class Jh{constructor(e={}){this.acIssuer=new pu,this.acSerial=0,this.attrs=[],Object.assign(this,e)}}$l([Vl({type:pu})],Jh.prototype,"acIssuer",void 0),$l([Vl({type:cc.Integer})],Jh.prototype,"acSerial",void 0),$l([Vl({type:Th,repeated:"sequence"})],Jh.prototype,"attrs",void 0);let Xh=Wh=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,Wh.prototype)}};Xh=Wh=$l([Ql({type:ac.Sequence,itemType:cc.ObjectIdentifier})],Xh);class Zh{constructor(e={}){this.permitUnSpecified=!0,Object.assign(this,e)}}$l([Vl({type:cc.Integer,optional:!0})],Zh.prototype,"pathLenConstraint",void 0),$l([Vl({type:Xh,implicit:!0,context:0,optional:!0})],Zh.prototype,"permittedAttrs",void 0),$l([Vl({type:Xh,implicit:!0,context:1,optional:!0})],Zh.prototype,"excludedAttrs",void 0),$l([Vl({type:cc.Boolean,defaultValue:!0})],Zh.prototype,"permitUnSpecified",void 0);class $h{constructor(e={}){this.issuer=new Iu,this.serial=new ArrayBuffer(0),this.issuerUID=new ArrayBuffer(0),Object.assign(this,e)}}var ed;$l([Vl({type:Iu})],$h.prototype,"issuer",void 0),$l([Vl({type:cc.Integer,converter:bl})],$h.prototype,"serial",void 0),$l([Vl({type:cc.BitString,optional:!0})],$h.prototype,"issuerUID",void 0),function(e){e[e.publicKey=0]="publicKey",e[e.publicKeyCert=1]="publicKeyCert",e[e.otherObjectTypes=2]="otherObjectTypes"}(ed||(ed={}));class td{constructor(e={}){this.digestedObjectType=ed.publicKey,this.digestAlgorithm=new Lh,this.objectDigest=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:cc.Enumerated})],td.prototype,"digestedObjectType",void 0),$l([Vl({type:cc.ObjectIdentifier,optional:!0})],td.prototype,"otherObjectTypeID",void 0),$l([Vl({type:Lh})],td.prototype,"digestAlgorithm",void 0),$l([Vl({type:cc.BitString})],td.prototype,"objectDigest",void 0);class rd{constructor(e={}){Object.assign(this,e)}}$l([Vl({type:Iu,optional:!0})],rd.prototype,"issuerName",void 0),$l([Vl({type:$h,context:0,implicit:!0,optional:!0})],rd.prototype,"baseCertificateID",void 0),$l([Vl({type:td,context:1,implicit:!0,optional:!0})],rd.prototype,"objectDigestInfo",void 0);let nd=class{constructor(e={}){Object.assign(this,e)}};$l([Vl({type:pu,repeated:"sequence"})],nd.prototype,"v1Form",void 0),$l([Vl({type:rd,context:0,implicit:!0})],nd.prototype,"v2Form",void 0),nd=$l([Ql({type:ac.Choice})],nd);class id{constructor(e={}){this.notBeforeTime=new Date,this.notAfterTime=new Date,Object.assign(this,e)}}$l([Vl({type:cc.GeneralizedTime})],id.prototype,"notBeforeTime",void 0),$l([Vl({type:cc.GeneralizedTime})],id.prototype,"notAfterTime",void 0);class sd{constructor(e={}){Object.assign(this,e)}}var od,ad;$l([Vl({type:$h,implicit:!0,context:0,optional:!0})],sd.prototype,"baseCertificateID",void 0),$l([Vl({type:Iu,implicit:!0,context:1,optional:!0})],sd.prototype,"entityName",void 0),$l([Vl({type:td,implicit:!0,context:2,optional:!0})],sd.prototype,"objectDigestInfo",void 0),function(e){e[e.v2=1]="v2"}(od||(od={}));class cd{constructor(e={}){this.version=od.v2,this.holder=new sd,this.issuer=new nd,this.signature=new Lh,this.serialNumber=new ArrayBuffer(0),this.attrCertValidityPeriod=new id,this.attributes=[],Object.assign(this,e)}}$l([Vl({type:cc.Integer})],cd.prototype,"version",void 0),$l([Vl({type:sd})],cd.prototype,"holder",void 0),$l([Vl({type:nd})],cd.prototype,"issuer",void 0),$l([Vl({type:Lh})],cd.prototype,"signature",void 0),$l([Vl({type:cc.Integer,converter:bl})],cd.prototype,"serialNumber",void 0),$l([Vl({type:id})],cd.prototype,"attrCertValidityPeriod",void 0),$l([Vl({type:Th,repeated:"sequence"})],cd.prototype,"attributes",void 0),$l([Vl({type:cc.BitString,optional:!0})],cd.prototype,"issuerUniqueID",void 0),$l([Vl({type:jh,optional:!0})],cd.prototype,"extensions",void 0);class ld{constructor(e={}){this.acinfo=new cd,this.signatureAlgorithm=new Lh,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:cd})],ld.prototype,"acinfo",void 0),$l([Vl({type:Lh})],ld.prototype,"signatureAlgorithm",void 0),$l([Vl({type:cc.BitString})],ld.prototype,"signatureValue",void 0),function(e){e[e.unmarked=1]="unmarked",e[e.unclassified=2]="unclassified",e[e.restricted=4]="restricted",e[e.confidential=8]="confidential",e[e.secret=16]="secret",e[e.topSecret=32]="topSecret"}(ad||(ad={}));class ud extends pl{}class hd{constructor(e={}){this.type="",this.value=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:cc.ObjectIdentifier,implicit:!0,context:0})],hd.prototype,"type",void 0),$l([Vl({type:cc.Any,implicit:!0,context:1})],hd.prototype,"value",void 0);class dd{constructor(e={}){this.policyId="",this.classList=new ud(ad.unclassified),Object.assign(this,e)}}$l([Vl({type:cc.ObjectIdentifier})],dd.prototype,"policyId",void 0),$l([Vl({type:ud,defaultValue:new ud(ad.unclassified)})],dd.prototype,"classList",void 0),$l([Vl({type:hd,repeated:"set"})],dd.prototype,"securityCategories",void 0);class fd{constructor(e={}){Object.assign(this,e)}}$l([Vl({type:gl})],fd.prototype,"cotets",void 0),$l([Vl({type:cc.ObjectIdentifier})],fd.prototype,"oid",void 0),$l([Vl({type:cc.Utf8String})],fd.prototype,"string",void 0);class pd{constructor(e={}){this.values=[],Object.assign(this,e)}}$l([Vl({type:Iu,implicit:!0,context:0,optional:!0})],pd.prototype,"policyAuthority",void 0),$l([Vl({type:fd,repeated:"sequence"})],pd.prototype,"values",void 0);var gd;class yd{constructor(e={}){this.targetCertificate=new $h,Object.assign(this,e)}}$l([Vl({type:$h})],yd.prototype,"targetCertificate",void 0),$l([Vl({type:pu,optional:!0})],yd.prototype,"targetName",void 0),$l([Vl({type:td,optional:!0})],yd.prototype,"certDigestInfo",void 0);let wd=class{constructor(e={}){Object.assign(this,e)}};$l([Vl({type:pu,context:0,implicit:!0})],wd.prototype,"targetName",void 0),$l([Vl({type:pu,context:1,implicit:!0})],wd.prototype,"targetGroup",void 0),$l([Vl({type:yd,context:2,implicit:!0})],wd.prototype,"targetCert",void 0),wd=$l([Ql({type:ac.Choice})],wd);let md=gd=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,gd.prototype)}};var bd;md=gd=$l([Ql({type:ac.Sequence,itemType:wd})],md);let Ad=bd=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,bd.prototype)}};Ad=bd=$l([Ql({type:ac.Sequence,itemType:md})],Ad);class Ed{constructor(e={}){Object.assign(this,e)}}$l([Vl({type:Iu,implicit:!0,context:0,optional:!0})],Ed.prototype,"roleAuthority",void 0),$l([Vl({type:pu,implicit:!0,context:1})],Ed.prototype,"roleName",void 0);class vd{constructor(e={}){this.service=new pu,this.ident=new pu,Object.assign(this,e)}}var _d;$l([Vl({type:pu})],vd.prototype,"service",void 0),$l([Vl({type:pu})],vd.prototype,"ident",void 0),$l([Vl({type:gl,optional:!0})],vd.prototype,"authInfo",void 0);class Td{constructor(e={}){this.otherCertFormat="",this.otherCert=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:cc.ObjectIdentifier})],Td.prototype,"otherCertFormat",void 0),$l([Vl({type:cc.Any})],Td.prototype,"otherCert",void 0);let Sd=class{constructor(e={}){Object.assign(this,e)}};$l([Vl({type:qh})],Sd.prototype,"certificate",void 0),$l([Vl({type:ld,context:2,implicit:!0})],Sd.prototype,"v2AttrCert",void 0),$l([Vl({type:Td,context:3,implicit:!0})],Sd.prototype,"other",void 0),Sd=$l([Ql({type:ac.Choice})],Sd);let Id=_d=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,_d.prototype)}};Id=_d=$l([Ql({type:ac.Set,itemType:Sd})],Id);class Cd{constructor(e={}){this.contentType="",this.content=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:cc.ObjectIdentifier})],Cd.prototype,"contentType",void 0),$l([Vl({type:cc.Any,context:0})],Cd.prototype,"content",void 0);let Rd=class{constructor(e={}){Object.assign(this,e)}};$l([Vl({type:gl})],Rd.prototype,"single",void 0),$l([Vl({type:cc.Any})],Rd.prototype,"any",void 0),Rd=$l([Ql({type:ac.Choice})],Rd);class xd{constructor(e={}){this.eContentType="",Object.assign(this,e)}}var kd;$l([Vl({type:cc.ObjectIdentifier})],xd.prototype,"eContentType",void 0),$l([Vl({type:Rd,context:0,optional:!0})],xd.prototype,"eContent",void 0),function(e){e[e.v0=0]="v0",e[e.v1=1]="v1",e[e.v2=2]="v2",e[e.v3=3]="v3",e[e.v4=4]="v4",e[e.v5=5]="v5"}(kd||(kd={}));let Nd=class extends Lh{};Nd=$l([Ql({type:ac.Sequence})],Nd);let Bd=class extends Lh{};Bd=$l([Ql({type:ac.Sequence})],Bd);let Od=class extends Lh{};Od=$l([Ql({type:ac.Sequence})],Od);let Dd=class extends Lh{};Dd=$l([Ql({type:ac.Sequence})],Dd);let Ld=class extends Lh{};Ld=$l([Ql({type:ac.Sequence})],Ld);let Pd=class extends Lh{};Pd=$l([Ql({type:ac.Sequence})],Pd);let Ud=class{constructor(e={}){Object.assign(this,e)}};$l([Vl({type:gl,context:0,implicit:!0,optional:!0})],Ud.prototype,"value",void 0),$l([Vl({type:gl,converter:Tl,context:0,implicit:!0,optional:!0,repeated:"sequence"})],Ud.prototype,"constructedValue",void 0),Ud=$l([Ql({type:ac.Choice})],Ud);class Md{constructor(e={}){this.contentType="",this.contentEncryptionAlgorithm=new Dd,Object.assign(this,e)}}$l([Vl({type:cc.ObjectIdentifier})],Md.prototype,"contentType",void 0),$l([Vl({type:Dd})],Md.prototype,"contentEncryptionAlgorithm",void 0),$l([Vl({type:Ud,optional:!0})],Md.prototype,"encryptedContent",void 0);class Fd{constructor(e={}){this.issuer=new uu,this.serialNumber=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:uu})],Fd.prototype,"issuer",void 0),$l([Vl({type:cc.Integer,converter:bl})],Fd.prototype,"serialNumber",void 0);class Hd{constructor(e={}){this.keyAttrId="",Object.assign(this,e)}}var jd;$l([Vl({type:cc.ObjectIdentifier})],Hd.prototype,"keyAttrId",void 0),$l([Vl({type:cc.Any,optional:!0})],Hd.prototype,"keyAttr",void 0);class zd{constructor(e={}){this.subjectKeyIdentifier=new Rh,Object.assign(this,e)}}$l([Vl({type:Rh})],zd.prototype,"subjectKeyIdentifier",void 0),$l([Vl({type:cc.GeneralizedTime,optional:!0})],zd.prototype,"date",void 0),$l([Vl({type:Hd,optional:!0})],zd.prototype,"other",void 0);let Wd=class{constructor(e={}){Object.assign(this,e)}};$l([Vl({type:zd,context:0,implicit:!0,optional:!0})],Wd.prototype,"rKeyId",void 0),$l([Vl({type:Fd,optional:!0})],Wd.prototype,"issuerAndSerialNumber",void 0),Wd=$l([Ql({type:ac.Choice})],Wd);class Gd{constructor(e={}){this.rid=new Wd,this.encryptedKey=new gl,Object.assign(this,e)}}$l([Vl({type:Wd})],Gd.prototype,"rid",void 0),$l([Vl({type:gl})],Gd.prototype,"encryptedKey",void 0);let qd=jd=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,jd.prototype)}};qd=jd=$l([Ql({type:ac.Sequence,itemType:Gd})],qd);class Qd{constructor(e={}){this.algorithm=new Lh,this.publicKey=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:Lh})],Qd.prototype,"algorithm",void 0),$l([Vl({type:cc.BitString})],Qd.prototype,"publicKey",void 0);let Vd=class{constructor(e={}){Object.assign(this,e)}};$l([Vl({type:Rh,context:0,implicit:!0,optional:!0})],Vd.prototype,"subjectKeyIdentifier",void 0),$l([Vl({type:Qd,context:1,implicit:!0,optional:!0})],Vd.prototype,"originatorKey",void 0),$l([Vl({type:Fd,optional:!0})],Vd.prototype,"issuerAndSerialNumber",void 0),Vd=$l([Ql({type:ac.Choice})],Vd);class Kd{constructor(e={}){this.version=kd.v3,this.originator=new Vd,this.keyEncryptionAlgorithm=new Od,this.recipientEncryptedKeys=new qd,Object.assign(this,e)}}$l([Vl({type:cc.Integer})],Kd.prototype,"version",void 0),$l([Vl({type:Vd,context:0})],Kd.prototype,"originator",void 0),$l([Vl({type:gl,context:1,optional:!0})],Kd.prototype,"ukm",void 0),$l([Vl({type:Od})],Kd.prototype,"keyEncryptionAlgorithm",void 0),$l([Vl({type:qd})],Kd.prototype,"recipientEncryptedKeys",void 0);let Yd=class{constructor(e={}){Object.assign(this,e)}};$l([Vl({type:Rh,context:0,implicit:!0})],Yd.prototype,"subjectKeyIdentifier",void 0),$l([Vl({type:Fd})],Yd.prototype,"issuerAndSerialNumber",void 0),Yd=$l([Ql({type:ac.Choice})],Yd);class Jd{constructor(e={}){this.version=kd.v0,this.rid=new Yd,this.keyEncryptionAlgorithm=new Od,this.encryptedKey=new gl,Object.assign(this,e)}}$l([Vl({type:cc.Integer})],Jd.prototype,"version",void 0),$l([Vl({type:Yd})],Jd.prototype,"rid",void 0),$l([Vl({type:Od})],Jd.prototype,"keyEncryptionAlgorithm",void 0),$l([Vl({type:gl})],Jd.prototype,"encryptedKey",void 0);class Xd{constructor(e={}){this.keyIdentifier=new gl,Object.assign(this,e)}}$l([Vl({type:gl})],Xd.prototype,"keyIdentifier",void 0),$l([Vl({type:cc.GeneralizedTime,optional:!0})],Xd.prototype,"date",void 0),$l([Vl({type:Hd,optional:!0})],Xd.prototype,"other",void 0);class Zd{constructor(e={}){this.version=kd.v4,this.kekid=new Xd,this.keyEncryptionAlgorithm=new Od,this.encryptedKey=new gl,Object.assign(this,e)}}$l([Vl({type:cc.Integer})],Zd.prototype,"version",void 0),$l([Vl({type:Xd})],Zd.prototype,"kekid",void 0),$l([Vl({type:Od})],Zd.prototype,"keyEncryptionAlgorithm",void 0),$l([Vl({type:gl})],Zd.prototype,"encryptedKey",void 0);class $d{constructor(e={}){this.version=kd.v0,this.keyEncryptionAlgorithm=new Od,this.encryptedKey=new gl,Object.assign(this,e)}}$l([Vl({type:cc.Integer})],$d.prototype,"version",void 0),$l([Vl({type:Pd,context:0,optional:!0})],$d.prototype,"keyDerivationAlgorithm",void 0),$l([Vl({type:Od})],$d.prototype,"keyEncryptionAlgorithm",void 0),$l([Vl({type:gl})],$d.prototype,"encryptedKey",void 0);class ef{constructor(e={}){this.oriType="",this.oriValue=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:cc.ObjectIdentifier})],ef.prototype,"oriType",void 0),$l([Vl({type:cc.Any})],ef.prototype,"oriValue",void 0);let tf=class{constructor(e={}){Object.assign(this,e)}};var rf;$l([Vl({type:Jd,optional:!0})],tf.prototype,"ktri",void 0),$l([Vl({type:Kd,context:1,implicit:!0,optional:!0})],tf.prototype,"kari",void 0),$l([Vl({type:Zd,context:2,implicit:!0,optional:!0})],tf.prototype,"kekri",void 0),$l([Vl({type:$d,context:3,implicit:!0,optional:!0})],tf.prototype,"pwri",void 0),$l([Vl({type:ef,context:4,implicit:!0,optional:!0})],tf.prototype,"ori",void 0),tf=$l([Ql({type:ac.Choice})],tf);let nf=rf=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,rf.prototype)}};var sf;nf=rf=$l([Ql({type:ac.Set,itemType:tf})],nf);class of{constructor(e={}){this.otherRevInfoFormat="",this.otherRevInfo=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:cc.ObjectIdentifier})],of.prototype,"otherRevInfoFormat",void 0),$l([Vl({type:cc.Any})],of.prototype,"otherRevInfo",void 0);let af=class{constructor(e={}){this.other=new of,Object.assign(this,e)}};$l([Vl({type:of,context:1,implicit:!0})],af.prototype,"other",void 0),af=$l([Ql({type:ac.Choice})],af);let cf=sf=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,sf.prototype)}};cf=sf=$l([Ql({type:ac.Set,itemType:af})],cf);class lf{constructor(e={}){Object.assign(this,e)}}var uf;$l([Vl({type:Id,context:0,implicit:!0,optional:!0})],lf.prototype,"certs",void 0),$l([Vl({type:cf,context:1,implicit:!0,optional:!0})],lf.prototype,"crls",void 0);let hf=uf=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,uf.prototype)}};hf=uf=$l([Ql({type:ac.Set,itemType:Yh})],hf);class df{constructor(e={}){this.version=kd.v0,this.recipientInfos=new nf,this.encryptedContentInfo=new Md,Object.assign(this,e)}}$l([Vl({type:cc.Integer})],df.prototype,"version",void 0),$l([Vl({type:lf,context:0,implicit:!0,optional:!0})],df.prototype,"originatorInfo",void 0),$l([Vl({type:nf})],df.prototype,"recipientInfos",void 0),$l([Vl({type:Md})],df.prototype,"encryptedContentInfo",void 0),$l([Vl({type:hf,context:1,implicit:!0,optional:!0})],df.prototype,"unprotectedAttrs",void 0);let ff=class{constructor(e={}){Object.assign(this,e)}};var pf;$l([Vl({type:Rh,context:0,implicit:!0})],ff.prototype,"subjectKeyIdentifier",void 0),$l([Vl({type:Fd})],ff.prototype,"issuerAndSerialNumber",void 0),ff=$l([Ql({type:ac.Choice})],ff);class gf{constructor(e={}){this.version=kd.v0,this.sid=new ff,this.digestAlgorithm=new Nd,this.signatureAlgorithm=new Bd,this.signature=new gl,Object.assign(this,e)}}$l([Vl({type:cc.Integer})],gf.prototype,"version",void 0),$l([Vl({type:ff})],gf.prototype,"sid",void 0),$l([Vl({type:Nd})],gf.prototype,"digestAlgorithm",void 0),$l([Vl({type:Yh,repeated:"set",context:0,implicit:!0,optional:!0})],gf.prototype,"signedAttrs",void 0),$l([Vl({type:Bd})],gf.prototype,"signatureAlgorithm",void 0),$l([Vl({type:gl})],gf.prototype,"signature",void 0),$l([Vl({type:Yh,repeated:"set",context:1,implicit:!0,optional:!0})],gf.prototype,"unsignedAttrs",void 0);let yf=pf=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,pf.prototype)}};var wf;yf=pf=$l([Ql({type:ac.Set,itemType:gf})],yf);let mf=wf=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,wf.prototype)}};mf=wf=$l([Ql({type:ac.Set,itemType:Nd})],mf);class bf{constructor(e={}){this.version=kd.v0,this.digestAlgorithms=new mf,this.encapContentInfo=new xd,this.signerInfos=new yf,Object.assign(this,e)}}$l([Vl({type:cc.Integer})],bf.prototype,"version",void 0),$l([Vl({type:mf})],bf.prototype,"digestAlgorithms",void 0),$l([Vl({type:xd})],bf.prototype,"encapContentInfo",void 0),$l([Vl({type:Id,context:0,implicit:!0,optional:!0})],bf.prototype,"certificates",void 0),$l([Vl({type:af,context:1,implicit:!0,optional:!0})],bf.prototype,"crls",void 0),$l([Vl({type:yf})],bf.prototype,"signerInfos",void 0);const Af="1.2.840.10045.2.1",Ef="1.2.840.10045.4.1",vf="1.2.840.10045.4.3.1",_f="1.2.840.10045.4.3.2",Tf="1.2.840.10045.4.3.3",Sf="1.2.840.10045.4.3.4",If="1.2.840.10045.3.1.7",Cf="1.3.132.0.34",Rf="1.3.132.0.35";function xf(e){return new Lh({algorithm:e})}const kf=xf(Ef),Nf=(xf(vf),xf(_f)),Bf=xf(Tf),Of=xf(Sf);let Df=class{constructor(e={}){Object.assign(this,e)}};$l([Vl({type:cc.ObjectIdentifier})],Df.prototype,"namedCurve",void 0),Df=$l([Ql({type:ac.Choice})],Df);class Lf{constructor(e={}){this.version=1,this.privateKey=new gl,Object.assign(this,e)}}$l([Vl({type:cc.Integer})],Lf.prototype,"version",void 0),$l([Vl({type:gl})],Lf.prototype,"privateKey",void 0),$l([Vl({type:Df,context:0,optional:!0})],Lf.prototype,"parameters",void 0),$l([Vl({type:cc.BitString,context:1,optional:!0})],Lf.prototype,"publicKey",void 0);class Pf{constructor(e={}){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:cc.Integer,converter:bl})],Pf.prototype,"r",void 0),$l([Vl({type:cc.Integer,converter:bl})],Pf.prototype,"s",void 0);const Uf="1.2.840.113549.1.1",Mf=`${Uf}.1`,Ff=`${Uf}.7`,Hf=`${Uf}.9`,jf=`${Uf}.10`,zf=`${Uf}.2`,Wf=`${Uf}.4`,Gf=`${Uf}.5`,qf=`${Uf}.14`,Qf=`${Uf}.11`,Vf=`${Uf}.12`,Kf=`${Uf}.13`,Yf=`${Uf}.15`,Jf=`${Uf}.16`,Xf="1.3.14.3.2.26",Zf="2.16.840.1.101.3.4.2.4",$f="2.16.840.1.101.3.4.2.1",ep="2.16.840.1.101.3.4.2.2",tp="2.16.840.1.101.3.4.2.3",rp=`${Uf}.8`;function np(e){return new Lh({algorithm:e,parameters:null})}np("1.2.840.113549.2.2"),np("1.2.840.113549.2.5");const ip=np(Xf),sp=(np(Zf),np($f),np(ep),np(tp),np("2.16.840.1.101.3.4.2.5"),np("2.16.840.1.101.3.4.2.6"),new Lh({algorithm:rp,parameters:Zl.serialize(ip)})),op=new Lh({algorithm:Hf,parameters:Zl.serialize(_l.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))});np(Mf),np(zf),np(Wf),np(Gf),np(Yf),np(Jf),np(Vf),np(Kf),np(Yf),np(Jf);class ap{constructor(e={}){this.hashAlgorithm=new Lh(ip),this.maskGenAlgorithm=new Lh({algorithm:rp,parameters:Zl.serialize(ip)}),this.pSourceAlgorithm=new Lh(op),Object.assign(this,e)}}$l([Vl({type:Lh,context:0,defaultValue:ip})],ap.prototype,"hashAlgorithm",void 0),$l([Vl({type:Lh,context:1,defaultValue:sp})],ap.prototype,"maskGenAlgorithm",void 0),$l([Vl({type:Lh,context:2,defaultValue:op})],ap.prototype,"pSourceAlgorithm",void 0);new Lh({algorithm:Ff,parameters:Zl.serialize(new ap)});class cp{constructor(e={}){this.hashAlgorithm=new Lh(ip),this.maskGenAlgorithm=new Lh({algorithm:rp,parameters:Zl.serialize(ip)}),this.saltLength=20,this.trailerField=1,Object.assign(this,e)}}$l([Vl({type:Lh,context:0,defaultValue:ip})],cp.prototype,"hashAlgorithm",void 0),$l([Vl({type:Lh,context:1,defaultValue:sp})],cp.prototype,"maskGenAlgorithm",void 0),$l([Vl({type:cc.Integer,context:2,defaultValue:20})],cp.prototype,"saltLength",void 0),$l([Vl({type:cc.Integer,context:3,defaultValue:1})],cp.prototype,"trailerField",void 0);new Lh({algorithm:jf,parameters:Zl.serialize(new cp)});class lp{constructor(e={}){this.digestAlgorithm=new Lh,this.digest=new gl,Object.assign(this,e)}}var up;$l([Vl({type:Lh})],lp.prototype,"digestAlgorithm",void 0),$l([Vl({type:gl})],lp.prototype,"digest",void 0);class hp{constructor(e={}){this.prime=new ArrayBuffer(0),this.exponent=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:cc.Integer,converter:bl})],hp.prototype,"prime",void 0),$l([Vl({type:cc.Integer,converter:bl})],hp.prototype,"exponent",void 0),$l([Vl({type:cc.Integer,converter:bl})],hp.prototype,"coefficient",void 0);let dp=up=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,up.prototype)}};dp=up=$l([Ql({type:ac.Sequence,itemType:hp})],dp);class fp{constructor(e={}){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:cc.Integer})],fp.prototype,"version",void 0),$l([Vl({type:cc.Integer,converter:bl})],fp.prototype,"modulus",void 0),$l([Vl({type:cc.Integer,converter:bl})],fp.prototype,"publicExponent",void 0),$l([Vl({type:cc.Integer,converter:bl})],fp.prototype,"privateExponent",void 0),$l([Vl({type:cc.Integer,converter:bl})],fp.prototype,"prime1",void 0),$l([Vl({type:cc.Integer,converter:bl})],fp.prototype,"prime2",void 0),$l([Vl({type:cc.Integer,converter:bl})],fp.prototype,"exponent1",void 0),$l([Vl({type:cc.Integer,converter:bl})],fp.prototype,"exponent2",void 0),$l([Vl({type:cc.Integer,converter:bl})],fp.prototype,"coefficient",void 0),$l([Vl({type:dp,optional:!0})],fp.prototype,"otherPrimeInfos",void 0);class pp{constructor(e={}){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),Object.assign(this,e)}}var gp;$l([Vl({type:cc.Integer,converter:bl})],pp.prototype,"modulus",void 0),$l([Vl({type:cc.Integer,converter:bl})],pp.prototype,"publicExponent",void 0),function(e){e[e.Transient=0]="Transient",e[e.Singleton=1]="Singleton",e[e.ResolutionScoped=2]="ResolutionScoped",e[e.ContainerScoped=3]="ContainerScoped"}(gp||(gp={}));const yp=gp;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var wp=function(e,t){return wp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},wp(e,t)};function mp(e,t){function r(){this.constructor=e}wp(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function bp(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))}function Ap(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function Ep(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vp(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function _p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(vp(arguments[t]));return e}function Tp(e){return!!e.useClass}function Sp(e){return!!e.useFactory}var Ip=function(){function e(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return e.prototype.createProxy=function(e){var t,r=this,n=!1;return new Proxy({},this.createHandler((function(){return n||(t=e(r.wrap()),n=!0),t})))},e.prototype.createHandler=function(e){var t={};return this.reflectMethods.forEach((function(r){t[r]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t[0]=e();var i=Reflect[r];return i.apply(void 0,_p(t))}})),t},e}();function Cp(e){return"string"==typeof e||"symbol"==typeof e}function Rp(e){return"object"==typeof e&&"token"in e&&"transform"in e}function xp(e){return!!e.useToken}function kp(e){return null!=e.useValue}const Np=function(){function e(){this._registryMap=new Map}return e.prototype.entries=function(){return this._registryMap.entries()},e.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},e.prototype.get=function(e){this.ensure(e);var t=this._registryMap.get(e);return t[t.length-1]||null},e.prototype.set=function(e,t){this.ensure(e),this._registryMap.get(e).push(t)},e.prototype.setAll=function(e,t){this._registryMap.set(e,t)},e.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},e.prototype.clear=function(){this._registryMap.clear()},e.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},e}();const Bp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mp(t,e),t}(Np);const Op=function(){this.scopedResolutions=new Map};function Dp(e,t,r){var n=vp(e.toString().match(/constructor\(([\w, ]+)\)/)||[],2)[1],i=function(e,t){return null===e?"at position #"+t:'"'+e.split(",")[t].trim()+'" at position #'+t}(void 0===n?null:n,t);return function(e,t,r){return void 0===r&&(r="    "),_p([e],t.message.split("\n").map((function(e){return r+e}))).join("\n")}("Cannot inject the dependency "+i+' of "'+e.name+'" constructor. Reason:',r)}var Lp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mp(t,e),t}(Np),Pp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mp(t,e),t}(Np);const Up=function(){this.preResolution=new Lp,this.postResolution=new Pp};var Mp=new Map,Fp=function(){function e(e){this.parent=e,this._registry=new Bp,this.interceptors=new Up,this.disposed=!1,this.disposables=new Set}return e.prototype.register=function(e,t,r){var n;if(void 0===r&&(r={lifecycle:yp.Transient}),this.ensureNotDisposed(),n=function(e){return Tp(e)||kp(e)||xp(e)||Sp(e)}(t)?t:{useClass:t},xp(n))for(var i=[e],s=n;null!=s;){var o=s.useToken;if(i.includes(o))throw new Error("Token registration cycle detected! "+_p(i,[o]).join(" -> "));i.push(o);var a=this._registry.get(o);s=a&&xp(a.provider)?a.provider:null}if((r.lifecycle===yp.Singleton||r.lifecycle==yp.ContainerScoped||r.lifecycle==yp.ResolutionScoped)&&(kp(n)||Sp(n)))throw new Error('Cannot use lifecycle "'+yp[r.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:n,options:r}),this},e.prototype.registerType=function(e,t){return this.ensureNotDisposed(),Cp(t)?this.register(e,{useToken:t}):this.register(e,{useClass:t})},e.prototype.registerInstance=function(e,t){return this.ensureNotDisposed(),this.register(e,{useValue:t})},e.prototype.registerSingleton=function(e,t){if(this.ensureNotDisposed(),Cp(e)){if(Cp(t))return this.register(e,{useToken:t},{lifecycle:yp.Singleton});if(t)return this.register(e,{useClass:t},{lifecycle:yp.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var r=e;return t&&!Cp(t)&&(r=t),this.register(e,{useClass:r},{lifecycle:yp.Singleton})},e.prototype.resolve=function(e,t){void 0===t&&(t=new Op),this.ensureNotDisposed();var r=this.getRegistration(e);if(!r&&Cp(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"Single"),r){var n=this.resolveRegistration(r,t);return this.executePostResolutionInterceptor(e,n,"Single"),n}if(function(e){return"function"==typeof e||e instanceof Ip}(e)){n=this.construct(e,t);return this.executePostResolutionInterceptor(e,n,"Single"),n}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},e.prototype.executePreResolutionInterceptor=function(e,t){var r,n;if(this.interceptors.preResolution.has(e)){var i=[];try{for(var s=Ep(this.interceptors.preResolution.getAll(e)),o=s.next();!o.done;o=s.next()){var a=o.value;"Once"!=a.options.frequency&&i.push(a),a.callback(e,t)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}this.interceptors.preResolution.setAll(e,i)}},e.prototype.executePostResolutionInterceptor=function(e,t,r){var n,i;if(this.interceptors.postResolution.has(e)){var s=[];try{for(var o=Ep(this.interceptors.postResolution.getAll(e)),a=o.next();!a.done;a=o.next()){var c=a.value;"Once"!=c.options.frequency&&s.push(c),c.callback(e,t,r)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}this.interceptors.postResolution.setAll(e,s)}},e.prototype.resolveRegistration=function(e,t){if(this.ensureNotDisposed(),e.options.lifecycle===yp.ResolutionScoped&&t.scopedResolutions.has(e))return t.scopedResolutions.get(e);var r,n=e.options.lifecycle===yp.Singleton,i=e.options.lifecycle===yp.ContainerScoped,s=n||i;return r=kp(e.provider)?e.provider.useValue:xp(e.provider)?s?e.instance||(e.instance=this.resolve(e.provider.useToken,t)):this.resolve(e.provider.useToken,t):Tp(e.provider)?s?e.instance||(e.instance=this.construct(e.provider.useClass,t)):this.construct(e.provider.useClass,t):Sp(e.provider)?e.provider.useFactory(this):this.construct(e.provider,t),e.options.lifecycle===yp.ResolutionScoped&&t.scopedResolutions.set(e,r),r},e.prototype.resolveAll=function(e,t){var r=this;void 0===t&&(t=new Op),this.ensureNotDisposed();var n=this.getAllRegistrations(e);if(!n&&Cp(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"All"),n){var i=n.map((function(e){return r.resolveRegistration(e,t)}));return this.executePostResolutionInterceptor(e,i,"All"),i}var s=[this.construct(e,t)];return this.executePostResolutionInterceptor(e,s,"All"),s},e.prototype.isRegistered=function(e,t){return void 0===t&&(t=!1),this.ensureNotDisposed(),this._registry.has(e)||t&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},e.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},e.prototype.clearInstances=function(){var e,t;this.ensureNotDisposed();try{for(var r=Ep(this._registry.entries()),n=r.next();!n.done;n=r.next()){var i=vp(n.value,2),s=i[0],o=i[1];this._registry.setAll(s,o.filter((function(e){return!kp(e.provider)})).map((function(e){return e.instance=void 0,e})))}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},e.prototype.createChildContainer=function(){var t,r;this.ensureNotDisposed();var n=new e(this);try{for(var i=Ep(this._registry.entries()),s=i.next();!s.done;s=i.next()){var o=vp(s.value,2),a=o[0],c=o[1];c.some((function(e){return e.options.lifecycle===yp.ContainerScoped}))&&n._registry.setAll(a,c.map((function(e){return e.options.lifecycle===yp.ContainerScoped?{provider:e.provider,options:e.options}:e})))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},e.prototype.beforeResolution=function(e,t,r){void 0===r&&(r={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:t,options:r})},e.prototype.afterResolution=function(e,t,r){void 0===r&&(r={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:t,options:r})},e.prototype.dispose=function(){return bp(this,void 0,void 0,(function(){var e;return Ap(this,(function(t){switch(t.label){case 0:return this.disposed=!0,e=[],this.disposables.forEach((function(t){var r=t.dispose();r&&e.push(r)})),[4,Promise.all(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},e.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},e.prototype.construct=function(e,t){var r=this;if(e instanceof Ip)return e.createProxy((function(e){return r.resolve(e,t)}));var n,i=function(){var n=Mp.get(e);if(!n||0===n.length){if(0===e.length)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var i=n.map(r.resolveParams(t,e));return new(e.bind.apply(e,_p([void 0],i)))}();return"function"!=typeof(n=i).dispose||n.dispose.length>0||this.disposables.add(i),i},e.prototype.resolveParams=function(e,t){var r=this;return function(n,i){var s,o,a,c;try{return"object"==typeof(c=n)&&"token"in c&&"multiple"in c?Rp(n)?n.multiple?(s=r.resolve(n.transform)).transform.apply(s,_p([r.resolveAll(n.token)],n.transformArgs)):(o=r.resolve(n.transform)).transform.apply(o,_p([r.resolve(n.token,e)],n.transformArgs)):n.multiple?r.resolveAll(n.token):r.resolve(n.token,e):Rp(n)?(a=r.resolve(n.transform,e)).transform.apply(a,_p([r.resolve(n.token,e)],n.transformArgs)):r.resolve(n,e)}catch(e){throw new Error(Dp(t,i,e))}}},e.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},e}(),Hp=new Fp;var jp="injectionTokens";const zp=function(){return function(e){Mp.set(e,function(e){var t=Reflect.getMetadata("design:paramtypes",e)||[],r=Reflect.getOwnMetadata(jp,e)||{};return Object.keys(r).forEach((function(e){t[+e]=r[e]})),t}(e))}};if("undefined"==typeof Reflect||!Reflect.getMetadata)throw new Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.");var Wp;class Gp{constructor(e={}){this.attrId="",this.attrValues=[],Object.assign(e)}}$l([Vl({type:cc.ObjectIdentifier})],Gp.prototype,"attrId",void 0),$l([Vl({type:cc.Any,repeated:"set"})],Gp.prototype,"attrValues",void 0);let qp=Wp=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,Wp.prototype)}};var Qp;qp=Wp=$l([Ql({type:ac.Sequence,itemType:Gp})],qp);let Vp=Qp=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,Qp.prototype)}};Vp=Qp=$l([Ql({type:ac.Sequence,itemType:Cd})],Vp);class Kp{constructor(e={}){this.certId="",this.certValue=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:cc.ObjectIdentifier})],Kp.prototype,"certId",void 0),$l([Vl({type:cc.Any,context:0})],Kp.prototype,"certValue",void 0);class Yp{constructor(e={}){this.crlId="",this.crltValue=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:cc.ObjectIdentifier})],Yp.prototype,"crlId",void 0),$l([Vl({type:cc.Any,context:0})],Yp.prototype,"crltValue",void 0);class Jp extends gl{}class Xp{constructor(e={}){this.encryptionAlgorithm=new Lh,this.encryptedData=new Jp,Object.assign(this,e)}}var Zp,$p;$l([Vl({type:Lh})],Xp.prototype,"encryptionAlgorithm",void 0),$l([Vl({type:Jp})],Xp.prototype,"encryptedData",void 0),function(e){e[e.v1=0]="v1"}($p||($p={}));class eg extends gl{}let tg=Zp=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,Zp.prototype)}};tg=Zp=$l([Ql({type:ac.Sequence,itemType:Th})],tg);class rg{constructor(e={}){this.version=$p.v1,this.privateKeyAlgorithm=new Lh,this.privateKey=new eg,Object.assign(this,e)}}$l([Vl({type:cc.Integer})],rg.prototype,"version",void 0),$l([Vl({type:Lh})],rg.prototype,"privateKeyAlgorithm",void 0),$l([Vl({type:eg})],rg.prototype,"privateKey",void 0),$l([Vl({type:tg,implicit:!0,context:0,optional:!0})],rg.prototype,"attributes",void 0);let ng=class extends rg{};ng=$l([Ql({type:ac.Sequence})],ng);let ig=class extends Xp{};ig=$l([Ql({type:ac.Sequence})],ig);class sg{constructor(e={}){this.secretTypeId="",this.secretValue=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:cc.ObjectIdentifier})],sg.prototype,"secretTypeId",void 0),$l([Vl({type:cc.Any,context:0})],sg.prototype,"secretValue",void 0);class og{constructor(e={}){this.mac=new lp,this.macSalt=new gl,this.iterations=1,Object.assign(this,e)}}$l([Vl({type:lp})],og.prototype,"mac",void 0),$l([Vl({type:gl})],og.prototype,"macSalt",void 0),$l([Vl({type:cc.Integer,defaultValue:1})],og.prototype,"iterations",void 0);class ag{constructor(e={}){this.version=3,this.authSafe=new Cd,this.macData=new og,Object.assign(this,e)}}var cg;$l([Vl({type:cc.Integer})],ag.prototype,"version",void 0),$l([Vl({type:Cd})],ag.prototype,"authSafe",void 0),$l([Vl({type:og,optional:!0})],ag.prototype,"macData",void 0);class lg{constructor(e={}){this.bagId="",this.bagValue=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:cc.ObjectIdentifier})],lg.prototype,"bagId",void 0),$l([Vl({type:cc.Any,context:0})],lg.prototype,"bagValue",void 0),$l([Vl({type:Gp,repeated:"set",optional:!0})],lg.prototype,"bagAttributes",void 0);let ug=cg=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,cg.prototype)}};var hg,dg,fg;ug=cg=$l([Ql({type:ac.Sequence,itemType:lg})],ug);const pg="1.2.840.113549.1.9",gg=`${pg}.7`,yg=`${pg}.14`;let wg=class extends su{constructor(e={}){super(e)}toString(){return{}.toString(),this.ia5String||super.toString()}};$l([Vl({type:cc.IA5String})],wg.prototype,"ia5String",void 0),wg=$l([Ql({type:ac.Choice})],wg);let mg=class extends Cd{};mg=$l([Ql({type:ac.Sequence})],mg);let bg=class extends ag{};bg=$l([Ql({type:ac.Sequence})],bg);let Ag=class extends Xp{};Ag=$l([Ql({type:ac.Sequence})],Ag);let Eg=class{constructor(e=""){this.value=e}toString(){return this.value}};$l([Vl({type:cc.IA5String})],Eg.prototype,"value",void 0),Eg=$l([Ql({type:ac.Choice})],Eg);let vg=class extends wg{};vg=$l([Ql({type:ac.Choice})],vg);let _g=class extends su{};_g=$l([Ql({type:ac.Choice})],_g);let Tg=class{constructor(e=new Date){this.value=e}};$l([Vl({type:cc.GeneralizedTime})],Tg.prototype,"value",void 0),Tg=$l([Ql({type:ac.Choice})],Tg);let Sg=class extends su{};Sg=$l([Ql({type:ac.Choice})],Sg);let Ig=class{constructor(e="M"){this.value=e}toString(){return this.value}};$l([Vl({type:cc.PrintableString})],Ig.prototype,"value",void 0),Ig=$l([Ql({type:ac.Choice})],Ig);let Cg=class{constructor(e=""){this.value=e}toString(){return this.value}};$l([Vl({type:cc.PrintableString})],Cg.prototype,"value",void 0),Cg=$l([Ql({type:ac.Choice})],Cg);let Rg=class extends Cg{};Rg=$l([Ql({type:ac.Choice})],Rg);let xg=class extends su{};xg=$l([Ql({type:ac.Choice})],xg);let kg=class{constructor(e=""){this.value=e}toString(){return this.value}};$l([Vl({type:cc.ObjectIdentifier})],kg.prototype,"value",void 0),kg=$l([Ql({type:ac.Choice})],kg);let Ng=class extends Uh{};Ng=$l([Ql({type:ac.Choice})],Ng);let Bg=class{constructor(e=0){this.value=e}toString(){return this.value.toString()}};$l([Vl({type:cc.Integer})],Bg.prototype,"value",void 0),Bg=$l([Ql({type:ac.Choice})],Bg);let Og=class extends gf{};Og=$l([Ql({type:ac.Sequence})],Og);let Dg=class extends su{};Dg=$l([Ql({type:ac.Choice})],Dg);let Lg=hg=class extends jh{constructor(e){super(e),Object.setPrototypeOf(this,hg.prototype)}};Lg=hg=$l([Ql({type:ac.Sequence})],Lg);let Pg=dg=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,dg.prototype)}};Pg=dg=$l([Ql({type:ac.Set,itemType:Yh})],Pg);let Ug=class{constructor(e=""){this.value=e}toString(){return this.value}};$l([Vl({type:cc.BmpString})],Ug.prototype,"value",void 0),Ug=$l([Ql({type:ac.Choice})],Ug);let Mg=class extends Lh{};Mg=$l([Ql({type:ac.Sequence})],Mg);let Fg=fg=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,fg.prototype)}};var Hg;Fg=fg=$l([Ql({type:ac.Sequence,itemType:Mg})],Fg);let jg=Hg=class extends Xl{constructor(e){super(e),Object.setPrototypeOf(this,Hg.prototype)}};jg=Hg=$l([Ql({type:ac.Sequence,itemType:Th})],jg);class zg{constructor(e={}){this.version=0,this.subject=new uu,this.subjectPKInfo=new Ph,this.attributes=new jg,Object.assign(this,e)}}$l([Vl({type:cc.Integer})],zg.prototype,"version",void 0),$l([Vl({type:uu})],zg.prototype,"subject",void 0),$l([Vl({type:Ph})],zg.prototype,"subjectPKInfo",void 0),$l([Vl({type:jg,implicit:!0,context:0})],zg.prototype,"attributes",void 0);class Wg{constructor(e={}){this.certificationRequestInfo=new zg,this.signatureAlgorithm=new Lh,this.signature=new ArrayBuffer(0),Object.assign(this,e)}}$l([Vl({type:zg})],Wg.prototype,"certificationRequestInfo",void 0),$l([Vl({type:Lh})],Wg.prototype,"signatureAlgorithm",void 0),$l([Vl({type:cc.BitString})],Wg.prototype,"signature",void 0);
/*!
 * MIT License
 * 
 * Copyright (c) Peculiar Ventures. All rights reserved.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */
const Gg="crypto.algorithm";const qg="crypto.algorithmProvider";var Qg;Hp.registerSingleton(qg,class{getAlgorithms(){return Hp.resolveAll(Gg)}toAsnAlgorithm(e){for(const t of this.getAlgorithms()){const r=t.toAsnAlgorithm(e);if(r)return r}if(/[0-9.]+/.test(e.name)){const t=new Lh({algorithm:e.name});if("parameters"in e){const r=e;t.parameters=r.parameters}return t}throw new Error("Cannot convert WebCrypto algorithm to ASN.1 algorithm")}toWebAlgorithm(e){for(const t of this.getAlgorithms()){const r=t.toWebAlgorithm(e);if(r)return r}return{name:e.algorithm,parameters:e.parameters}}});const Vg="1.3.36.3.3.2.8.1.1",Kg=`${Vg}.1`,Yg=`${Vg}.2`,Jg=`${Vg}.3`,Xg=`${Vg}.4`,Zg=`${Vg}.5`,$g=`${Vg}.6`,ey=`${Vg}.7`,ty=`${Vg}.8`,ry=`${Vg}.9`,ny=`${Vg}.10`,iy=`${Vg}.11`,sy=`${Vg}.12`,oy=`${Vg}.13`,ay=`${Vg}.14`,cy="brainpoolP160r1",ly="brainpoolP160t1",uy="brainpoolP192r1",hy="brainpoolP192t1",dy="brainpoolP224r1",fy="brainpoolP224t1",py="brainpoolP256r1",gy="brainpoolP256t1",yy="brainpoolP320r1",wy="brainpoolP320t1",my="brainpoolP384r1",by="brainpoolP384t1",Ay="brainpoolP512r1",Ey="brainpoolP512t1",vy="ECDSA";let _y=Qg=class{toAsnAlgorithm(e){if(e.name.toLowerCase()===vy.toLowerCase())if("hash"in e){switch(("string"==typeof e.hash?e.hash:e.hash.name).toLowerCase()){case"sha-1":return kf;case"sha-256":return Nf;case"sha-384":return Bf;case"sha-512":return Of}}else if("namedCurve"in e){let t="";switch(e.namedCurve){case"P-256":t=If;break;case"K-256":t=Qg.SECP256K1;break;case"P-384":t=Cf;break;case"P-521":t=Rf;break;case cy:t=Kg;break;case ly:t=Yg;break;case uy:t=Jg;break;case hy:t=Xg;break;case dy:t=Zg;break;case fy:t=$g;break;case py:t=ey;break;case gy:t=ty;break;case yy:t=ry;break;case wy:t=ny;break;case my:t=iy;break;case by:t=sy;break;case Ay:t=oy;break;case Ey:t=ay}if(t)return new Lh({algorithm:Af,parameters:Zl.serialize(new Df({namedCurve:t}))})}return null}toWebAlgorithm(e){switch(e.algorithm){case Ef:return{name:vy,hash:{name:"SHA-1"}};case _f:return{name:vy,hash:{name:"SHA-256"}};case Tf:return{name:vy,hash:{name:"SHA-384"}};case Sf:return{name:vy,hash:{name:"SHA-512"}};case Af:if(!e.parameters)throw new TypeError("Cannot get required parameters from EC algorithm");switch(Zl.parse(e.parameters,Df).namedCurve){case If:return{name:vy,namedCurve:"P-256"};case Qg.SECP256K1:return{name:vy,namedCurve:"K-256"};case Cf:return{name:vy,namedCurve:"P-384"};case Rf:return{name:vy,namedCurve:"P-521"};case Kg:return{name:vy,namedCurve:cy};case Yg:return{name:vy,namedCurve:ly};case Jg:return{name:vy,namedCurve:uy};case Xg:return{name:vy,namedCurve:hy};case Zg:return{name:vy,namedCurve:dy};case $g:return{name:vy,namedCurve:fy};case ey:return{name:vy,namedCurve:py};case ty:return{name:vy,namedCurve:gy};case ry:return{name:vy,namedCurve:yy};case ny:return{name:vy,namedCurve:wy};case iy:return{name:vy,namedCurve:my};case sy:return{name:vy,namedCurve:by};case oy:return{name:vy,namedCurve:Ay};case ay:return{name:vy,namedCurve:Ey}}}return null}};_y.SECP256K1="1.3.132.0.10",_y=Qg=$l([zp()],_y),Hp.registerSingleton(Gg,_y);const Ty=Symbol("name"),Sy=Symbol("value");class Iy{constructor(e,t={},r=""){this[Ty]=e,this[Sy]=r;for(const e in t)this[e]=t[e]}}Iy.NAME=Ty,Iy.VALUE=Sy;class Cy{static toString(e){const t=this.items[e];return t||e}}Cy.items={[Xf]:"sha1",[Zf]:"sha224",[$f]:"sha256",[ep]:"sha384",[tp]:"sha512",[Mf]:"rsaEncryption",[Gf]:"sha1WithRSAEncryption",[qf]:"sha224WithRSAEncryption",[Qf]:"sha256WithRSAEncryption",[Vf]:"sha384WithRSAEncryption",[Kf]:"sha512WithRSAEncryption",[Af]:"ecPublicKey",[Ef]:"ecdsaWithSHA1",[vf]:"ecdsaWithSHA224",[_f]:"ecdsaWithSHA256",[Tf]:"ecdsaWithSHA384",[Sf]:"ecdsaWithSHA512",[eh]:"TLS WWW server authentication",[th]:"TLS WWW client authentication",[rh]:"Code Signing",[nh]:"E-mail Protection",[ih]:"Time Stamping",[sh]:"OCSP Signing","1.2.840.113549.1.7.2":"Signed Data"};class Ry{static serialize(e){return this.serializeObj(e).join("\n")}static pad(e=0){return"".padStart(2*e," ")}static serializeObj(e,t=0){const r=[];let n=this.pad(t++),i="";const s=e[Iy.VALUE];s&&(i=` ${s}`),r.push(`${n}${e[Iy.NAME]}:${i}`),n=this.pad(t);for(const i in e){if("symbol"==typeof i)continue;const s=e[i],o=i?`${i}: `:"";if("string"==typeof s||"number"==typeof s||"boolean"==typeof s)r.push(`${n}${o}${s}`);else if(s instanceof Date)r.push(`${n}${o}${s.toUTCString()}`);else if(Array.isArray(s))for(const e of s)e[Iy.NAME]=i,r.push(...this.serializeObj(e,t));else if(s instanceof Iy)s[Iy.NAME]=i,r.push(...this.serializeObj(s,t));else if(Zo.vJ.isBufferSource(s))i?(r.push(`${n}${o}`),r.push(...this.serializeBufferSource(s,t+1))):r.push(...this.serializeBufferSource(s,t));else{if(!("toTextObject"in s))throw new TypeError("Cannot serialize data in text format. Unsupported type.");{const e=s.toTextObject();e[Iy.NAME]=i,r.push(...this.serializeObj(e,t))}}}return r}static serializeBufferSource(e,t=0){const r=this.pad(t),n=Zo.vJ.toUint8Array(e),i=[];for(let e=0;e<n.length;){const t=[];for(let r=0;r<16&&e<n.length;r++){8===r&&t.push("");const i=n[e++].toString(16).padStart(2,"0");t.push(i)}i.push(`${r}${t.join(" ")}`)}return i}static serializeAlgorithm(e){return this.algorithmSerializer.toTextObject(e)}}Ry.oidSerializer=Cy,Ry.algorithmSerializer=class{static toTextObject(e){const t=new Iy("Algorithm Identifier",{},Cy.toString(e.algorithm));if(e.parameters)switch(e.algorithm){case Af:{const r=(new _y).toWebAlgorithm(e);r&&"namedCurve"in r?t["Named Curve"]=r.namedCurve:t.Parameters=e.parameters;break}default:t.Parameters=e.parameters}return t}};class xy{constructor(...e){if(1===e.length){const t=e[0];this.rawData=Zl.serialize(t),this.onInit(t)}else{const t=Zl.parse(e[0],e[1]);this.rawData=Zo.vJ.toArrayBuffer(e[0]),this.onInit(t)}}equal(e){return e instanceof xy&&(0,Zo.Xy)(e.rawData,this.rawData)}toString(e="text"){switch(e){case"asn":return Zl.toString(this.rawData);case"text":return Ry.serialize(this.toTextObject());case"hex":return Zo.ep.ToHex(this.rawData);case"base64":return Zo.ep.ToBase64(this.rawData);case"base64url":return Zo.ep.ToBase64Url(this.rawData);default:throw TypeError("Argument 'format' is unsupported value")}}getTextName(){return this.constructor.NAME}toTextObject(){const e=this.toTextObjectEmpty();return e[""]=this.rawData,e}toTextObjectEmpty(e){return new Iy(this.getTextName(),{},e)}}xy.NAME="ASN";class ky extends xy{constructor(...e){let t;t=Zo.vJ.isBufferSource(e[0])?Zo.vJ.toArrayBuffer(e[0]):Zl.serialize(new Hh({extnID:e[0],critical:e[1],extnValue:new gl(Zo.vJ.toArrayBuffer(e[2]))})),super(t,Hh)}onInit(e){this.type=e.extnID,this.critical=e.critical,this.value=e.extnValue.buffer}toTextObject(){const e=this.toTextObjectWithoutValue();return e[""]=this.value,e}toTextObjectWithoutValue(){const e=this.toTextObjectEmpty(this.critical?"critical":void 0);return e[Iy.NAME]===ky.NAME&&(e[Iy.NAME]=Cy.toString(this.type)),e}}var Ny;class By{constructor(){this.items=new Map,this[Ny]="CryptoProvider","undefined"!=typeof self&&"undefined"!=typeof crypto&&this.set(By.DEFAULT,crypto)}static isCryptoKeyPair(e){return e&&e.privateKey&&e.publicKey}static isCryptoKey(e){return e&&e.usages&&e.type&&e.algorithm&&void 0!==e.extractable}clear(){this.items.clear()}delete(e){return this.items.delete(e)}forEach(e,t){return this.items.forEach(e,t)}has(e){return this.items.has(e)}get size(){return this.items.size}entries(){return this.items.entries()}keys(){return this.items.keys()}values(){return this.items.values()}[Symbol.iterator](){return this.items[Symbol.iterator]()}get(e=By.DEFAULT){const t=this.items.get(e.toLowerCase());if(!t)throw new Error(`Cannot get Crypto by name '${e}'`);return t}set(e,t){if("string"==typeof e){if(!t)throw new TypeError("Argument 'value' is required");this.items.set(e.toLowerCase(),t)}else this.items.set(By.DEFAULT,e);return this}}Ny=Symbol.toStringTag,By.DEFAULT="default";const Oy=new By,Dy=/^[0-2](?:\.[1-9][0-9]*)+$/;class Ly{constructor(e={}){this.items={};for(const t in e)this.register(t,e[t])}get(e){return this.items[e]||null}findId(e){return t=e,new RegExp(Dy).test(t)?e:this.get(e);var t}register(e,t){this.items[e]=t,this.items[t]=e}}const Py=new Ly;function Uy(e,t){return`\\${Zo.ep.ToHex(Zo.ep.FromUtf8String(t)).toUpperCase()}`}Py.register("CN","2.5.4.3"),Py.register("L","2.5.4.7"),Py.register("ST","2.5.4.8"),Py.register("O","2.5.4.10"),Py.register("OU","2.5.4.11"),Py.register("C","2.5.4.6"),Py.register("DC","0.9.2342.19200300.100.1.25"),Py.register("E","1.2.840.113549.1.9.1"),Py.register("G","2.5.4.42"),Py.register("I","2.5.4.43"),Py.register("SN","2.5.4.4"),Py.register("T","2.5.4.12");class My{constructor(e,t={}){this.extraNames=new Ly,this.asn=new uu;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const r=t[e];this.extraNames.register(e,r)}"string"==typeof e?this.asn=this.fromString(e):e instanceof uu?this.asn=e:Zo.vJ.isBufferSource(e)?this.asn=Zl.parse(e,uu):this.asn=this.fromJSON(e)}static isASCII(e){for(let t=0;t<e.length;t++){if(e.charCodeAt(t)>255)return!1}return!0}getField(e){const t=this.extraNames.findId(e)||Py.findId(e),r=[];for(const e of this.asn)for(const n of e)n.type===t&&r.push(n.value.toString());return r}getName(e){return this.extraNames.get(e)||Py.get(e)}toString(){return this.asn.map((e=>e.map((e=>{const t=this.getName(e.type)||e.type,r=e.value.anyValue?`#${Zo.ep.ToHex(e.value.anyValue)}`:function(e){return e.replace(/([,+"\\<>;])/g,"\\$1").replace(/^([ #])/,"\\$1").replace(/([ ]$)/,"\\$1").replace(/([\r\n\t])/,Uy)}(e.value.toString());return`${t}=${r}`})).join("+"))).join(", ")}toJSON(){var e;const t=[];for(const r of this.asn){const n={};for(const t of r){const r=this.getName(t.type)||t.type;null!==(e=n[r])&&void 0!==e||(n[r]=[]),n[r].push(t.value.anyValue?`#${Zo.ep.ToHex(t.value.anyValue)}`:t.value.toString())}t.push(n)}return t}fromString(e){const t=new uu,r=/(\d\.[\d.]*\d|[A-Za-z]+)=((?:"")|(?:".*?[^\\]")|(?:[^,+].*?(?:[^\\][,+]))|(?:))([,+])?/g;let n=null,i=",";for(;n=r.exec(`${e},`);){let[,e,r]=n;const s=r[r.length-1];","!==s&&"+"!==s||(r=r.slice(0,r.length-1),n[3]=s);const o=n[3];if(/[\d.]+/.test(e)||(e=this.getName(e)||""),!e)throw new Error(`Cannot get OID for name type '${e}'`);const a=new au({type:e});if("#"===r.charAt(0))a.value.anyValue=Zo.ep.FromHex(r.slice(1));else{const t=/"(.*?[^\\])?"/.exec(r);t&&(r=t[1]),r=r.replace(/\\0a/gi,"\n").replace(/\\0d/gi,"\r").replace(/\\0g/gi,"\t").replace(/\\(.)/g,"$1"),e===this.getName("E")||e===this.getName("DC")?a.value.ia5String=r:My.isASCII(r)?a.value.printableString=r:a.value.utf8String=r}"+"===i?t[t.length-1].push(a):t.push(new cu([a])),i=o}return t}fromJSON(e){const t=new uu;for(const r of e){const e=new cu;for(const t in r){let n=t;if(/[\d.]+/.test(t)||(n=this.getName(t)||""),!n)throw new Error(`Cannot get OID for name type '${t}'`);const i=r[t];for(const t of i){const r=new au({type:n});if("object"==typeof t)for(const e in t)switch(e){case"ia5String":r.value.ia5String=t[e];break;case"utf8String":r.value.utf8String=t[e];break;case"universalString":r.value.universalString=t[e];break;case"bmpString":r.value.bmpString=t[e];break;case"printableString":r.value.printableString=t[e]}else"#"===t[0]?r.value.anyValue=Zo.ep.FromHex(t.slice(1)):n===this.getName("E")||n===this.getName("DC")?r.value.ia5String=t:r.value.printableString=t;e.push(r)}}t.push(e)}return t}toArrayBuffer(){return Zl.serialize(this.asn)}async getThumbprint(...e){var t;let r,n="SHA-1";return e.length>=1&&!(null===(t=e[0])||void 0===t?void 0:t.subtle)?(n=e[0]||n,r=e[1]||Oy.get()):r=e[0]||Oy.get(),await r.subtle.digest(n,this.toArrayBuffer())}}const Fy="Cannot initialize GeneralName from ASN.1 data.",Hy=`${Fy} Unsupported string format in use.`,jy=`${Fy} Value doesn't match to GUID regular expression.`,zy=/^([0-9a-f]{8})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{12})$/i,Wy="1.3.6.1.4.1.311.25.1",Gy="1.3.6.1.4.1.311.20.2.3",qy="dns",Qy="dn",Vy="email",Ky="ip",Yy="url",Jy="guid",Xy="upn",Zy="id";class $y extends xy{constructor(...e){let t;if(2===e.length)switch(e[0]){case Qy:{const r=new My(e[1]).toArrayBuffer(),n=Zl.parse(r,uu);t=new pu({directoryName:n});break}case qy:t=new pu({dNSName:e[1]});break;case Vy:t=new pu({rfc822Name:e[1]});break;case Jy:{const r=new RegExp(zy,"i").exec(e[1]);if(!r)throw new Error("Cannot parse GUID value. Value doesn't match to regular expression");const n=r.slice(1).map(((e,t)=>t<3?Zo.ep.ToHex(new Uint8Array(Zo.ep.FromHex(e)).reverse()):e)).join("");t=new pu({otherName:new du({typeId:Wy,value:Zl.serialize(new gl(Zo.ep.FromHex(n)))})});break}case Ky:t=new pu({iPAddress:e[1]});break;case Zy:t=new pu({registeredID:e[1]});break;case Xy:t=new pu({otherName:new du({typeId:Gy,value:Zl.serialize(Il.toASN(e[1]))})});break;case Yy:t=new pu({uniformResourceIdentifier:e[1]});break;default:throw new Error("Cannot create GeneralName. Unsupported type of the name")}else t=Zo.vJ.isBufferSource(e[0])?Zl.parse(e[0],pu):e[0];super(t)}onInit(e){if(null!=e.dNSName)this.type=qy,this.value=e.dNSName;else if(null!=e.rfc822Name)this.type=Vy,this.value=e.rfc822Name;else if(null!=e.iPAddress)this.type=Ky,this.value=e.iPAddress;else if(null!=e.uniformResourceIdentifier)this.type=Yy,this.value=e.uniformResourceIdentifier;else if(null!=e.registeredID)this.type=Zy,this.value=e.registeredID;else if(null!=e.directoryName)this.type=Qy,this.value=new My(e.directoryName).toString();else{if(null==e.otherName)throw new Error(Hy);if(e.otherName.typeId===Wy){this.type=Jy;const t=Zl.parse(e.otherName.value,gl),r=new RegExp(zy,"i").exec(Zo.ep.ToHex(t));if(!r)throw new Error(jy);this.value=r.slice(1).map(((e,t)=>t<3?Zo.ep.ToHex(new Uint8Array(Zo.ep.FromHex(e)).reverse()):e)).join("-")}else{if(e.otherName.typeId!==Gy)throw new Error(Hy);this.type=Xy,this.value=Zl.parse(e.otherName.value,su).toString()}}}toJSON(){return{type:this.type,value:this.value}}toTextObject(){let e;switch(this.type){case Qy:case qy:case Jy:case Ky:case Zy:case Xy:case Yy:e=this.type.toUpperCase();break;case Vy:e="Email";break;default:throw new Error("Unsupported GeneralName type")}let t=this.value;return this.type===Zy&&(t=Cy.toString(t)),new Iy(e,void 0,t)}}class ew extends xy{constructor(e){let t;if(e instanceof Iu)t=e;else if(Array.isArray(e)){const r=[];for(const t of e)if(t instanceof pu)r.push(t);else{const e=Zl.parse(new $y(t.type,t.value).rawData,pu);r.push(e)}t=new Iu(r)}else{if(!Zo.vJ.isBufferSource(e))throw new Error("Cannot initialize GeneralNames. Incorrect incoming arguments");t=Zl.parse(e,Iu)}super(t)}onInit(e){const t=[];for(const r of e){let e=null;try{e=new $y(r)}catch{continue}t.push(e)}this.items=t}toJSON(){return this.items.map((e=>e.toJSON()))}toTextObject(){const e=super.toTextObjectEmpty();for(const t of this.items){const r=t.toTextObject();let n=e[r[Iy.NAME]];Array.isArray(n)||(n=[],e[r[Iy.NAME]]=n),n.push(r)}return e}}ew.NAME="GeneralNames";const tw="\\n",rw="-{5}BEGIN ([^\\n]+(?=-{5}))-{5}\\n(?:((?:[^:\\n]+: (?:[^\\n]+\\n(?: +[^\\n]+\\n)*))+))?\\n?((?:[a-zA-Z0-9=+/]+\\n)+)-{5}END \\1-{5}";class nw{static isPem(e){return"string"==typeof e&&new RegExp(rw,"g").test(e)}static decodeWithHeaders(e){e=e.replace(/\r/g,"");const t=new RegExp(rw,"g"),r=[];let n=null;for(;n=t.exec(e);){const e=n[3].replace(new RegExp("[\\n]+","g"),""),t={type:n[1],headers:[],rawData:Zo.ep.FromBase64(e)},i=n[2];if(i){const e=i.split(new RegExp(tw,"g"));let r=null;for(const n of e){const[e,i]=n.split(/:(.*)/);if(void 0===i){if(!r)throw new Error("Cannot parse PEM string. Incorrect header value");r.value+=e.trim()}else r&&t.headers.push(r),r={key:e,value:i.trim()}}r&&t.headers.push(r)}r.push(t)}return r}static decode(e){return this.decodeWithHeaders(e).map((e=>e.rawData))}static decodeFirst(e){const t=this.decode(e);if(!t.length)throw new RangeError("PEM string doesn't contain any objects");return t[0]}static encode(e,t){if(Array.isArray(e)){const r=new Array;return t?e.forEach((e=>{if(!Zo.vJ.isBufferSource(e))throw new TypeError("Cannot encode array of BufferSource in PEM format. Not all items of the array are BufferSource");r.push(this.encodeStruct({type:t,rawData:Zo.vJ.toArrayBuffer(e)}))})):e.forEach((e=>{if(!("type"in e))throw new TypeError("Cannot encode array of PemStruct in PEM format. Not all items of the array are PemStrut");r.push(this.encodeStruct(e))})),r.join("\n")}if(!t)throw new Error("Required argument 'tag' is missed");return this.encodeStruct({type:t,rawData:Zo.vJ.toArrayBuffer(e)})}static encodeStruct(e){var t;const r=e.type.toLocaleUpperCase(),n=[];if(n.push(`-----BEGIN ${r}-----`),null===(t=e.headers)||void 0===t?void 0:t.length){for(const t of e.headers)n.push(`${t.key}: ${t.value}`);n.push("")}const i=Zo.ep.ToBase64(e.rawData);let s,o=0;const a=Array();for(;o<i.length&&(i.length-o<64?s=i.substring(o):(s=i.substring(o,o+64),o+=64),0!==s.length)&&(a.push(s),!(s.length<64)););return n.push(...a),n.push(`-----END ${r}-----`),n.join("\n")}}nw.CertificateTag="CERTIFICATE",nw.CrlTag="CRL",nw.CertificateRequestTag="CERTIFICATE REQUEST",nw.PublicKeyTag="PUBLIC KEY",nw.PrivateKeyTag="PRIVATE KEY";class iw extends xy{static isAsnEncoded(e){return Zo.vJ.isBufferSource(e)||"string"==typeof e}static toArrayBuffer(e){if("string"==typeof e){if(nw.isPem(e))return nw.decode(e)[0];if(Zo.ep.isHex(e))return Zo.ep.FromHex(e);if(Zo.ep.isBase64(e))return Zo.ep.FromBase64(e);if(Zo.ep.isBase64Url(e))return Zo.ep.FromBase64Url(e);throw new TypeError("Unsupported format of 'raw' argument. Must be one of DER, PEM, HEX, Base64, or Base4Url")}{const t=Zo.ep.ToBinary(e);return nw.isPem(t)?nw.decode(t)[0]:Zo.ep.isHex(t)?Zo.ep.FromHex(t):Zo.ep.isBase64(t)?Zo.ep.FromBase64(t):Zo.ep.isBase64Url(t)?Zo.ep.FromBase64Url(t):Zo.vJ.toArrayBuffer(e)}}constructor(...e){iw.isAsnEncoded(e[0])?super(iw.toArrayBuffer(e[0]),e[1]):super(e[0])}toString(e="pem"){return"pem"===e?nw.encode(this.rawData,this.tag):super.toString(e)}}class sw extends iw{constructor(e){iw.isAsnEncoded(e)?super(e,Ph):super(e),this.tag=nw.PublicKeyTag}async export(...e){let t,r=["verify"],n={hash:"SHA-256",...this.algorithm};return e.length>1?(n=e[0]||n,r=e[1]||r,t=e[2]||Oy.get()):t=e[0]||Oy.get(),t.subtle.importKey("spki",this.rawData,n,!0,r)}onInit(e){const t=Hp.resolve(qg),r=this.algorithm=t.toWebAlgorithm(e.algorithm);switch(e.algorithm.algorithm){case Mf:{const t=Zl.parse(e.subjectPublicKey,pp),n=Zo.vJ.toUint8Array(t.modulus);r.publicExponent=Zo.vJ.toUint8Array(t.publicExponent),r.modulusLength=(n[0]?n:n.slice(1)).byteLength<<3;break}}}async getThumbprint(...e){var t;let r,n="SHA-1";return e.length>=1&&!(null===(t=e[0])||void 0===t?void 0:t.subtle)?(n=e[0]||n,r=e[1]||Oy.get()):r=e[0]||Oy.get(),await r.subtle.digest(n,this.rawData)}async getKeyIdentifier(e){e||(e=Oy.get());const t=Zl.parse(this.rawData,Ph);return await e.subtle.digest("SHA-1",t.subjectPublicKey)}toTextObject(){const e=this.toTextObjectEmpty(),t=Zl.parse(this.rawData,Ph);if(e.Algorithm=Ry.serializeAlgorithm(t.algorithm),t.algorithm.algorithm===Af)e["EC Point"]=t.subjectPublicKey;else e["Raw Data"]=t.subjectPublicKey;return e}}class ow{static register(e,t){this.items.set(e,t)}static create(e){const t=new ky(e),r=this.items.get(t.type);return r?new r(e):t}}ow.items=new Map;const aw="crypto.signatureFormatter";class cw extends iw{constructor(e){iw.isAsnEncoded(e)?super(e,qh):super(e),this.tag=nw.CertificateTag}onInit(e){const t=e.tbsCertificate;this.tbs=Zl.serialize(t),this.serialNumber=Zo.ep.ToHex(t.serialNumber),this.subjectName=new My(t.subject),this.subject=new My(t.subject).toString(),this.issuerName=new My(t.issuer),this.issuer=this.issuerName.toString();const r=Hp.resolve(qg);this.signatureAlgorithm=r.toWebAlgorithm(e.signatureAlgorithm),this.signature=e.signatureValue;const n=t.validity.notBefore.utcTime||t.validity.notBefore.generalTime;if(!n)throw new Error("Cannot get 'notBefore' value");this.notBefore=n;const i=t.validity.notAfter.utcTime||t.validity.notAfter.generalTime;if(!i)throw new Error("Cannot get 'notAfter' value");this.notAfter=i,this.extensions=[],t.extensions&&(this.extensions=t.extensions.map((e=>ow.create(Zl.serialize(e))))),this.publicKey=new sw(t.subjectPublicKeyInfo)}getExtension(e){for(const t of this.extensions)if("string"==typeof e){if(t.type===e)return t}else if(t instanceof e)return t;return null}getExtensions(e){return this.extensions.filter((t=>"string"==typeof e?t.type===e:t instanceof e))}async verify(e={},t=Oy.get()){let r,n;const i=e.publicKey;try{if(i)if("publicKey"in i)r={...i.publicKey.algorithm,...this.signatureAlgorithm},n=await i.publicKey.export(r,["verify"]);else if(i instanceof sw)r={...i.algorithm,...this.signatureAlgorithm},n=await i.export(r,["verify"]);else if(Zo.vJ.isBufferSource(i)){const e=new sw(i);r={...e.algorithm,...this.signatureAlgorithm},n=await e.export(r,["verify"])}else r={...i.algorithm,...this.signatureAlgorithm},n=i;else r={...this.publicKey.algorithm,...this.signatureAlgorithm},n=await this.publicKey.export(r,["verify"],t)}catch(e){return!1}const s=Hp.resolveAll(aw).reverse();let o=null;for(const e of s)if(o=e.toWebSignature(r,this.signature),o)break;if(!o)throw Error("Cannot convert ASN.1 signature value to WebCrypto format");const a=await t.subtle.verify(this.signatureAlgorithm,n,o,this.tbs);if(e.signatureOnly)return a;{const t=(e.date||new Date).getTime();return a&&this.notBefore.getTime()<t&&t<this.notAfter.getTime()}}async getThumbprint(...e){let t,r="SHA-1";return e[0]&&(e[0].subtle?t=e[0]:(r=e[0]||r,t=e[1])),null!=t||(t=Oy.get()),await t.subtle.digest(r,this.rawData)}async isSelfSigned(e=Oy.get()){return this.subject===this.issuer&&await this.verify({signatureOnly:!0},e)}toTextObject(){const e=this.toTextObjectEmpty(),t=Zl.parse(this.rawData,qh),r=t.tbsCertificate,n=new Iy("",{Version:`${zh[r.version]} (${r.version})`,"Serial Number":r.serialNumber,"Signature Algorithm":Ry.serializeAlgorithm(r.signature),Issuer:this.issuer,Validity:new Iy("",{"Not Before":r.validity.notBefore.getTime(),"Not After":r.validity.notAfter.getTime()}),Subject:this.subject,"Subject Public Key Info":this.publicKey});if(r.issuerUniqueID&&(n["Issuer Unique ID"]=r.issuerUniqueID),r.subjectUniqueID&&(n["Subject Unique ID"]=r.subjectUniqueID),this.extensions.length){const e=new Iy("");for(const t of this.extensions){const r=t.toTextObject();e[r[Iy.NAME]]=r}n.Extensions=e}return e.Data=n,e.Signature=new Iy("",{Algorithm:Ry.serializeAlgorithm(t.signatureAlgorithm),"":t.signatureValue}),e}}cw.NAME="Certificate";class lw extends ky{constructor(...e){if(Zo.vJ.isBufferSource(e[0]))super(e[0]);else if("string"==typeof e[0]){const t=new vu({keyIdentifier:new Eu(Zo.ep.FromHex(e[0]))});super(Au,e[1],Zl.serialize(t))}else{const t=e[0],r=t.name instanceof ew?Zl.parse(t.name.rawData,Iu):t.name,n=new vu({authorityCertIssuer:r,authorityCertSerialNumber:Zo.ep.FromHex(t.serialNumber)});super(Au,e[1],Zl.serialize(n))}}static async create(e,t=!1,r=Oy.get()){if(e instanceof cw||By.isCryptoKey(e)){const n=e instanceof cw?await e.publicKey.export(r):e,i=await r.subtle.exportKey("spki",n),s=new sw(i),o=await s.getKeyIdentifier(r);return new lw(Zo.ep.ToHex(o),t)}return new lw(e,t)}onInit(e){super.onInit(e);const t=Zl.parse(e.extnValue,vu);t.keyIdentifier&&(this.keyId=Zo.ep.ToHex(t.keyIdentifier)),t.authorityCertIssuer&&t.authorityCertSerialNumber&&(this.certId={name:t.authorityCertIssuer,serialNumber:Zo.ep.ToHex(t.authorityCertSerialNumber)})}toTextObject(){const e=this.toTextObjectWithoutValue(),t=Zl.parse(this.value,vu);return t.authorityCertIssuer&&(e["Authority Issuer"]=new ew(t.authorityCertIssuer).toTextObject()),t.authorityCertSerialNumber&&(e["Authority Serial Number"]=t.authorityCertSerialNumber),t.keyIdentifier&&(e[""]=t.keyIdentifier),e}}lw.NAME="Authority Key Identifier";class uw extends ky{constructor(...e){if(Zo.vJ.isBufferSource(e[0])){super(e[0]);const t=Zl.parse(this.value,Tu);this.ca=t.cA,this.pathLength=t.pathLenConstraint}else{const t=new Tu({cA:e[0],pathLenConstraint:e[1]});super(_u,e[2],Zl.serialize(t)),this.ca=e[0],this.pathLength=e[1]}}toTextObject(){const e=this.toTextObjectWithoutValue();return this.ca&&(e.CA=this.ca),void 0!==this.pathLength&&(e["Path Length"]=this.pathLength),e}}var hw,dw;uw.NAME="Basic Constraints",function(e){e.serverAuth="1.3.6.1.5.5.7.3.1",e.clientAuth="1.3.6.1.5.5.7.3.2",e.codeSigning="1.3.6.1.5.5.7.3.3",e.emailProtection="1.3.6.1.5.5.7.3.4",e.timeStamping="1.3.6.1.5.5.7.3.8",e.ocspSigning="1.3.6.1.5.5.7.3.9"}(hw||(hw={}));class fw extends ky{constructor(...e){if(Zo.vJ.isBufferSource(e[0])){super(e[0]);const t=Zl.parse(this.value,$u);this.usages=t.map((e=>e))}else{const t=new $u(e[0]);super(Zu,e[1],Zl.serialize(t)),this.usages=e[0]}}toTextObject(){const e=this.toTextObjectWithoutValue();return e[""]=this.usages.map((e=>Cy.toString(e))).join(", "),e}}fw.NAME="Extended Key Usages",function(e){e[e.digitalSignature=1]="digitalSignature",e[e.nonRepudiation=2]="nonRepudiation",e[e.keyEncipherment=4]="keyEncipherment",e[e.dataEncipherment=8]="dataEncipherment",e[e.keyAgreement=16]="keyAgreement",e[e.keyCertSign=32]="keyCertSign",e[e.cRLSign=64]="cRLSign",e[e.encipherOnly=128]="encipherOnly",e[e.decipherOnly=256]="decipherOnly"}(dw||(dw={}));class pw extends ky{constructor(...e){if(Zo.vJ.isBufferSource(e[0])){super(e[0]);const t=Zl.parse(this.value,fh);this.usages=t.toNumber()}else{const t=new fh(e[0]);super(uh,e[1],Zl.serialize(t)),this.usages=e[0]}}toTextObject(){const e=this.toTextObjectWithoutValue(),t=Zl.parse(this.value,fh);return e[""]=t.toJSON().join(", "),e}}pw.NAME="Key Usages";class gw extends ky{constructor(...e){if(Zo.vJ.isBufferSource(e[0])){super(e[0]);const t=Zl.parse(this.value,Rh);this.keyId=Zo.ep.ToHex(t)}else{const t="string"==typeof e[0]?Zo.ep.FromHex(e[0]):e[0],r=new Rh(t);super(Ch,e[1],Zl.serialize(r)),this.keyId=Zo.ep.ToHex(t)}}static async create(e,t=!1,r=Oy.get()){let n;n=e instanceof sw?e.rawData:"publicKey"in e?e.publicKey.rawData:Zo.vJ.isBufferSource(e)?e:await r.subtle.exportKey("spki",e);const i=new sw(n),s=await i.getKeyIdentifier(r);return new gw(Zo.ep.ToHex(s),t)}toTextObject(){const e=this.toTextObjectWithoutValue(),t=Zl.parse(this.value,Rh);return e[""]=t,e}}gw.NAME="Subject Key Identifier";class yw extends ky{constructor(...e){Zo.vJ.isBufferSource(e[0])?super(e[0]):super(vh,e[1],new ew(e[0]||[]).rawData)}onInit(e){super.onInit(e);const t=Zl.parse(e.extnValue,_h);this.names=new ew(t)}toTextObject(){const e=this.toTextObjectWithoutValue(),t=this.names.toTextObject();for(const r in t)e[r]=t[r];return e}}yw.NAME="Subject Alternative Name";class ww extends ky{constructor(...e){var t;if(Zo.vJ.isBufferSource(e[0])){super(e[0]);const t=Zl.parse(this.value,Uu);this.policies=t.map((e=>e.policyIdentifier))}else{const r=e[0],n=null!==(t=e[1])&&void 0!==t&&t,i=new Uu(r.map((e=>new Pu({policyIdentifier:e}))));super(ku,n,Zl.serialize(i)),this.policies=r}}toTextObject(){const e=this.toTextObjectWithoutValue();return e.Policy=this.policies.map((e=>new Iy("",{},Cy.toString(e)))),e}}ww.NAME="Certificate Policies",ow.register(ku,ww);class mw extends xy{constructor(...e){let t;if(Zo.vJ.isBufferSource(e[0]))t=Zo.vJ.toArrayBuffer(e[0]);else{const r=e[0],n=Array.isArray(e[1])?e[1].map((e=>Zo.vJ.toArrayBuffer(e))):[];t=Zl.serialize(new Th({type:r,values:n}))}super(t,Th)}onInit(e){this.type=e.type,this.values=e.values}toTextObject(){const e=this.toTextObjectWithoutValue();return e.Value=this.values.map((e=>new Iy("",{"":e}))),e}toTextObjectWithoutValue(){const e=this.toTextObjectEmpty();return e[Iy.NAME]===mw.NAME&&(e[Iy.NAME]=Cy.toString(this.type)),e}}mw.NAME="Attribute";class bw extends mw{constructor(...e){var t;if(Zo.vJ.isBufferSource(e[0]))super(e[0]);else{const t=new Dg({printableString:e[0]});super(gg,[Zl.serialize(t)])}null!==(t=this.password)&&void 0!==t||(this.password="")}onInit(e){if(super.onInit(e),this.values[0]){const e=Zl.parse(this.values[0],Dg);this.password=e.toString()}}toTextObject(){const e=this.toTextObjectWithoutValue();return e[Iy.VALUE]=this.password,e}}bw.NAME="Challenge Password";class Aw extends mw{constructor(...e){var t;if(Zo.vJ.isBufferSource(e[0]))super(e[0]);else{const t=e[0],r=new jh;for(const e of t)r.push(Zl.parse(e.rawData,Hh));super(yg,[Zl.serialize(r)])}null!==(t=this.items)&&void 0!==t||(this.items=[])}onInit(e){if(super.onInit(e),this.values[0]){const e=Zl.parse(this.values[0],jh);this.items=e.map((e=>ow.create(Zl.serialize(e))))}}toTextObject(){const e=this.toTextObjectWithoutValue(),t=this.items.map((e=>e.toTextObject()));for(const r of t)e[r[Iy.NAME]]=r;return e}}Aw.NAME="Extensions";class Ew{static register(e,t){this.items.set(e,t)}static create(e){const t=new mw(e),r=this.items.get(t.type);return r?new r(e):t}}Ew.items=new Map;let vw=class{toAsnAlgorithm(e){if("rsassa-pkcs1-v1_5"===e.name.toLowerCase()){if(!e.hash)return new Lh({algorithm:Mf,parameters:null});switch(e.hash.name.toLowerCase()){case"sha-1":return new Lh({algorithm:Gf,parameters:null});case"sha-256":return new Lh({algorithm:Qf,parameters:null});case"sha-384":return new Lh({algorithm:Vf,parameters:null});case"sha-512":return new Lh({algorithm:Kf,parameters:null})}}return null}toWebAlgorithm(e){switch(e.algorithm){case Mf:return{name:"RSASSA-PKCS1-v1_5"};case Gf:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case Qf:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case Vf:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case Kf:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}}}return null}};vw=$l([zp()],vw),Hp.registerSingleton(Gg,vw);class _w{addPadding(e,t){const r=Zo.vJ.toUint8Array(t),n=new Uint8Array(e);return n.set(r,e-r.length),n}removePadding(e,t=!1){let r=Zo.vJ.toUint8Array(e);for(let e=0;e<r.length;e++)if(r[e]){r=r.slice(e);break}if(t&&r[0]>127){const e=new Uint8Array(r.length+1);return e.set(r,1),e.buffer}return r.buffer}toAsnSignature(e,t){if("ECDSA"===e.name){const r=e.namedCurve,n=_w.namedCurveSize.get(r)||_w.defaultNamedCurveSize,i=new Pf,s=Zo.vJ.toUint8Array(t);return i.r=this.removePadding(s.slice(0,n),!0),i.s=this.removePadding(s.slice(n,n+n),!0),Zl.serialize(i)}return null}toWebSignature(e,t){if("ECDSA"===e.name){const r=Zl.parse(t,Pf),n=e.namedCurve,i=_w.namedCurveSize.get(n)||_w.defaultNamedCurveSize,s=this.addPadding(i,this.removePadding(r.r)),o=this.addPadding(i,this.removePadding(r.s));return(0,Zo.$e)(s,o)}return null}}_w.namedCurveSize=new Map,_w.defaultNamedCurveSize=32;const Tw="1.3.101.110",Sw="1.3.101.111",Iw="1.3.101.112",Cw="1.3.101.113";let Rw=class{toAsnAlgorithm(e){let t=null;switch(e.name.toLowerCase()){case"eddsa":switch(e.namedCurve.toLowerCase()){case"ed25519":t=Iw;break;case"ed448":t=Cw}break;case"ecdh-es":switch(e.namedCurve.toLowerCase()){case"x25519":t=Tw;break;case"x448":t=Sw}}return t?new Lh({algorithm:t}):null}toWebAlgorithm(e){switch(e.algorithm){case Iw:return{name:"EdDSA",namedCurve:"Ed25519"};case Cw:return{name:"EdDSA",namedCurve:"Ed448"};case Tw:return{name:"ECDH-ES",namedCurve:"X25519"};case Sw:return{name:"ECDH-ES",namedCurve:"X448"}}return null}};Rw=$l([zp()],Rw),Hp.registerSingleton(Gg,Rw);class xw extends iw{constructor(e){iw.isAsnEncoded(e)?super(e,Wg):super(e),this.tag=nw.CertificateRequestTag}onInit(e){this.tbs=Zl.serialize(e.certificationRequestInfo),this.publicKey=new sw(e.certificationRequestInfo.subjectPKInfo);const t=Hp.resolve(qg);this.signatureAlgorithm=t.toWebAlgorithm(e.signatureAlgorithm),this.signature=e.signature,this.attributes=e.certificationRequestInfo.attributes.map((e=>Ew.create(Zl.serialize(e))));const r=this.getAttribute(yg);this.extensions=[],r instanceof Aw&&(this.extensions=r.items),this.subjectName=new My(e.certificationRequestInfo.subject),this.subject=this.subjectName.toString()}getAttribute(e){for(const t of this.attributes)if(t.type===e)return t;return null}getAttributes(e){return this.attributes.filter((t=>t.type===e))}getExtension(e){for(const t of this.extensions)if(t.type===e)return t;return null}getExtensions(e){return this.extensions.filter((t=>t.type===e))}async verify(e=Oy.get()){const t={...this.publicKey.algorithm,...this.signatureAlgorithm},r=await this.publicKey.export(t,["verify"],e),n=Hp.resolveAll(aw).reverse();let i=null;for(const e of n)if(i=e.toWebSignature(t,this.signature),i)break;if(!i)throw Error("Cannot convert WebCrypto signature value to ASN.1 format");return await e.subtle.verify(this.signatureAlgorithm,r,i,this.tbs)}toTextObject(){const e=this.toTextObjectEmpty(),t=Zl.parse(this.rawData,Wg),r=t.certificationRequestInfo,n=new Iy("",{Version:`${zh[r.version]} (${r.version})`,Subject:this.subject,"Subject Public Key Info":this.publicKey});if(this.attributes.length){const e=new Iy("");for(const t of this.attributes){const r=t.toTextObject();e[r[Iy.NAME]]=r}n.Attributes=e}return e.Data=n,e.Signature=new Iy("",{Algorithm:Ry.serializeAlgorithm(t.signatureAlgorithm),"":t.signature}),e}}xw.NAME="PKCS#10 Certificate Request";var kw;!function(e){e[e.unspecified=0]="unspecified",e[e.keyCompromise=1]="keyCompromise",e[e.cACompromise=2]="cACompromise",e[e.affiliationChanged=3]="affiliationChanged",e[e.superseded=4]="superseded",e[e.cessationOfOperation=5]="cessationOfOperation",e[e.certificateHold=6]="certificateHold",e[e.removeFromCRL=8]="removeFromCRL",e[e.privilegeWithdrawn=9]="privilegeWithdrawn",e[e.aACompromise=10]="aACompromise"}(kw||(kw={}));ow.register(_u,uw),ow.register(Zu,fw),ow.register(uh,pw),ow.register(Ch,gw),ow.register(Au,lw),ow.register(vh,yw),Ew.register(gg,bw),Ew.register(yg,Aw),Hp.registerSingleton(aw,class{toAsnSignature(e,t){return Zo.vJ.toArrayBuffer(t)}toWebSignature(e,t){return Zo.vJ.toArrayBuffer(t)}}),Hp.registerSingleton(aw,_w),_w.namedCurveSize.set("P-256",32),_w.namedCurveSize.set("K-256",32),_w.namedCurveSize.set("P-384",48),_w.namedCurveSize.set("P-521",66);const Nw=/-{5}(BEGIN|END) .*-{5}/gm;async function Bw({hash:e,signature:t,publicKey:r,domain:n,domainCert:i,created:s,software:o}={}){let a;const c=[];if(t=(0,Xo.toByteArray)(t),i&&n&&!r){const e=i.split("\n\n"),n=(0,Xo.toByteArray)(e[0].replace(Nw,"").replace(/\s/gm,"")),s=w(await crypto.subtle.digest("SHA-256",n));c.push({id:"certFingerprint",expected:s,matched:null});const o=new cw(n);r=await o.publicKey.export();const l=(0,Xo.fromByteArray)(new Uint8Array(o.publicKey.rawData));c.push({id:"publicKey",expected:l,matched:null}),o.subject&&o.subject.startsWith("CN=")&&(a=o.subject.split(3)),t=function(e){try{const t=Yl.parse(e,Pf),r=0===t.r[0]?t.r.slice(1):t.r,n=0===t.s[0]?t.s.slice(1):t.s;e=Q([r,n],r.length+n.length)}catch(e){console.log(e)}return e}(t)}else{const e={name:"ECDSA",namedCurve:"P-384"};c.push({id:"publicKey",expected:r,matched:null}),r=await crypto.subtle.importKey("spki",(0,Xo.toByteArray)(r),e,!0,["verify"])}const l=new TextEncoder,u=await crypto.subtle.verify({name:"ECDSA",hash:"SHA-256"},r,t,l.encode(e));return c.push({id:"signature",expected:!0,matched:u}),s&&c.push({id:"created",expected:s,matched:null}),o&&c.push({id:"software",expected:o,matched:null}),n&&c.push({id:"domain",expected:n,matched:a}),c}const Ow="pages/pages.jsonl",Dw="pages/extraPages.jsonl",Lw="datapackage.json",Pw="datapackage-digest.json",Uw="webarchive.yaml";class Mw{constructor(e,t,r=!0){this.file=t,this.waczname=t.waczname,this.store=e,this.isRoot=r}async loadFileFromWACZ(e,t){return this.store.loadFileFromWACZ?await this.store.loadFileFromWACZ(this.file,e,t):await this.file.loadFile(e,t)}async load(){let e,t=null;return this.file.containsFile(Pw)&&(t=await this.loadDigestData(Pw)),this.file.containsFile(Lw)?e=await this.loadPackage(Lw,t):this.file.containsFile(Uw)&&(e=await this.loadOldPackageYAML(Uw)),e||{}}async loadTextFileFromWACZ(e,t=!1){const{reader:r,hasher:n}=await this.loadFileFromWACZ(e,{computeHash:!!t}),i=(new TextDecoder).decode(await r.readFully());return t&&n&&await this.store.addVerifyData(this.waczname,e,t,n.getHash()),i}async loadDigestData(e){try{const t=JSON.parse(await this.loadTextFileFromWACZ(e));let r;t.path===Lw&&t.hash&&(r=t.hash);const n=this.store,i=this.isRoot?"":this.waczname+":";if(!t.signedData||t.signedData.hash!==r)return void await n.addVerifyData(i,"signature");await n.addVerifyData(i,"datapackageHash",r);const s=await Bw(t.signedData);return await n.addVerifyDataList(i,s),r}catch(e){console.warn(e)}}async loadPackage(e,t){const r=await this.loadTextFileFromWACZ(e,t),n=JSON.parse(r);switch(this.isRoot&&void 0!==n.config&&this.store.initConfig(n.config),n.profile){case"data-package":case"wacz-package":case void 0:case null:return await this.loadLeafWACZPackage(n);case"multi-wacz-package":return await this.loadMultiWACZPackage(n);default:throw new Error(`Unknown package profile: ${n.profile}`)}}async loadMultiWACZPackage(e){return this.file.markAsMultiWACZ(),await this.store.loadWACZFiles(e,this.file),e}async loadLeafWACZPackage(e){const t=e.metadata||{};let r=null;for(const t of e.resources)t.path===Ow?(r=t.hash,await this.store.addVerifyData(this.waczname,t.path,t.hash)):(t.path.endsWith(".idx")||t.path.endsWith(".cdx"))&&await this.store.addVerifyData(this.waczname,t.path,t.hash);if(this.file.containsFile(Ow)){(await this.loadPages(Ow,r)).hasText&&(this.store.textIndex=t.textIndex=Ow)}return this.file.containsFile(Dw)&&(this.store.textIndex=t.textIndex=Dw),t}async loadOldPackageYAML(e){const t=await this.loadTextFileFromWACZ(e),r=Jo.load(t),n={desc:r.desc,title:r.title};r.textIndex&&(n.textIndex=r.textIndex,r.config||(r.config={}),r.config.textIndex=r.textIndex),this.isRoot&&void 0!==r.config&&this.store.initConfig(r.config),n.title||(n.title=this.store.config.sourceName);const i=r.pages||[];i&&i.length&&await this.store.addPages(i);const s=r.pageLists||[];return s&&s.length&&await this.store.addCuratedPageLists(s,"pages","show"),n}async loadPages(e=Ow,t=null){const{reader:r,hasher:n}=await this.loadFileFromWACZ(e,{unzip:!0,computeHash:!0});let i=null,s=[];for await(const e of r.iterLines()){const t=JSON.parse(e);this.waczname&&(t.wacz=this.waczname),i?(s.push(t),500===s.length&&(await this.store.addPages(s),s=[])):i=t}return s.length&&await this.store.addPages(s),n&&t&&await this.store.addVerifyData(this.waczname,e,t,n.getHash()),i}}class Fw{constructor(e,t,r=null){this.loader=e,this.loadId=r,this.loadUrl=t.loadUrl}async load(e){e.fullConfig&&this.loader.arrayBuffer&&this.loader.arrayBuffer.byteLength<=u&&(e.fullConfig.extra||(e.fullConfig.extra={}),e.fullConfig.extra.arrayBuffer=this.loader.arrayBuffer);const t=this.loadUrl,r=this.loader;return await e.addNewWACZ({name:"default",path:t,loader:r})}}class Hw{constructor(e,t,r=null){this.config=t,this.loadId=r,this.loader=e}async load(e,t=null,r=0){const n=new Ki({loader:this.loader});await n.init();const i=n.zipreader,s=new Mw(e,n),o=await s.load();let a=0;const c=(e,n,i)=>{i+=a,t&&r&&t(Math.round(100*i/r),null,i,r)};for(const t of n.iterContainedFiles()){const r=i.getCompressedSize(t);(t.endsWith(".warc.gz")||t.endsWith(".warc"))&&await this.loadWARC(e,i,t,c,r),a+=r}return o||{}}async loadWARC(e,t,r,n,i){const{reader:s}=await t.loadFile(r,{unzip:!0}),o=new hn(s,null,r);return o.detectPages=!1,await o.load(e,n,i)}}class jw{constructor(e){this.response=e}async load(e){return await e.loadFromJSON(this.response)}}class zw{constructor(e,{cloneResponse:t=!1,allowBody:r=!1,hostProxyOnly:n=!1}={}){if(e=e||{},this.prefix=e.prefix||"",this.proxyPathOnly=e.proxyPathOnly||!1,this.isLive=void 0===e.isLive||e.isLive,this.archivePrefix=e.archivePrefix||"",this.cloneResponse=t,this.allowBody=r,this.hostProxy=e.hostProxy,this.hostProxy instanceof Array){const e={};for(const t of this.hostProxy)e[t.host]=t;this.hostProxy=e}this.hostProxyOnly=n}async getAllPages(){return[]}getFetchUrl(e,t,r){let n;if(this.hostProxy){n=new URL(e);const t=this.hostProxy[n.host];if(t)return r.set("X-Proxy-Host",n.host),t.prefix+(t.pathOnly?n.pathname+n.search:e)}return this.hostProxyOnly?null:this.proxyPathOnly?(n||(n=new URL(e)),this.prefix+n.pathname+n.search):this.isLive||!t.timestamp?this.prefix+e:this.prefix+this.archivePrefix+t.timestamp+"id_/"+e}async getResource(e,t){const{headers:r,credentials:n,url:i}=e.prepareProxyRequest(t,!0),s=this.getFetchUrl(i,e,r);if(!s)return null;let o=null;!this.allowBody||"POST"!==e.method&&"PUT"!==e.method||(o=await e.getBody());const a=await fetch(s,{method:e.method,body:o,headers:r,credentials:n,mode:"cors",redirect:"follow"});let c=null;this.cloneResponse&&(c=a.clone());const l=Se.fromResponse({url:i,response:a,date:new Date,noRW:!1,isLive:this.isLive});return c&&(l.clonedResponse=c),l}}const Ww=/^([\w-]+,)*[\w-]+(:\d+)?,?\)\//;class Gw extends ci{constructor(e,t,r="wacz"){super(e.dbname,e.noCache),this.config=e,this.waczfiles={},this.waczNameForHash={},this.ziploadercache={},this.updating=null,this.rootSourceType=r,this.sourceLoader=t,this.externalSource=null,this.fuzzyUrlRules=[],this.textIndex=e&&e.metadata&&e.metadata.textIndex||Dw,e.extraConfig&&this.initConfig(e.extraConfig)}initConfig(e){if(void 0!==e.decodeResponses&&(this.config.decode=e.decodeResponses),e.hostProxy&&(this.externalSource=new zw(e,{hostProxyOnly:!0})),e.fuzzy)for(const[t,r]of e.fuzzy){const e=new RegExp(t);this.fuzzyUrlRules.push({match:e,replace:r})}e.textIndex&&(this.textIndex=e.textIndex)}updateHeaders(e){this.sourceLoader&&(this.sourceLoader.headers=e)}_initDB(e,t,r,n){super._initDB(e,t,r,n),t||(e.createObjectStore("ziplines",{keyPath:["waczname","prefix"]}),e.createObjectStore("waczfiles",{keyPath:"waczname"}),e.createObjectStore("verification",{keyPath:"id"})),2===t&&this.convertV2WACZDB(e,n),3===t&&e.createObjectStore("verification",{keyPath:"id"})}async convertV2WACZDB(e,t){try{const r=await t.objectStore("ziplines").getAll(),n=await t.objectStore("zipEntries").getAll();e.deleteObjectStore("ziplines"),e.deleteObjectStore("zipEntries"),e.createObjectStore("ziplines",{keyPath:["waczname","prefix"]}),e.createObjectStore("waczfiles",{keyPath:"waczname"}),e.createObjectStore("verification",{keyPath:"id"});const i=this.config.loadUrl;for(const e of r)e.waczname=i,t.objectStore("ziplines").put(e);const s=r.length>0?2:1,o=await this.computeHash(i),a=new Ki({waczname:i,hash:o,url:i,entries:n,indexType:s});t.objectStore("waczfiles").put(a.serialize()),await t.done}catch(e){console.warn(e)}}addWACZFile(e){return this.waczfiles[e.waczname]=new Ki(e),this.waczNameForHash[e.hash]=e.waczname,this.waczfiles[e.waczname]}async init(){await super.init();const e=await this.db.getAll("waczfiles")||[];for(const t of e)this.addWACZFile({...t,parent:this});for(const[e,t]of Object.entries(this.waczfiles)){t.path=t.path||e;const r=t.path.lastIndexOf("#!/");if(r>0){const e=t.path.slice(0,r),n=this.waczfiles[e];t.parent=n}else"json"!==this.rootSourceType&&(t.loader=this.sourceLoader)}await this.checkUpdates()}async close(){super.close(),caches.delete("cache:"+this.name.slice("db:".length))}async clearZipData(){const e=["waczfiles","ziplines"];for(const t of e)await this.db.clear(t)}async addVerifyData(e="",t,r,n,i=!1){let s=null;e&&(t=e+t),n&&(s=r===n,i&&console.log(`verify ${t}: ${s}`)),await this.db.put("verification",{id:t,expected:r,matched:s})}async addVerifyDataList(e,t){const r=this.db.transaction("verification","readwrite");for(const n of t)e&&(n.id=e+n.id),r.store.put(n);try{await r.done}catch(e){console.warn(e)}}async getVerifyInfo(){const e=await this.db.getAll("verification");let t=0,r=0,n={};const i=["domain","created","certFingerprint","software","datapackageHash","publicKey"];for(const s of e)i.includes(s.id)?n[s.id]=s.expected:"signature"===s.id||!0===s.matched?t++:!1===s.matched&&r++;return n.numInvalid=r,n.numValid=t,n}async getVerifyExpected(e){const t=await this.db.get("verification",e);return t&&t.expected}async clearAll(){await super.clearAll(),await this.clearZipData()}async loadRecordFromSource(e){const{start:t,length:r,path:n,wacz:i}=e.source,s={offset:t,length:r,unzip:!0,computeHash:!0},o=i,{reader:a,hasher:c}=await this.loadFileFromNamedWACZ(o,"archive/"+n,s),l=new dn(a,c);await this.waczfiles[o].save(this.db);const u=await l.load();return e[gi]&&(u.respHeaders["x-wabac-preset-cookie"]=e[gi]),{remote:u,hasher:c}}async loadIndex(e){if(!this.waczfiles[e])throw new Error("unknown waczfile: "+e);if(this.waczfiles[e].indexType)return{indexType:this.waczfiles[e].indexType,isNew:!1};let t=0;for(const r of this.waczfiles[e].iterContainedFiles())r.endsWith(".cdx")||r.endsWith(".cdxj")?(console.log(`Loading CDX for ${e}`),await this.loadCDX(r,e),t=1):r.endsWith(".idx")&&(console.log(`Loading IDX for ${e}`),await this.loadIDX(r,e),t=2);return this.waczfiles[e].indexType=t,await this.waczfiles[e].save(this.db,!0),{indexType:t,isNew:!0}}async loadCDX(e,t,r,n){const{reader:i,hasher:s}=await this.loadFileFromNamedWACZ(t,e,{computeHash:!0}),o=new wi(i,null,t,{wacz:t}),a=await o.load(this,r,n);if(s){const r=await this.getVerifyExpected(e);r&&this.addVerifyData(t,e,r,s.getHash())}return a}async loadIDX(e,t,r,n){const{reader:i,hasher:s}=await this.loadFileFromNamedWACZ(t,e,{computeHash:!0});let o=[],a="",c=!0,l=0;for await(const e of i.iterLines()){if(l+=e.length,l===e.length&&e.startsWith("!meta")){const t=e.indexOf(" {");if(t<0){console.warn("Invalid Meta Line: "+e);continue}const r=JSON.parse(e.slice(t));r.filename&&(a=r.filename),"cdxj-gzip-1.0"!==r.format&&console.log(`Unknown CDXJ format "${r.format}", archive may not parse correctly`);continue}let i;if(e.indexOf("\t")>0){let[r,n,s,o]=e.split("\t");s=Number(s),o=Number(o),i={waczname:t,prefix:r,filename:n,offset:s,length:o,loaded:!1},c=!1}else{const r=e.indexOf(" {");if(r<0){console.log("Invalid Index Line: "+e);continue}const n=e.slice(0,r);let{offset:s,length:o,filename:l,digest:u}=JSON.parse(e.slice(r));c=c&&!Ww.test(n),l=l||a,i={waczname:t,prefix:n,filename:l,offset:s,length:o,digest:u,loaded:!1}}r&&r(l/n,l,n),o.push(i)}if(s){const r=await this.getVerifyExpected(e);r&&this.addVerifyData(t,e,r,s.getHash())}const u=this.db.transaction("ziplines","readwrite");for(const e of o)u.store.put(e);try{await u.done}catch(e){console.log("Error loading ziplines index: ",e)}c&&c!==this.waczfiles[t].nonSurt&&(this.waczfiles[t].nonSurt=c,await this.waczfiles[t].save(this.db,!0))}async loadCDXFromIDX(e,t,r=0,n=!1){const i=this.waczfiles[e].nonSurt?t:j(t),s=n?this.prefixUpperBound(i):i+" 9999",o=IDBKeyRange.upperBound([e,s],!0),a=this.db.transaction("ziplines","readonly"),c=[];for await(const t of a.store.iterate(o,"prev")){if(t.value.waczname!==e)break;if(c.unshift(t.value),!t.value.prefix.split(" ")[0].startsWith(i))break}await a.done;const l=[];c.length>3&&r&&c.sort(((e,t)=>{const n=e.prefix.split(" ")[1],i=t.prefix.split(" ")[1];if(!n||!i)return 0;const s=Math.abs(y(n).getTime()-r),o=Math.abs(y(i).getTime()-r);return s===o?0:s<o?-1:1}));let u=0;for(const t of c){if(t.loaded)continue;const r=e+":"+t.filename+":"+t.offset;let n=this.ziploadercache[r];if(n||(n=this.doCDXLoad(r,t,e),this.ziploadercache[r]=n),l.push(n),++u>3)break}return l.length&&await Promise.allSettled(l),await this.waczfiles[e].save(this.db),l.length>0}async doCDXLoad(e,t,r){try{const n="indexes/"+t.filename,i={offset:t.offset,length:t.length,unzip:!0,computeHash:!!t.digest},{reader:s,hasher:o}=await this.loadFileFromNamedWACZ(r,n,i),a=new wi(s,null,null,{wacz:r});if(await a.load(this),o){const e=o.getHash(),i=`${n}:${t.offset}-${t.length}`;await this.addVerifyData(r,i,t.digest,e)}t.loaded=!0,await this.db.put("ziplines",t)}catch(e){await C(e,this.config)||console.warn(e)}finally{delete this.ziploadercache[e]}}async findPageAtUrl(e,t){const r=await this.db.getAllFromIndex("pages","url",e);let n=null,i=Number.MAX_SAFE_INTEGER;for(const e of r){const r=Math.abs(e.ts-t);if(r<1e3)return e;r<i&&(n=e,i=r)}return n}async lookupUrl(e,t,r={}){try{let n=await super.lookupUrl(e,t,r);if(n&&(!r.noRevisits||"warc/revisit"!==n.mime))return n;const{waczname:i}=r;return i&&"local"!==i&&(n=await this.lookupUrlForWACZ(i,e,t,r)),n}catch(e){return console.warn(e),null}}async lookupUrlForWACZ(e,t,r,n){const{indexType:i,isNew:s}=await this.loadIndex(e);switch(i){case 2:if(!await this.loadCDXFromIDX(e,t,r,!1))return null;break;case 1:if(!s)return null;break;default:return null}return await super.lookupUrl(t,r,n)}async resourcesByUrlAndMime(e,...t){let r=await super.resourcesByUrlAndMime(e,...t);if(r.length>0)return r;for(const n of Object.keys(this.waczfiles))if(n&&"local"!==n){const{indexType:i,isNew:s}=await this.loadIndex(n);switch(i){case 2:if(!await this.loadCDXFromIDX(n,e,0,!0))continue;break;case 1:if(!s)continue;break;default:continue}const o=await super.resourcesByUrlAndMime(e,...t);o&&o.length&&(r=r.concat(o))}return r}async loadFileFromWACZ(e,t,r){try{return await e.loadFile(t,r)}catch(n){if(await this.retryLoad(n))return await e.loadFile(t,r);throw n}}async loadFileFromNamedWACZ(e,t,r){const n=this.waczfiles[e];if(!n)throw new Error("No WACZ Found for: "+e);return await this.loadFileFromWACZ(n,t,r)}async addNewWACZ({name:e,hash:t,path:r,parent:n=null,loader:i=null}={}){const s=e||r;t?t.indexOf(":")>0&&(t=t.split(":")[1]):t=await m(s,"sha-256","");const o=this.addWACZFile({waczname:s,hash:t,path:r,parent:n,loader:i},!0);await o.init(),await o.save(this.db,!0);const a=new Mw(this,o,!n);return await a.load()}async loadWACZFiles(e,t=this){const r=[],n=async(e,t)=>{await this.waczfiles[e].init(t),await this.waczfiles[e].save(this.db,!0)},i=e.resources.map((e=>{const r=t.getLoadPath(e.path);return{name:t.getName(e.name),hash:e.hash,path:r}}));for(const{name:e,hash:s,path:o}of i)this.waczfiles[e]?this.waczfiles[e].path!==o&&r.push(n(e,o)):r.push(this.addNewWACZ({name:e,hash:s,path:o,parent:t}));r.length&&await Promise.allSettled(r)}async getTextIndex(){const e={"Content-Type":"application/ndjson"},t=Object.keys(this.waczfiles);if(!this.textIndex||!t.length)return new Response("",{headers:e});if(1===t.length){const r=t[0];let n;try{n=await this.loadFileFromNamedWACZ(r,this.textIndex,{unzip:!0})}catch(t){return new Response("",{headers:e})}const{reader:i}=n,s=this.waczfiles[r].getSizeOf(this.textIndex);return s>0&&(e["Content-Length"]=""+s),new Response(i.getReadableStream(),{headers:e})}{const r=[];for(const e of t)try{const{reader:t}=await this.loadFileFromNamedWACZ(e,this.textIndex,{unzip:!0});t&&r.push(t)}catch(e){continue}const n=new ReadableStream({async pull(e){for(const t of r)for await(const r of t)e.enqueue(r);e.close()}});return new Response(n,{headers:e})}}async getResource(e,t,r,{pageId:n}={}){if(await this.initing,this.externalSource){const n=await this.externalSource.getResource(e,t,r);if(n)return n}const i="navigate"===r.request.mode;let s=n,o=null,a=null;if(s){if(o=this.waczNameForHash[s],!o)return null;a=await super.getResource(e,t,r,{waczname:o})}if(a||!i)return a;let c=null;for(const[n,i]of Object.entries(this.waczfiles))if(i.fileType===Qi&&(a=await super.getResource(e,t,r,{waczname:n,noFuzzyCheck:!0}),a)){o=n,c=i.hash;break}if(o)return Response.redirect(`${t}:${c}/${e.timestamp}mp_/${e.url}`);if(this.fuzzyUrlRules.length)for(const{match:n,replace:i}of this.fuzzyUrlRules){const s=decodeURIComponent(e.url.replace(n,i));if(s&&s!==e.url){e.url=s;const n=await super.getResource(e,t,r);if(n)return n}}return null}async retryLoad(e){return"json"===this.rootSourceType&&(e instanceof B?(this.updating||(this.updating=this.checkUpdates()),await this.updating,this.updating=null,!0):await C(e,this.config))}async checkUpdates(){"json"===this.rootSourceType&&await this.loadFromJSON()}async loadFromJSON(e=null){if(!e){e=(await this.sourceLoader.doInitialFetch(!1)).response}if(206!==e.status&&200!==e.status)return console.warn("WACZ update failed from: "+this.config.loadUrl),{};const t=await e.json();return t.profile,await this.loadWACZFiles(t),t}getLoadPath(e){return new URL(e,this.config.loadUrl).href}getName(e){return e}async createLoader(e){return await $n(e)}}class qw{constructor(e){const t=e.extraConfig||{};this.sourceUrl=t.prefix,this.type=t.sourceType||"kiwix",this.notFoundPageUrl=t.notFoundPageUrl}async getAllPages(){return[]}async getResource(e,t){const{url:r,headers:n}=e.prepareProxyRequest(t);let i=n;if("kiwix"===this.type){let t=await this.resolveHeaders(r);if(!t)for(const e of nn.getFuzzyCanonsWithArgs(r))if(e!==r&&(t=await this.resolveHeaders(e),t))break;if(!t){if(this.notFoundPageUrl&&"navigate"===e.mode){const e=await fetch(this.notFoundPageUrl);if(200===e.status){const t={"Content-Type":"text/html"},n=await e.text();return new Response(n.replace("$URL",r),{status:404,headers:t})}}return null}let{headers:n,encodedUrl:s,date:o,status:a,statusText:c,hasPayload:l}=t;if(i.has("Range")){const e=i.get("Range");i={Range:e}}let u=null,h=null;l&&(h=await fetch(this.sourceUrl+"A/"+s,{headers:i}),h.body&&(u=new X(h.body.getReader(),!1)),206===h.status&&(a=206,c="Partial Content",n.set("Content-Length",h.headers.get("Content-Length")),n.set("Content-Range",h.headers.get("Content-Range")),n.set("Accept-Ranges","bytes"))),u||(u=new Uint8Array([])),o||(o=new Date),n||(n=new Headers);return new Se({payload:u,status:a,statusText:c,headers:n,url:r,date:o,noRW:!1,isLive:!1})}}async resolveHeaders(e){const t=e.slice(e.indexOf("//")+2);let r=encodeURI(t);r=encodeURIComponent(t);let n=await fetch(this.sourceUrl+"H/"+r);if(200!==n.status)return null;let i=null,s=null,o=null,a=null,c=!1;try{const t=await he.parse(n.body);if("revisit"===t.warcType){const r=t.warcHeaders.headers.get("WARC-Refers-To-Target-URI");if(r&&r!==e)return await this.resolveHeaders(r)}s=new Date(t.warcDate),t.httpHeaders?(i=t.httpHeaders.headers,o=Number(t.httpHeaders.statusCode),a=t.httpHeaders.statusText,c="0"!==t.httpHeaders.headers.get("Content-Length")):"resource"===t.warcType&&(i=new Headers,i.set("Content-Type",t.warcContentType),i.set("Content-Length",t.warcContentLength),o=200,a="OK",c=t.warcContentLength>0),o||(o=200)}catch(t){console.warn(t),console.warn("Ignoring headers, error parsing headers response for: "+e)}return{encodedUrl:r,headers:i,date:s,status:o,statusText:a,hasPayload:c}}}const Qw=Yw([80,75,3,4]),Vw=Yw([31,139,8]),Kw=Yw([87,65,82,67]);function Yw(e){return t=>{for(const[r,n]of e.entries())if(n!==t[r])return!1;return!0}}async function Jw(e){const t=e.body.getReader();let r="";const{value:n,done:i}=await t.read();var s;return!i&&n.length>=4&&(s=n.slice(0,4),r=Qw(s)?".wacz":Kw(s)?".warc":Vw(s)?".warc.gz":void 0,r||(r=function(e){try{const t=(new TextDecoder).decode(e).split("\n");if(t>1&&t.indexOf(" {"))return".cdxj"}catch(e){return""}}(n))),i||t.cancel(),r}globalThis.self||(globalThis.self=globalThis),self.interruptLoads={};class Xw{constructor(){this.colldb=null,this.root=null,this.checkIpfs=!0,this._init_db=this._initDB()}async _initDB(){this.colldb=await Fr("collDB",1,{upgrade:e=>{e.createObjectStore("colls",{keyPath:"name"}).createIndex("type","type")}})}async loadAll(e){if(await this._init_db,e)for(const t of e.split(",")){const e=t.split(":");if(2===e.length){const t={dbname:e[1],sourceName:e[1],decode:!1},r={name:e[0],type:"archive",config:t};console.log("Adding Coll: "+JSON.stringify(r)),await this.colldb.put("colls",r)}}try{const e=(await this.listAll()).map((e=>this._initColl(e)));await Promise.all(e)}catch(e){console.warn(e.toString())}return!0}async listAll(){return await this._init_db,await this.colldb.getAll("colls")}async loadColl(e){await this._init_db;const t=await this.colldb.get("colls",e);return t?await this._initColl(t):null}async reload(e){return this.loadColl(e)}async deleteColl(e){await this._init_db;const t=await this.colldb.get("colls",e);if(!t)return!1;if(t.config.dbname)try{await Hr(t.config.dbname,{blocked(e,r){console.log(`Unable to delete ${t.config.dbname}, blocked: ${r}`)}})}catch(e){return console.warn(e),!1}return await this.colldb.delete("colls",e),!0}async updateAuth(e,t){await this._init_db;const r=await this.colldb.get("colls",e);return!!r&&(r.config.headers=t,await this.colldb.put("colls",r),!0)}async updateMetadata(e,t){await this._init_db;const r=await this.colldb.get("colls",e);return!!r&&(r.config.metadata={...r.config.metadata,...t},await this.colldb.put("colls",r),r.config.metadata)}async updateSize(e,t,r,n){await this._init_db;const i=await this.colldb.get("colls",e);if(!i)return!1;const s=i.config.metadata;return s.fullSize=(s.fullSize||0)+t,s.size=(s.size||0)+r,s.mtime=(new Date).getTime(),void 0!==n&&(i.config.decode=n),await this.colldb.put("colls",i),s}async initNewColl(e,t={},r="archive"){await this._init_db;const n=E(),i="local://"+n,s={name:n,type:r,config:{dbname:"db:"+n,ctime:(new Date).getTime(),decode:!1,metadata:e,sourceUrl:i,extraConfig:t}},o=await this._initColl(s);return await this.colldb.put("colls",s),o}async _initColl(e){const t=await this._initStore(e.type,e.config),r=e.name,n=e.config;return e.config.root&&!this.root&&(this.root=r),this._createCollection({name:r,store:t,config:n})}async _initStore(e,t){let r=null,n=null;switch(e){case"archive":n=new an(t.dbname);break;case"remotesource":r=await $n({url:t.loadUrl,headers:t.headers,size:t.size,extra:t.extra}),n=new li(t.dbname,r,t.noCache);break;case"remoteprefix":n=new ui(t.dbname,t.remotePrefix,t.headers,t.noCache);break;case"wacz":case"remotezip":case"multiwacz":r=await $n({url:t.loadUrl||t.sourceUrl,headers:t.headers,extra:t.extra}),n=new Gw(t,r,"multiwacz"===e?"json":"wacz");break;case"remotewarcproxy":n=new qw(t);break;case"live":n=new zw(t.extraConfig)}return n?(n.initing&&await n.initing,n):(console.log("no store found: "+e),null)}_createCollection(e){return e}}class Zw extends Xw{constructor(e){super(),this.registerListener(e)}async hasCollection(e){return await this._init_db,null!=await this.colldb.getKey("colls",e)}registerListener(e){e.addEventListener("message",(e=>{e.waitUntil?e.waitUntil(this._handleMessage(e)):this._handleMessage(e)}))}async _handleMessage(e){await this._init_db;const t=e.source||self;switch(e.data.msg_type){case"addColl":{const r=e.data.name,n=(e,n,i,s,o=null,a=null)=>{t.postMessage({msg_type:"collProgress",name:r,percent:e,error:n,currentSize:i,totalSize:s,fileHandle:o,extraMsg:a})};let i;try{if(i=await this.colldb.get("colls",r),i?e.data.skipExisting||(await this.deleteColl(r),i=await this.addCollection(e.data,n)):i=await this.addCollection(e.data,n),!i){if(e.data.name)try{await Hr("db:"+e.data.name,{blocked(t,r){console.log(`Load failed and unable to delete ${e.data.name}: ${r}`)}})}catch(e){console.warn(e)}return}}catch(e){if(e instanceof N)return console.warn(e),void n(0,"permission_needed",null,null,e.info&&e.info.fileHandle);if("ConstraintError"!==e.name)return console.warn(e),void n(0,"An unexpected error occured: "+e.toString());console.log("already being added, just continue..."),i=await this.colldb.get("colls",r)}t.postMessage({msg_type:"collAdded",name:r,sourceUrl:i.config.sourceUrl});break}case"cancelLoad":{const t=e.data.name,r=new Promise((e=>self.interruptLoads[t]=e));await r,await this.deleteColl(t),delete self.interruptLoads[t];break}case"removeColl":{const r=e.data.name;await this.hasCollection(r)&&(await this.deleteColl(r),this.doListAll(t));break}case"listAll":this.doListAll(t);break;case"reload":this.reload(e.data.name)}}async doListAll(e){const t=[],r=await this.listAll();for(const e of r)t.push({name:e.name,prefix:e.name,pageList:[],sourceName:e.config.sourceName});e.postMessage({msg_type:"listAll",colls:t})}async addCollection(e,t){let r=e.name,n=null,i={root:e.root||!1},s=null,o=null;const a=e.file;if(!a||!a.sourceUrl)return t(0,"Invalid Load Request"),!1;if(i.dbname="db:"+r,a.sourceUrl.startsWith("proxy:"))i.sourceUrl=a.sourceUrl.slice("proxy:".length),i.extraConfig=e.extraConfig,i.extraConfig.prefix||(i.extraConfig.prefix=i.sourceUrl),i.topTemplateUrl=e.topTemplateUrl,i.metadata={},n=e.type||i.extraConfig.type||"remotewarcproxy",s=await this._initStore(n,i);else{let c=null;if(a.newFullImport&&(r=E(),a.loadUrl=a.loadUrl||a.sourceUrl,a.name=a.name||a.sourceUrl,a.sourceUrl="local://"+r),n="archive",a.newFullImport&&a.importCollId){const e=await this.colldb.get("colls",a.importCollId);if(!e||"archive"!==e.type)return void t(0,"Invalid Existing Collection: "+a.importCollId);i.dbname=e.config.dbname,o=e.config,o.decode=!0}let l=a.loadUrl||a.sourceUrl;l.match(/[\w]+:\/\//)||(l=new URL(l,self.location.href).href),i.decode=!0,i.onDemand=!1,i.loadUrl=l,i.sourceUrl=a.sourceUrl,i.sourceName=a.name||a.sourceUrl;try{if(i.sourceName.match(/https?:\/\//)){const e=new URL(i.sourceName);i.sourceName=e.pathname+e.hash}}catch(e){}if(i.sourceName=i.sourceName.slice(i.sourceName.lastIndexOf("/")+1),i.size="number"==typeof a.size?a.size:null,i.extra=a.extra,i.loadUrl.startsWith("file://")&&!a.blob&&!i.extra){if(!this._fileHandles||!this._fileHandles[i.sourceUrl])return void t(0,"missing_local_file");i.extra={fileHandle:this._fileHandles[i.sourceUrl]}}i.extraConfig=e.extraConfig,i.headers=a.headers||i.extraConfig&&i.extraConfig.headers,i.noCache=a.noCache;let h=await $n({url:l,headers:i.headers,size:a.size,extra:i.extra,blob:a.blob});if(a.loadEager){const{response:e}=await h.doInitialFetch(!1,!0),t={arrayBuffer:new Uint8Array(await e.arrayBuffer())};a.newFullImport=!0,h=await $n({url:l,headers:i.headers,size:a.size,extra:t})}let d=function(e){const t=[".warc",".warc.gz",".cdx",".cdxj",".har",".json",".wacz",".zip"];for(const r of t)if(e.endsWith(r))return r;return""}(i.sourceName),{abort:f,response:p}=await h.doInitialFetch(".wacz"===d);d||(d=await Jw(await p.clone()));const g=p.body;if(i.onDemand=h.canLoadOnDemand&&!a.newFullImport,!h.isValid){const e=h.length<=1e3?await p.text():"";return t(0,`Sorry, this URL could not be loaded.\nMake sure this is a valid URL and you have access to this file.\nStatus: ${p.status} ${p.statusText}\nError Details:\n${e}`),f&&f.abort(),!1}if(!h.length)return t(0,"Sorry, this URL could not be loaded because the size of the file is not accessible.\nMake sure this is a valid URL and you have access to this file."),f&&f.abort(),!1;const y=h.length;if(".wacz"===d)if(i.onDemand)c=new Fw(h,i,r),s=new Gw(i,h,"wacz"),n="wacz";else{if(!h.canLoadOnDemand||!a.newFullImport)return t(0,"Sorry, can't load this WACZ file due to lack of range request support on the server"),f&&f.abort(),!1;c=new Hw(h,i,r),s=null,delete i.extra}else".warc"===d||".warc.gz"===d?i.noCache||!(y<u)&&i.onDemand?(c=new yi(g,f,r),n="remotesource",s=new li(i.dbname,h,i.noCache)):c=new hn(g,f,r):".cdx"===d||".cdxj"===d?(i.remotePrefix=e.remotePrefix||l.slice(0,l.lastIndexOf("/")+1),c=new wi(g,f,r),n="remoteprefix",s=new ui(i.dbname,i.remotePrefix,i.headers,i.noCache)):".har"===d?(c=new pi(await p.json()),i.decode=!1):".json"===d&&(s=new Gw(i,h,"json"),c=new jw(p),n="multiwacz");if(!c)return t(0,`The ${i.sourceName} is not a known archive format that could be loaded.`),f&&f.abort(),!1;s||(s=new an(i.dbname)),await s.initing;try{i.metadata=await c.load(s,t,y)}catch(e){return e instanceof O||(t(0,`Unexpected Loading Error: ${e.toString()}`),console.warn(e)),!1}if(o)return await this.updateSize(a.importCollId,y,y,o.decode),{config:o};i.metadata.size||(i.metadata.size=y),i.metadata.title||(i.metadata.title=i.sourceName)}i.ctime=(new Date).getTime(),this._fileHandles&&i.extra&&i.extra.fileHandle&&delete this._fileHandles[i.sourceUrl];const c={name:r,type:n,config:i};return await this.colldb.add("colls",c),c.store=s,c}}class $w{constructor(){this.timeRanges={}}updateStats(e,t,r,n){const i=n.clientId||n.resultingClientId;if(!i||!e)return;if(!r.url||r.url.indexOf("mp_/")<0)return;if("document"===r.destination&&t>300&&t<400)return;let s=null;void 0===this.timeRanges[i]?(s={count:0,children:[]},this.timeRanges[i]=s,r.referrer.indexOf("mp_/")>0&&self.clients.matchAll({type:"window"}).then((e=>this.updateStatsParent(i,r.referrer,e)))):s=this.timeRanges[i];const o=e.getTime();(!s.min||o<s.min)&&(s.min=o),(!s.max||o>s.max)&&(s.max=o),s.count++}updateStatsParent(e,t,r){for(let n of r)if(n.url===t){this.timeRanges[n.id]?this.timeRanges[n.id].children[e]=1:this.timeRanges[n.id]={count:0,children:{id:1}};break}}async getStats(e){const t=new URL(e.request.url);let r=0;const n=new URLSearchParams(t.search).get("url"),i=await self.clients.matchAll({type:"window"}),s={};for(let e of i)e.url===n&&(r=e.id),s[e.id]=1;const o=this.timeRanges[r]||{},a={count:o.count||0,min:o.min,max:o.max},c=this.timeRanges[r]&&Object.keys(this.timeRanges[r].children)||[];for(let e of c){const t=this.timeRanges[e];t&&((!a.min||t.min<a.min)&&(a.min=t.min),(!a.max||t.max>a.max)&&(a.max=t.max),a.count+=t.count)}for(let e of Object.keys(this.timeRanges))s[e]||delete this.timeRanges[e];return new Response(JSON.stringify(a),{headers:{"Content-Type":"application/json"}})}}var em=function(){return em=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},em.apply(this,arguments)};var tm=function(e){return void 0===e&&(e={}),{arrayFormat:e.arrayFormat||"none",booleanFormat:e.booleanFormat||"none",nullFormat:e.nullFormat||"default"}},rm=function(e){return encodeURIComponent(e)},nm=function(e){return decodeURIComponent(e)},im=function(e,t,r){return null===t?function(e,t){return"hidden"===t.nullFormat?"":"string"===t.nullFormat?e+"=null":e}(e,r):"boolean"==typeof t?function(e,t,r){return"empty-true"===r.booleanFormat&&t?e:e+"="+("unicode"===r.booleanFormat?t?"":"":t.toString())}(e,t,r):Array.isArray(t)?function(e,t,r){var n=function(e){return"index"===e.arrayFormat?function(e,t){return e+"["+t+"]"}:"brackets"===e.arrayFormat?function(e){return e+"[]"}:function(e){return e}}(r);return t.map((function(t,r){return n(e,r)+"="+rm(t)})).join("&")}(e,t,r):e+"="+rm(t)},sm=function(e){var t=e.indexOf("?");return-1===t?e:e.slice(t+1)},om=function(e){var t=e.indexOf("["),r=-1!==t;return{hasBrackets:r,name:r?e.slice(0,t):e}},am=function(e,t){var r=tm(t);return sm(e).split("&").reduce((function(e,t){var n=t.split("="),i=n[0],s=n[1],o=om(i),a=o.hasBrackets,c=o.name,l=e[c],u=function(e,t){if(void 0===e)return"empty-true"===t.booleanFormat||null;if("string"===t.booleanFormat){if("true"===e)return!0;if("false"===e)return!1}if("unicode"===t.booleanFormat){if(""===nm(e))return!0;if(""===nm(e))return!1}return"string"===t.nullFormat&&"null"===e?null:nm(e)}(s,r);return e[c]=void 0===l?a?[u]:u:(Array.isArray(l)?l:[l]).concat(u),e}),{})},cm=/[^!$'()*+,;|:]/g,lm=function(e){return e.replace(cm,(function(e){return encodeURIComponent(e)}))},um={default:lm,uri:encodeURI,uriComponent:encodeURIComponent,none:function(e){return e},legacy:encodeURI},hm={default:decodeURIComponent,uri:decodeURI,uriComponent:decodeURIComponent,none:function(e){return e},legacy:decodeURIComponent},dm=function(e,t,r){var n=um[t]||lm;return r?String(e).split("/").map(n).join("/"):n(String(e))},fm=function(e){return"("+(e?e.replace(/(^<|>$)/g,""):"[a-zA-Z0-9-_.~%':|=+\\*@$]+")+")"},pm=[{name:"url-parameter",pattern:/^:([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})(<(.+?)>)?/,regex:function(e){return new RegExp(fm(e[2]))}},{name:"url-parameter-splat",pattern:/^\*([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})/,regex:/([^?]*)/},{name:"url-parameter-matrix",pattern:/^;([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})(<(.+?)>)?/,regex:function(e){return new RegExp(";"+e[1]+"="+fm(e[2]))}},{name:"query-parameter",pattern:/^(?:\?|&)(?::)?([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})/},{name:"delimiter",pattern:/^(\/|\?)/,regex:function(e){return new RegExp("\\"+e[0])}},{name:"sub-delimiter",pattern:/^(!|&|-|_|\.|;)/,regex:function(e){return new RegExp(e[0])}},{name:"fragment",pattern:/^([0-9a-zA-Z]+)/,regex:function(e){return new RegExp(e[0])}}],gm=function e(t,r){if(void 0===r&&(r=[]),!pm.some((function(n){var i=t.match(n.pattern);return!!i&&(r.push({type:n.name,match:i[0],val:i.slice(1,2),otherVal:i.slice(2),regex:n.regex instanceof Function?n.regex(i):n.regex}),i[0].length<t.length&&(r=e(t.substr(i[0].length),r)),!0)})))throw new Error("Could not parse path '"+t+"'");return r},ym=function(e){return null!=e},wm={urlParamsEncoding:"default"},mm=function(){function e(e,t){if(!e)throw new Error("Missing path in Path constructor");this.path=e,this.options=em(em({},wm),t),this.tokens=gm(e),this.hasUrlParams=this.tokens.filter((function(e){return/^url-parameter/.test(e.type)})).length>0,this.hasSpatParam=this.tokens.filter((function(e){return/splat$/.test(e.type)})).length>0,this.hasMatrixParams=this.tokens.filter((function(e){return/matrix$/.test(e.type)})).length>0,this.hasQueryParams=this.tokens.filter((function(e){return/^query-parameter/.test(e.type)})).length>0,this.spatParams=this.getParams("url-parameter-splat"),this.urlParams=this.getParams(/^url-parameter/),this.queryParams=this.getParams("query-parameter"),this.params=this.urlParams.concat(this.queryParams),this.source=this.tokens.filter((function(e){return void 0!==e.regex})).map((function(e){return e.regex.source})).join("")}return e.createPath=function(t,r){return new e(t,r)},e.prototype.isQueryParam=function(e){return-1!==this.queryParams.indexOf(e)},e.prototype.isSpatParam=function(e){return-1!==this.spatParams.indexOf(e)},e.prototype.test=function(e,t){var r=this,n=em(em({caseSensitive:!1,strictTrailingSlash:!1},this.options),t),i=function(e,t){return t||"\\/"===e?e:e.replace(/\\\/$/,"")+"(?:\\/)?"}(this.source,n.strictTrailingSlash),s=this.urlTest(e,i+(this.hasQueryParams?"(\\?.*$|$)":"$"),n.caseSensitive,n.urlParamsEncoding);if(!s||!this.hasQueryParams)return s;var o=am(e,n.queryParams),a=Object.keys(o).filter((function(e){return!r.isQueryParam(e)}));return 0===a.length?(Object.keys(o).forEach((function(e){return s[e]=o[e]})),s):null},e.prototype.partialTest=function(e,t){var r=this,n=em(em({caseSensitive:!1,delimited:!0},this.options),t),i=function(e,t){return t?/(\/)$/.test(e)?e:e+"(\\/|\\?|\\.|;|$)":e}(this.source,n.delimited),s=this.urlTest(e,i,n.caseSensitive,n.urlParamsEncoding);if(!s)return s;if(!this.hasQueryParams)return s;var o=am(e,n.queryParams);return Object.keys(o).filter((function(e){return r.isQueryParam(e)})).forEach((function(e){return function(e,t,r){void 0===r&&(r="");var n=e[t];return e[t]=void 0===n?r:Array.isArray(n)?n.concat(r):[n,r],e}(s,e,o[e])})),s},e.prototype.build=function(e,t){var r=this;void 0===e&&(e={});var n=em(em({ignoreConstraints:!1,ignoreSearch:!1,queryParams:{}},this.options),t),i=Object.keys(e).filter((function(e){return!r.isQueryParam(e)})).reduce((function(t,i){if(!ym(e[i]))return t;var s=e[i],o=r.isSpatParam(i);return"boolean"==typeof s?t[i]=s:Array.isArray(s)?t[i]=s.map((function(e){return dm(e,n.urlParamsEncoding,o)})):t[i]=dm(s,n.urlParamsEncoding,o),t}),{});if(this.urlParams.some((function(t){return!ym(e[t])}))){var s=this.urlParams.filter((function(t){return!ym(e[t])}));throw new Error("Cannot build path: '"+this.path+"' requires missing parameters { "+s.join(", ")+" }")}if(!n.ignoreConstraints){var o=this.tokens.filter((function(e){return/^url-parameter/.test(e.type)&&!/-splat$/.test(e.type)})).every((function(e){return new RegExp("^"+fm(e.otherVal[0])+"$").test(i[e.val])}));if(!o)throw new Error("Some parameters of '"+this.path+"' are of invalid format")}var a=this.tokens.filter((function(e){return!1===/^query-parameter/.test(e.type)})).map((function(e){return"url-parameter-matrix"===e.type?";"+e.val+"="+i[e.val[0]]:/^url-parameter/.test(e.type)?i[e.val[0]]:e.match})).join("");if(n.ignoreSearch)return a;var c=this.queryParams.filter((function(t){return-1!==Object.keys(e).indexOf(t)})).reduce((function(t,r){return t[r]=e[r],t}),{}),l=function(e,t){var r=tm(t);return Object.keys(e).filter((function(t){return function(e){return void 0!==e}(e[t])})).map((function(t){return im(t,e[t],r)})).filter(Boolean).join("&")}(c,n.queryParams);return l?a+"?"+l:a},e.prototype.getParams=function(e){var t=e instanceof RegExp?function(t){return e.test(t.type)}:function(t){return t.type===e};return this.tokens.filter(t).map((function(e){return e.val[0]}))},e.prototype.urlTest=function(e,t,r,n){var i=this,s=new RegExp("^"+t,r?"":"i"),o=e.match(s);return o?this.urlParams.length?o.slice(1,this.urlParams.length+1).reduce((function(e,t,r){return e[i.urlParams[r]]=(hm[n]||decodeURIComponent)(t),e}),{}):{}:null},e}();class bm{constructor(e){this.routes={};for(const[t,r]of Object.entries(e)){let e,n;r instanceof Array?(e=r[0],n=r[1]||"GET"):(e=r,n="GET"),this.routes[n]=this.routes[n]||{},this.routes[n][t]=new mm(e)}}match(e,t="GET"){for(const[r,n]of Object.entries(this.routes[t]||[])){const t=e.split("?",2),i=t[0],s=n.test(i);if(s)return s._route=r,s._query=new URLSearchParams(2===t.length?t[1]:""),s}return{_route:null}}}class Am{constructor(e){this.router=new bm(this.routes),this.collections=e}get routes(){return{index:"coll-index",coll:"c/:coll",urls:"c/:coll/urls",createColl:["c/create","POST"],deleteColl:["c/:coll","DELETE"],updateAuth:["c/:coll/updateAuth","POST"],updateMetadata:["c/:coll/metadata","POST"],curated:"c/:coll/curated/:list",pages:"c/:coll/pages",textIndex:"c/:coll/textIndex",deletePage:["c/:coll/page/:page","DELETE"]}}async apiResponse(e,t,r){const n=this.router.match(e,t.method),i=await this.handleApi(t,n,r);if(i instanceof Response)return i;const s=i.error?404:200;return this.makeResponse(i,s)}async handleApi(e,t){switch(t._route){case"index":return await this.listAll(t._query.get("filter"));case"createColl":{const t=await e.json();return x(await this.collections.initNewColl(t.metadata||{},t.extraConfig||{}))}case"coll":{const e=await this.collections.getColl(t.coll);if(!e)return{error:"collection_not_found"};const r=x(e);return"1"===t._query.get("all")?(e.store.db?(r.pages=await e.store.getAllPages(),r.lists=await e.store.db.getAll("pageLists"),r.curatedPages=await e.store.db.getAll("curatedPages")):(r.pages=[],r.lists=[],r.curatedPages=[]),r.verify=await e.store.getVerifyInfo()):(r.numLists=await e.store.db.count("pageLists"),r.numPages=await e.store.db.count("pages")),e.config.metadata.ipfsPins&&(r.ipfsPins=e.config.metadata.ipfsPins),r}case"deleteColl":{const e="1"===t._query.get("reload");return await this.collections.deleteColl(t.coll,e)?await this.listAll():{error:"collection_not_found"}}case"updateAuth":{const r=await e.json();return{success:await this.collections.updateAuth(t.coll,r.headers)}}case"updateMetadata":{const r=await e.json();return{metadata:await this.collections.updateMetadata(t.coll,r)}}case"urls":{const e=await this.collections.getColl(t.coll);if(!e)return{error:"collection_not_found"};const r=t._query.get("url"),n=Number(t._query.get("count")||100),i=t._query.get("mime"),s="1"===t._query.get("prefix"),o=t._query.get("fromUrl"),a=t._query.get("fromTs"),c=t._query.get("fromMime"),l=Number(t._query.get("fromStatus")||0);if(!e.store.resourcesByMime)return{urls:[]};let u;return u=r?await e.store.resourcesByUrlAndMime(r,i,n,s,o,a):await e.store.resourcesByMime(i,n,c,o,l),u=u||[],{urls:u}}case"pages":{const e=await this.collections.getColl(t.coll);if(!e)return{error:"collection_not_found"};return{pages:await e.store.getAllPages()}}case"textIndex":{const e=await this.collections.getColl(t.coll);return e?e.store.getTextIndex?await e.store.getTextIndex():{}:{error:"collection_not_found"}}case"curated":{const e=await this.collections.getColl(t.coll);if(!e)return{error:"collection_not_found"};const r=Number(t.list);return{curated:await e.store.db.getAllFromIndex("curatedPages","listPages",IDBKeyRange.bound([r],[r+1]))}}case"deletePage":{const e=await this.collections.getColl(t.coll);if(!e)return{error:"collection_not_found"};const{pageSize:r,deleteSize:n}=e.store.deletePage(t.page);return this.collections.updateSize(t.coll,r,n),{pageSize:r,deleteSize:n}}default:return{error:"not_found"}}}async listAll(e){const t=await this.collections.listAll(),r=[];return t.forEach((t=>{"live"!==t.type&&"remoteproxy"!==t.type&&(e&&0!==t.type.indexOf(e)||r.push(x(t)))})),{colls:r}}makeResponse(e,t=200){return new Response(JSON.stringify(e),{status:t,headers:{"Content-Type":"application/json"}})}}const Em=/^(?::([\w-]+)\/)?(\d*)([a-z]+_|[$][a-z0-9:.-]+)?(?:\/|\||%7C|%7c)(.+)/;class vm{constructor(e,t,{isRoot:r=!1,mod:n="",ts:i="",proxyOrigin:s=null,localOrigin:o=null}={}){const a=Em.exec(e);if(this.url="",this.timestamp=i,this.mod=n,this.pageId="",this.hash="",!a&&(e.startsWith("https:")||e.startsWith("http:")||e.startsWith("blob:")))this.url=e;else if(!a&&r)this.url="https://"+e;else{if(!a)return void(this.url=null);this.pageId=a[1]||"",this.timestamp=a[2],this.mod=a[3],this.url=a[4]}if(s&&o){const e=new URL(this.url);e.origin===o&&(this.url=s+e.pathname+(e.search?e.search:""))}const c=this.url.indexOf("#");c>0&&(this.hash=this.url.slice(c),this.url=this.url.substring(0,c)),this.request=t,this.method=t.method,this.mode=t.mode,this._postToGetConverted=!1}get headers(){return this.request.headers}get destination(){return this.request.destination}get referrer(){return this.request.referrer}async convertPostToGet(){if(this._postToGetConverted)return this.url;const e=this.request;if("POST"!==e.method&&"PUT"!==e.method)return this.url;const t={method:e.method,postData:await e.text(),headers:e.headers,url:this.url};return z(t)&&(this.url=t.url,this.method="GET",this.mode="navigate"===this.request.mode?"same-origin":this.request.mode,this._postToGetConverted=!0),this.url}prepareProxyRequest(e,t=!0){let r,n,i;if(t){r=new Headers(this.request.headers),n=this.request.referrer;const t=n.indexOf("/http",e.length-1);t>0&&(n=n.slice(t+1),r.set("X-Proxy-Referer",n)),i=this.request.credentials,this.cookie&&r.set("X-Proxy-Cookie",this.cookie)}else r=new Headers,i="omit";let s=this.url;if(s.startsWith("//"))try{s=new URL(n).protocol+s}catch(e){s="https:"+s}return{referrer:n,headers:r,credentials:i,url:s}}async getBody(){const e=this.request.clone();return new Uint8Array(await e.arrayBuffer())}}const _m="x-wabac-is-ajax-req";class Tm extends Zw{constructor(e,t=null,r={}){super(self),this.prefixes=e,this.colls={},this.inited=null,this.root=t,this.defaultConfig=r,this._fileHandles={}}_createCollection(e){return new Tr(e,this.prefixes,this.defaultConfig)}loadAll(e){return this.colls={},this.inited=super.loadAll(e),this.inited}async getColl(e){return this.colls[e]||(this.colls[e]=await this.loadColl(e)),this.colls[e]}async reload(e){delete this.colls[e],await this.getColl(e)}async addCollection(e,t){const r=await super.addCollection(e,t);return r&&r.name&&(this.colls[r.name]=this._createCollection(r)),r}async deleteColl(e,t=!1){return this.colls[e]&&(this.colls[e].store&&this.colls[e].store.delete&&await this.colls[e].store.delete(),t&&this.colls[e].config&&this.colls[e].config.extra&&this.colls[e].config.extra.fileHandle&&(this._fileHandles[this.colls[e].config.sourceUrl]=this.colls[e].config.extra.fileHandle)),!!await super.deleteColl(e)&&(delete this.colls[e],!0)}async initNewColl(e,t={},r="archive"){const n=await super.initNewColl(e,t,r);return n&&(this.colls[n.name]=n),n}async updateAuth(e,t){this.colls[e]&&this.colls[e].store.updateHeaders&&this.colls[e].store.updateHeaders(t),await super.updateAuth(e,t)}async updateMetadata(e,t){const r=await super.updateMetadata(e,t);return this.colls[e]&&r&&(this.colls[e].config.metadata=r,this.colls[e].metadata=r),r}async updateSize(e,t,r,n){const i=await super.updateSize(e,t,r,n);return this.colls[e]&&i&&(this.colls[e].config.metadata=i,this.colls[e].metadata=i),void 0!==n&&this.colls[e]&&(this.colls[e].config.decode=n),i}}class Sm{constructor({staticData:e=null,ApiClass:t=Am,defaultConfig:r={},CollectionsClass:n=Tm}={}){this.prefix=self.registration?self.registration.scope:"",this.replayPrefix=this.prefix;const i=new URLSearchParams(self.location.search);let s="w";i.has("replayPrefix")&&(s=i.get("replayPrefix")),s&&(this.replayPrefix+=s+"/"),this.staticPrefix=this.prefix+"static/",this.distPrefix=this.prefix+"dist/";const o={static:this.staticPrefix,root:this.prefix,main:this.replayPrefix};this.staticData=e||new Map,this.staticData.set(this.staticPrefix+"wombat.js",{type:"application/javascript",content:'/*! wombat.js is part of Webrecorder project. Copyright (C) 2020-2023, Webrecorder Software. Licensed under the Affero General Public License v3. */(()=>{"use strict";function t(){this._map=[]}function e(t,e){void 0!==self.Symbol&&void 0!==self.Symbol.toStringTag&&Object.defineProperty(t.prototype,self.Symbol.toStringTag,{value:e,enumerable:!1})}function r(t){for(var e,r,i=t.__proto__||t.constructor.prototype||t.prototype,o=Object.getOwnPropertyNames(i),n=o.length,s=0;s<n;s++)r=t[e=o[s]],"constructor"!==e&&"function"==typeof r&&(t[e]=r.bind(t))}t.prototype.set=function(t,e){this._map.push([t,e])},t.prototype.get=function(t){for(var e=0;e<this._map.length;e++)if(this._map[e][0]===t)return this._map[e][1];return null},t.prototype.find=function(t){for(var e=0;e<this._map.length;e++)if(this._map[e][0]===t)return e;return-1},t.prototype.add_or_get=function(t,e){var r=this.get(t);return r||(r=e(),this.set(t,r)),r},t.prototype.remove=function(t){var e=this.find(t);return e>=0?this._map.splice(e,1)[0][1]:null},t.prototype.map=function(t){for(var e=0;e<this._map.length;e++)this._map[e][1](t)};var i={yes:!1},o=Symbol("__wb__storage_WOMBAT"),n=Symbol("__wb__storage_TYPE");function s(t,e,r){if(i.yes)throw new TypeError("Illegal constructor");if(r&&r.length)for(var s=0;s<r.length;s++)this[r[s][0]]=r[s][1].toString();Object.defineProperty(this,o,{value:t,enumerable:!1}),Object.defineProperty(this,n,{value:e,enumerable:!1})}function a(t,e,r){var i=new s(t,e,r);return t.$wbwindow.Proxy&&(i=new t.$wbwindow.Proxy(i,{get:function(t,e){var r=t.__proto__;if("__proto__"===e)return r;if(r.hasOwnProperty(e)||r.__proto__&&r.__proto__.hasOwnProperty(e)){var i=t[e];return"function"==typeof i&&(i=i.bind(t)),i}return t.hasOwnProperty(e)?t.getItem(e):void 0},set:function(t,e,r){return t.__proto__.hasOwnProperty(e)?(t[e]=r,!0):(t.setItem(e,r),!0)}})),t.defGetterProp(t.$wbwindow,e,(function(){return i})),i}function h(t,e){for(var r in Object.defineProperties(this,{_orig_loc:{configurable:!0,enumerable:!1,value:t},wombat:{configurable:!0,enumerable:!1,value:e},orig_getter:{enumerable:!1,value:function(t){return this._orig_loc[t]}},orig_setter:{enumerable:!1,value:function(t,e){this._orig_loc[t]!=e&&(this._orig_loc[t]=e)}}}),e.initLocOverride(this,this.orig_setter,this.orig_getter),e.setLoc(this,t.href),t)this.hasOwnProperty(r)||"function"==typeof t[r]||(this[r]=t[r])}function w(t,e){if(!(this instanceof w))return new w(t,e);this.elemSelector="img[srcset], img[data-srcset], img[data-src], video[srcset], video[data-srcset], video[data-src], audio[srcset], audio[data-srcset], audio[data-src], picture > source[srcset], picture > source[data-srcset], picture > source[data-src], video > source[srcset], video > source[data-srcset], video > source[data-src], audio > source[srcset], audio > source[data-srcset], audio > source[data-src]",this.wombat=t,this.$wbwindow=t.$wbwindow,this.worker=null,r(this),this._initWorker(e)}function p(t,e){return function(r){if(window==e)return t(r)}}function c(t,e,r){var i;return i="function"==typeof t?t:"object"==typeof t?t.handleEvent.bind(t):function(){},function(t){var o;if(t.data&&t.data.from&&t.data.message){if("*"!==t.data.to_origin&&e.WB_wombat_location&&!r.startsWith(t.data.to_origin,e.WB_wombat_location.origin))return void console.warn("Skipping message event to "+t.data.to_origin+" doesn\'t start with origin "+e.WB_wombat_location.origin);var n=t.source;t.data.from_top?n=e.__WB_top_frame:t.data.src_id&&e.__WB_win_id&&e.__WB_win_id[t.data.src_id]&&(n=e.__WB_win_id[t.data.src_id]),(o=new MessageEvent("message",{bubbles:t.bubbles,cancelable:t.cancelable,data:t.data.message,origin:t.data.from,lastEventId:t.lastEventId,source:r.proxyToObj(n),ports:t.ports}))._target=t.target,o._srcElement=t.srcElement,o._currentTarget=t.currentTarget,o._eventPhase=t.eventPhase}else o=t;return i(o)}}function l(t){let e;e="string"==typeof t?t:t&&t.length?t.reduce(((t,e)=>t+=String.fromCharCode(e)),""):t?t.toString():"";try{return"__wb_post_data="+btoa(e)}catch{return"__wb_post_data="}}function _(t){let{method:e,headers:r,postData:i}=t;if("GET"===e)return!1;function o(t){return t instanceof Uint8Array&&(t=(new TextDecoder).decode(t)),t}let n="";switch((r.get("content-type")||"").split(";")[0]){case"application/x-www-form-urlencoded":n=o(i);break;case"application/json":n=d(o(i));break;case"text/plain":try{n=d(o(i),!1)}catch{n=l(i)}break;case"multipart/form-data":{let t=r.get("content-type");if(!t)throw new Error("utils cannot call postToGetURL when missing content-type header");n=function(t,e){return function(t,e){let r=new URLSearchParams;t instanceof Uint8Array&&(t=(new TextDecoder).decode(t));try{let i=e.split("boundary=")[1],o=t.split(new RegExp("-*"+i+"-*","mi"));for(let t of o){let e=t.trim().match(/name="([^"]+)"\\r\\n\\r\\n(.*)/im);e&&r.set(e[1],e[2])}}catch{}return r}(t,e).toString()}(o(i),t);break}default:n=l(i)}return null!==n&&(t.url=function(t,e,r){if(!r)return t;let i=t.indexOf("?")>0?"&":"?";return`${t}${i}__wb_method=${r}&${e}`}(t.url,n,t.method),t.method="GET",t.requestBody=n,!0)}function u(t,e=!0){if("string"==typeof t)try{t=JSON.parse(t)}catch{t={}}let r=new URLSearchParams,i={};try{JSON.stringify(t,((t,e)=>(["object","function"].includes(typeof e)||r.set((t=>r.has(t)?(t in i||(i[t]=1),t+"."+ ++i[t]+"_"):t)(t),e),e)))}catch(t){if(!e)throw t}return r}function d(t,e=!0){return u(t,e).toString()}function f(e,i){if(!(this instanceof f))return new f(e,i);this.debug_rw=!1,this.$wbwindow=e,this.WBWindow=Window,this.origHost=e.location.host,this.origHostname=e.location.hostname,this.origProtocol=e.location.protocol,this.HTTP_PREFIX="http://",this.HTTPS_PREFIX="https://",this.REL_PREFIX="//",this.VALID_PREFIXES=[this.HTTP_PREFIX,this.HTTPS_PREFIX,this.REL_PREFIX],this.IGNORE_PREFIXES=["#","about:","data:","blob:","mailto:","javascript:","{","*"],"ignore_prefixes"in i&&(this.IGNORE_PREFIXES=this.IGNORE_PREFIXES.concat(i.ignore_prefixes)),this.WB_CHECK_THIS_FUNC="_____WB$wombat$check$this$function_____",this.WB_ASSIGN_FUNC="_____WB$wombat$assign$function_____",this.wb_setAttribute=e.Element.prototype.setAttribute,this.wb_getAttribute=e.Element.prototype.getAttribute,this.wb_funToString=Function.prototype.toString,this.WBAutoFetchWorker=null,this.wbUseAFWorker=i.enable_auto_fetch&&null!=e.Worker&&i.is_live,this.wb_rel_prefix="",this.wb_wombat_updating=!1,this.message_listeners=new t,this.storage_listeners=new t,this.linkAsTypes={script:"js_",worker:"js_",style:"cs_",image:"im_",document:"if_",fetch:"mp_",font:"oe_",audio:"oe_",video:"oe_",embed:"oe_",object:"oe_",track:"oe_","":"mp_",null:"mp_",undefined:"mp_"},this.linkTagMods={linkRelToAs:{import:this.linkAsTypes,preload:this.linkAsTypes},stylesheet:"cs_",null:"mp_",undefined:"mp_","":"mp_"},this.tagToMod={A:{href:"mp_"},AREA:{href:"mp_"},AUDIO:{src:"oe_",poster:"im_"},BASE:{href:"mp_"},EMBED:{src:"oe_"},FORM:{action:"mp_"},FRAME:{src:"fr_"},IFRAME:{src:"if_"},IMAGE:{href:"im_","xlink:href":"im_"},IMG:{src:"im_",srcset:"im_"},INPUT:{src:"oe_"},INS:{cite:"mp_"},META:{content:"mp_"},OBJECT:{data:"oe_",codebase:"oe_"},Q:{cite:"mp_"},SCRIPT:{src:"js_","xlink:href":"js_"},SOURCE:{src:"oe_",srcset:"oe_"},TRACK:{src:"oe_"},VIDEO:{src:"oe_",poster:"im_"},image:{href:"im_","xlink:href":"im_"}},this.URL_PROPS=["href","hash","pathname","host","hostname","protocol","origin","search","port"],this.wb_info=i,this.wb_opts=i.wombat_opts,this.wb_replay_prefix=i.prefix,this.wb_is_proxy=this.wb_info.proxy_magic||!this.wb_replay_prefix,this.wb_info.top_host=this.wb_info.top_host||"*",this.wb_curr_host=e.location.protocol+"//"+e.location.host,this.wb_info.wombat_opts=this.wb_info.wombat_opts||{},this.wb_orig_scheme=this.wb_info.wombat_scheme+"://",this.wb_orig_origin=this.wb_orig_scheme+this.wb_info.wombat_host,this.wb_abs_prefix=this.wb_replay_prefix,this.wb_capture_date_part="",!this.wb_info.is_live&&this.wb_info.wombat_ts&&(this.wb_capture_date_part="/"+this.wb_info.wombat_ts+"/"),this.BAD_PREFIXES=["http:"+this.wb_replay_prefix,"https:"+this.wb_replay_prefix,"http:/"+this.wb_replay_prefix,"https:/"+this.wb_replay_prefix],this.hostnamePortRe=/^[\\w-]+(\\.[\\w-_]+)+(:\\d+)(\\/|$)/,this.ipPortRe=/^\\d+\\.\\d+\\.\\d+\\.\\d+(:\\d+)?(\\/|$)/,this.workerBlobRe=/__WB_pmw\\(.*?\\)\\.(?=postMessage\\()/g,this.rmCheckThisInjectRe=/_____WB\\$wombat\\$check\\$this\\$function_____\\(.*?\\)/g,this.STYLE_REGEX=/(url\\s*\\(\\s*[\\\\"\']*)([^)\'"]+)([\\\\"\']*\\s*\\))/gi,this.IMPORT_REGEX=/(@import\\s*[\\\\"\']*)([^)\'";]+)([\\\\"\']*\\s*;?)/gi,this.IMPORT_JS_REGEX=/^(import\\s*\\([\'"]+)([^\'"]+)(["\'])/i,this.no_wombatRe=/WB_wombat_/g,this.srcsetRe=/\\s*(\\S*\\s+[\\d.]+[wx]),|(?:\\s*,(?:\\s+|(?=https?:)))/,this.cookie_path_regex=/\\bPath=\'?"?([^;\'"\\s]+)/i,this.cookie_domain_regex=/\\bDomain=([^;\'"\\s]+)/i,this.cookie_expires_regex=/\\bExpires=([^;\'"]+)/gi,this.SetCookieRe=/,(?![|])/,this.IP_RX=/^(\\d)+\\.(\\d)+\\.(\\d)+\\.(\\d)+$/,this.FullHTMLRegex=/^\\s*<(?:html|head|body|!doctype html)/i,this.IsTagRegex=/^\\s*</,this.DotPostMessageRe=/(\\.postMessage\\s*\\()/,this.extractPageUnderModifierRE=/\\/(?:[0-9]{14})?([a-z]{2, 3}_)\\//,this.write_buff="";var o=(e.EventTarget||{}).prototype;this.utilFns={cspViolationListener:function(t){if(console.group("CSP Violation"),console.log("Replayed Page URL",window.WB_wombat_location.href),console.log("The documentURI",t.documentURI),console.log("The blocked URL",t.blockedURI),console.log("The directive violated",t.violatedDirective),console.log("Our policy",t.originalPolicy),t.sourceFile){var e="File: "+t.sourceFile;t.lineNumber&&t.columnNumber?e+=" @ "+t.lineNumber+":"+t.columnNumber:t.lineNumber&&(e+=" @ "+t.lineNumber),console.log(e)}console.groupEnd()},addEventListener:o.addEventListener,removeEventListener:o.removeEventListener,objToString:Object.prototype.toString,wbSheetMediaQChecker:null,XHRopen:null,XHRsend:null},this.showCSPViolations={yesNo:!1,added:!1},r(this)}s.prototype.getItem=function(t){return this.hasOwnProperty(t)?this[t]:null},s.prototype.setItem=function(t,e){var r=String(t),i=String(e),o=this.getItem(r);this[r]=e,this.fireEvent(r,o,i)},s.prototype._deleteItem=function(t){delete this[t]},s.prototype.removeItem=function(t){var e=this.getItem(t);this._deleteItem(t),this.fireEvent(t,e,null)},s.prototype.clear=function(){for(var t in this)delete this[t];this.fireEvent(null,null,null)},s.prototype.key=function(t){var e=function(t){try{switch(typeof t){case"number":case"bigint":return t}var e=Number(t);return isNaN(e)?null:e}catch(t){}return null}(t);if(null==e||e<0)return null;var r=Object.keys(this);return e<r.length?r[e]:null},s.prototype.fireEvent=function(t,e,r){var i=new StorageEvent("storage",{key:t,newValue:r,oldValue:e,url:this[o].$wbwindow.WB_wombat_location.href});Object.defineProperty(i,"storageArea",{value:this,writable:!1,configurable:!1}),i._storageArea=this,this[o].storage_listeners.map(i)},s.prototype.valueOf=function(){return this[o].$wbwindow[this[n]]},s.prototype.toString=function(){return"[object Storage]"},Object.defineProperty(s.prototype,"length",{enumerable:!1,get:function(){return Object.keys(this).length}}),e(s,"Storage"),h.prototype.replace=function(t){var e=this.wombat.rewriteUrl(t),r=this.wombat.extractOriginalURL(e);return r===this.href?r:this._orig_loc.replace(e)},h.prototype.assign=function(t){var e=this.wombat.rewriteUrl(t),r=this.wombat.extractOriginalURL(e);return r===this.href?r:this._orig_loc.assign(e)},h.prototype.reload=function(t){},h.prototype.toString=function(){return this.href},h.prototype.valueOf=function(){return this},e(h,"Location"),w.prototype._initWorker=function(t){var e=this.wombat;if(t.isTop)try{this.worker=new Worker(t.workerURL,{type:"classic",credentials:"include"})}catch(t){console.error("Failed to create auto fetch worker\\n",t)}else this.worker={postMessage:function(t){t.wb_type||(t={wb_type:"aaworker",msg:t}),e.$wbwindow.__WB_replay_top.__orig_postMessage(t,"*")},terminate:function(){}}},w.prototype.extractMediaRulesFromSheet=function(t){var e,r=[];try{e=t.cssRules||t.rules}catch(t){return r}for(var i=0;i<e.length;++i){var o=e[i];o.type===CSSRule.MEDIA_RULE&&r.push(o.cssText)}return r},w.prototype.deferredSheetExtraction=function(t){var e=this;Promise.resolve().then((function(){var r=e.extractMediaRulesFromSheet(t);r.length>0&&e.preserveMedia(r)}))},w.prototype.terminate=function(){this.worker.terminate()},w.prototype.justFetch=function(t){this.worker.postMessage({type:"fetch-all",values:t})},w.prototype.fetchAsPage=function(t,e,r){if(t){var i={"X-Wombat-History-Page":e};if(r){var o=encodeURIComponent(r.trim());r&&(i["X-Wombat-History-Title"]=o)}var n={url:t,options:{headers:i,cache:"no-store"}};this.justFetch([n])}},w.prototype.postMessage=function(t,e){if(e){var r=this;Promise.resolve().then((function(){r.worker.postMessage(t)}))}else this.worker.postMessage(t)},w.prototype.preserveSrcset=function(t,e){this.postMessage({type:"values",srcset:{value:t,mod:e,presplit:!0}},!0)},w.prototype.preserveDataSrcset=function(t){this.postMessage({type:"values",srcset:{value:t.dataset.srcset,mod:this.rwMod(t),presplit:!1}},!0)},w.prototype.preserveMedia=function(t){this.postMessage({type:"values",media:t},!0)},w.prototype.getSrcset=function(t){return this.wombat.wb_getAttribute?this.wombat.wb_getAttribute.call(t,"srcset"):t.getAttribute("srcset")},w.prototype.rwMod=function(t){switch(t.tagName){case"SOURCE":return t.parentElement&&"PICTURE"===t.parentElement.tagName?"im_":"oe_";case"IMG":return"im_"}return"oe_"},w.prototype.extractFromLocalDoc=function(){var t=this;Promise.resolve().then((function(){for(var e={type:"values",context:{docBaseURI:document.baseURI}},r=[],i=0,o=document.styleSheets;i<o.length;++i)r=r.concat(t.extractMediaRulesFromSheet(o[i]));var n,s,a,h=document.querySelectorAll(t.elemSelector),w={values:[],presplit:!1},p={values:[]};for(i=0;i<h.length;++i)s=(n=h[i]).src?n.src:null,a=t.rwMod(n),n.srcset&&w.values.push({srcset:t.getSrcset(n),mod:a,tagSrc:s}),n.dataset.srcset&&w.values.push({srcset:n.dataset.srcset,mod:a,tagSrc:s}),n.dataset.src&&p.values.push({src:n.dataset.src,mod:a}),"SOURCE"===n.tagName&&s&&p.values.push({src:s,mod:a});r.length&&(e.media=r),w.values.length&&(e.srcset=w),p.values.length&&(e.src=p),(e.media||e.srcset||e.src)&&t.postMessage(e)}))},f.prototype._internalInit=function(){this.initTopFrame(this.$wbwindow),this.initWombatLoc(this.$wbwindow),this.initWombatTop(this.$wbwindow);var t=this.$wbwindow.__WB_replay_top.location.origin,e=this.$wbwindow.__WB_replay_top.location.host,r=this.$wbwindow.__WB_replay_top.location.protocol;this.wb_replay_prefix&&0===this.wb_replay_prefix.indexOf(t)?this.wb_rel_prefix=this.wb_replay_prefix.substring(t.length):this.wb_rel_prefix=this.wb_replay_prefix,this.wb_prefixes=[this.wb_abs_prefix,this.wb_rel_prefix];var i="(("+r+")?//"+e+")?"+this.wb_rel_prefix+"[^/]+/";this.wb_unrewrite_rx=new RegExp(i,"g"),this.wb_info.is_framed&&"bn_"!==this.wb_info.mod&&this.initTopFrameNotify(this.wb_info),this.initAutoFetchWorker()},f.prototype._addRemoveCSPViolationListener=function(t){this.showCSPViolations.yesNo=t,this.showCSPViolations.yesNo&&!this.showCSPViolations.added?(this.showCSPViolations.added=!0,this._addEventListener(document,"securitypolicyviolation",this.utilFns.cspViolationListener)):(this.showCSPViolations.added=!1,this._removeEventListener(document,"securitypolicyviolation",this.utilFns.cspViolationListener))},f.prototype._addEventListener=function(t,e,r){if(this.utilFns.addEventListener)return this.utilFns.addEventListener.call(t,e,r);t.addEventListener(e,r)},f.prototype._removeEventListener=function(t,e,r){if(this.utilFns.removeEventListener)return this.utilFns.removeEventListener.call(t,e,r);t.removeEventListener(e,r)},f.prototype.getPageUnderModifier=function(){try{var t=this.extractPageUnderModifierRE.exec(location.pathname);if(t&&t[1])return t[1].trim()||"mp_"}catch(t){}return"mp_"},f.prototype.isNativeFunction=function(t){return!(!t||"function"!=typeof t)&&(-1!=this.wb_funToString.call(t).indexOf("[native code]")&&(void 0===t.__WB_is_native_func__||!!t.__WB_is_native_func__))},f.prototype.isString=function(t){return null!=t&&Object.getPrototypeOf(t)===String.prototype},f.prototype.blobUrlForIframe=function(t,e){var r=new Blob([e],{type:"text/html"}),i=URL.createObjectURL(r);t.__wb_blobSrc=i,t.addEventListener("load",(function(){t.__wb_blobSrc&&(URL.revokeObjectURL(t.__wb_blobSrc),t.__wb_blobSrc=null)}),{once:!0}),t.__wb_origSrc=t.src;var o=i.slice(i.lastIndexOf("/")+1)+"/"+this.wb_info.url;t.src=this.wb_info.prefix+this.wb_info.request_ts+"mp_/blob:"+o},f.prototype.isSavedSrcSrcset=function(t){switch(t.tagName){case"IMG":case"VIDEO":case"AUDIO":return!0;case"SOURCE":if(!t.parentElement)return!1;switch(t.parentElement.tagName){case"PICTURE":case"VIDEO":case"AUDIO":return!0;default:return!1}default:return!1}},f.prototype.isSavedDataSrcSrcset=function(t){return!(!t.dataset||null==t.dataset.srcset)&&this.isSavedSrcSrcset(t)},f.prototype.isHostUrl=function(t){if(0===t.indexOf("www."))return!0;var e=t.match(this.hostnamePortRe);return!!(e&&e[0].length<64)||!!(e=t.match(this.ipPortRe))&&e[0].length<64},f.prototype.isArgumentsObj=function(t){if(!t||"function"!=typeof t.toString)return!1;try{return"[object Arguments]"===this.utilFns.objToString.call(t)}catch(t){return!1}},f.prototype.deproxyArrayHandlingArgumentsObj=function(t){if(!t||t instanceof NodeList||!t.length)return t;for(var e=this.isArgumentsObj(t)?new Array(t.length):t,r=0;r<t.length;++r){const i=this.proxyToObj(t[r]);i!==e[r]&&(e[r]=i)}return e},f.prototype.startsWith=function(t,e){if(t)return 0===t.indexOf(e)?e:void 0},f.prototype.startsWithOneOf=function(t,e){if(t)for(var r=0;r<e.length;r++)if(0===t.indexOf(e[r]))return e[r]},f.prototype.endsWith=function(t,e){if(t)return-1!==t.indexOf(e,t.length-e.length)?e:void 0},f.prototype.shouldRewriteAttr=function(t,e){switch(e){case"href":case"src":case"xlink:href":return!0}return!(!t||!this.tagToMod[t]||void 0===this.tagToMod[t][e])||("VIDEO"===t&&"poster"===e||"META"===t&&"content"===e)},f.prototype.skipWrapScriptBasedOnType=function(t){return!!t&&(!(t.indexOf("javascript")>=0||t.indexOf("ecmascript")>=0)&&(t.indexOf("json")>=0||t.indexOf("text/")>=0))},f.prototype.skipWrapScriptTextBasedOnText=function(t){if(!t||t.indexOf(this.WB_ASSIGN_FUNC)>=0||0===t.indexOf("<"))return!0;for(var e=["window","self","document","location","top","parent","frames","opener"],r=0;r<e.length;r++)if(t.indexOf(e[r])>=0)return!1;return!0},f.prototype.nodeHasChildren=function(t){if(!t)return!1;if("function"==typeof t.hasChildNodes)return t.hasChildNodes();var e=t.children||t.childNodes;return!!e&&e.length>0},f.prototype.rwModForElement=function(t,e){if(t){var r="mp_";if("LINK"===t.tagName&&"href"===e){if(t.rel){var i=t.rel.trim().toLowerCase(),o=this.wb_getAttribute.call(t,"as");if(o&&null!=this.linkTagMods.linkRelToAs[i])r=this.linkTagMods.linkRelToAs[i][o.toLowerCase()];else null!=this.linkTagMods[i]&&(r=this.linkTagMods[i])}}else{var n=this.tagToMod[t.tagName];null!=n&&(r=n[e])}return r}},f.prototype.removeWBOSRC=function(t){"SCRIPT"!==t.tagName||t.__$removedWBOSRC$__||(t.hasAttribute("__wb_orig_src")&&t.removeAttribute("__wb_orig_src"),t.__$removedWBOSRC$__=!0)},f.prototype.retrieveWBOSRC=function(t){var e;if("SCRIPT"===t.tagName&&!t.__$removedWBOSRC$__)return null==(e=this.wb_getAttribute?this.wb_getAttribute.call(t,"__wb_orig_src"):t.getAttribute("__wb_orig_src"))&&(t.__$removedWBOSRC$__=!0),e},f.prototype.wrapScriptTextJsProxy=function(t){return\'var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };\\nif (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }\\n{\\nlet window = _____WB$wombat$assign$function_____("window");\\nlet globalThis = _____WB$wombat$assign$function_____("globalThis");\\nlet self = _____WB$wombat$assign$function_____("self");\\nlet document = _____WB$wombat$assign$function_____("document");\\nlet location = _____WB$wombat$assign$function_____("location");\\nlet top = _____WB$wombat$assign$function_____("top");\\nlet parent = _____WB$wombat$assign$function_____("parent");\\nlet frames = _____WB$wombat$assign$function_____("frames");\\nlet opener = _____WB$wombat$assign$function_____("opener");\\n{\\n\'+t.replace(this.DotPostMessageRe,".__WB_pmw(self.window)$1")+"\\n\\n}}"},f.prototype.watchElem=function(t,e){if(!this.$wbwindow.MutationObserver)return!1;new this.$wbwindow.MutationObserver((function(t,r){for(var i=0;i<t.length;i++){var o=t[i];if("childList"===o.type)for(var n=0;n<o.addedNodes.length;n++)e(o.addedNodes[n])}})).observe(t,{childList:!0,subtree:!0})},f.prototype.reconstructDocType=function(t){return null==t?"":"<!doctype "+t.name+(t.publicId?\' PUBLIC "\'+t.publicId+\'"\':"")+(!t.publicId&&t.systemId?" SYSTEM":"")+(t.systemId?\' "\'+t.systemId+\'"\':"")+">"},f.prototype.getFinalUrl=function(t,e,r){var i=t?this.wb_rel_prefix:this.wb_abs_prefix;return null==e&&(e=this.wb_info.mod),this.wb_info.is_live||(i+=this.wb_info.wombat_ts),"/"!==(i+=e)[i.length-1]&&(i+="/"),i+r},f.prototype.resolveRelUrl=function(t,e){var r=e||this.$wbwindow.document,i=this.makeParser(r.baseURI,r),o=i.href.lastIndexOf("#"),n=o>=0?i.href.substring(0,o):i.href,s=n.lastIndexOf("/");return s>=0&&s!==n.length-1?i.href=n.substring(0,s+1)+t:i.href=n+t,i.href},f.prototype.extractOriginalURL=function(t){if(!t)return"";if(this.wb_is_proxy)return t;var e,r=t.toString(),i=r;if(this.startsWithOneOf(i,this.IGNORE_PREFIXES))return i;if(i.startsWith(this.wb_info.static_prefix))return i;e=this.startsWith(i,this.wb_abs_prefix)?this.wb_abs_prefix.length:this.wb_rel_prefix&&this.startsWith(i,this.wb_rel_prefix)?this.wb_rel_prefix.length:this.wb_rel_prefix?1:0;var o=i.indexOf("/http",e);return o<0&&(o=i.indexOf("///",e)),o<0&&(o=i.indexOf("/blob:",e)),o<0&&(o=i.indexOf("/about:blank",e)),o>=0?i=i.substr(o+1):((o=i.indexOf(this.wb_replay_prefix))>=0&&(i=i.substr(o+this.wb_replay_prefix.length)),i.length>4&&"_"===i.charAt(2)&&"/"===i.charAt(3)&&(i=i.substr(4)),i===r||this.startsWithOneOf(i,this.VALID_PREFIXES)||this.startsWith(i,"blob:")||(i=this.wb_orig_scheme+i)),"/"===r.charAt(0)&&"/"!==r.charAt(1)&&this.startsWith(i,this.wb_orig_origin)&&(i=i.substr(this.wb_orig_origin.length)),this.startsWith(i,this.REL_PREFIX)?this.wb_info.wombat_scheme+":"+i:i},f.prototype.makeParser=function(t,e){var r=this.extractOriginalURL(t),i=e;return e||(i="about:blank"===this.$wbwindow.location.href&&this.$wbwindow.opener?this.$wbwindow.opener.document:this.$wbwindow.document),this._makeURLParser(r,i)},f.prototype._makeURLParser=function(t,e){try{return new this.$wbwindow.URL(t,e.baseURI)}catch(t){}var r=e.createElement("a");return r._no_rewrite=!0,r.href=t,r},f.prototype.defProp=function(t,e,r,i,o){var n=Object.getOwnPropertyDescriptor(t,e);if(n&&!n.configurable)return!1;if(!i)return!1;var s={configurable:!0,enumerable:o||!1,get:i};r&&(s.set=r);try{return Object.defineProperty(t,e,s),!0}catch(t){return console.warn("Failed to redefine property %s",e,t.message),!1}},f.prototype.defGetterProp=function(t,e,r,i){var o=Object.getOwnPropertyDescriptor(t,e);if(o&&!o.configurable)return!1;if(!r)return!1;try{return Object.defineProperty(t,e,{configurable:!0,enumerable:i||!1,get:r}),!0}catch(t){return console.warn("Failed to redefine property %s",e,t.message),!1}},f.prototype.getOrigGetter=function(t,e){var r;if(t.__lookupGetter__&&(r=t.__lookupGetter__(e)),!r&&Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);i&&(r=i.get)}return r},f.prototype.getOrigSetter=function(t,e){var r;if(t.__lookupSetter__&&(r=t.__lookupSetter__(e)),!r&&Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);i&&(r=i.set)}return r},f.prototype.getAllOwnProps=function(t){for(var e=[],r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var o=r[i];try{t[o]&&!t[o].prototype&&e.push(o)}catch(t){}}for(var n=Object.getPrototypeOf(t);n;){for(r=Object.getOwnPropertyNames(n),i=0;i<r.length;i++)e.push(r[i]);n=Object.getPrototypeOf(n)}return e},f.prototype.sendTopMessage=function(t,e,r){(r=r||this.$wbwindow).__WB_top_frame&&(e||r==r.__WB_replay_top)&&r.__WB_top_frame.postMessage(t,this.wb_info.top_host)},f.prototype.sendHistoryUpdate=function(t,e,r){this.sendTopMessage({url:t,ts:this.wb_info.timestamp,request_ts:this.wb_info.request_ts,is_live:this.wb_info.is_live,title:e,wb_type:"replace-url"},!1,r)},f.prototype.updateLocation=function(t,e,r){if(t&&t!==e){var i=this.extractOriginalURL(e),o=this.extractOriginalURL(t);if(i&&i!==o){var n=this.rewriteUrl(t);console.log(r.href+" -> "+n),r.href=n}}},f.prototype.checkLocationChange=function(t,e){var r=typeof t,i=e?this.$wbwindow.__WB_replay_top.location:this.$wbwindow.location;"string"===r?this.updateLocation(t,i.href,i):"object"===r&&this.updateLocation(t.href,t._orig_href,i)},f.prototype.checkAllLocations=function(){if(this.wb_wombat_updating)return!1;this.wb_wombat_updating=!0,this.checkLocationChange(this.$wbwindow.WB_wombat_location,!1),this.$wbwindow.WB_wombat_location!=this.$wbwindow.__WB_replay_top.WB_wombat_location&&this.checkLocationChange(this.$wbwindow.__WB_replay_top.WB_wombat_location,!0),this.wb_wombat_updating=!1},f.prototype.proxyToObj=function(t){if(t)try{var e=t.__WBProxyRealObj__;if(e)return e}catch(t){}return t},f.prototype.objToProxy=function(t){if(t)try{var e=t._WB_wombat_obj_proxy;if(e)return e}catch(t){}return t},f.prototype.defaultProxyGet=function(t,e,r,i){switch(e){case"__WBProxyRealObj__":return t;case"location":case"WB_wombat_location":return t.WB_wombat_location;case"_WB_wombat_obj_proxy":return t._WB_wombat_obj_proxy;case"__WB_pmw":case this.WB_ASSIGN_FUNC:case this.WB_CHECK_THIS_FUNC:return t[e];case"origin":return t.WB_wombat_location.origin;case"constructor":return t.constructor}var o=t[e],n=typeof o;if("function"===n&&-1!==r.indexOf(e)){switch(e){case"requestAnimationFrame":case"cancelAnimationFrame":if(!this.isNativeFunction(o))return o;break;case"eval":if(this.isNativeFunction(o))return this.wrappedEval(o)}var s=i[e];return s&&s.original===o||(s={original:o,boundFn:o.bind(t)},i[e]=s),s.boundFn}return"object"===n&&o&&o._WB_wombat_obj_proxy?(o instanceof this.WBWindow&&this.initNewWindowWombat(o),o._WB_wombat_obj_proxy):o},f.prototype.setLoc=function(t,e){var r=this.makeParser(e,t.ownerDocument);t._orig_href=e,t._parser=r;var i=r.href;t._hash=r.hash,t._href=i,t._host=r.host,t._hostname=r.hostname,r.origin?t._origin=r.host?r.origin:"null":t._origin=r.protocol+"//"+r.hostname+(r.port?":"+r.port:""),t._pathname=r.pathname,t._port=r.port,t._protocol=r.protocol,t._search=r.search,Object.defineProperty||(t.href=i,t.hash=r.hash,t.host=t._host,t.hostname=t._hostname,t.origin=t._origin,t.pathname=t._pathname,t.port=t._port,t.protocol=t._protocol,t.search=t._search)},f.prototype.makeGetLocProp=function(t,e){var r=this;return function(){if(this._no_rewrite)return e.call(this,t);var i=e.call(this,"href");return"href"===t?r.extractOriginalURL(i):"ancestorOrigins"===t?[]:(this._orig_href!==i&&r.setLoc(this,i),this["_"+t])}},f.prototype.makeSetLocProp=function(t,e,r){var i=this;return function(o){if(this._no_rewrite)return e.call(this,t,o);if(this["_"+t]!==o){if(this["_"+t]=o,!this._parser){var n=r.call(this);this._parser=i.makeParser(n,this.ownerDocument)}var s=!1;if("href"===t&&"string"==typeof o)if(o&&this._parser instanceof URL)try{o=new URL(o,this._parser).href}catch(t){console.warn("Error resolving URL",t)}else o&&("."===o[0]||"#"===o[0]?o=i.resolveRelUrl(o,this.ownerDocument):"/"===o[0]&&(o.length>1&&"/"===o[1]?o=this._parser.protocol+o:(s=!0,o=WB_wombat_location.origin+o)));try{this._parser[t]=o}catch(e){console.log("Error setting "+t+" = "+o)}"hash"===t?(o=this._parser[t],e.call(this,"hash",o)):(s=s||o===this._parser.pathname,o=i.rewriteUrl(this._parser.href,s),e.call(this,"href",o))}}},f.prototype.styleReplacer=function(t,e,r,i,o,n){return e+this.rewriteUrl(r)+i},f.prototype.domConstructorErrorChecker=function(t,e,r,i){var o,n="number"==typeof i?i:1;if(t instanceof this.WBWindow?o="Failed to construct \'"+e+"\': Please use the \'new\' operator, this DOM object constructor cannot be called as a function.":r&&r.length<n&&(o="Failed to construct \'"+e+"\': "+n+" argument required, but only 0 present."),o)throw new TypeError(o)},f.prototype.rewriteNodeFuncArgs=function(t,e,r,i){if(r)switch(r.nodeType){case Node.ELEMENT_NODE:this.rewriteElemComplete(r);break;case Node.TEXT_NODE:("STYLE"===t.tagName||r.parentNode&&"STYLE"===r.parentNode.tagName)&&(r.textContent=this.rewriteStyle(r.textContent));break;case Node.DOCUMENT_FRAGMENT_NODE:this.recurseRewriteElem(r)}var o=e.call(t,r,i);return o&&"IFRAME"===o.tagName&&(o.allow="autoplay \'self\'; fullscreen \'self\'",this.initIframeWombat(o)),o},f.prototype.rewriteWSURL=function(t){if(!t)return t;var e=typeof t,r=t;if("object"===e)r=t.toString();else if("string"!==e)return t;if(!r)return r;var i="ws://",o="wss://";if(this.wb_is_proxy)return this.wb_orig_scheme===this.HTTP_PREFIX&&this.startsWith(r,o)?i+r.substr(o.length):this.wb_orig_scheme===this.HTTPS_PREFIX&&this.startsWith(r,i)?o+r.substr(i.length):r;var n=0===this.wb_abs_prefix.indexOf(this.HTTPS_PREFIX),s=this.wb_abs_prefix.replace(n?this.HTTPS_PREFIX:this.HTTP_PREFIX,n?o:i);return s+=this.wb_info.wombat_ts+"ws_","/"!==r[r.length-1]&&(s+="/"),s+r.replace("WB_wombat_","")},f.prototype.rewriteUrl_=function(t,e,r,i){if(!t)return t;var o,n,s=typeof t;if("object"===s)o=t.toString();else{if("string"!==s)return t;o=t}if(!o)return o;if(this.wb_is_proxy)return this.wb_orig_scheme===this.HTTP_PREFIX&&this.startsWith(o,this.HTTPS_PREFIX)?this.HTTP_PREFIX+o.substr(this.HTTPS_PREFIX.length):this.wb_orig_scheme===this.HTTPS_PREFIX&&this.startsWith(o,this.HTTP_PREFIX)?this.HTTPS_PREFIX+o.substr(this.HTTP_PREFIX.length):o;if(o=o.replace("WB_wombat_",""),"if_"===r&&this.wb_info.isSW&&this.startsWith(o,"blob:"))return this.wb_info.prefix+this.wb_info.request_ts+"if_/"+o;if(this.startsWithOneOf(o.toLowerCase(),this.IGNORE_PREFIXES))return o;if(this.wb_opts.no_rewrite_prefixes&&this.startsWithOneOf(o,this.wb_opts.no_rewrite_prefixes))return o;if(n=0===o.indexOf("//")?this.origProtocol+o:o,this.startsWith(n,this.wb_abs_prefix)||this.startsWith(n,this.wb_rel_prefix))return o;if(this.origHost!==this.origHostname&&this.startsWith(o,this.origProtocol+"//"+this.origHostname+"/"))return o.replace("/"+this.origHostname+"/","/"+this.origHost+"/");if("/"===o.charAt(0)&&!this.startsWith(o,this.REL_PREFIX)){if(this.wb_capture_date_part&&o.indexOf(this.wb_capture_date_part)>=0)return o;if(0===o.indexOf(this.wb_rel_prefix)&&o.indexOf("http")>1){var a=o.indexOf(":/");return a>0&&"/"!==o[a+2]?o.substring(0,a+2)+"/"+o.substring(a+2):o}return this.getFinalUrl(!0,r,this.wb_orig_origin+o)}"."===o.charAt(0)&&(o=this.resolveRelUrl(o,i));var h=this.startsWithOneOf(o.toLowerCase(),this.VALID_PREFIXES);if(h){var w=this.replayTopHost,p=this.replayTopProtocol,c=h+w+"/";if(this.startsWith(o,c)){if(this.startsWith(o,this.wb_replay_prefix))return o;var l=p+"//",_=o.substring(c.length),u=!1;return _.indexOf(this.wb_rel_prefix)<0&&o.indexOf("/static/")<0&&(_=this.getFinalUrl(!0,r,WB_wombat_location.origin+"/"+_),u=!0),h!==l&&h!==this.REL_PREFIX&&(u=!0),u&&(o=e?"":l+w,_&&"/"!==_[0]&&(o+="/"),o+=_),o}return this.getFinalUrl(e,r,o)}return(h=this.startsWithOneOf(o,this.BAD_PREFIXES))?this.getFinalUrl(e,r,this.extractOriginalURL(o)):o},f.prototype.rewriteUrl=function(t,e,r,i){var o=this.rewriteUrl_(t,e,r,i);return this.debug_rw&&(t!==o?console.log("REWRITE: "+t+" -> "+o):console.log("NOT REWRITTEN "+t)),o},f.prototype.performAttributeRewrite=function(t,e,r,i){switch(e){case"innerHTML":case"outerHTML":return this.rewriteHtml(r);case"filter":return this.rewriteInlineStyle(r);case"style":return this.rewriteStyle(r);case"srcset":return this.rewriteSrcset(r,t)}if(i&&!this.startsWithOneOf(r,this.VALID_PREFIXES))return r;var o=this.rwModForElement(t,e);return this.wbUseAFWorker&&this.WBAutoFetchWorker&&this.isSavedDataSrcSrcset(t)&&this.WBAutoFetchWorker.preserveDataSrcset(t),this.rewriteUrl(r,!1,o,t.ownerDocument)},f.prototype.rewriteAttr=function(t,e,r){var i=!1;if(!t||!t.getAttribute||t._no_rewrite||t["_"+e])return i;var o=this.wb_getAttribute.call(t,e);if(!o||this.startsWith(o,"javascript:"))return i;var n=this.performAttributeRewrite(t,e,o,r);return n!==o&&(this.removeWBOSRC(t),this.wb_setAttribute.call(t,e,n),i=!0),i},f.prototype.noExceptRewriteStyle=function(t){try{return this.rewriteStyle(t)}catch(e){return t}},f.prototype.rewriteStyle=function(t){if(!t)return t;var e=t;return"object"==typeof t&&(e=t.toString()),"string"==typeof e?e.replace(this.STYLE_REGEX,this.styleReplacer).replace(this.IMPORT_REGEX,this.styleReplacer).replace(this.no_wombatRe,""):e},f.prototype.rewriteSrcset=function(t,e){if(!t)return"";for(var r=t.split(this.srcsetRe),i=[],o=this.rwModForElement(e,"srcset"),n=0;n<r.length;n++){var s=r[n];if(s){var a=s.trim().split(" ");a[0]=this.rewriteUrl(a[0],!0,o),i.push(a.join(" "))}}return this.wbUseAFWorker&&this.WBAutoFetchWorker&&this.isSavedSrcSrcset(e)&&this.WBAutoFetchWorker.preserveSrcset(i,this.WBAutoFetchWorker.rwMod(e)),i.join(", ")},f.prototype.rewriteFrameSrc=function(t,e){var r,i=this.wb_getAttribute.call(t,e);if(this.startsWith(i,"javascript:")&&i.indexOf("WB_wombat_")>=0){var o="javascript:";r=o+"window.parent._wb_wombat.initNewWindowWombat(window);"+i.substr(o.length)}return r||(r=this.rewriteUrl(i,!1,this.rwModForElement(t,e))),r!==i&&(this.wb_setAttribute.call(t,e,r),!0)},f.prototype.rewriteScript=function(t){if(t.hasAttribute("src")||!t.textContent||!this.$wbwindow.Proxy)return this.rewriteAttr(t,"src");if(this.skipWrapScriptBasedOnType(t.type))return!1;var e=t.textContent.trim();return!this.skipWrapScriptTextBasedOnText(e)&&(t.textContent=this.wrapScriptTextJsProxy(e),!0)},f.prototype.rewriteSVGElem=function(t){var e=this.rewriteAttr(t,"filter");return e=this.rewriteAttr(t,"style")||e,e=this.rewriteAttr(t,"xlink:href")||e,e=this.rewriteAttr(t,"href")||e,e=this.rewriteAttr(t,"src")||e},f.prototype.rewriteElem=function(t){var e=!1;if(!t)return e;if(t instanceof SVGElement)e=this.rewriteSVGElem(t);else switch(t.tagName){case"META":var r=this.wb_getAttribute.call(t,"http-equiv");r&&"content-security-policy"===r.toLowerCase()&&(this.wb_setAttribute.call(t,"http-equiv","_"+r),e=!0);break;case"STYLE":var i=this.rewriteStyle(t.textContent);t.textContent!==i&&(t.textContent=i,e=!0,this.wbUseAFWorker&&this.WBAutoFetchWorker&&null!=t.sheet&&this.WBAutoFetchWorker.deferredSheetExtraction(t.sheet));break;case"LINK":e=this.rewriteAttr(t,"href"),this.wbUseAFWorker&&"stylesheet"===t.rel&&this._addEventListener(t,"load",this.utilFns.wbSheetMediaQChecker);break;case"IMG":e=this.rewriteAttr(t,"src"),e=this.rewriteAttr(t,"srcset")||e,e=this.rewriteAttr(t,"style")||e,this.wbUseAFWorker&&this.WBAutoFetchWorker&&t.dataset.srcset&&this.WBAutoFetchWorker.preserveDataSrcset(t);break;case"OBJECT":if(this.wb_info.isSW&&t.parentElement&&"application/pdf"===t.getAttribute("type")){for(var o=this.$wbwindow.document.createElement("IFRAME"),n=0;n<t.attributes.length;n++){var s=t.attributes[n],a=s.name;"data"===a&&(a="src"),this.wb_setAttribute.call(o,a,s.value)}t.parentElement.replaceChild(o,t),e=!0;break}e=this.rewriteAttr(t,"data",!0),e=this.rewriteAttr(t,"style")||e;break;case"FORM":e=this.rewriteAttr(t,"poster"),e=this.rewriteAttr(t,"action")||e,e=this.rewriteAttr(t,"style")||e;break;case"IFRAME":if(e=this.rewriteFrameSrc(t,"src"),this.wb_info.isSW&&!e){var h=t.getAttribute("srcdoc");if(t.hasAttribute("srcdoc")&&t.removeAttribute("srcdoc"),h)this.blobUrlForIframe(t,h);else{var w=t.getAttribute("src");w&&"about:blank"!==w||(w||(t.__WB_blank=!0),t.src=this.wb_info.prefix+this.wb_info.request_ts+"mp_/about:blank")}}e=this.rewriteAttr(t,"style")||e;break;case"FRAME":e=this.rewriteFrameSrc(t,"src"),e=this.rewriteAttr(t,"style")||e;break;case"SCRIPT":e=this.rewriteScript(t);break;case"A":if(e=this.rewriteAttr(t,"href")||e,t.hasAttribute("target")){var p=this.rewriteAttrTarget(t.target);p!==t.target&&(t.target=p,e=!0)}break;default:e=this.rewriteAttr(t,"src"),e=this.rewriteAttr(t,"srcset")||e,e=this.rewriteAttr(t,"href")||e,e=this.rewriteAttr(t,"style")||e,e=this.rewriteAttr(t,"poster")||e}return t.hasAttribute&&t.removeAttribute&&(t.hasAttribute("crossorigin")&&(t.removeAttribute("crossorigin"),e=!0),t.hasAttribute("integrity")&&(t.removeAttribute("integrity"),e=!0)),e},f.prototype.recurseRewriteElem=function(t){if(!this.nodeHasChildren(t))return!1;for(var e=!1,r=[t.children||t.childNodes];r.length>0;)for(var i=r.shift(),o=0;o<i.length;o++){var n=i[o];n.nodeType===Node.ELEMENT_NODE&&(e=this.rewriteElem(n)||e,this.nodeHasChildren(n)&&r.push(n.children||n.childNodes))}return e},f.prototype.rewriteElemComplete=function(t){if(!t)return!1;var e=this.rewriteElem(t),r=this.recurseRewriteElem(t);return e||r},f.prototype.rewriteElementsInArguments=function(t){for(var e=new Array(t.length),r=0;r<t.length;r++){var i=t[r];i instanceof Node?(this.rewriteElemComplete(i),e[r]=i):e[r]="string"==typeof i?this.rewriteHtml(i):i}return e},f.prototype.rewriteHtml=function(t,e){if(!t)return t;var r=t;if("string"!=typeof t&&(r=t.toString()),this.write_buff&&(r=this.write_buff+r,this.write_buff=""),r.indexOf("<script")<=0&&(r=r.replace(/((id|class)=".*)WB_wombat_([^"]+)/,"$1$3")),!this.$wbwindow.HTMLTemplateElement||this.FullHTMLRegex.test(r))return this.rewriteHtmlFull(r,e);var i=(new DOMParser).parseFromString("<template>"+r+"</template>","text/html");if(!i||!this.nodeHasChildren(i.head)||!i.head.children[0].content)return r;var o=i.head.children[0];if(o._no_rewrite=!0,this.recurseRewriteElem(o.content)){var n=o.innerHTML;if(e){var s=o.content.children&&o.content.children[0];if(s){var a="</"+s.tagName.toLowerCase()+">";this.endsWith(n,a)&&!this.endsWith(r.toLowerCase(),a)&&(n=n.substring(0,n.length-a.length))}else if("<"!==r[0]||">"!==r[r.length-1])return void(this.write_buff+=r)}return n}return r},f.prototype.rewriteHtmlFull=function(t,e){var r=(new DOMParser).parseFromString(t,"text/html");if(!r)return t;for(var i=!1,o=0;o<r.all.length;o++)i=this.rewriteElem(r.all[o])||i;if(i){var n;if(t&&t.indexOf("<html")>=0)r.documentElement._no_rewrite=!0,n=this.reconstructDocType(r.doctype)+r.documentElement.outerHTML;else{r.head._no_rewrite=!0,r.body._no_rewrite=!0;var s=this.nodeHasChildren(r.head),a=this.nodeHasChildren(r.body);if(n=(s?r.head.outerHTML:"")+(a?r.body.outerHTML:""),e)if(r.all.length>3){var h="</"+r.all[3].tagName.toLowerCase()+">";this.endsWith(n,h)&&!this.endsWith(t.toLowerCase(),h)&&(n=n.substring(0,n.length-h.length))}else if("<"!==t[0]||">"!==t[t.length-1])return void(this.write_buff+=t);n=this.reconstructDocType(r.doctype)+n}return n}return t},f.prototype.rewriteInlineStyle=function(t){var e;try{e=decodeURIComponent(t)}catch(r){e=t}if(e!==t){var r=this.rewriteStyle(e).split(",",2);return r[0]+","+encodeURIComponent(r[1])}return this.rewriteStyle(t)},f.prototype.rewriteCookie=function(t){var e=this,r=t.replace(this.wb_abs_prefix,"").replace(this.wb_rel_prefix,"");return r=r.replace(this.cookie_domain_regex,(function(t,i){var o={domain:i,cookie:r,wb_type:"cookie"};return e.sendTopMessage(o,!0),e.$wbwindow.location.hostname.indexOf(".")>=0&&!e.IP_RX.test(e.$wbwindow.location.hostname)?"Domain=."+e.$wbwindow.location.hostname:""})).replace(this.cookie_path_regex,(function(t,r){var i=e.rewriteUrl(r);return 0===i.indexOf(e.wb_curr_host)&&(i=i.substring(e.wb_curr_host.length)),"Path="+i})),"https:"!==e.$wbwindow.location.protocol&&(r=r.replace("secure","")),r.replace(",|",",")},f.prototype.rewriteWorker=function(t){if(!t)return t;var e=0===(t=t.toString()).indexOf("blob:"),r=0===t.indexOf("javascript:");if(!e&&!r){if(!this.startsWithOneOf(t,this.VALID_PREFIXES)&&!this.startsWith(t,"/")&&!this.startsWithOneOf(t,this.BAD_PREFIXES)){var i=this.resolveRelUrl(t,this.$wbwindow.document);return this.rewriteUrl(i,!1,"wkr_",this.$wbwindow.document)}return this.rewriteUrl(t,!1,"wkr_",this.$wbwindow.document)}var o=r?t.replace("javascript:",""):null;if(e){var n=new XMLHttpRequest;this.utilFns.XHRopen.call(n,"GET",t,!1),this.utilFns.XHRsend.call(n),o=n.responseText.replace(this.workerBlobRe,"").replace(this.rmCheckThisInjectRe,"this")}if(this.wb_info.static_prefix||this.wb_info.ww_rw_script){var s=this.$wbwindow.document.baseURI;o="(function() { self.importScripts(\'"+(this.wb_info.ww_rw_script||this.wb_info.static_prefix+"wombatWorkers.js")+"\'); new WBWombat({\'prefix\': \'"+this.wb_abs_prefix+"\', \'prefixMod\': \'"+this.wb_abs_prefix+"wkrf_/\', \'originalURL\': \'"+s+"\'}); })();"+o}var a=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(a)},f.prototype.rewriteTextNodeFn=function(t,e,r){var i,o=this.proxyToObj(t);if(r.length>0&&o.parentElement&&"STYLE"===o.parentElement.tagName){i=new Array(r.length);var n=r.length-1;2===n?(i[0]=r[0],i[1]=r[1]):1===n&&(i[0]=r[0]),i[n]=this.rewriteStyle(r[n])}else i=r;return e.__WB_orig_apply?e.__WB_orig_apply(o,i):e.apply(o,i)},f.prototype.rewriteChildNodeFn=function(t,e,r){var i=this.proxyToObj(t);if(0===r.length)return e.call(i);var o=this.rewriteElementsInArguments(r);return e.__WB_orig_apply?e.__WB_orig_apply(i,o):e.apply(i,o)},f.prototype.rewriteInsertAdjHTMLOrElemArgs=function(t,e,r,i,o){var n=this.proxyToObj(t);return n._no_rewrite?e.call(n,r,i):o?e.call(n,r,this.rewriteHtml(i)):(this.rewriteElemComplete(i),e.call(n,r,i))},f.prototype.rewriteSetTimeoutInterval=function(t,e,r){var i=this.isString(r[0]),o=i?new Array(r.length):r;if(i){this.$wbwindow.Proxy?o[0]=this.wrapScriptTextJsProxy(r[0]):o[0]=r[0].replace(/\\blocation\\b/g,"WB_wombat_$&");for(var n=1;n<r.length;++n)o[n]=this.proxyToObj(r[n])}var s=this.proxyToObj(t);return e.__WB_orig_apply?e.__WB_orig_apply(s,o):e.apply(s,o)},f.prototype.rewriteHTMLAssign=function(t,e,r){var i=r,o=t.tagName;t._no_rewrite||t instanceof this.$wbwindow.HTMLTemplateElement||("STYLE"===o?i=this.rewriteStyle(r):"SCRIPT"===o?(r&&this.IsTagRegex.test(r)&&(i=this.rewriteHtml(r)),i===r&&(this.skipWrapScriptBasedOnType(t.type)||this.skipWrapScriptTextBasedOnText(r)||(i=this.wrapScriptTextJsProxy(i)))):i=this.rewriteHtml(r)),e.call(t,i),this.wbUseAFWorker&&this.WBAutoFetchWorker&&"STYLE"===o&&null!=t.sheet&&this.WBAutoFetchWorker.deferredSheetExtraction(t.sheet)},f.prototype.rewriteEvalArg=function(t,e,r){return t(this.isString(e)&&!this.skipWrapScriptTextBasedOnText(e)?this.wrapScriptTextJsProxy(e):this.otherEvalRewrite(e),r)},f.prototype.otherEvalRewrite=function(t){return"string"!=typeof t?t:t.replace(this.IMPORT_JS_REGEX,this.styleReplacer)},f.prototype.addEventOverride=function(t,e){var r=e;e||(r=this.$wbwindow.MessageEvent.prototype);var i=this.getOrigGetter(r,t);i&&this.defGetterProp(r,t,(function(){return null!=this["_"+t]?this["_"+t]:i.call(this)}))},f.prototype.isAttrObjRewrite=function(t){if(!t)return!1;var e=t.ownerElement&&t.ownerElement.tagName;return this.shouldRewriteAttr(e,t.nodeName)},f.prototype.newAttrObjGetSet=function(t,e){var r=this,i=this.getOrigGetter(t,e),o=this.getOrigSetter(t,e);this.defProp(t,e,(function(t){var e=r.proxyToObj(this),i=t;return r.isAttrObjRewrite(e)&&(i=r.performAttributeRewrite(e.ownerElement,e.name,t,!1)),o.call(e,i)}),(function(){var t=r.proxyToObj(this),e=i.call(t);return r.isAttrObjRewrite(t)?r.extractOriginalURL(e):e}))},f.prototype.overrideAttrProps=function(){var t=this.$wbwindow.Attr.prototype;this.newAttrObjGetSet(t,"value"),this.newAttrObjGetSet(t,"nodeValue"),this.newAttrObjGetSet(t,"textContent")},f.prototype.overrideAttr=function(t,e,r){var i=this.getOrigGetter(t,e),o=this.getOrigSetter(t,e),n=this;this.defProp(t,e,(function(t){"js_"!==r||this.__$removedWBOSRC$__||n.removeWBOSRC(this);var i=n.rewriteUrl(t,!1,r);return o?o.call(this,i):n.wb_setAttribute?n.wb_setAttribute.call(this,e,i):void 0}),(function(){var t;return i?t=i.call(this):n.wb_getAttribute&&(t=n.wb_getAttribute.call(this,e)),t=n.extractOriginalURL(t),this.__WB_blank&&"about:blank"===t?"":t}))},f.prototype.overridePropExtract=function(t,e){var r=this.getOrigGetter(t,e),i=this;if(r){this.defGetterProp(t,e,(function(){var t=i.proxyToObj(this),e=r.call(t);return i.extractOriginalURL(e)}))}},f.prototype.overrideReferrer=function(t){var e=this.getOrigGetter(t,"referrer"),r=this;if(e){this.defGetterProp(t,"referrer",(function(){var t=r.proxyToObj(this),i=this.defaultView;if(i===i.__WB_replay_top)return"";var o=e.call(t);return r.extractOriginalURL(o)}))}},f.prototype.overridePropToProxy=function(t,e){var r=this.getOrigGetter(t,e);if(r){var i=this;this.defGetterProp(t,e,(function(){return i.objToProxy(r.call(this))}))}},f.prototype.overrideHistoryFunc=function(t){if(this.$wbwindow.history){var e=this.$wbwindow.history[t];if(e){this.$wbwindow.history["_orig_"+t]=e,this.$wbwindow.history.___wb_ownWindow=this.$wbwindow;var r=this,i=function(t,i,o){var n,s,a=this.___wb_ownWindow||r.$wbwindow,h=a.WB_wombat_location;if(o){var w=r._makeURLParser(o,a.document);if(s=w.href,n=r.rewriteUrl(s),s!==h.origin&&"about:blank"!==h.href&&!r.startsWith(s,h.origin+"/"))throw new DOMException("Invalid history change: "+s)}else s=h.href;e.call(this,t,i,n);var p=a.document.title;r.WBAutoFetchWorker&&a.setTimeout((function(){i||a.document.title===p||(i=a.document.title),r.WBAutoFetchWorker.fetchAsPage(n,s,i)}),100),r.sendHistoryUpdate(s,i,a)};return this.$wbwindow.history[t]=i,this.$wbwindow.History&&this.$wbwindow.History.prototype&&(this.$wbwindow.History.prototype[t]=i),i}}},f.prototype.overrideStyleAttr=function(t,e,r){var i=this.getOrigGetter(t,e),o=this.getOrigSetter(t,e),n=this,s=i,a=function(t,e,r,i,o){return e+(r||"")+n.extractOriginalURL(i)+o},h=/(url\\()([\'"])?(.*?)(\\2\\))/;i||(s=function(){var t=this.getPropertyValue(r);return t&&t.startsWith("url(")&&(t=t.replace(h,a)),t}),(o&&i||r)&&this.defProp(t,e,(function(t){var e=n.rewriteStyle(t);return o?o.call(this,e):this.setProperty(r,e),e}),s)},f.prototype.overrideStyleSetProp=function(t){var e=t.setProperty,r=this;t.setProperty=function(t,i,o){var n=r.rewriteStyle(i);return e.call(this,t,n,o)}},f.prototype.overrideAnchorAreaElem=function(t){if(t&&t.prototype){for(var e={},r=t.prototype,i=function(t,r){var i=e["set_"+t];return i?i.call(this,r):""},o=function(t){var r=e["get_"+t];return r?r.call(this):""},n=0;n<this.URL_PROPS.length;n++){var s=this.URL_PROPS[n];e["get_"+s]=this.getOrigGetter(r,s),e["set_"+s]=this.getOrigSetter(r,s),Object.defineProperty&&this.defProp(r,s,this.makeSetLocProp(s,i,o),this.makeGetLocProp(s,o),!0)}r.toString=function(){return this.href}}},f.prototype.overrideHtmlAssign=function(t,e,r){if(this.$wbwindow.DOMParser&&t&&t.prototype){var i=t.prototype,o=this.getOrigGetter(i,e),n=this.getOrigSetter(i,e);if(n){var s=this.rewriteHTMLAssign,a=this.wb_unrewrite_rx;this.defProp(i,e,(function(t){return s(this,n,t)}),r?function(){var t=o.call(this);return this._no_rewrite?t:t.replace(a,"")}:o)}}},f.prototype.overrideHtmlAssignSrcDoc=function(t,e){var r=t.prototype,i=(this.getOrigGetter(r,e),this.getOrigSetter(r,e)),o=this;this.defProp(r,e,(function(t){return this.__wb_srcdoc=t,o.wb_info.isSW?(o.blobUrlForIframe(this,t),t):o.rewriteHTMLAssign(this,i,t)}),(function(){return this.__wb_srcdoc}))},f.prototype.overrideDataSet=function(){var t=this.$wbwindow.HTMLElement.prototype,e=this.getOrigGetter(t,"dataset"),r=this;this.defProp(t,"dataset",null,(function(){var t=e.call(this);return new Proxy(t,{get(t,e,i){var o=t[e];return r.startsWithOneOf(o,r.wb_prefixes)?r.extractOriginalURL(o):o}})}))},f.prototype.overrideStyleProxy=function(t){var e=this.$wbwindow.HTMLElement.prototype,r=this.getOrigSetter(e,"style"),i=this.getOrigGetter(e,"style"),o=this;this.defProp(e,"style",r,(function(){var e=i.call(this),r={};return new Proxy(e,{set:(e,r,i)=>(t.includes(r)&&(i=o.rewriteStyle(i)),e[r]=i,!0),get(t,i,n){var s=t[i];return"function"!=typeof s||"setProperty"!==i&&!o.isNativeFunction(s)?s:(r[i]||(r[i]=s.bind(e)),r[i])}})}))},f.prototype.overrideIframeContentAccess=function(t){if(this.$wbwindow.HTMLIFrameElement&&this.$wbwindow.HTMLIFrameElement.prototype){var e=this.$wbwindow.HTMLIFrameElement.prototype,r=this.getOrigGetter(e,t);if(r){var i=this.getOrigSetter(e,t),o=this;this.defProp(e,t,i,(function(){return o.initIframeWombat(this),o.objToProxy(r.call(this))})),e["_get_"+t]=r}}},f.prototype.overrideFramesAccess=function(t){if(!t.Proxy||t!==t.frames){t.__wb_frames=t.frames;var e=this,r=function(){for(var t=0;t<this.__wb_frames.length;t++)try{e.initNewWindowWombat(this.__wb_frames[t])}catch(t){}return this.__wb_frames};this.defGetterProp(t,"frames",r),this.defGetterProp(t.Window.prototype,"frames",r)}},f.prototype.overrideSWAccess=function(t){if(t.navigator.serviceWorker&&t.navigator.serviceWorker.controller){t._WB_wombat_sw=t.navigator.serviceWorker;var e={controller:null,ready:Promise.resolve({unregister:function(){}}),register:function(){return Promise.reject()},addEventListener:function(){},removeEventListener:function(){},onmessage:null,oncontrollerchange:null,getRegistrations:function(){return Promise.resolve([])},getRegistration:function(){return Promise.resolve(void 0)},startMessages:function(){}};this.defGetterProp(t.navigator,"serviceWorker",(function(){return e}))}},f.prototype.overrideFuncThisProxyToObj=function(t,e,r){if(t){var i=r;if(!r&&t.prototype&&t.prototype[e]?i=t.prototype:!r&&t[e]&&(i=t),i){var o=this,n=i[e];i[e]=function(){return n.apply(o.proxyToObj(this),arguments)}}}},f.prototype.overrideFuncArgProxyToObj=function(t,e,r){if(t&&t.prototype){var i=r||0,o=t.prototype[e];if(o){var n=this;t.prototype[e]=function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=e===i?n.proxyToObj(arguments[e]):arguments[e];var r=n.proxyToObj(this);return o.__WB_orig_apply?o.__WB_orig_apply(r,t):o.apply(r,t)}}}},f.prototype.overrideFunctionApply=function(t){if(!t.Function.prototype.__WB_orig_apply){var e=t.Function.prototype.apply;t.Function.prototype.__WB_orig_apply=e;var r=this;t.Function.prototype.apply=function(t,e){return r.isNativeFunction(this)&&(t=r.proxyToObj(t),e=r.deproxyArrayHandlingArgumentsObj(e)),this.__WB_orig_apply(t,e)},this.wb_funToString.apply=e}},f.prototype.overrideFunctionBind=function(t){if(!t.Function.prototype.__WB_orig_bind){var e=t.Function.prototype.bind;t.Function.prototype.__WB_orig_bind=e;var r=this;t.Function.prototype.bind=function(t){var e=r.isNativeFunction(this),i=this.__WB_orig_bind.apply(this,arguments);return i.__WB_is_native_func__=e,i}}},f.prototype.overrideSrcsetAttr=function(t,e){var r="srcset",i=this.getOrigGetter(t,r),o=this.getOrigSetter(t,r),n=this;this.defProp(t,r,(function(t){var e=n.rewriteSrcset(t,this);return o?o.call(this,e):n.wb_setAttribute?n.wb_setAttribute.call(this,r,e):void 0}),(function(){var t;return i?t=i.call(this):n.wb_getAttribute&&(t=n.wb_getAttribute.call(this,r)),t=n.extractOriginalURL(t)}))},f.prototype.overrideHrefAttr=function(t,e){var r=this.getOrigGetter(t,"href"),i=this.getOrigSetter(t,"href"),o=this;this.defProp(t,"href",(function(t){var r;return r="cs_"===e&&0===t.indexOf("data:text/css")?o.rewriteInlineStyle(t):"LINK"===this.tagName?o.rewriteUrl(t,!1,o.rwModForElement(this,"href")):o.rewriteUrl(t,!1,e,this.ownerDocument),i?i.call(this,r):o.wb_setAttribute?o.wb_setAttribute.call(this,"href",r):void 0}),(function(){var t;return r?t=r.call(this):o.wb_getAttribute&&(t=o.wb_getAttribute.call(this,"href")),this._no_rewrite?t:o.extractOriginalURL(t)}))},f.prototype.overrideTextProtoGetSet=function(t,e){var r,i=this.getOrigGetter(t,e),o=this;if("data"===e){var n=this.getOrigSetter(t,e);r=function(t){var e=t;return!this._no_rewrite&&this.parentElement&&"STYLE"===this.parentElement.tagName&&(e=o.rewriteStyle(t)),n.call(this,e)}}this.defProp(t,e,r,(function(){var t=i.call(this);return!this._no_rewrite&&this.parentElement&&"STYLE"===this.parentElement.tagName?t.replace(o.wb_unrewrite_rx,""):t}))},f.prototype.overrideAnUIEvent=function(t){var e="__wb_"+t+"_overridden",r=this.$wbwindow[t];if(r&&r.prototype&&!r.prototype[e]){var i=this;this.overridePropToProxy(r.prototype,"view");var o,n="init"+t;if(r.prototype[n]){var s=r.prototype[n];r.prototype[n]=function(){var t=i.proxyToObj(this);if(0===arguments.length||arguments.length<3)return s.__WB_orig_apply?s.__WB_orig_apply(t,arguments):s.apply(t,arguments);for(var e=new Array(arguments.length),r=0;r<arguments.length;r++)e[r]=3===r?i.proxyToObj(arguments[r]):arguments[r];return s.__WB_orig_apply?s.__WB_orig_apply(t,e):s.apply(t,e)}}this.$wbwindow[t]=(o=r,function(e,r){return i.domConstructorErrorChecker(this,t,arguments),r&&(null!=r.view&&(r.view=i.proxyToObj(r.view)),null!=r.relatedTarget&&(r.relatedTarget=i.proxyToObj(r.relatedTarget)),null!=r.target&&(r.target=i.proxyToObj(r.target))),new o(e,r)}),this.$wbwindow[t].prototype=r.prototype,Object.defineProperty(this.$wbwindow[t].prototype,"constructor",{value:this.$wbwindow[t]}),this.$wbwindow[t].prototype[e]=!0}},f.prototype.rewriteParentNodeFn=function(t,e,r){var i=this._no_rewrite?r:this.rewriteElementsInArguments(r),o=this.proxyToObj(t);return e.__WB_orig_apply?e.__WB_orig_apply(o,i):e.apply(o,i)},f.prototype.overrideParentNodeAppendPrepend=function(t){var e=this.rewriteParentNodeFn;if(t.prototype.append){var r=t.prototype.append;t.prototype.append=function(){return e(this,r,arguments)}}if(t.prototype.prepend){var i=t.prototype.prepend;t.prototype.prepend=function(){return e(this,i,arguments)}}},f.prototype.overrideShadowDom=function(){this.$wbwindow.ShadowRoot&&this.$wbwindow.ShadowRoot.prototype&&(this.overrideHtmlAssign(this.$wbwindow.ShadowRoot,"innerHTML",!0),this.overrideParentNodeAppendPrepend(this.$wbwindow.ShadowRoot))},f.prototype.overrideChildNodeInterface=function(t,e){if(t&&t.prototype){var r=e?this.rewriteTextNodeFn:this.rewriteChildNodeFn;if(t.prototype.before){var i=t.prototype.before;t.prototype.before=function(){return r(this,i,arguments)}}if(t.prototype.after){var o=t.prototype.after;t.prototype.after=function(){return r(this,o,arguments)}}if(t.prototype.replaceWith){var n=t.prototype.replaceWith;t.prototype.replaceWith=function(){return r(this,n,arguments)}}}},f.prototype.initTextNodeOverrides=function(){var t=this.$wbwindow.Text;if(t&&t.prototype){var e=t.prototype,r=this.rewriteTextNodeFn;if(e.appendData){var i=e.appendData;e.appendData=function(){return r(this,i,arguments)}}if(e.insertData){var o=e.insertData;e.insertData=function(){return r(this,o,arguments)}}if(e.replaceData){var n=e.replaceData;e.replaceData=function(){return r(this,n,arguments)}}this.overrideChildNodeInterface(t,!0),this.overrideTextProtoGetSet(e,"data"),this.overrideTextProtoGetSet(e,"wholeText")}},f.prototype.initAttrOverrides=function(){this.overrideHrefAttr(this.$wbwindow.HTMLLinkElement.prototype,"cs_"),this.overrideHrefAttr(this.$wbwindow.CSSStyleSheet.prototype,"cs_"),this.overrideHrefAttr(this.$wbwindow.HTMLBaseElement.prototype,"mp_"),this.overrideSrcsetAttr(this.$wbwindow.HTMLImageElement.prototype,"im_"),this.overrideSrcsetAttr(this.$wbwindow.HTMLSourceElement.prototype,"oe_"),this.overrideAttr(this.$wbwindow.HTMLVideoElement.prototype,"poster","im_"),this.overrideAttr(this.$wbwindow.HTMLAudioElement.prototype,"poster","im_"),this.overrideAttr(this.$wbwindow.HTMLImageElement.prototype,"src","im_"),this.overrideAttr(this.$wbwindow.HTMLInputElement.prototype,"src","oe_"),this.overrideAttr(this.$wbwindow.HTMLEmbedElement.prototype,"src","oe_"),this.overrideAttr(this.$wbwindow.HTMLMediaElement.prototype,"src","oe_"),this.overrideAttr(this.$wbwindow.HTMLVideoElement.prototype,"src","oe_"),this.overrideAttr(this.$wbwindow.HTMLAudioElement.prototype,"src","oe_"),this.overrideAttr(this.$wbwindow.HTMLSourceElement.prototype,"src","oe_"),window.HTMLTrackElement&&window.HTMLTrackElement.prototype&&this.overrideAttr(this.$wbwindow.HTMLTrackElement.prototype,"src","oe_"),this.overrideAttr(this.$wbwindow.HTMLIFrameElement.prototype,"src","if_"),this.$wbwindow.HTMLFrameElement&&this.$wbwindow.HTMLFrameElement.prototype&&this.overrideAttr(this.$wbwindow.HTMLFrameElement.prototype,"src","fr_"),this.overrideAttr(this.$wbwindow.HTMLScriptElement.prototype,"src","js_"),this.overrideAttr(this.$wbwindow.HTMLObjectElement.prototype,"data","oe_"),this.overrideAttr(this.$wbwindow.HTMLObjectElement.prototype,"codebase","oe_"),this.overrideAttr(this.$wbwindow.HTMLMetaElement.prototype,"content","mp_"),this.overrideAttr(this.$wbwindow.HTMLFormElement.prototype,"action","mp_"),this.overrideAttr(this.$wbwindow.HTMLQuoteElement.prototype,"cite","mp_"),this.overrideAttr(this.$wbwindow.HTMLModElement.prototype,"cite","mp_"),this.overrideAnchorAreaElem(this.$wbwindow.HTMLAnchorElement),this.overrideAnchorAreaElem(this.$wbwindow.HTMLAreaElement);var t=this.$wbwindow.CSSStyleDeclaration.prototype,e={background:"background",backgroundImage:"background-image",cursor:"cursor",listStyle:"list-style",listStyleImage:"list-style-image",border:"border",borderImage:"border-image",borderImageSource:"border-image-source",maskImage:"mask-image"};for(var[r,i]of(this.overrideStyleProxy(Object.values(e)),this.$wbwindow.CSS2Properties&&(t=this.$wbwindow.CSS2Properties.prototype),this.overrideStyleAttr(t,"cssText"),Object.entries(e)))this.overrideStyleAttr(t,r,i);if(this.overrideStyleSetProp(t),this.$wbwindow.CSSStyleSheet&&this.$wbwindow.CSSStyleSheet.prototype){var o=this,n=this.$wbwindow.CSSStyleSheet.prototype.insertRule;this.$wbwindow.CSSStyleSheet.prototype.insertRule=function(t,e){return n.call(this,o.rewriteStyle(t),e)}}this.$wbwindow.CSSRule&&this.$wbwindow.CSSRule.prototype&&this.overrideStyleAttr(this.$wbwindow.CSSRule.prototype,"cssText")},f.prototype.initCSSOMOverrides=function(){var t,r=this;if(this.$wbwindow.CSSStyleValue){var i=function(t,e){var i=t[e];t[e]=function(t,e){if(null==e)return i.call(this,t,e);var o=r.noExceptRewriteStyle(e);return i.call(this,t,o)}};this.$wbwindow.CSSStyleValue.parse&&this.$wbwindow.CSSStyleValue.parse.toString().indexOf("[native code]")>0&&i(this.$wbwindow.CSSStyleValue,"parse"),this.$wbwindow.CSSStyleValue.parseAll&&this.$wbwindow.CSSStyleValue.parseAll.toString().indexOf("[native code]")>0&&i(this.$wbwindow.CSSStyleValue,"parseAll")}if(this.$wbwindow.CSSKeywordValue&&this.$wbwindow.CSSKeywordValue.prototype){var o=this.$wbwindow.CSSKeywordValue;this.$wbwindow.CSSKeywordValue=(t=this.$wbwindow.CSSKeywordValue,function(e){return r.domConstructorErrorChecker(this,"CSSKeywordValue",arguments),new t(r.rewriteStyle(e))}),this.$wbwindow.CSSKeywordValue.prototype=o.prototype,Object.defineProperty(this.$wbwindow.CSSKeywordValue.prototype,"constructor",{value:this.$wbwindow.CSSKeywordValue}),e(this.$wbwindow.CSSKeywordValue,"CSSKeywordValue")}if(this.$wbwindow.StylePropertyMap&&this.$wbwindow.StylePropertyMap.prototype){var n=this.$wbwindow.StylePropertyMap.prototype.set;this.$wbwindow.StylePropertyMap.prototype.set=function(){if(arguments.length<=1)return n.__WB_orig_apply?n.__WB_orig_apply(this,arguments):n.apply(this,arguments);var t=new Array(arguments.length);t[0]=arguments[0];for(var e=1;e<arguments.length;e++)t[e]=r.noExceptRewriteStyle(arguments[e]);return n.__WB_orig_apply?n.__WB_orig_apply(this,t):n.apply(this,t)};var s=this.$wbwindow.StylePropertyMap.prototype.append;this.$wbwindow.StylePropertyMap.prototype.append=function(){if(arguments.length<=1)return n.__WB_orig_apply?s.__WB_orig_apply(this,arguments):s.apply(this,arguments);var t=new Array(arguments.length);t[0]=arguments[0];for(var e=1;e<arguments.length;e++)t[e]=r.noExceptRewriteStyle(arguments[e]);return s.__WB_orig_apply?s.__WB_orig_apply(this,t):s.apply(this,t)}}},f.prototype.initAudioOverride=function(){if(this.$wbwindow.Audio){var t,r=this.$wbwindow.Audio,i=this;this.$wbwindow.Audio=(t=this.$wbwindow.Audio,function(e){return i.domConstructorErrorChecker(this,"Audio"),new t(i.rewriteUrl(e,!0,"oe_"))}),this.$wbwindow.Audio.prototype=r.prototype,Object.defineProperty(this.$wbwindow.Audio.prototype,"constructor",{value:this.$wbwindow.Audio}),e(this.$wbwindow.Audio,"HTMLAudioElement")}},f.prototype.initBadPrefixes=function(t){this.BAD_PREFIXES=["http:"+t,"https:"+t,"http:/"+t,"https:/"+t]},f.prototype.initCryptoRandom=function(){if(this.$wbwindow.crypto&&this.$wbwindow.Crypto){var t=this,e=function(e){for(var r=0;r<e.length;r++)e[r]=parseInt(4294967296*t.$wbwindow.Math.random());return e};this.$wbwindow.Crypto.prototype.getRandomValues=e,this.$wbwindow.crypto.getRandomValues=e}},f.prototype.initDateOverride=function(t){if(!this.$wbwindow.__wb_Date_now){var e,r=1e3*parseInt(t),i=this.$wbwindow.Date.now()-(r-0),o=this.$wbwindow.Date,n=this.$wbwindow.Date.UTC,s=this.$wbwindow.Date.parse,a=this.$wbwindow.Date.now;this.$wbwindow.__wb_Date_now=a,this.$wbwindow.Date=(e=this.$wbwindow.Date,function(t,r,o,n,s,h,w){return void 0===t?new e(a()-i):void 0===r?new e(t):void 0===o?new e(t,r):void 0===n?new e(t,r,o):void 0===s?new e(t,r,o,n):void 0===h?new e(t,r,o,n,s):void 0===w?new e(t,r,o,n,s,h):new e(t,r,o,n,s,h,w)}),this.$wbwindow.Date.prototype=o.prototype,this.$wbwindow.Date.now=function(){return a()-i},this.$wbwindow.Date.UTC=n,this.$wbwindow.Date.parse=s,this.$wbwindow.Date.__WB_timediff=i,this.$wbwindow.Date.prototype.getTimezoneOffset=function(){return 0};var h=this.$wbwindow.Date.prototype.toString;this.$wbwindow.Date.prototype.toString=function(){return h.call(this).split(" GMT")[0]+" GMT+0000 (Coordinated Universal Time)"};var w=this.$wbwindow.Date.prototype.toTimeString;this.$wbwindow.Date.prototype.toTimeString=function(){return w.call(this).split(" GMT")[0]+" GMT+0000 (Coordinated Universal Time)"},Object.defineProperty(this.$wbwindow.Date.prototype,"constructor",{value:this.$wbwindow.Date})}},f.prototype.initBlobOverride=function(){if(this.$wbwindow.Blob&&!this.wb_info.isSW){var t,e=this.$wbwindow.Blob,r=this;this.$wbwindow.Blob=(t=this.$wbwindow.Blob,function(e,i){return!i||"application/xhtml+xml"!==i.type&&"text/html"!==i.type||1===e.length&&"string"==typeof e[0]&&r.startsWith(e[0],"<!DOCTYPE html>")&&(e[0]=r.rewriteHtml(e[0]),i.type="text/html"),new t(e,i)}),this.$wbwindow.Blob.prototype=e.prototype}},f.prototype.initWSOverride=function(){this.$wbwindow.WebSocket&&this.$wbwindow.WebSocket.prototype&&(this.$wbwindow.WebSocket=function(t){function e(t,e){this.addEventListener=function(){},this.removeEventListener=function(){},this.close=function(){},this.send=function(t){console.log("ws send",t)},this.protocol=e&&e.length?e[0]:"",this.url=t,this.readyState=0}return e.CONNECTING=0,e.OPEN=1,e.CLOSING=2,e.CLOSED=3,e}(this.$wbwindow.WebSocket),Object.defineProperty(this.$wbwindow.WebSocket.prototype,"constructor",{value:this.$wbwindow.WebSocket}),e(this.$wbwindow.WebSocket,"WebSocket"))},f.prototype.initDocTitleOverride=function(){var t=this.getOrigGetter(this.$wbwindow.document,"title"),e=this.getOrigSetter(this.$wbwindow.document,"title"),r=this;this.defProp(this.$wbwindow.document,"title",(function(t){var i=e.call(this,t),o={wb_type:"title",title:t};return r.sendTopMessage(o),i}),t)},f.prototype.initFontFaceOverride=function(){if(this.$wbwindow.FontFace){var t,r=this,i=this.$wbwindow.FontFace;this.$wbwindow.FontFace=(t=this.$wbwindow.FontFace,function(e,i,o){r.domConstructorErrorChecker(this,"FontFace",arguments,2);var n=i;return null!=i&&(n="string"!=typeof i?r.rewriteInlineStyle(i.toString()):r.rewriteInlineStyle(i)),new t(e,n,o)}),this.$wbwindow.FontFace.prototype=i.prototype,Object.defineProperty(this.$wbwindow.FontFace.prototype,"constructor",{value:this.$wbwindow.FontFace}),e(this.$wbwindow.FontFace,"FontFace")}},f.prototype.initFixedRatio=function(t){try{this.$wbwindow.devicePixelRatio=t}catch(t){}if(Object.defineProperty)try{Object.defineProperty(this.$wbwindow,"devicePixelRatio",{value:t,writable:!1})}catch(t){}},f.prototype.initPaths=function(t){t.wombat_opts=t.wombat_opts||{},Object.assign(this.wb_info,t),this.wb_opts=t.wombat_opts,this.wb_replay_prefix=t.prefix,this.wb_is_proxy=t.proxy_magic||!this.wb_replay_prefix,this.wb_info.top_host=this.wb_info.top_host||"*",this.wb_curr_host=this.$wbwindow.location.protocol+"//"+this.$wbwindow.location.host,this.wb_info.wombat_opts=this.wb_info.wombat_opts||{},this.wb_orig_scheme=t.wombat_scheme+"://",this.wb_orig_origin=this.wb_orig_scheme+t.wombat_host,this.wb_abs_prefix=this.wb_replay_prefix,!t.is_live&&t.wombat_ts?this.wb_capture_date_part="/"+t.wombat_ts+"/":this.wb_capture_date_part="",this.initBadPrefixes(this.wb_replay_prefix),this.initCookiePreset()},f.prototype.initSeededRandom=function(t){this.$wbwindow.Math.seed=parseInt(t);var e=this;this.$wbwindow.Math.random=function(){return e.$wbwindow.Math.seed=(9301*e.$wbwindow.Math.seed+49297)%233280,e.$wbwindow.Math.seed/233280}},f.prototype.initHistoryOverrides=function(){this.overrideHistoryFunc("pushState"),this.overrideHistoryFunc("replaceState");var t=this;this.$wbwindow.addEventListener("popstate",(function(e){t.sendHistoryUpdate(t.$wbwindow.WB_wombat_location.href,t.$wbwindow.document.title)}))},f.prototype.initCookiePreset=function(){if(this.wb_info.presetCookie)for(var t=this.wb_info.presetCookie.split(";"),e=0;e<t.length;e++)this.$wbwindow.document.cookie=t[e].trim()+"; Path="+this.rewriteUrl("./",!0)},f.prototype.initHTTPOverrides=function(){var t,r,i=this;if(this.overridePropExtract(this.$wbwindow.XMLHttpRequest.prototype,"responseURL"),this.wb_info.isSW){var o=this.$wbwindow.XMLHttpRequest.prototype.open,n=this.$wbwindow.XMLHttpRequest.prototype.setRequestHeader,s=this.$wbwindow.XMLHttpRequest.prototype.send;this.utilFns.XHRopen=o,this.utilFns.XHRsend=s,this.$wbwindow.XMLHttpRequest.prototype.open=function(){this.__WB_xhr_open_arguments=arguments,this.__WB_xhr_headers=new Headers},this.$wbwindow.XMLHttpRequest.prototype.setRequestHeader=function(t,e){this.__WB_xhr_headers.set(t,e)};i=this;var a=!!this.wb_info.convert_post_to_get;this.$wbwindow.XMLHttpRequest.prototype.send=async function(t){if(a&&("POST"===this.__WB_xhr_open_arguments[0]||"PUT"===this.__WB_xhr_open_arguments[0])){var e={url:this.__WB_xhr_open_arguments[1],method:this.__WB_xhr_open_arguments[0],headers:this.__WB_xhr_headers,postData:t};_(e)&&(this.__WB_xhr_open_arguments[1]=e.url,this.__WB_xhr_open_arguments[0]="GET",t=null)}if(this.__WB_xhr_open_arguments.length>2&&!this.__WB_xhr_open_arguments[2]&&-1===navigator.userAgent.indexOf("Firefox")&&(this.__WB_xhr_open_arguments[2]=!0,console.warn("wombat.js: Sync XHR not supported in SW-based replay in this browser, converted to async")),this._no_rewrite||(this.__WB_xhr_open_arguments[1]=i.rewriteUrl(this.__WB_xhr_open_arguments[1])),o.apply(this,this.__WB_xhr_open_arguments),!i.startsWith(this.__WB_xhr_open_arguments[1],"data:")){for(const[t,e]of this.__WB_xhr_headers.entries())n.call(this,t,e);n.call(this,"X-Pywb-Requested-With","XMLHttpRequest")}return s.call(this,t)}}else if(this.$wbwindow.XMLHttpRequest.prototype.open){var h=this.$wbwindow.XMLHttpRequest.prototype.open;this.utilFns.XHRopen=h,this.utilFns.XHRsend=this.$wbwindow.XMLHttpRequest.prototype.send,this.$wbwindow.XMLHttpRequest.prototype.open=function(t,e,r,o,n){var s=this._no_rewrite?e:i.rewriteUrl(e),a=!0;null==r||r||(a=!1),h.call(this,t,s,a,o,n),i.startsWith(s,"data:")||this.setRequestHeader("X-Pywb-Requested-With","XMLHttpRequest")}}if(this.$wbwindow.fetch){var w=this.$wbwindow.fetch;this.$wbwindow.fetch=function(t,e){var r=t,o=typeof t;if("string"===o)r=i.rewriteUrl(t);else if("object"===o&&t.url){var n=i.rewriteUrl(t.url);n!==t.url&&(r=new Request(n,e))}else"object"===o&&t.href&&(r=i.rewriteUrl(t.href));if(e||(e={}),void 0===e.credentials)try{e.credentials="include"}catch(t){}return w.call(i.proxyToObj(this),r,e)}}if(this.$wbwindow.Request&&this.$wbwindow.Request.prototype){var p=this.$wbwindow.Request;this.$wbwindow.Request=(t=this.$wbwindow.Request,function(e,r){i.domConstructorErrorChecker(this,"Request",arguments);var o=r||{},n=e,s=typeof e;switch(s){case"string":n=i.rewriteUrl(e);break;case"object":if(n=e,e.url){var a=i.rewriteUrl(e.url);a!==e.url&&(n=new t(a,e))}else e.href&&(n=i.rewriteUrl(e.toString(),!0))}return o.credentials="include",o.referrer&&(o.referrer=i.rewriteUrl(o.referrer)),new t(n,o)}),this.$wbwindow.Request.prototype=p.prototype,Object.defineProperty(this.$wbwindow.Request.prototype,"constructor",{value:this.$wbwindow.Request}),this.overridePropExtract(this.$wbwindow.Request.prototype,"url"),this.overridePropExtract(this.$wbwindow.Request.prototype,"referrer")}if(this.$wbwindow.Response&&this.$wbwindow.Response.prototype){var c=this.$wbwindow.Response.prototype.redirect;this.$wbwindow.Response.prototype.redirect=function(t,e){var r=i.rewriteUrl(t,!0,null,i.$wbwindow.document);return c.call(this,r,e)},this.overridePropExtract(this.$wbwindow.Response.prototype,"url")}if(this.$wbwindow.EventSource&&this.$wbwindow.EventSource.prototype){var l=this.$wbwindow.EventSource;this.$wbwindow.EventSource=(r=this.$wbwindow.EventSource,function(t,e){i.domConstructorErrorChecker(this,"EventSource",arguments);var o=t;return null!=t&&(o=i.rewriteUrl(t)),new r(o,e)}),this.$wbwindow.EventSource.prototype=l.prototype,Object.defineProperty(this.$wbwindow.EventSource.prototype,"constructor",{value:this.$wbwindow.EventSource}),e(this.$wbwindow.EventSource,"EventSource")}},f.prototype.initElementGetSetAttributeOverride=function(){if(!this.wb_opts.skip_setAttribute&&this.$wbwindow.Element&&this.$wbwindow.Element.prototype){var t=this,e=this.$wbwindow.Element.prototype;if(e.setAttribute){var r=e.setAttribute;e._orig_setAttribute=r,e.setAttribute=function(e,i){var o=i;if(e&&"string"==typeof o){var n=e.toLowerCase();if("LINK"===this.tagName&&"href"===n&&0===o.indexOf("data:text/css"))o=t.rewriteInlineStyle(i);else if("style"===n)o=t.rewriteStyle(i);else if("srcset"===n||"imagesrcset"===n&&"LINK"===this.tagName)o=t.rewriteSrcset(i,this);else{t.shouldRewriteAttr(this.tagName,n)&&(t.removeWBOSRC(this),this._no_rewrite||(o=t.rewriteUrl(i,!1,t.rwModForElement(this,n))))}}return r.call(this,e,o)}}if(e.getAttribute){var i=e.getAttribute;this.wb_getAttribute=i,e.getAttribute=function(e){var r=i.call(this,e);if(null===r)return r;var o=e;if(e&&(o=e.toLowerCase()),t.shouldRewriteAttr(this.tagName,o)){var n=t.retrieveWBOSRC(this);return n||t.extractOriginalURL(r)}return t.startsWith(o,"data-")&&t.startsWithOneOf(r,t.wb_prefixes)?t.extractOriginalURL(r):r}}}},f.prototype.initSvgImageOverrides=function(){if(this.$wbwindow.SVGImageElement){var t=this.$wbwindow.SVGImageElement.prototype,e=t.getAttribute,r=t.getAttributeNS,i=t.setAttribute,o=t.setAttributeNS,n=this;t.getAttribute=function(t){var r=e.call(this,t);return t.indexOf("xlink:href")>=0||"href"===t?n.extractOriginalURL(r):r},t.getAttributeNS=function(t,e){var i=r.call(this,t,e);return e.indexOf("xlink:href")>=0||"href"===e?n.extractOriginalURL(i):i},t.setAttribute=function(t,e){var r=e;return(t.indexOf("xlink:href")>=0||"href"===t)&&(r=n.rewriteUrl(e)),i.call(this,t,r)},t.setAttributeNS=function(t,e,r){var i=r;return(e.indexOf("xlink:href")>=0||"href"===e)&&(i=n.rewriteUrl(r)),o.call(this,t,e,i)}}},f.prototype.initCreateElementNSFix=function(){if(this.$wbwindow.document.createElementNS&&this.$wbwindow.Document.prototype.createElementNS){var t=this.$wbwindow.document.createElementNS,e=this,r=function(r,i){return t.call(e.proxyToObj(this),e.extractOriginalURL(r),i)};this.$wbwindow.Document.prototype.createElementNS=r,this.$wbwindow.document.createElementNS=r}},f.prototype.initInsertAdjacentElementHTMLOverrides=function(){var t=this.$wbwindow.Element;if(t&&t.prototype){var e=t.prototype,r=this.rewriteInsertAdjHTMLOrElemArgs;if(e.insertAdjacentHTML){var i=e.insertAdjacentHTML;e.insertAdjacentHTML=function(t,e){return r(this,i,t,e,!0)}}if(e.insertAdjacentElement){var o=e.insertAdjacentElement;e.insertAdjacentElement=function(t,e){return r(this,o,t,e,!1)}}}},f.prototype.initDomOverride=function(){var t=this.$wbwindow.Node;if(t&&t.prototype){var e=this.rewriteNodeFuncArgs;if(t.prototype.appendChild){var r=t.prototype.appendChild;t.prototype.appendChild=function(t,i){return e(this,r,t,i)}}if(t.prototype.insertBefore){var i=t.prototype.insertBefore;t.prototype.insertBefore=function(t,r){return e(this,i,t,r)}}if(t.prototype.replaceChild){var o=t.prototype.replaceChild;t.prototype.replaceChild=function(t,r){return e(this,o,t,r)}}this.overridePropToProxy(t.prototype,"ownerDocument"),this.overridePropToProxy(this.$wbwindow.HTMLHtmlElement.prototype,"parentNode"),this.overridePropToProxy(this.$wbwindow.Event.prototype,"target")}this.$wbwindow.Element&&this.$wbwindow.Element.prototype&&(this.overrideParentNodeAppendPrepend(this.$wbwindow.Element),this.overrideChildNodeInterface(this.$wbwindow.Element,!1)),this.$wbwindow.DocumentFragment&&this.$wbwindow.DocumentFragment.prototype&&this.overrideParentNodeAppendPrepend(this.$wbwindow.DocumentFragment)},f.prototype.initDocOverrides=function(t){if(Object.defineProperty){this.overrideReferrer(t),this.defGetterProp(t,"origin",(function(){return this.WB_wombat_location.origin})),this.defGetterProp(this.$wbwindow,"origin",(function(){return this.WB_wombat_location.origin}));var e=this;this.defProp(t,"domain",(function(t){var r=this.WB_wombat_location;r&&e.endsWith(r.hostname,t)&&(this.__wb_domain=t)}),(function(){return this.__wb_domain||this.WB_wombat_location.hostname}))}},f.prototype.initDocWriteOpenCloseOverride=function(){if(this.$wbwindow.DOMParser){var t=this.$wbwindow.Document.prototype,e=this.$wbwindow.document;this._writeBuff="";var r=this,i=e.write,o=function(){return d(this,i,u(arguments))};e.write=o,t.write=o;var n=e.writeln,s=function(){return d(this,n,u(arguments))};e.writeln=s,t.writeln=s;var a=e.open,h=function(){var t,e=r.proxyToObj(this);if(3===arguments.length){var i=r.rewriteUrl(arguments[0],!1,"mp_");t=a.call(e,i,arguments[1],arguments[2]),r.initNewWindowWombat(t,arguments[0])}else t=a.call(e),_()?r._writeBuff="":r.initNewWindowWombat(e.defaultView);return t};e.open=h,t.open=h;var w=e.close,p=function(){if(r._writeBuff)return r.blobUrlForIframe(r.$wbwindow.frameElement,r._writeBuff),void(r._writeBuff="");var t=r.proxyToObj(this);return r.initNewWindowWombat(t.defaultView),w.__WB_orig_apply?w.__WB_orig_apply(t,arguments):w.apply(t,arguments)};e.close=p,t.close=p;var c=this.getOrigGetter(t,"body"),l=this.getOrigSetter(t,"body");c&&l&&this.defProp(t,"body",(function(t){return t&&(t instanceof HTMLBodyElement||t instanceof HTMLFrameSetElement)&&r.rewriteElemComplete(t),l.call(r.proxyToObj(this),t)}),c)}function _(){return r.wb_info.isSW&&r.$wbwindow.frameElement}function u(t){return 0===t.length?"":1===t.length?t[0]:Array.prototype.join.call(t,"")}function d(t,e,i){r.$wbwindow;if(!_()){i=r.rewriteHtml(i,!0);var o=r.proxyToObj(t),n=e.call(o,i);return r.initNewWindowWombat(o.defaultView),n}r._writeBuff+=i}},f.prototype.initIframeWombat=function(t){var e;e=t._get_contentWindow?t._get_contentWindow.call(t):t.contentWindow;try{if(!e||e===this.$wbwindow||e._skip_wombat||e._wb_wombat)return}catch(t){return}var r=t.src;this.initNewWindowWombat(e,r)},f.prototype.initNewWindowWombat=function(t,e){var r=!1;if(t&&!t._wb_wombat){if(e&&""!==e&&!this.startsWithOneOf(e,["about:blank","javascript:"])||(r=!0),!r&&this.wb_info.isSW){var i=this.extractOriginalURL(e);("about:blank"===i||i.startsWith("srcdoc:")||i.startsWith("blob:"))&&(r=!0)}if(r){var o={};Object.assign(o,this.wb_info);var n=new f(t,o);t._wb_wombat=n.wombatInit()}else this.initProtoPmOrigin(t),this.initPostMessageOverride(t),this.initMessageEventOverride(t),this.initCheckThisFunc(t),this.initImportWrapperFunc(t)}},f.prototype.initTimeoutIntervalOverrides=function(){var t=this.rewriteSetTimeoutInterval;if(this.$wbwindow.setTimeout&&!this.$wbwindow.setTimeout.__$wbpatched$__){var e=this.$wbwindow.setTimeout;this.$wbwindow.setTimeout=function(){return t(this,e,arguments)},this.$wbwindow.setTimeout.__$wbpatched$__=!0}if(this.$wbwindow.setInterval&&!this.$wbwindow.setInterval.__$wbpatched$__){var r=this.$wbwindow.setInterval;this.$wbwindow.setInterval=function(){return t(this,r,arguments)},this.$wbwindow.setInterval.__$wbpatched$__=!0}},f.prototype.initWorkerOverrides=function(){var t,e,r=this;if(this.$wbwindow.Worker&&!this.$wbwindow.Worker._wb_worker_overridden){var i=this.$wbwindow.Worker;this.$wbwindow.Worker=(t=i,function(e,i){return r.domConstructorErrorChecker(this,"Worker",arguments),new t(r.rewriteWorker(e),i)}),this.$wbwindow.Worker.prototype=i.prototype,Object.defineProperty(this.$wbwindow.Worker.prototype,"constructor",{value:this.$wbwindow.Worker}),this.$wbwindow.Worker._wb_worker_overridden=!0}if(this.$wbwindow.SharedWorker&&!this.$wbwindow.SharedWorker.__wb_sharedWorker_overridden){var o=this.$wbwindow.SharedWorker;this.$wbwindow.SharedWorker=(e=o,function(t,i){return r.domConstructorErrorChecker(this,"SharedWorker",arguments),new e(r.rewriteWorker(t),i)}),this.$wbwindow.SharedWorker.prototype=o.prototype,Object.defineProperty(this.$wbwindow.SharedWorker.prototype,"constructor",{value:this.$wbwindow.SharedWorker}),this.$wbwindow.SharedWorker.__wb_sharedWorker_overridden=!0}if(this.$wbwindow.ServiceWorkerContainer&&this.$wbwindow.ServiceWorkerContainer.prototype&&this.$wbwindow.ServiceWorkerContainer.prototype.register){var n=this.$wbwindow.ServiceWorkerContainer.prototype.register;this.$wbwindow.ServiceWorkerContainer.prototype.register=function(t,e){var i=new URL(t,r.$wbwindow.document.baseURI).href,o=r.getPageUnderModifier();return e&&e.scope?e.scope=r.rewriteUrl(e.scope,!1,o):e={scope:r.rewriteUrl("/",!1,o)},n.call(this,r.rewriteUrl(i,!1,"sw_"),e)}}if(this.$wbwindow.Worklet&&this.$wbwindow.Worklet.prototype&&this.$wbwindow.Worklet.prototype.addModule&&!this.$wbwindow.Worklet.__wb_workerlet_overridden){var s=this.$wbwindow.Worklet.prototype.addModule;this.$wbwindow.Worklet.prototype.addModule=function(t,e){var i=r.rewriteUrl(t,!1,"js_");return s.call(this,i,e)},this.$wbwindow.Worklet.__wb_workerlet_overridden=!0}},f.prototype.initLocOverride=function(t,e,r){if(Object.defineProperty)for(var i=0;i<this.URL_PROPS.length;i++){var o=this.URL_PROPS[i];this.defProp(t,o,this.makeSetLocProp(o,e,r),this.makeGetLocProp(o,r),!0)}},f.prototype.initWombatLoc=function(t){if(!(!t||t.WB_wombat_location&&t.document.WB_wombat_location)){var e=new h(t.location,this),r=this;if(Object.defineProperty){this.defProp(t.Object.prototype,"WB_wombat_location",(function(e){var i=this._WB_wombat_location||this.defaultView&&this.defaultView._WB_wombat_location;i&&(i.href=e),t.location=r.rewriteUrl(e)}),(function(){return this._WB_wombat_location||this.defaultView&&this.defaultView._WB_wombat_location||this.location})),this.initProtoPmOrigin(t),t._WB_wombat_location=e}else t.WB_wombat_location=e,setTimeout(this.checkAllLocations,500),setInterval(this.checkAllLocations,500)}},f.prototype.initProtoPmOrigin=function(t){if(!t.Object.prototype.__WB_pmw){var e=function(t){return this.__WB_source=t,this};try{t.Object.defineProperty(t.Object.prototype,"__WB_pmw",{get:function(){return e},set:function(){},configurable:!0,enumerable:!1})}catch(t){}t.__WB_check_loc=function(t,e){if(t instanceof Location||t instanceof h){if(e)for(var r=0;r<e.length;r++)if(t===e[r])return{};return this.WB_wombat_location}return{}}}},f.prototype.initCheckThisFunc=function(t){try{t.Object.prototype[this.WB_CHECK_THIS_FUNC]||t.Object.defineProperty(t.Object.prototype,this.WB_CHECK_THIS_FUNC,{configutable:!1,enumerable:!1,value:function(t){return t&&t._WB_wombat_obj_proxy?t._WB_wombat_obj_proxy:t}})}catch(t){}},f.prototype.initImportWrapperFunc=function(t){var e=this;t.____wb_rewrite_import__=function(t,r){return t&&(r=new URL(r,t).href),import(e.rewriteUrl(r,!1,"esm_"))}},f.prototype.overrideGetOwnPropertyNames=function(t){var e=t.Object.getOwnPropertyNames,r=[this.WB_CHECK_THIS_FUNC,"WB_wombat_location","__WB_pmw","WB_wombat_top","WB_wombat_eval","WB_wombat_runEval"];try{t.Object.defineProperty(t.Object,"getOwnPropertyNames",{value:function(t){for(var i=e(t),o=0;o<r.length;o++){var n=i.indexOf(r[o]);n>=0&&i.splice(n,1)}return i}})}catch(t){console.log(t)}},f.prototype.initHashChange=function(){if(this.$wbwindow.__WB_top_frame){var t=this;this.$wbwindow.addEventListener("message",(function(e){if(e.data&&e.data.from_top){var r=e.data.message;r.wb_type&&"outer_hashchange"===r.wb_type&&t.$wbwindow.location.hash!=r.hash&&(t.$wbwindow.location.hash=r.hash)}})),this.$wbwindow.addEventListener("hashchange",(function(){var e={wb_type:"hashchange",hash:t.$wbwindow.location.hash};t.sendTopMessage(e)}))}},f.prototype.initPostMessageOverride=function(t){if(t.postMessage&&!t.__orig_postMessage){var e=t.postMessage,r=this;t.__orig_postMessage=e;var i=function(i,o,n,s){var a,h,w=r.proxyToObj(this);if(w||((w=t).__WB_source=t),w.__WB_source&&w.__WB_source.WB_wombat_location){var p=w.__WB_source;if(a=p.WB_wombat_location.origin,w.__WB_win_id||(w.__WB_win_id={},w.__WB_counter=0),!p.__WB_id){var c=w.__WB_counter;p.__WB_id=c+p.WB_wombat_location.href,w.__WB_counter+=1}w.__WB_win_id[p.__WB_id]=p,h=p.__WB_id,w.__WB_source=void 0}else a=window.WB_wombat_location.origin;var l=o;l===w.location.origin&&(l=a);var _={from:a,to_origin:l,src_id:h,message:i,from_top:s};if("*"!==o){if("null"===w.location.origin||""===w.location.origin)return;o=w.location.origin}return e.call(w,_,o,n)};t.postMessage=i,t.Window.prototype.postMessage=i;var o=null,n=(o=t.EventTarget&&t.EventTarget.prototype?t.EventTarget.prototype:t).addEventListener;o.addEventListener=function(t,e,i){var o,s=r.proxyToObj(this);if("message"===t?o=r.message_listeners.add_or_get(e,(function(){return c(e,s,r)})):"storage"===t?r.storage_listeners.add_or_get(e,(function(){return p(e,s)})):o=e,o)return n.call(s,t,o,i)};var s=o.removeEventListener;o.removeEventListener=function(t,e,i){var o,n=r.proxyToObj(this);if("message"===t?o=r.message_listeners.remove(e):"storage"===t?r.storage_listeners.remove(e):o=e,o)return s.call(n,t,o,i)};var a=function(e,i){var o=r.getOrigSetter(t,e);r.defProp(t,e,(function(t){this["__orig_"+e]=t;var n=r.proxyToObj(this),s=t?i(t,n,r):t;return o.call(n,s)}),(function(){return this["__orig_"+e]}))};a("onmessage",c),a("onstorage",p)}},f.prototype.initMessageEventOverride=function(t){t.MessageEvent&&!t.MessageEvent.prototype.__extended&&(this.addEventOverride("target"),this.addEventOverride("srcElement"),this.addEventOverride("currentTarget"),this.addEventOverride("eventPhase"),this.addEventOverride("path"),this.overridePropToProxy(t.MessageEvent.prototype,"source"),t.MessageEvent.prototype.__extended=!0)},f.prototype.initUIEventsOverrides=function(){this.overrideAnUIEvent("UIEvent"),this.overrideAnUIEvent("MouseEvent"),this.overrideAnUIEvent("TouchEvent"),this.overrideAnUIEvent("FocusEvent"),this.overrideAnUIEvent("KeyboardEvent"),this.overrideAnUIEvent("WheelEvent"),this.overrideAnUIEvent("InputEvent"),this.overrideAnUIEvent("CompositionEvent")},f.prototype.initOpenOverride=function(){var t=this.$wbwindow.open;this.$wbwindow.Window.prototype.open&&(t=this.$wbwindow.Window.prototype.open);var e=this,r=function(r,i,o){i&&(i=e.rewriteAttrTarget(i));var n=e.rewriteUrl(r,!1),s=t.call(e.proxyToObj(this),n,i,o);return e.initNewWindowWombat(s,r),s};this.$wbwindow.open=r,this.$wbwindow.Window.prototype.open&&(this.$wbwindow.Window.prototype.open=r);for(var i=0;i<this.$wbwindow.frames.length;i++)try{this.$wbwindow.frames[i].open=r}catch(t){console.log(t)}},f.prototype.rewriteAttrTarget=function(t){return this.wb_info.target_frame&&("_blank"===t||"_parent"===t||"_top"===t||t&&this.$wbwindow===this.$wbwindow.__WB_replay_top)?this.wb_info.target_frame:t},f.prototype.initCookiesOverride=function(){var t=this.getOrigGetter(this.$wbwindow.document,"cookie"),e=this.getOrigSetter(this.$wbwindow.document,"cookie");t||(t=this.getOrigGetter(this.$wbwindow.Document.prototype,"cookie")),e||(e=this.getOrigSetter(this.$wbwindow.Document.prototype,"cookie"));var r=function(t,e){var r=new Date(e);return isNaN(r.getTime())?"Expires=Thu,| 01 Jan 1970 00:00:00 GMT":"Expires="+new Date(r.getTime()+Date.__WB_timediff).toUTCString().replace(",",",|")},i=this;this.defProp(this.$wbwindow.document,"cookie",(function(t){if(t){for(var o=t.replace(i.cookie_expires_regex,r).split(i.SetCookieRe),n=0;n<o.length;n++)o[n]=i.rewriteCookie(o[n]);return e.call(i.proxyToObj(this),o.join(","))}}),(function(){return t.call(i.proxyToObj(this))}))},f.prototype.initRegisterUnRegPHOverride=function(){var t=this,e=this.$wbwindow.navigator;if(e.registerProtocolHandler){var r=e.registerProtocolHandler;e.registerProtocolHandler=function(e,i,o){return r.call(this,e,t.rewriteUrl(i),o)}}if(e.unregisterProtocolHandler){var i=e.unregisterProtocolHandler;e.unregisterProtocolHandler=function(e,r){return i.call(this,e,t.rewriteUrl(r))}}},f.prototype.initBeaconOverride=function(){if(this.$wbwindow.navigator.sendBeacon){var t=this.$wbwindow.navigator.sendBeacon,e=this;this.$wbwindow.navigator.sendBeacon=function(r,i){try{return t.call(this,e.rewriteUrl(r),i)}catch(t){return!0}}}},f.prototype.initMiscNavigatorOverrides=function(){this.$wbwindow.navigator.mediaDevices&&(this.$wbwindow.navigator.mediaDevices.setCaptureHandleConfig=function(){})},f.prototype.initPresentationRequestOverride=function(){if(this.$wbwindow.PresentationRequest&&this.$wbwindow.PresentationRequest.prototype){var t=this,e=this.$wbwindow.PresentationRequest;this.$wbwindow.PresentationRequest=(r=this.$wbwindow.PresentationRequest,function(e){t.domConstructorErrorChecker(this,"PresentationRequest",arguments);var i=e;if(null!=e)if(Array.isArray(i))for(var o=0;o<i.length;o++)i[o]=t.rewriteUrl(i[o],!0,"mp_");else i=t.rewriteUrl(e,!0,"mp_");return new r(i)}),this.$wbwindow.PresentationRequest.prototype=e.prototype,Object.defineProperty(this.$wbwindow.PresentationRequest.prototype,"constructor",{value:this.$wbwindow.PresentationRequest})}var r},f.prototype.initDisableNotificationsGeoLocation=function(){window.Notification&&(window.Notification.requestPermission=function(t){return t&&t("denied"),Promise.resolve("denied")});var t=function(t){t&&(t.getCurrentPosition&&(t.getCurrentPosition=function(t,e,r){e&&e({code:2,message:"not available"})}),t.watchPosition&&(t.watchPosition=function(t,e,r){e&&e({code:2,message:"not available"})}))};window.geolocation&&t(window.geolocation),window.navigator.geolocation&&t(window.navigator.geolocation)},f.prototype.initStorageOverride=function(){this.addEventOverride("storageArea",this.$wbwindow.StorageEvent.prototype),i.yes=!1;var t={};if(this.wb_info.storage)try{t=JSON.parse(atob(this.wb_info.storage))}catch(t){console.warn("Error parsing storage, storages not loaded")}a(this,"localStorage",t.local),a(this,"sessionStorage",t.session),this.$wbwindow.Storage=s,i.yes=!0},f.prototype.initIndexedDBOverride=function(){if(this.$wbwindow.IDBFactory){var t=this.$wbwindow.IDBFactory.prototype,e="wb-"+this.wb_orig_origin+"-",r=t.open;t.open=function(t,i){return r.call(this,e+t,i)};var i=t.deleteDatabase;t.delete=function(t){return i.call(this,e+t,options)};var o=t.databases;t.databases=function(){var t=this;return new Promise((function(r,i){o.call(t).then((function(t){for(var i=[],o=0;o<t.length;o++)0===t[o].name.indexOf(e)&&i.push({name:t[o].name.substring(e.length),version:t[o].version});r(i)})).catch((function(t){i(t)}))}))}}},f.prototype.initCachesOverride=function(){if(this.$wbwindow.CacheStorage){this.$wbwindow.chrome&&(this.$wbwindow.chrome={});var t=this.$wbwindow.CacheStorage.prototype,e="wb-"+this.wb_orig_origin+"-",r=t.open;t.open=function(t){return r.call(this,e+t)};var i=t.has;t.has=function(t){return i.call(this,e+t)};var o=t.delete;t.delete=function(t){return o.call(this,e+t)};var n=t.keys;t.keys=function(){var t=this;return new Promise((function(r,i){n.call(t).then((function(t){for(var i=[],o=0;o<t.length;o++)0===t[o].indexOf(e)&&i.push(t[o].substring(e.length));r(i)})).catch((function(t){i(t)}))}))};t.match;t.match=function(t,e){var r=this;return this.keys().then((function(i){var o;return i.reduce((function(i,n){return i.then((function(){return o||r.open(n).then((function(r){return r.match(t,e)})).then((function(t){return o=t}))}))}),Promise.resolve())}))}}},f.prototype.initWindowObjProxy=function(t){if(t.Proxy){var e=this.getAllOwnProps(t),r={},i=this,o=new t.Proxy({},{get:function(o,n){switch(n){case"top":return i.$wbwindow.WB_wombat_top._WB_wombat_obj_proxy;case"parent":if(i.$wbwindow===i.$wbwindow.WB_wombat_top)return i.$wbwindow.WB_wombat_top._WB_wombat_obj_proxy;try{var s=i.$wbwindow.parent._WB_wombat_obj_proxy;if(s)return s}catch(t){}return i.$wbwindow.WB_wombat_top._WB_wombat_obj_proxy}return i.defaultProxyGet(t,n,e,r)},set:function(e,r,i){switch(r){case"location":return t.WB_wombat_location=i,!0;case"postMessage":case"document":return!0}try{if(!Reflect.set(e,r,i))return!1}catch(t){}return Reflect.set(t,r,i)},has:function(e,r){return r in t},ownKeys:function(e){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))},getOwnPropertyDescriptor:function(e,r){var i=Object.getOwnPropertyDescriptor(e,r);return i||(i=Object.getOwnPropertyDescriptor(t,r))&&(i.configurable=!0),i},getPrototypeOf:function(e){return Object.getPrototypeOf(t)},setPrototypeOf:function(t,e){return!1},isExtensible:function(e){return Object.isExtensible(t)},preventExtensions:function(e){return Object.preventExtensions(t),!0},deleteProperty:function(e,r){var i=Object.getOwnPropertyDescriptor(t,r);return void 0===i||!1!==i.configurable&&(delete e[r],delete t[r],!0)},defineProperty:function(e,r,i){var o=i||{};return void 0===o.value&&void 0===o.get&&(o.value=t[r]),Reflect.defineProperty(t,r,o),Reflect.defineProperty(e,r,o)}});return t._WB_wombat_obj_proxy=o,o}},f.prototype.initDocumentObjProxy=function(t){if(this.initDocOverrides(t),this.$wbwindow.Proxy){var e={},r=this.getAllOwnProps(t),i=this,o=new this.$wbwindow.Proxy(t,{get:function(o,n){return i.defaultProxyGet(t,n,r,e)},set:function(e,r,i){return"location"===r?t.WB_wombat_location=i:e[r]=i,!0}});return t._WB_wombat_obj_proxy=o,o}},f.prototype.initAutoFetchWorker=function(){if(this.wbUseAFWorker){var t=new w(this,{isTop:this.$wbwindow===this.$wbwindow.__WB_replay_top,workerURL:(this.wb_info.auto_fetch_worker_prefix||this.wb_info.static_prefix)+"autoFetchWorker.js?init="+encodeURIComponent(JSON.stringify({mod:this.wb_info.mod,prefix:this.wb_abs_prefix,rwRe:this.wb_unrewrite_rx.source}))});this.WBAutoFetchWorker=t,this.$wbwindow.$WBAutoFetchWorker$=t;var e=this;this.utilFns.wbSheetMediaQChecker=function(){e._removeEventListener(this,"load",e.utilFns.wbSheetMediaQChecker),null!=this.sheet&&e.WBAutoFetchWorker&&e.WBAutoFetchWorker.deferredSheetExtraction(this.sheet)}}},f.prototype.initTopFrameNotify=function(t){var e=this,r=function(r){if(e.$wbwindow.__WB_top_frame){if(e.$wbwindow.WB_wombat_location){var i=e.$wbwindow.WB_wombat_location.href;if("string"==typeof i&&"about:blank"!==i&&0!==i.indexOf("javascript:")&&("complete"===e.$wbwindow.document.readyState&&e.wbUseAFWorker&&e.WBAutoFetchWorker&&e.WBAutoFetchWorker.extractFromLocalDoc(),e.$wbwindow===e.$wbwindow.__WB_replay_top)){for(var o=[],n=e.$wbwindow.document.querySelectorAll("link[rel*=\'icon\']"),s=0;s<n.length;s++){var a=n[s];o.push({rel:a.rel,href:e.wb_getAttribute.call(a,"href")})}o.push({rel:"icon",href:e.rewriteUrl("/favicon.ico")});var h={icons:o,url:e.$wbwindow.WB_wombat_location.href,ts:e.wb_info.timestamp,request_ts:e.wb_info.request_ts,is_live:e.wb_info.is_live,title:e.$wbwindow.document?e.$wbwindow.document.title:"",readyState:e.$wbwindow.document.readyState,wb_type:"load"};e.sendTopMessage(h)}}}else{var w=e.$wbwindow.location.hash;e.$wbwindow.location.replace(t.top_url+w)}};"complete"===this.$wbwindow.document.readyState?r():this.$wbwindow.addEventListener?this.$wbwindow.document.addEventListener("readystatechange",r):this.$wbwindow.attachEvent&&this.$wbwindow.document.attachEvent("onreadystatechange",r)},f.prototype.initTopFrame=function(t){if(this.wb_is_proxy)return t.__WB_replay_top=t.top,t.__WB_top_frame=void 0,this.replayTopHost=r.location.host,void(this.replayTopProtocol=r.location.protocol);for(var e=function(t){try{return!!t&&(t.wbinfo?t.wbinfo.is_framed:null!=t._wb_wombat)}catch(t){return!1}},r=t;r.parent!=r&&e(r.parent);)r=r.parent;t.__WB_replay_top=r,this.replayTopHost=r.location.host,this.replayTopProtocol=r.location.protocol;var i=r.parent;if(i!=t&&this.wb_info.is_framed||(i=void 0),i?(t.__WB_top_frame=i,this.initFrameElementOverride(t)):t.__WB_top_frame=void 0,!this.wb_opts.embedded&&r==t&&this.wbUseAFWorker){var o=this;this.$wbwindow.addEventListener("message",(function(t){t.data&&"aaworker"===t.data.wb_type&&o.WBAutoFetchWorker&&o.WBAutoFetchWorker.postMessage(t.data.msg)}),!1)}},f.prototype.initFrameElementOverride=function(t){if(Object.defineProperty&&this.proxyToObj(t.__WB_replay_top)==this.proxyToObj(t))try{Object.defineProperty(t,"frameElement",{value:null,configurable:!1})}catch(t){}},f.prototype.initWombatTop=function(t){if(Object.defineProperty){this.defProp(t.Object.prototype,"WB_wombat_top",(function(t){this.top=t}),(function(){return this.__WB_replay_top?this.__WB_replay_top:(t=this,(void 0===window.constructor?t instanceof window.constructor:t.window==t)?this:this.top);var t}))}},f.prototype.initEvalOverride=function(){var t=this.rewriteEvalArg,e=function(){};this.wrappedEval=function(e){return function(r){return t(e,r)}};var r=this,i=function(e){var r=this;return r&&r.eval&&r.eval!==eval?{eval:function(){return r.eval.__WB_orig_apply(r,arguments)}}:{eval:function(r){return t(e,r)}}},o=function(e){var i=this;return i&&i.eval&&i.eval!==eval?{eval:function(){return i.eval.__WB_orig_apply(i,[].slice.call(arguments,2))}}:{eval:function(i,o,n){var s=i===r.proxyToObj(r.$wbwindow);try{s=s&&!o.callee.caller}catch(t){s=!1}return t(e,n,s)}}};this.defProp(this.$wbwindow.Object.prototype,"WB_wombat_runEval",e,(function(){return i})),this.defProp(this.$wbwindow.Object.prototype,"WB_wombat_runEval2",e,(function(){return o}))},f.prototype.wombatInit=function(){this._internalInit(),this.initCookiePreset(),this.initHistoryOverrides(),this.overrideFunctionApply(this.$wbwindow),this.overrideFunctionBind(this.$wbwindow),this.initDocTitleOverride(),this.initHashChange(),this.wb_opts.skip_postmessage||(this.initPostMessageOverride(this.$wbwindow),this.initMessageEventOverride(this.$wbwindow)),this.initCheckThisFunc(this.$wbwindow),this.initImportWrapperFunc(this.$wbwindow),this.overrideGetOwnPropertyNames(this.$wbwindow),this.initUIEventsOverrides(),this.initDocWriteOpenCloseOverride(),this.initEvalOverride(),this.initHTTPOverrides(),this.initAudioOverride(),this.initFontFaceOverride(this.$wbwindow),this.initWorkerOverrides(),this.initTextNodeOverrides(),this.initCSSOMOverrides(),this.overrideHtmlAssign(this.$wbwindow.Element,"innerHTML",!0),this.overrideHtmlAssign(this.$wbwindow.Element,"outerHTML",!0),this.overrideHtmlAssignSrcDoc(this.$wbwindow.HTMLIFrameElement,"srcdoc",!0),this.overrideHtmlAssign(this.$wbwindow.HTMLStyleElement,"textContent"),this.overrideShadowDom(),this.overridePropExtract(this.$wbwindow.Document.prototype,"URL"),this.overridePropExtract(this.$wbwindow.Document.prototype,"documentURI"),this.overridePropExtract(this.$wbwindow.Node.prototype,"baseURI"),this.overrideAttrProps(),this.overrideDataSet(),this.initInsertAdjacentElementHTMLOverrides(),this.overrideIframeContentAccess("contentWindow"),this.overrideIframeContentAccess("contentDocument"),this.overrideFuncArgProxyToObj(this.$wbwindow.MutationObserver,"observe"),this.overrideFuncArgProxyToObj(this.$wbwindow.Node,"compareDocumentPosition"),this.overrideFuncArgProxyToObj(this.$wbwindow.Node,"contains"),this.overrideFuncArgProxyToObj(this.$wbwindow.Document,"createTreeWalker"),this.overrideFuncArgProxyToObj(this.$wbwindow.Document,"evaluate",1),this.overrideFuncArgProxyToObj(this.$wbwindow.XSLTProcessor,"transformToFragment",1),this.overrideFuncThisProxyToObj(this.$wbwindow,"getComputedStyle",this.$wbwindow),this.overrideFuncThisProxyToObj(this.$wbwindow,"clearTimeout"),this.overrideFuncThisProxyToObj(this.$wbwindow,"clearInterval"),this.overrideFuncThisProxyToObj(this.$wbwindow.EventTarget.prototype,"dispatchEvent"),this.initTimeoutIntervalOverrides(),this.overrideFramesAccess(this.$wbwindow),this.overrideSWAccess(this.$wbwindow),this.initElementGetSetAttributeOverride(),this.initSvgImageOverrides(),this.initAttrOverrides(),this.initCookiesOverride(),this.initCreateElementNSFix(),this.wb_opts.skip_dom||this.initDomOverride(),this.initRegisterUnRegPHOverride(),this.initPresentationRequestOverride(),this.initBeaconOverride(),this.initMiscNavigatorOverrides(),this.initSeededRandom(this.wb_info.wombat_sec),this.initCryptoRandom(),this.initFixedRatio(this.wb_info.pixel_ratio||1),this.initDateOverride(this.wb_info.wombat_sec),this.initBlobOverride(),this.initWSOverride(),this.initOpenOverride(),this.initDisableNotificationsGeoLocation(),this.initStorageOverride(),this.initCachesOverride(),this.initIndexedDBOverride(),this.initWindowObjProxy(this.$wbwindow),this.initDocumentObjProxy(this.$wbwindow.document);var t=this;return{extract_orig:this.extractOriginalURL,rewrite_url:this.rewriteUrl,watch_elem:this.watchElem,init_new_window_wombat:this.initNewWindowWombat,init_paths:this.initPaths,local_init:function(e){var r=t.$wbwindow._WB_wombat_obj_proxy[e];return"document"===e&&r&&!r._WB_wombat_obj_proxy&&t.initDocumentObjProxy(r)||r},showCSPViolations:function(e){t._addRemoveCSPViolationListener(e)}}};const b=f;window._WBWombat=b,window._WBWombatInit=function(t){if(this._wb_wombat)this._wb_wombat.init_paths(t);else{var e=new b(this,t);this._wb_wombat=e.wombatInit()}}})();'}),this.staticData.set(this.staticPrefix+"wombatWorkers.js",{type:"application/javascript",content:"/**\n * Mini wombat for performing URL rewriting within the\n * Web/Shared/Service Worker context\n * @param {Object} info\n * @return {WBWombat}\n */\nfunction WBWombat(info) {\n  if (!(this instanceof WBWombat)) return new WBWombat(info);\n  /** @type {Object} */\n  this.info = info;\n  this.initImportScriptsRewrite();\n  this.initHTTPOverrides();\n  this.initClientApisOverride();\n  this.initCacheApisOverride();\n}\n\n/**\n * Returns T/F indicating if the supplied URL is not to be rewritten\n * @param {string} url\n * @return {boolean}\n */\nWBWombat.prototype.noRewrite = function(url) {\n  return (\n    !url ||\n    url.indexOf('blob:') === 0 ||\n    url.indexOf('javascript:') === 0 ||\n    url.indexOf('data:') === 0 ||\n    url.indexOf(this.info.prefix) === 0\n  );\n};\n\n/**\n * Returns T/F indicating if the supplied URL is an relative URL\n * @param {string} url\n * @return {boolean}\n */\nWBWombat.prototype.isRelURL = function(url) {\n  return url.indexOf('/') === 0 || url.indexOf('http:') !== 0;\n};\n\n/**\n * Attempts to resolve the supplied relative URL against\n * the origin this worker was created on\n * @param {string} maybeRelURL\n * @param {string} against\n * @return {string}\n */\nWBWombat.prototype.maybeResolveURL = function(maybeRelURL, against) {\n  if (!against) return maybeRelURL;\n  try {\n    var resolved = new URL(maybeRelURL, against);\n    return resolved.href;\n  } catch (e) {}\n  return maybeRelURL;\n};\n\n/**\n * Returns null to indicate that the supplied URL is not to be rewritten.\n * Otherwise returns a URL that can be rewritten\n * @param {*} url\n * @param {string} resolveAgainst\n * @return {?string}\n */\nWBWombat.prototype.ensureURL = function(url, resolveAgainst) {\n  if (!url) return url;\n  var newURL;\n  switch (typeof url) {\n    case 'string':\n      newURL = url;\n      break;\n    case 'object':\n      newURL = url.toString();\n      break;\n    default:\n      return null;\n  }\n  if (this.noRewrite(newURL)) return null;\n  if (this.isRelURL(newURL)) {\n    return this.maybeResolveURL(newURL, resolveAgainst);\n  }\n\n  // if url starts with current origin, but not properly rewritten, rewrite against current baseUr\n  if (newURL.indexOf(self.location.origin) === 0) {\n    return this.maybeResolveURL(newURL.slice(self.location.origin.length), resolveAgainst);\n  }\n  return newURL;\n};\n\n/**\n * Rewrites the supplied URL\n * @param {string} url\n * @return {string}\n */\nWBWombat.prototype.rewriteURL = function(url) {\n  var rwURL = this.ensureURL(url, this.info.originalURL);\n  if (!rwURL) return url;\n  if (this.info.prefixMod) {\n    return this.info.prefixMod + rwURL;\n  }\n  return rwURL;\n};\n\n/**\n * Rewrites the supplied URL of an controlled page using the mp\\_ modifier\n * @param {string} url\n * @param {WindowClient} [client]\n * @return {string}\n */\nWBWombat.prototype.rewriteClientWindowURL = function(url, client) {\n  var rwURL = this.ensureURL(url, client ? client.url : this.info.originalURL);\n  if (!rwURL) return url;\n  if (this.info.prefix) {\n    return this.info.prefix + 'mp_/' + rwURL;\n  }\n  return rwURL;\n};\n\n/**\n * Mini url rewriter specifically for rewriting web sockets\n * @param {?string} originalURL\n * @return {string}\n */\nWBWombat.prototype.rewriteWSURL = function(originalURL) {\n  // If undefined, just return it\n  if (!originalURL) return originalURL;\n\n  var urltype_ = typeof originalURL;\n  var url = originalURL;\n\n  // If object, use toString\n  if (urltype_ === 'object') {\n    url = originalURL.toString();\n  } else if (urltype_ !== 'string') {\n    return originalURL;\n  }\n\n  // empty string check\n  if (!url) return url;\n\n  var wsScheme = 'ws://';\n  var wssScheme = 'wss://';\n  var https = 'https://';\n\n  var wbSecure = this.info.prefix.indexOf(https) === 0;\n  var wbPrefix =\n    this.info.prefix.replace(\n      wbSecure ? https : 'http://',\n      wbSecure ? wssScheme : wsScheme\n    ) + 'ws_/';\n  return wbPrefix + url;\n};\n\n/**\n * Rewrites all URLs in the supplied arguments object\n * @param {Object} argsObj\n * @return {Array<string>}\n */\nWBWombat.prototype.rewriteArgs = function(argsObj) {\n  // recreate the original arguments object just with URLs rewritten\n  var newArgObj = new Array(argsObj.length);\n  for (var i = 0; i < newArgObj.length; i++) {\n    newArgObj[i] = this.rewriteURL(argsObj[i]);\n  }\n  return newArgObj;\n};\n\n/**\n * Rewrites the input to one of the Fetch APIs\n * @param {*|string|Request} input\n * @return {*|string|Request}\n */\nWBWombat.prototype.rewriteFetchApi = function(input) {\n  var rwInput = input;\n  switch (typeof input) {\n    case 'string':\n      rwInput = this.rewriteURL(input);\n      break;\n    case 'object':\n      if (input.url) {\n        var new_url = this.rewriteURL(input.url);\n        if (new_url !== input.url) {\n          // not much we can do here Request.url is read only\n          // https://developer.mozilla.org/en-US/docs/Web/API/Request/url\n          rwInput = new Request(new_url, input);\n        }\n      } else if (input.href) {\n        // it is likely that input is either self.location or self.URL\n        // we cant do anything here so just let it go\n        rwInput = input.href;\n      }\n      break;\n  }\n  return rwInput;\n};\n\n/**\n * Rewrites the input to one of the Cache APIs\n * @param {*|string|Request} request\n * @return {*|string|Request}\n */\nWBWombat.prototype.rewriteCacheApi = function(request) {\n  var rwRequest = request;\n  if (typeof request === 'string') {\n    rwRequest = this.rewriteURL(request);\n  }\n  return rwRequest;\n};\n\n/**\n * Applies an override to the importScripts function\n * @see https://html.spec.whatwg.org/multipage/workers.html#dom-workerglobalscope-importscripts\n */\nWBWombat.prototype.initImportScriptsRewrite = function() {\n  if (!self.importScripts) return;\n  var wombat = this;\n  var origImportScripts = self.importScripts;\n  self.importScripts = function importScripts() {\n    // rewrite the arguments object and call original function via fn.apply\n    var rwArgs = wombat.rewriteArgs(arguments);\n    return origImportScripts.apply(this, rwArgs);\n  };\n};\n\n/**\n * Applies overrides to the XMLHttpRequest.open and XMLHttpRequest.responseURL\n * in order to ensure URLs are rewritten.\n *\n * Applies an override to window.fetch in order to rewrite URLs and URLs of\n * the supplied Request objects used as arguments to fetch.\n *\n * Applies overrides to window.Request, window.Response, window.EventSource,\n * and window.WebSocket in order to ensure URLs they operate on are rewritten.\n *\n * @see https://xhr.spec.whatwg.org/\n * @see https://fetch.spec.whatwg.org/\n * @see https://html.spec.whatwg.org/multipage/web-sockets.html#websocket\n * @see https://html.spec.whatwg.org/multipage/server-sent-events.html#the-eventsource-interface\n */\nWBWombat.prototype.initHTTPOverrides = function() {\n  var wombat = this;\n  if (\n    self.XMLHttpRequest &&\n    self.XMLHttpRequest.prototype &&\n    self.XMLHttpRequest.prototype.open\n  ) {\n    var oXHROpen = self.XMLHttpRequest.prototype.open;\n    self.XMLHttpRequest.prototype.open = function open(\n      method,\n      url,\n      async,\n      user,\n      password\n    ) {\n      var rwURL = wombat.rewriteURL(url);\n      var openAsync = true;\n      if (async != null && !async) openAsync = false;\n      oXHROpen.call(this, method, rwURL, openAsync, user, password);\n      if (rwURL.indexOf('data:') === -1) {\n        this.setRequestHeader('X-Pywb-Requested-With', 'XMLHttpRequest');\n      }\n    };\n  }\n\n  if (self.fetch != null) {\n    // this fetch is Worker.fetch\n    var orig_fetch = self.fetch;\n    self.fetch = function fetch(input, init_opts) {\n      var rwInput = wombat.rewriteFetchApi(input);\n      var newInitOpts = init_opts || {};\n      newInitOpts['credentials'] = 'include';\n      return orig_fetch.call(this, rwInput, newInitOpts);\n    };\n  }\n\n  if (self.Request && self.Request.prototype) {\n    var orig_request = self.Request;\n    self.Request = (function(Request_) {\n      return function Request(input, init_opts) {\n        var newInitOpts = init_opts || {};\n        var newInput = wombat.rewriteFetchApi(input);\n        newInitOpts['credentials'] = 'include';\n        return new Request_(newInput, newInitOpts);\n      };\n    })(self.Request);\n    self.Request.prototype = orig_request.prototype;\n  }\n\n  if (self.Response && self.Response.prototype) {\n    var originalRedirect = self.Response.prototype.redirect;\n    self.Response.prototype.redirect = function redirect(url, status) {\n      var rwURL = wombat.rewriteUrl(url);\n      return originalRedirect.call(this, rwURL, status);\n    };\n  }\n\n  if (self.EventSource && self.EventSource.prototype) {\n    var origEventSource = self.EventSource;\n    self.EventSource = (function(EventSource_) {\n      return function EventSource(url, configuration) {\n        var rwURL = url;\n        if (url != null) {\n          rwURL = wombat.rewriteUrl(url);\n        }\n        return new EventSource_(rwURL, configuration);\n      };\n    })(self.EventSource);\n    self.EventSource.prototype = origEventSource.prototype;\n    Object.defineProperty(self.EventSource.prototype, 'constructor', {\n      value: self.EventSource\n    });\n  }\n\n  if (self.WebSocket && self.WebSocket.prototype) {\n    var origWebSocket = self.WebSocket;\n    self.WebSocket = (function(WebSocket_) {\n      return function WebSocket(url, configuration) {\n        var rwURL = url;\n        if (url != null) {\n          rwURL = wombat.rewriteWSURL(url);\n        }\n        return new WebSocket_(rwURL, configuration);\n      };\n    })(self.WebSocket);\n    self.WebSocket.prototype = origWebSocket.prototype;\n    Object.defineProperty(self.WebSocket.prototype, 'constructor', {\n      value: self.WebSocket\n    });\n  }\n};\n\n/**\n * Applies an override to Clients.openWindow and WindowClient.navigate that rewrites\n * the supplied URL that represents a controlled window\n * @see https://w3c.github.io/ServiceWorker/#window-client-interface\n * @see https://w3c.github.io/ServiceWorker/#clients-interface\n */\nWBWombat.prototype.initClientApisOverride = function() {\n  var wombat = this;\n  if (\n    self.Clients &&\n    self.Clients.prototype &&\n    self.Clients.prototype.openWindow\n  ) {\n    var oClientsOpenWindow = self.Clients.prototype.openWindow;\n    self.Clients.prototype.openWindow = function openWindow(url) {\n      var rwURL = wombat.rewriteClientWindowURL(url);\n      return oClientsOpenWindow.call(this, rwURL);\n    };\n  }\n\n  if (\n    self.WindowClient &&\n    self.WindowClient.prototype &&\n    self.WindowClient.prototype.navigate\n  ) {\n    var oWinClientNavigate = self.WindowClient.prototype.navigate;\n    self.WindowClient.prototype.navigate = function navigate(url) {\n      var rwURL = wombat.rewriteClientWindowURL(url, this);\n      return oWinClientNavigate.call(this, rwURL);\n    };\n  }\n};\n\n/**\n * Applies overrides to the CacheStorage and Cache interfaces in order\n * to rewrite the URLs they operate on\n * @see https://w3c.github.io/ServiceWorker/#cachestorage\n * @see https://w3c.github.io/ServiceWorker/#cache-interface\n */\nWBWombat.prototype.initCacheApisOverride = function() {\n  var wombat = this;\n  if (\n    self.CacheStorage &&\n    self.CacheStorage.prototype &&\n    self.CacheStorage.prototype.match\n  ) {\n    var oCacheStorageMatch = self.CacheStorage.prototype.match;\n    self.CacheStorage.prototype.match = function match(request, options) {\n      var rwRequest = wombat.rewriteCacheApi(request);\n      return oCacheStorageMatch.call(this, rwRequest, options);\n    };\n  }\n\n  if (self.Cache && self.Cache.prototype) {\n    if (self.Cache.prototype.match) {\n      var oCacheMatch = self.Cache.prototype.match;\n      self.Cache.prototype.match = function match(request, options) {\n        var rwRequest = wombat.rewriteCacheApi(request);\n        return oCacheMatch.call(this, rwRequest, options);\n      };\n    }\n\n    if (self.Cache.prototype.matchAll) {\n      var oCacheMatchAll = self.Cache.prototype.matchAll;\n      self.Cache.prototype.matchAll = function matchAll(request, options) {\n        var rwRequest = wombat.rewriteCacheApi(request);\n        return oCacheMatchAll.call(this, rwRequest, options);\n      };\n    }\n\n    if (self.Cache.prototype.add) {\n      var oCacheAdd = self.Cache.prototype.add;\n      self.Cache.prototype.add = function add(request, options) {\n        var rwRequest = wombat.rewriteCacheApi(request);\n        return oCacheAdd.call(this, rwRequest, options);\n      };\n    }\n\n    if (self.Cache.prototype.addAll) {\n      var oCacheAddAll = self.Cache.prototype.addAll;\n      self.Cache.prototype.addAll = function addAll(requests) {\n        var rwRequests = requests;\n        if (Array.isArray(requests)) {\n          rwRequests = new Array(requests.length);\n          for (var i = 0; i < requests.length; i++) {\n            rwRequests[i] = wombat.rewriteCacheApi(requests[i]);\n          }\n        }\n        return oCacheAddAll.call(this, rwRequests);\n      };\n    }\n\n    if (self.Cache.prototype.put) {\n      var oCachePut = self.Cache.prototype.put;\n      self.Cache.prototype.put = function put(request, response) {\n        var rwRequest = wombat.rewriteCacheApi(request);\n        return oCachePut.call(this, rwRequest, response);\n      };\n    }\n\n    if (self.Cache.prototype.delete) {\n      var oCacheDelete = self.Cache.prototype.delete;\n      self.Cache.prototype.delete = function newCacheDelete(request, options) {\n        var rwRequest = wombat.rewriteCacheApi(request);\n        return oCacheDelete.call(this, rwRequest, options);\n      };\n    }\n\n    if (self.Cache.prototype.keys) {\n      var oCacheKeys = self.Cache.prototype.keys;\n      self.Cache.prototype.keys = function keys(request, options) {\n        var rwRequest = wombat.rewriteCacheApi(request);\n        return oCacheKeys.call(this, rwRequest, options);\n      };\n    }\n  }\n};\n\nself.WBWombat = WBWombat;\n"}),r.injectScripts&&(r.injectScripts=r.injectScripts.map((e=>this.staticPrefix+"proxy/"+e))),this.collections=new n(o,i.get("root"),r),this.collections.loadAll(i.get("dbColl")),this.proxyOriginMode=!!i.get("proxyOriginMode"),this.api=new t(this.collections),this.apiPrefix=this.replayPrefix+"api/",this.allowRewrittenCache=!!i.get("allowCache"),this.stats=i.get("stats")?new $w:null,self.addEventListener("install",(()=>{self.skipWaiting()})),self.addEventListener("activate",(e=>{e.waitUntil(self.clients.claim()),console.log("Activate!")})),self.addEventListener("fetch",(e=>{e.respondWith(this.handleFetch(e))})),self.addEventListener("message",(e=>{"reload_all"===e.data.msg_type&&e.waitUntil(this.collections.loadAll())}))}handleFetch(e){const t=e.request.url;if(this.proxyOriginMode)return this.getResponseFor(e.request,e);if(!t.startsWith(this.prefix))return"chrome-extension://invalid/"===t?R(e.request,"Invalid URL"):this.defaultFetch(e.request);if(this.collections.root&&t.slice(this.prefix.length).indexOf("/")<0)return this.defaultFetch(e.request);if(t.startsWith(this.staticPrefix+"proxy/"))return this.staticPathProxy(t,e.request);if(t.startsWith(this.replayPrefix)&&!t.startsWith(this.staticPrefix))return this.getResponseFor(e.request,e);const r=new URL(t);r.search="",r.hash="";const n=r.href;for(const e of this.staticData.keys())if(e===n){const{content:t,type:r}=this.staticData.get(e);return new Response(t,{headers:{"Content-Type":r}})}return("http:"==r.protocol||"https:"==r.protocol)&&r.pathname.indexOf("/",1)<0?this.handleOffline(e.request):this.defaultFetch(e.request)}staticPathProxy(e,t){return e=e.slice((this.staticPrefix+"proxy/").length),e=new URL(e,self.location.href).href,t=new Request(e),this.defaultFetch(t)}defaultFetch(e){const t={};return"only-if-cached"===e.cache&&"same-origin"!==e.mode&&(t.cache="default"),self.fetch(e,t)}async ensureCached(e){const t=await caches.open("wabac-offline");for(let r of e){r=new URL(r,self.location.href).href;let e=await t.match(r,{ignoreSearch:!0});if(!e)try{e=await this.defaultFetch(r),await t.put(r,e)}catch(e){console.warn(`Failed to Auto Cache: ${r}`,e)}}}async handleOffline(e){let t=null;const r=await caches.open("wabac-offline");try{t=await this.defaultFetch(e)}catch(n){return t=await r.match(e,{ignoreSearch:!0}),t||(t=R(e,"Sorry, this url was not cached for offline use")),t}if(e.url.startsWith(this.prefix+"?"))return t;if(200===t.status){const n=t.clone();await r.put(e,n)}else console.warn(`Not Cacheing ${e.url} - Status ${t.status}`);return t}async getResponseFor(e,t){if(!this.proxyOriginMode&&e.url.startsWith(this.apiPrefix))return this.stats&&e.url.startsWith(this.apiPrefix+"stats.json")?await this.stats.getStats(t):await this.api.apiResponse(e.url.slice(this.apiPrefix.length),e,t);await this.collections.inited;const r=I(e),n=e.headers.get("range");try{if(this.allowRewrittenCache&&!n){const t=await self.caches.match(e);if(t&&!!t.headers.get(_m)===r)return t}}catch(e){}let i=this.collections.root;i||(i=e.url.slice(this.replayPrefix.length).split("/",1)[0]);const s=await this.collections.getColl(i);if(!s||!this.proxyOriginMode&&!e.url.startsWith(s.prefix))return R(e);const o=this.proxyOriginMode?e.url:e.url.substring(s.prefix.length),a={isRoot:!!this.collections.root};this.proxyOriginMode&&(a.mod="id_",a.proxyOrigin=s.config.extraConfig.proxyOrigin,a.localOrigin=self.location.origin);const c=new vm(o,e,a);if(!c.url)return R(e,`Replay URL ${o} not found`);const l=await s.handleRequest(c,t);if(l){if(this.stats&&this.stats.updateStats(l.date,l.status,e,t),this.allowRewrittenCache&&200===l.status)try{const t=await self.caches.open("wabac-"+s.name);r&&l.headers.set(_m,"true");const n=l.clone();await t.put(e,n)}catch(e){console.warn(e)}return l}return n&&console.log("Not Found Range!: "+n),R(e)}}const Im=(e,t)=>t.some((t=>e instanceof t));let Cm,Rm;const xm=new WeakMap,km=new WeakMap,Nm=new WeakMap,Bm=new WeakMap,Om=new WeakMap;let Dm={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return km.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Nm.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Mm(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Lm(e){Dm=e(Dm)}function Pm(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Rm||(Rm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Fm(this),t),Mm(xm.get(this))}:function(...t){return Mm(e.apply(Fm(this),t))}:function(t,...r){const n=e.call(Fm(this),t,...r);return Nm.set(n,t.sort?t.sort():[t]),Mm(n)}}function Um(e){return"function"==typeof e?Pm(e):(e instanceof IDBTransaction&&function(e){if(km.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),n()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));km.set(e,t)}(e),Im(e,Cm||(Cm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Dm):e)}function Mm(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Mm(e.result)),n()},s=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&xm.set(t,e)})).catch((()=>{})),Om.set(t,e),t}(e);if(Bm.has(e))return Bm.get(e);const t=Um(e);return t!==e&&(Bm.set(e,t),Om.set(t,e)),t}const Fm=e=>Om.get(e);function Hm(e,t,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Mm(o);return n&&o.addEventListener("upgradeneeded",(e=>{n(Mm(o.result),e.oldVersion,e.newVersion,Mm(o.transaction),e)})),r&&o.addEventListener("blocked",(e=>r(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}function jm(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",(e=>t(e.oldVersion,e))),Mm(r).then((()=>{}))}const zm=["get","getKey","getAll","getAllKeys","count"],Wm=["put","add","delete","clear"],Gm=new Map;function qm(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Gm.get(t))return Gm.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=Wm.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!zm.includes(r))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;return n&&(o=o.index(t.shift())),(await Promise.all([o[r](...t),i&&s.done]))[0]};return Gm.set(t,s),s}Lm((e=>({...e,get:(t,r,n)=>qm(t,r)||e.get(t,r,n),has:(t,r)=>!!qm(t,r)||e.has(t,r)})));const Qm=["continue","continuePrimaryKey","advance"],Vm={},Km=new WeakMap,Ym=new WeakMap,Jm={get(e,t){if(!Qm.includes(t))return e[t];let r=Vm[t];return r||(r=Vm[t]=function(...e){Km.set(this,Ym.get(this)[t](...e))}),r}};async function*Xm(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const r=new Proxy(t,Jm);for(Ym.set(r,t),Om.set(r,Fm(t));t;)yield r,t=await(Km.get(r)||t.continue()),Km.delete(r)}function Zm(e,t){return t===Symbol.asyncIterator&&Im(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&Im(e,[IDBIndex,IDBObjectStore])}Lm((e=>({...e,get:(t,r,n)=>Zm(t,r)?Xm:e.get(t,r,n),has:(t,r)=>Zm(t,r)||e.has(t,r)})));var $m=__webpack_require__(906);class eb{constructor({dbname:e="_keystore",mainStore:t="store",key:r="id",version:n=1}={}){this.dbname=e,this.mainStore=t,this.key=r,this.version=n,this._ready=this.init()}async init(){this.db=await Hm(this.dbname,this.version,{upgrade:(e,t,r,n)=>{this._initDB(e,t,r,n)},blocking:e=>{e&&null!==e.newVersion||this.close()}})}_initDB(e,t){t||e.createObjectStore(this.mainStore,{keyPath:this.key})}async listAll(){return await this._ready,await this.db.getAll(this.mainStore)}async get(e){return await this._ready,await this.db.get(this.mainStore,e)}async delete(e){return await this._ready,this.db.delete(this.mainStore,e)}async put(e){return await this._ready,await this.db.put(this.mainStore,e)}close(){this.db&&(this.db.close(),this.db=null)}}class tb{constructor(e,t={}){this._store=new eb,this.softwareString=e||"ArchiveWeb.page",this.cacheSig=t.cacheSig}close(){this._store&&(this._store.close(),this._store=null)}async sign(e,t){let r,n=await this.loadKeys();const i={name:"ECDSA",namedCurve:"P-384"},s=["sign","verify"],o={name:"ECDSA",hash:"SHA-256"};if(n){const e=(0,$m.toByteArray)(n.private),t=(0,$m.toByteArray)(n.public);r={},r.privateKey=await crypto.subtle.importKey("pkcs8",e,i,!0,["sign"]),r.publicKey=await crypto.subtle.importKey("spki",t,i,!0,["verify"])}else{r=await crypto.subtle.generateKey(i,true,s);const e=await crypto.subtle.exportKey("pkcs8",r.privateKey),t=await crypto.subtle.exportKey("spki",r.publicKey);n={private:(0,$m.fromByteArray)(new Uint8Array(e)),public:(0,$m.fromByteArray)(new Uint8Array(t))},await this.saveKeys(n)}let a=this.cacheSig?await this.loadSig(e):null;if(!a){const t=(new TextEncoder).encode(e);a=await crypto.subtle.sign(o,r.privateKey,t),a=(0,$m.fromByteArray)(new Uint8Array(a)),await this.saveSig(e,a)}return{hash:e,signature:a,publicKey:n.public,created:t,software:this.softwareString}}async saveSig(e,t){return await this._store.put({id:e,sig:t})}async loadSig(e){const t=await this._store.get(e);return t&&t.sig}async saveKeys(e,t="_userkey"){return await this._store.put({id:t,keys:e})}async loadKeys(e="_userkey"){const t=await this._store.get(e);return t&&t.keys}}var rb={202:"Accepted",502:"Bad Gateway",400:"Bad Request",409:"Conflict",100:"Continue",201:"Created",417:"Expectation Failed",424:"Failed Dependency",403:"Forbidden",504:"Gateway Timeout",410:"Gone",505:"HTTP Version Not Supported",418:"I'm a teapot",419:"Insufficient Space on Resource",507:"Insufficient Storage",500:"Internal Server Error",411:"Length Required",423:"Locked",420:"Method Failure",405:"Method Not Allowed",301:"Moved Permanently",302:"Moved Temporarily",207:"Multi-Status",300:"Multiple Choices",511:"Network Authentication Required",204:"No Content",203:"Non Authoritative Information",406:"Not Acceptable",404:"Not Found",501:"Not Implemented",304:"Not Modified",200:"OK",206:"Partial Content",402:"Payment Required",308:"Permanent Redirect",412:"Precondition Failed",428:"Precondition Required",102:"Processing",407:"Proxy Authentication Required",431:"Request Header Fields Too Large",408:"Request Timeout",413:"Request Entity Too Large",414:"Request-URI Too Long",416:"Requested Range Not Satisfiable",205:"Reset Content",303:"See Other",503:"Service Unavailable",101:"Switching Protocols",307:"Temporary Redirect",429:"Too Many Requests",401:"Unauthorized",451:"Unavailable For Legal Reasons",422:"Unprocessable Entity",415:"Unsupported Media Type",305:"Use Proxy",421:"Misdirected Request"};function nb(e){var t=rb[e.toString()];if(!t)throw new Error("Status code does not exist: "+e);return t}const ib=25e6,sb=262144,ob="___wb_replay_top_frame",ab=/Expires=\w{3},\s\d[^;,]+(?:;\s*)?/gi;function cb(e,t){for(const r of t)if(e.startsWith(r))return!0;return!1}function lb(e){return e.replace(/[-:T]/g,"").slice(0,14)}function ub(e){return e.replace(/[-:.TZ]/g,"")}function hb(e){if(!e)return new Date;e.length<17&&(e+="00000101000000000".substr(e.length));const t=e.substring(0,4)+"-"+e.substring(4,6)+"-"+e.substring(6,8)+"T"+e.substring(8,10)+":"+e.substring(10,12)+":"+e.substring(12,14)+"."+e.substring(14)+"Z";return new Date(t)}function db(e){return Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join("")}async function fb(e,t,r=null){const n="string"==typeof e?(new TextEncoder).encode(e):e,i=await crypto.subtle.digest(t,n);return""===r?db(i):(r||t)+":"+db(i)}function pb(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}function gb(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=255&e.charCodeAt(r);return t}function yb(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function wb(e){try{return new Headers(e)}catch(t){for(let t of Object.keys(e)){const r=e[t],n=r.replace(/[\r\n]+/g,", ");r!=n&&(e[t]=n)}return new Headers(e)}}const mb=[101,204,205,304];function bb(e){return mb.includes(e)}function Ab(e){try{return nb(e)}catch(e){return"Unknown Status"}}async function Eb(e,t){if(e instanceof Sb){const r=await self.clients.matchAll({type:"window"});for(const n of r){new URL(n.url).searchParams.get("source")===t.sourceUrl&&n.postMessage({source:t.sourceUrl,coll:t.dbname.slice(3),type:"authneeded",fileHandle:e.info&&e.info.fileHandle})}return!0}return!1}function vb(e,t,r=404){let n,i;t||(t="Sorry, this url was not found in the archive."),"script"===e.destination||e.headers.get("x-pywb-requested-with")?(n=JSON.stringify(t),i="application/json"):(n=t,i="text/html");const s={status:r,statusText:Ab(r),headers:{"Content-Type":i}};return new Response(n,s)}function _b(e){const t=e.config.metadata?e.config.metadata:{},r={title:t.title||"",desc:t.desc||"",size:t.size||0,filename:e.config.sourceName,loadUrl:e.config.loadUrl,sourceUrl:e.config.sourceUrl,id:e.name,ctime:e.config.ctime,mtime:t.mtime||e.config.ctime,onDemand:e.config.onDemand};return t.ipfsPins&&(r.ipfsPins=t.ipfsPins),r}class Tb{constructor(e={}){this.info=e}toString(){return JSON.stringify(this.info)}}class Sb extends Tb{}class Ib extends Tb{}class Cb{}function Rb(e){return new Promise((t=>setTimeout(t,e)))}var xb=__webpack_require__(3040),kb=__webpack_require__(3097),Nb=__webpack_require__(6223);function Bb(e,t,r){let n,i;switch(r=r||{},t){case"RFC3548":case"RFC4648":n="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",i=!0;break;case"RFC4648-HEX":n="0123456789ABCDEFGHIJKLMNOPQRSTUV",i=!0;break;case"Crockford":n="0123456789ABCDEFGHJKMNPQRSTVWXYZ",i=!1;break;default:throw new Error("Unknown base32 variant: "+t)}const s=void 0!==r.padding?r.padding:i,o=function(e){if(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray)return new DataView(e.buffer,e.byteOffset,e.byteLength);if(e instanceof ArrayBuffer)return new DataView(e);throw new TypeError("Expected `data` to be an ArrayBuffer, Buffer, Int8Array, Uint8Array or Uint8ClampedArray")}(e);let a=0,c=0,l="";for(let e=0;e<o.byteLength;e++)for(c=c<<8|o.getUint8(e),a+=8;a>=5;)l+=n[c>>>a-5&31],a-=5;if(a>0&&(l+=n[c<<5-a&31]),s)for(;l.length%8!=0;)l+="=";return l}function Ob(e){let t;t="string"==typeof e?e:e&&e.length?e.reduce(((e,t)=>e+=String.fromCharCode(t)),""):e?e.toString():"";try{return"__wb_post_data="+btoa(t)}catch{return"__wb_post_data="}}function Db(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Lb(e){try{if(!e.startsWith("https:")&&!e.startsWith("http:"))return e;let t=(e=e.replace(/^(https?:\/\/)www\d*\./,"$1")).toLowerCase(),r=new URL(t),n=r.hostname.split(".").reverse().join(",");if(r.port&&(n+=":"+r.port),n+=")",n+=r.pathname,r.search){r.searchParams.sort(),n+=r.search;for(let[e,i]of r.searchParams.entries())if(!i){let r=new RegExp(`(?<=[&?])${Db(e)}=(?=&|$)`);r.exec(t)||(n=n.replace(r,e))}}return n}catch{return e}}function Pb(e){let{method:t,headers:r,postData:n}=e;if("GET"===t)return!1;function i(e){return e instanceof Uint8Array&&(e=(new TextDecoder).decode(e)),e}let s="";switch((r.get("content-type")||"").split(";")[0]){case"application/x-www-form-urlencoded":s=i(n);break;case"application/json":s=Fb(i(n));break;case"text/plain":try{s=Fb(i(n),!1)}catch{s=Ob(n)}break;case"multipart/form-data":{let e=r.get("content-type");if(!e)throw new Error("utils cannot call postToGetURL when missing content-type header");s=function(e,t){return function(e,t){let r=new URLSearchParams;e instanceof Uint8Array&&(e=(new TextDecoder).decode(e));try{let n=t.split("boundary=")[1],i=e.split(new RegExp("-*"+n+"-*","mi"));for(let e of i){let t=e.trim().match(/name="([^"]+)"\r\n\r\n(.*)/im);t&&r.set(t[1],t[2])}}catch{}return r}(e,t).toString()}(i(n),e);break}default:s=Ob(n)}return null!==s&&(e.url=Ub(e.url,s,e.method),e.method="GET",e.requestBody=s,!0)}function Ub(e,t,r){if(!r)return e;let n=e.indexOf("?")>0?"&":"?";return`${e}${n}__wb_method=${r}&${t}`}function Mb(e,t=!0){if("string"==typeof e)try{e=JSON.parse(e)}catch{e={}}let r=new URLSearchParams,n={};try{JSON.stringify(e,((e,t)=>(["object","function"].includes(typeof t)||r.set((e=>r.has(e)?(e in n||(n[e]=1),e+"."+ ++n[e]+"_"):e)(e),t),t)))}catch(e){if(!t)throw e}return r}function Fb(e,t=!0){return Mb(e,t).toString()}function Hb(e,t){if(1===e.length)return e[0];let r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.byteLength;return r}function jb(e,t){return[e.slice(0,t),e.slice(t)]}var zb=new TextDecoder("utf-8"),Wb=class extends kb.Inflate{constructor(e,t){super(e),this.ended=!1,this.chunks=[],this.reader=t}onEnd(e){this.err=e,this.err||(this.reader._rawOffset+=this.strm.total_in)}},Gb=class{static async readFully(e){let t=[],r=0;for await(let n of e)t.push(n),r+=n.byteLength;return Hb(t,r)}getReadableStream(){let e=this[Symbol.asyncIterator]();return new ReadableStream({pull:t=>e.next().then((e=>{e.done||!e.value?t.close():t.enqueue(e.value)}))})}async readFully(){return await Gb.readFully(this)}async readline(e=0){let t=await this.readlineRaw(e);return t?zb.decode(t):""}async*iterLines(e=0){let t=null;for(;t=await this.readline(e);)yield t}};var qb=class extends Gb{constructor(e,t="gzip",r=!1){let n;if(super(),this.compressed=t,this.opts={raw:"deflateRaw"===t},this.inflator=t?new Wb(this.opts,this):null,function(e){return e&&Symbol.asyncIterator in Object(e)}(e))n=e;else if("object"==typeof e&&"read"in e&&"function"==typeof e.read)n=qb.fromReadable(e);else if(e instanceof ReadableStream)n=qb.fromReadable(e.getReader());else{if(!function(e){return e&&Symbol.iterator in Object(e)}(e))throw new TypeError("Invalid Stream Source");n=qb.fromIter(e)}this._sourceIter=r?this.dechunk(n):n[Symbol.asyncIterator](),this.lastValue=null,this.errored=!1,this._savedChunk=null,this._rawOffset=0,this._readOffset=0,this.numChunks=0}async _loadNext(){let e=await this._sourceIter.next();return e.done?null:e.value}async*dechunk(e){let t=e instanceof qb?e:new qb(e,null),r=-1,n=!0;for(;0!=r;){let e=await t.readlineRaw(64),i=new Uint8Array;if(r=e?parseInt(zb.decode(e),16):0,!r||r>2**32){if(Number.isNaN(r)||r>2**32){n||(this.errored=!0),yield e;break}}else if(i=await t.readSize(r),i.length!=r){n?yield e:this.errored=!0,yield i;break}let s=await t.readSize(2);if(13!=s[0]||10!=s[1]){n?yield e:this.errored=!0,yield i,yield s;break}if(n=!1,!i||0===r)return;yield i}yield*t}unread(e){!e.length||(this._readOffset-=e.length,this._savedChunk&&console.log("Already have chunk!"),this._savedChunk=e)}async _next(){if(this._savedChunk){let e=this._savedChunk;return this._savedChunk=null,e}if(this.compressed){let e=this._getNextChunk();if(e)return e}let e=await this._loadNext();for(;this.compressed&&e;){this._push(e);let t=this._getNextChunk(e);if(t)return t;e=await this._loadNext()}return e}_push(e){if(!this.inflator)throw new Error("AsyncIterReader cannot call _push when this.compressed is null");this.lastValue=e,this.inflator.ended&&(this.inflator=new Wb(this.opts,this)),this.inflator.push(e),this.inflator.err&&this.inflator.ended&&"deflate"===this.compressed&&!1===this.opts.raw&&0===this.numChunks&&(this.opts.raw=!0,this.compressed="deflateRaw",this.inflator=new Wb(this.opts,this),this.inflator.push(e))}_getNextChunk(e){if(!this.inflator)throw new Error("AsyncIterReader cannot call _getNextChunk when this.compressed is null");for(;;){if(this.inflator.chunks.length>0)return this.numChunks++,this.inflator.chunks.shift();if(this.inflator.ended){if(0!==this.inflator.err)return this.compressed=null,e;let t=this.inflator.strm.avail_in;if(t&&this.lastValue){this._push(this.lastValue.slice(-t));continue}}return null}}async*[Symbol.asyncIterator](){let e=null;for(;e=await this._next();)this._readOffset+=e.length,yield e}async readlineRaw(e){let t=[],r=0,n=-1,i=null;for await(let s of this){if(e&&r+s.byteLength>e){i=s,n=e-r-1;let t=s.slice(0,n+1).indexOf(10);t>=0&&(n=t);break}if(n=s.indexOf(10),n>=0){i=s;break}t.push(s),r+=s.byteLength}if(i){let[e,s]=jb(i,n+1);t.push(e),r+=e.byteLength,this.unread(s)}else if(!t.length)return null;return Hb(t,r)}async readFully(){return(await this._readOrSkip())[1]}async readSize(e){return(await this._readOrSkip(e))[1]}async skipSize(e){return(await this._readOrSkip(e,!0))[0]}async _readOrSkip(e=-1,t=!1){let r=[],n=0;for await(let i of this){if(e>=0){if(i.length>e){let[s,o]=jb(i,e);t||r.push(s),n+=s.byteLength,this.unread(o);break}if(i.length===e){t||r.push(i),n+=i.byteLength,e=0;break}e-=i.length}t||r.push(i),n+=i.byteLength}return t?[n,new Uint8Array]:[n,Hb(r,n)]}getReadOffset(){return this._readOffset}getRawOffset(){return this.compressed?this._rawOffset:this._readOffset}getRawLength(e){return this.compressed?this.inflator.strm.total_in:this._readOffset-e}static fromReadable(e){return{async*[Symbol.asyncIterator](){let t=null;for(;(t=await e.read())&&!t.done;)yield t.value}}}static fromIter(e){return{async*[Symbol.asyncIterator](){for(let t of e)yield t}}}},Qb=class extends Gb{constructor(e,t,r=0){super(),this.sourceIter=e,this.length=t,this.limit=t,this.skip=r}setLimitSkip(e,t=0){this.limit=e,this.skip=t}async*[Symbol.asyncIterator](){if(!(this.limit<=0))for await(let e of this.sourceIter){if(this.skip>0){if(!(e.length>=this.skip)){this.skip-=e.length;continue}{let[,t]=jb(e,this.skip);e=t,this.skip=0}}if(e.length>this.limit){let[t,r]=jb(e,this.limit);e=t,this.sourceIter.unread&&this.sourceIter.unread(r)}if(e.length&&(this.limit-=e.length,yield e),this.limit<=0)break}}async readlineRaw(e){if(this.limit<=0)return null;let t=await this.sourceIter.readlineRaw(e?Math.min(e,this.limit):this.limit);return this.limit-=t?.length||0,t}async skipFully(){let e=this.limit;for(;this.limit>0;)this.limit-=await this.sourceIter.skipSize(this.limit);return e}},Vb=new Uint8Array([13,10]),Kb=new Uint8Array([13,10,13,10]),Yb=new TextDecoder("utf-8"),Jb=class{constructor({statusline:e,headers:t}){this.statusline=e,this.headers=t}toString(){let e=[this.statusline];for(let[t,r]of this.headers)e.push(`${t}: ${r}`);return e.join("\r\n")+"\r\n"}async*iterSerialize(e){yield e.encode(this.statusline),yield Vb;for(let[t,r]of this.headers)yield e.encode(`${t}: ${r}\r\n`)}_parseResponseStatusLine(){let e=function(e,t,r){let n=e.split(t),i=n.slice(0,r);return n.slice(r).length>0&&i.push(n.slice(r).join(t)),i}(this.statusline," ",2);this._protocol=e[0]??"",this._statusCode=e.length>1?Number(e[1]):"",this._statusText=e.length>2?e[2]:""}get statusCode(){return void 0===this._statusCode&&this._parseResponseStatusLine(),this._statusCode}get protocol(){return void 0===this._protocol&&this._parseResponseStatusLine(),this._protocol}get statusText(){return void 0===this._statusText&&this._parseResponseStatusLine(),this._statusText}_parseRequestStatusLine(){let e=this.statusline.split(" ",2);this._method=e[0]??"",this._requestPath=e.length>1?e[1]:""}get method(){return void 0===this._method&&this._parseRequestStatusLine(),this._method}get requestPath(){return void 0===this._requestPath&&this._parseRequestStatusLine(),this._requestPath}};async function Xb(e,t){let r=0;for(let n=0;n<e.length-4;n++){let n=e.indexOf(13,r);if(n<0)break;if(n+3>=e.length){let{value:r}=await t.next();if(!r)break;let n=new Uint8Array(r.length+e.length);n.set(e,0),n.set(r,e.length),e=n}if(10===e[n+1]&&13===e[n+2]&&10===e[n+3])return[n+3,e];r=n+1}return[-1,e]}var Zb=new TextDecoder("utf-8"),$b=new TextEncoder,eA="WARC/1.0",tA={warcinfo:"application/warc-fields",response:"application/http; msgtype=response",revisit:"application/http; msgtype=response",request:"application/http; msgtype=request",metadata:"application/warc-fields"},rA=class extends Gb{constructor({warcHeaders:e,reader:t}){super(),this._offset=0,this._length=0,this.method="",this.requestBody="",this._urlkey="",this.warcHeaders=e,this._reader=t,this._contentReader=null,this.payload=null,this.httpHeaders=null,this.consumed="",this.fixUp()}static create({url:e,date:t,type:r,warcHeaders:n={},filename:i="",httpHeaders:s={},statusline:o="HTTP/1.1 200 OK",warcVersion:a=eA,keepHeadersCase:c=!0,refersToUrl:l,refersToDate:u}={},h){function d(e){let t=e;return a===eA&&("Z"!=(e=e.split(".")[0]).charAt(t.length-1)&&(e+="Z")),e}t=d(t||(new Date).toISOString()),n={...n},"warcinfo"===r?i&&(n["WARC-Filename"]=i):n["WARC-Target-URI"]=e,n["WARC-Date"]=t,n["WARC-Type"]=r,"revisit"===r&&(n["WARC-Profile"]="WARC/1.1"===a?"http://netpreserve.org/warc/1.1/revisit/identical-payload-digest":"http://netpreserve.org/warc/1.0/revisit/identical-payload-digest",n["WARC-Refers-To-Target-URI"]=l,n["WARC-Refers-To-Date"]=d(u||(new Date).toISOString())),(n=new Jb({statusline:a,headers:c?new Map(Object.entries(n)):new Headers(n)})).headers.get("WARC-Record-ID")||n.headers.set("WARC-Record-ID",`<urn:uuid:${Nb()}>`),n.headers.get("Content-Type")||n.headers.set("Content-Type",r&&tA[r]||"application/octet-stream"),h||(h=async function*(){}());let f=new rA({warcHeaders:n,reader:h}),p=null,g=[];switch(r){case"response":case"request":case"revisit":g=Object.entries(s),p=c?new Map(g):new Headers(s),(g.length>0||"revisit"!==r)&&(f.httpHeaders=new Jb({statusline:o,headers:p}))}return f}static createWARCInfo(e={},t){return e.type="warcinfo",rA.create(e,async function*(){for(let[e,r]of Object.entries(t))yield $b.encode(`${e}: ${r}\r\n`)}())}getResponseInfo(){let e=this.httpHeaders;return e?{headers:e.headers,status:e.statusCode,statusText:e.statusText}:null}fixUp(){let e=this.warcHeaders.headers.get("WARC-Target-URI");e&&e.startsWith("<")&&e.endsWith(">")&&this.warcHeaders.headers.set("WARC-Target-URI",e.slice(1,-1))}async readFully(e=!1){if(this.httpHeaders){if(this.payload&&!this.payload.length)return this.payload;if(this._contentReader&&!e)throw new TypeError("WARC Record decoding already started, but requesting raw payload");if(e&&"raw"===this.consumed&&this.payload)return await this._createDecodingReader([this.payload]).readFully()}return this.payload||(e?(this.payload=await super.readFully(),this.consumed="content"):(this.payload=await rA.readFully(this._reader),this.consumed="raw")),this.payload}get reader(){if(this._contentReader)throw new TypeError("WARC Record decoding already started, but requesting raw payload");return this._reader}get contentReader(){return this.httpHeaders?(this._contentReader||(this._contentReader=this._createDecodingReader(this._reader)),this._contentReader):this._reader}_createDecodingReader(e){if(!this.httpHeaders)throw new Error("WARCRecord cannot call _createDecodingReader when this.httpHeaders === null");let t=this.httpHeaders.headers.get("Content-Encoding"),r=this.httpHeaders.headers.get("Transfer-Encoding"),n="chunked"===r;return!t&&!n&&(t=r),new qb(e,t,n)}async readlineRaw(e){if(this.consumed)throw new Error("Record already consumed.. Perhaps a promise was not awaited?");if(this.contentReader instanceof Gb)return this.contentReader.readlineRaw(e);throw new Error("WARCRecord cannot call readlineRaw on this.contentReader if it does not extend BaseAsyncIterReader")}async contentText(){let e=await this.readFully(!0);return Zb.decode(e)}async*[Symbol.asyncIterator](){for await(let e of this.contentReader)if(yield e,this.consumed)throw new Error("Record already consumed.. Perhaps a promise was not awaited?");this.consumed="content"}async skipFully(){if(!this.consumed){if(this._reader instanceof Qb){let e=await this._reader.skipFully();return this.consumed="skipped",e}throw new Error("WARCRecord cannot call skipFully on this._reader if it is not a LimitReader")}}warcHeader(e){return this.warcHeaders.headers.get(e)}get warcType(){return this.warcHeaders.headers.get("WARC-Type")}get warcTargetURI(){return this.warcHeaders.headers.get("WARC-Target-URI")}get warcDate(){return this.warcHeaders.headers.get("WARC-Date")}get warcRefersToTargetURI(){return this.warcHeaders.headers.get("WARC-Refers-To-Target-URI")}get warcRefersToDate(){return this.warcHeaders.headers.get("WARC-Refers-To-Date")}get warcPayloadDigest(){return this.warcHeaders.headers.get("WARC-Payload-Digest")}get warcBlockDigest(){return this.warcHeaders.headers.get("WARC-Block-Digest")}get warcContentType(){return this.warcHeaders.headers.get("Content-Type")}get warcContentLength(){return Number(this.warcHeaders.headers.get("Content-Length"))}},nA=new TextDecoder,iA=new Uint8Array([]),sA=class{static parse(e,t){return new sA(e,t).parse()}static iterRecords(e,t){return new sA(e,t)[Symbol.asyncIterator]()}constructor(e,{keepHeadersCase:t=!1,parseHttp:r=!0}={}){this._offset=0,this._warcHeadersLength=0,this._headersClass=t?Map:Headers,this._parseHttp=r,this._reader=e instanceof qb?e:new qb(e),this._record=null}async readToNextRecord(){if(!this._reader||!this._record)return iA;await this._record.skipFully(),this._reader.compressed&&(this._offset=this._reader.getRawOffset());let e=await this._reader.readlineRaw(),t=0;if(e){if(t=e.byteLength-1,9===t&&nA.decode(e).startsWith("WARC/"))return e;for(;t>0;){let r=e[t-1];if(10!==r&&13!==r)break;t--}t&&console.warn(`Content-Length Too Small: Record not followed by newline, Remainder Length: ${t}, Offset: ${this._reader.getRawOffset()-e.byteLength}`)}else e=iA;if(this._reader.compressed)await this._reader.skipSize(2),e=iA;else{for(e=await this._reader.readlineRaw();e&&2===e.byteLength;)e=await this._reader.readlineRaw();this._offset=this._reader.getRawOffset(),e&&(this._offset-=e.length)}return e}_initRecordReader(e){return new Qb(this._reader,Number(e.headers.get("Content-Length")||0))}async parse(){let e=await this.readToNextRecord(),t=e?nA.decode(e):"",r=new class{async parse(e,{headersClass:t,firstLine:r}={headersClass:Map}){let n=r||await e.readline();if(!n)return null;let i=n.trimEnd();if(!i)return null;let s,o,a,c,l=new t,u=await async function(e){let t=[],r=0,n=0,i=null,s=e[Symbol.asyncIterator]();for await(let e of s){if([n,e]=await Xb(e,s),n>=0){i=e;break}t.push(e),r+=e.byteLength}if(i){let[s,o]=jb(i,n+1);t.push(s),r+=s.byteLength,e.unread(o)}else if(!t.length)return"";return Yb.decode(Hb(t,r))}(e),h=0,d="";for(;h<u.length;){if(a=u.indexOf("\n",h),!c||" "!==u[h]&&"\t"!==u[h]){if(c){try{l.set(d,c)}catch{}c=null}s=u.indexOf(":",h),o=s<0?h:s+1,s>=0&&s<a?(d=u.slice(h,s).trimStart(),c=u.slice(o,a<0?void 0:a).trim()):c=null}else c+=u.slice(h,a<0?void 0:a).trimEnd();if(a<0)break;h=a+1}if(c)try{l.set(d,c)}catch{}return new Jb({statusline:i,headers:l})}},n=await r.parse(this._reader,{firstLine:t,headersClass:this._headersClass});if(!n)return null;this._warcHeadersLength=this._reader.getReadOffset();let i=new rA({warcHeaders:n,reader:this._initRecordReader(n)});if(this._record=i,this._parseHttp)switch(i.warcType){case"response":case"request":await this._addHttpHeaders(i,r);break;case"revisit":i.warcContentLength>0&&await this._addHttpHeaders(i,r)}return i}get offset(){return this._offset}get recordLength(){return this._reader.getRawLength(this._offset)}async*[Symbol.asyncIterator](){let e=null;for(;null!==(e=await this.parse());)yield e;this._record=null}async _addHttpHeaders(e,t){let r=await t.parse(this._reader,{headersClass:this._headersClass});e.httpHeaders=r;let n=this._reader.getReadOffset()-this._warcHeadersLength;e.reader instanceof Qb&&e.reader.setLimitSkip(e.warcContentLength-n)}},oA=new TextEncoder,aA=class extends Gb{constructor(e,t={}){super(),this.gzip=!1,this.digestAlgo="",this.digestAlgoPrefix="",this.digestBase32=!1,this.record=e,this.gzip=Boolean(t.gzip);let r=t&&t.digest||{};"revisit"===e.warcType||"warcinfo"===e.warcType||e.warcPayloadDigest&&e.warcBlockDigest?this.digestAlgo="":(this.digestAlgo=r?.algo||"sha-256",this.digestAlgoPrefix=r?.prefix||"sha256:",this.digestBase32=Boolean(r?.base32))}static async serialize(e,t){return await new aA(e,t).readFully()}static base16(e){return Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join("")}async*[Symbol.asyncIterator](){if(!this.gzip)return void(yield*this.generateRecord());let e=null;"CompressionStream"in globalThis?(e=new globalThis.CompressionStream("gzip"),yield*this.streamCompress(e)):yield*this.pakoCompress()}async readlineRaw(e){return null}async*pakoCompress(){let e=new kb.Deflate({gzip:!0}),t=null;for await(let r of this.generateRecord())for(t&&t.length>0&&e.push(t),t=r;e.chunks.length;)yield e.chunks.shift();t&&e.push(t,!0),yield e.result}async*streamCompress(e){let t=this.generateRecord();new ReadableStream({async pull(e){let r=await t.next();r.done?e.close():e.enqueue(r.value)}}).pipeThrough(e);let r=null,n=e.readable.getReader();for(;(r=await n.read())&&!r.done;)yield r.value}async digestMessage(e){let t=await crypto.subtle.digest(this.digestAlgo,e);return this.digestAlgoPrefix+(this.digestBase32?Bb(t,"RFC4648"):aA.base16(t))}async*generateRecord(){let e=0,t=null;this.record.httpHeaders&&(t=oA.encode(this.record.httpHeaders.toString()+"\r\n"),e+=t.length);let r=await this.record.readFully();if(e+=r.length,this.digestAlgo){let n=await this.digestMessage(r),i=t?await this.digestMessage(Hb([t,r],e)):n;this.record.warcHeaders.headers.set("WARC-Payload-Digest",n),this.record.warcHeaders.headers.set("WARC-Block-Digest",i)}this.record.warcHeaders.headers.set("Content-Length",e.toString()),yield oA.encode(this.record.warcHeaders.toString()),yield Vb,t&&(yield t),yield r,yield Kb}},cA=["offset","warc-type","warc-target-uri"],lA=class{constructor(e={}){this.opts=e,this.fields=e&&e.fields?e.fields.split(","):cA,this.parseHttp=!1}serialize(e){return JSON.stringify(e)+"\n"}write(e,t){t.write(this.serialize(e))}async writeAll(e,t){for await(let r of this.iterIndex(e))this.write(r,t)}async*iterIndex(e){let t={strictHeaders:!0,parseHttp:this.parseHttp};for(let{filename:r,reader:n}of e){let e=new sA(n,t);yield*this.iterRecords(e,r)}}async*iterRecords(e,t){for await(let r of e){await r.skipFully();let n=this.indexRecord(r,e,t);n&&(yield n)}}indexRecord(e,t,r){if(this.filterRecord&&!this.filterRecord(e))return null;let n={},i={offset:t.offset,length:t.recordLength,filename:r};for(let t of this.fields)t in i?n[t]=i[t]:this.setField(t,e,n);return n}setField(e,t,r){let n=this.getField(e,t);null!==n&&(r[e]=n)}getField(e,t){return"http:status"===e?!t.httpHeaders||"response"!==t.warcType&&"revisit"!==t.warcType?null:t.httpHeaders.statusCode:e.startsWith("http:")?t.httpHeaders?t.httpHeaders.headers.get(e.slice(5)):null:t.warcHeaders.headers.get(e)||null}},uA=class extends lA{constructor(e){super(e);for(let e of this.fields)if(e.startsWith("http:")){this.parseHttp=!0;break}}},hA="urlkey,timestamp,url,mime,status,digest,length,offset,filename".split(","),dA="urlkey,timestamp,url,mime,status,digest,redirect,meta,length,offset,filename".split(","),fA=class extends uA{constructor(e){switch(super(e),this.includeAll=Boolean(e?.all),this.overrideIndexForAll=Boolean(e?.all),this.fields=hA,this.parseHttp=!0,this.noSurt=Boolean(e?.noSurt),this._lastRecord=null,e?.format){case"cdxj":this.serialize=this.serializeCDXJ;break;case"cdx":this.serialize=this.serializeCDX11}}async*iterRecords(e,t){this._lastRecord=null;for await(let r of e){await r.readFully();let n=this.indexRecord(r,e,t);n&&(yield n)}let r=this.indexRecord(null,e,t);r&&(yield r)}filterRecord(e){if(this.includeAll)return!0;let t=e.warcType;return!("request"===t||"warcinfo"===t||("metadata"===t||"resource"===t)&&"application/warc-fields"===e.warcContentType)}indexRecord(e,t,r){if(this.overrideIndexForAll)return e?super.indexRecord(e,t,r):null;let n=this._lastRecord;if(this._lastRecord=e,e&&(e._offset=t.offset,e._length=t.recordLength),!n)return null;if(!e||n.warcTargetURI!=e.warcTargetURI)return this.indexRecordPair(n,null,t,r);let i=e.warcType,s=n.warcType;return"request"!==i||"response"!==s&&"revisit"!==s?"response"!==i&&"revisit"!==i||"request"!==s?this.indexRecordPair(n,null,t,r):(this._lastRecord=null,this.indexRecordPair(e,n,t,r)):(this._lastRecord=null,this.indexRecordPair(n,e,t,r))}indexRecordPair(e,t,r,n){let i,s,o=e.warcTargetURI||"";if(t&&t.httpHeaders&&"GET"!==t.httpHeaders.method){let r={url:o,method:t.httpHeaders.method,headers:t.httpHeaders.headers,postData:t.payload};i=r.method,Pb(r)&&(s=r.requestBody,e.method=i,e.requestBody=s,o=r.url)}e._urlkey=o;let a=super.indexRecord(e,r,n);return a&&(e&&void 0!==e._offset&&(a.offset=e._offset,a.length=e._length),i&&(a.method=i),s&&(a.requestBody=s)),a}serializeCDXJ(e){let{urlkey:t,timestamp:r}=e;return delete e.urlkey,delete e.timestamp,`${t} ${r} ${JSON.stringify(e)}\n`}serializeCDX11(e){let t=[];for(let r of dA)t.push(null!=e[r]?e[r]:"-");return t.join(" ")+"\n"}getField(e,t){let r=null;switch(e){case"urlkey":return r=t._urlkey||t.warcTargetURI||null,this.noSurt||null===r?r:Lb(r);case"timestamp":return r=t.warcDate??"",r.replace(/[-:T]/g,"").slice(0,14);case"url":return t.warcTargetURI;case"mime":switch(t.warcType){case"revisit":return"warc/revisit";case"response":case"request":e="http:content-type";break;default:e="content-type"}return r=super.getField(e,t),r?r.toString().split(";",1)[0]?.trim():null;case"status":return super.getField("http:status",t);case"digest":return r=t.warcPayloadDigest,r?r.split(":",2)[1]:null;default:return null}}};const pA=1024,gA=/\[\d]+/,yA=[{match:/\/\/.*(?:gcs-vimeo|vod|vod-progressive)\.akamaized\.net.*?\/([\d/]+\.mp4)/,fuzzyCanonReplace:"//vimeo-cdn.fuzzy.replayweb.page/$1",split:".net"},{match:/\/\/.*player.vimeo.com\/(video\/[\d]+)\?.*/i,fuzzyCanonReplace:"//vimeo.fuzzy.replayweb.page/$1"},{match:/www.\washingtonpost\.com\/wp-apps\/imrs.php/,args:[["src"]]},{match:/(static.wixstatic.com\/.*\.[\w]+\/v1\/fill\/)(w_.*)/,replace:"$1?_args=$2",split:"/v1/fill"},{match:/(twimg.com\/profile_images\/[^/]+\/[^_]+)_([\w]+\.[\w]+)/,replace:"$1=_args=$2",split:"_",splitLast:!0},{match:/^https?:\/\/(?:www\.)?(youtube\.com\/embed\/[^?]+)[?].*/i,replace:"$1"},{match:/^(https?:\/\/(?:www\.)?)(youtube\.com\/@[^?]+)[?].*/i,fuzzyCanonReplace:"$1$2"},{match:/\/\/(?:www\.)?youtube(?:-nocookie)?\.com\/(get_video_info)/i,fuzzyCanonReplace:"//youtube.fuzzy.replayweb.page/$1",args:[["video_id"]]},{match:/\/\/(?:www\.)?youtube(?:-nocookie)?\.com\/(youtubei\/v1\/[^?]+\?).*(videoId[^&]+).*/i,fuzzyCanonReplace:"//youtube.fuzzy.replayweb.page/$1$2",args:[["videoId"]]},{match:/\/\/.*googlevideo.com\/(videoplayback)/i,fuzzyCanonReplace:"//youtube.fuzzy.replayweb.page/$1",args:[["id","itag"],["id"]],fuzzyArgs:!0},{match:/facebook\.com\/ajax\/pagelet\/generic.php\/photoviewerinitpagelet/i,args:[[{arg:"data",keys:["query_type","fbid","v","cursor","data"]}]]},{match:/(twitter.com\/[^/]+\/status\/[^?]+)(\?.*)/,fuzzyCanonReplace:"$1"},{match:/facebook\.com\/ajax\//i,fuzzySet:!0},{match:function(e){return new RegExp("[?&]"+e.map((e=>"("+e+")")).join("|"),"gi")}(["(callback=jsonp)[^&]+(?=&|$)","((?:\\w+)=jquery)[\\d]+_[\\d]+","utm_[^=]+=[^&]+(?=&|$)","(_|cb|_ga|\\w*cache\\w*)=[\\d.-]+(?=$|&)"]),replace:""},{match:/(\.(?:js|webm|mp4|gif|jpg|png|css|json|m3u8))\?.*/i,replace:"$1",maxResults:2}];const wA=new class{constructor(e){this.rules=e||yA}getRuleFor(e){let t;const r=-1===e.indexOf("?")?e+"?":e;for(const e of this.rules)if(r.match(e.match)){t=e;break}let n=e;t&&t.fuzzyCanonReplace&&(n=e.replace(t.match,t.fuzzyCanonReplace));const i=t&&t.split||"?",s=t&&t.splitLast?e.lastIndexOf(i):e.indexOf(i);return{prefix:s>0?e.slice(0,s+i.length):e,rule:t,fuzzyCanonUrl:n}}getFuzzyCanonsWithArgs(e){let{fuzzyCanonUrl:t,prefix:r,rule:n}=this.getRuleFor(e);t===e&&(t=r);const i=[];if(n&&n.args){const r=new URL(t),s=new URL(e);for(const e of n.args){const t=new URLSearchParams;for(const r of e)t.set(r,s.searchParams.get(r)||"");r.search=t.toString(),i.push(r.href)}return i}return[t]}fuzzyCompareUrls(e,t,r){if(!t||!t.length)return null;if(r&&void 0!==r.replace&&void 0!==r.match&&(!r.maxResults||t.length<=r.maxResults)){const n=r.match,i=r.replace,s=e.replace(n,i),o=[];for(const e of t){const t=("string"==typeof e?e:e.url).replace(n,i);if(s===t)return e;e.fuzzyMatchUrl=t,o.push(e)}t=o,e=s}return this.fuzzyBestMatchQuery(e,t,r)}fuzzyBestMatchQuery(e,t,r){try{e=new URL(e)}catch(e){return 0}const n=r&&r.args&&!r.fuzzyArgs?new Set(r.args[0]):null;let i=0,s=null;const o=new URLSearchParams(e.search);for(const e of t){if(204===e.status||304===e.status)continue;let t="string"==typeof e?e:e.fuzzyMatchUrl||e.url;try{t=new URL(t)}catch(e){continue}const a=new URLSearchParams(t.search);let c=this.getMatch(o,a,n,r&&r.fuzzySet);c+=this.getMatch(a,o,n),c/=2,e.status>200&&(c*=10**(3e-4*(200-e.status))),c>i&&(i=c,s=e)}return s}getMatch(e,t,r=null,n=!1){let i=1,s=1;const o={};for(let[a,c]of e){let e,l=t.get(a);if(r&&r.has(a)&&l!==c)return-1e3;e="_"===a[0]?.1:10,null!==l&&(i+=.5*e,l.length>pA&&(l=l.slice(0,pA))),c&&c.length>pA&&(c=c.slice(0,pA));const u=Number(c),h=Number(l);if(s+=e,n&&this.addSetMatch(o,a,c,l),l===c)i+=e*c.length;else if(null===l||null===c)i+=0;else if(isNaN(u)||isNaN(h))if(c.startsWith("{")&&l.startsWith("{"))try{const t=Mb(c),r=Mb(l);i+=this.getMatch(t,r)*e*2}catch(t){i+=.5*e*this.levScore(c,l)}else n||(i+=e*this.levScore(c,l));else i+=10-Math.log(Math.abs(u-h)+1)}return i/s+(n?this.paramSetMatch(o,100):0)}addSetMatch(e,t,r,n){if(!r||!n||"/"!==r[0]||"/"!==n[0])return;const i=t.split(gA);if(i.length<=1)return;const s=r.indexOf("?"),o=n.indexOf("?"),a=i[0],c=s>0?r.slice(0,s):r,l=o>0?n.slice(0,o):n;e[a]||(e[a]={value:[],found:new Set}),e[a].value.push(c),e[a].found.add(l)}paramSetMatch(e,t){let r=0;for(const n of Object.values(e)){let e=t;for(const t of n.value)n.found.has(t)&&(r+=e),e*=.33}return r}levScore(e,t){const r=Math.min(e.length,t.length),n=xb(e,t);return n<r?r-n:0}},mA=new TextEncoder,bA=new TextDecoder;class AA{static fromResponse({url:e,response:t,date:r,noRW:n,isLive:i}){const s=t.body?new qb(t.body.getReader(),!1):null,o=Number(t.headers.get("x-redirect-status")||t.status),a=t.headers.get("x-redirect-statusText")||t.statusText;let c=new Headers(t.headers),l=c.get("x-orig-location");l&&(l.startsWith(self.location.origin)&&(l=l.slice(self.location.origin.length)),c.set("location",l),c.delete("x-orig-location"),c.delete("x-redirect-status"),c.delete("x-redirect-statusText"));let u=null;const h=c.get("x-orig-ts");h&&(r=hb(h),c.delete("x-orig-ts"),h&&l&&(u=h));const d=c.get("memento-datetime");d&&(r=new Date(d));const f=c.get("x-proxy-set-cookie");if(f){const e=[];f.split(",").forEach((t=>{const r=t.split(";",1)[0].trim();r.indexOf("=")>0&&e.push(r)})),c.delete("x-proxy-set-cookie"),e.length&&c.set("x-wabac-preset-cookie",e.join(";"))}return new AA({payload:s,status:o,statusText:a,headers:c,url:e,date:r,noRW:n,isLive:i,updateTS:u})}constructor({payload:e,status:t,statusText:r,headers:n,url:i,date:s,extraOpts:o=null,noRW:a=!1,isLive:c=!1,updateTS:l=null}){this.reader=null,this.buffer=null,e&&(e[Symbol.asyncIterator]||e instanceof Gb)?this.reader=e:this.buffer=e,this.status=t,this.statusText=r,this.headers=n,this.url=i,this.date=s,this.extraOpts=o,this.noRW=a,this.isLive=c,this.updateTS=l}async getText(e=!1){const t=await this.getBuffer();return"string"==typeof t?t:e?bA.decode(t):pb(t)}setText(e,t=!1){this.setBuffer(t?mA.encode(e):gb(e))}async getBuffer(){return this.buffer||(this.buffer=await this.reader.readFully()),this.buffer}setBuffer(e){this.buffer=e,this.reader=null}setReader(e){e instanceof Gb?(this.reader=e,this.buffer=null):e.getReader&&(this.reader=new qb(e.getReader()),this.buffer=null)}expectedLength(){return this.buffer?this.buffer.length:this.reader&&this.reader.reader?this.reader.reader.length:void 0}createIter(){const e=this.buffer,t=this.reader;return async function*(){if(e)for(let t=0;t<e.length;t+=sb)yield e.slice(t,t+sb);else t&&(yield*t)}()}async*[Symbol.asyncIterator](){yield*this.createIter()}setRange(e){if(206===this.status){const e=this.headers.get("Content-Range");if(e&&!e.startsWith("bytes 0-"))return!1}const t=e.match(/^bytes=(\d+)-(\d+)?$/);let r=0;if(this.buffer)r=this.buffer.length;else if(this.reader&&(r=Number(this.headers.get("content-length")),!r))return!1;if(!t)return this.status=416,this.statusText="Range Not Satisfiable",this.headers.set("Content-Range",`*/${r}`),!1;const n=Number(t[1]),i=Number(t[2])||r-1;if(this.buffer)this.buffer=this.buffer.slice(n,i+1);else if(this.reader){if(!this.reader.setLimitSkip)return!1;0!==n||i!==r-1?this.reader.setLimitSkip(i-n+1,n):this.reader.setRangeAll&&this.reader.setRangeAll(r)}return this.headers.set("Content-Range",`bytes ${n}-${i}/${r}`),this.headers.set("Content-Length",i-n+1),this.status=206,this.statusText="Partial Content",!0}makeResponse(e=!1){let t=null;bb(this.status)||(t=this.buffer||!this.reader?this.buffer:this.reader.getReadableStream());const r=new Response(t,{status:this.status,statusText:this.statusText,headers:this.headers});return r.date=this.date,e&&(r.headers.set("Cross-Origin-Opener-Policy","same-origin"),r.headers.set("Cross-Origin-Embedder-Policy","require-corp")),r}}const EA=new Date("9999-01-01").getTime(),vA="warc/revisit";class _A{constructor(e,t={}){this.name=e,this.db=null;const{minDedupSize:r,noRefCounts:n}=t;this.minDedupSize=Number.isInteger(r)?r:1024,this.version=4,this.autoHttpsCheck=!0,this.useRefCounts=!n,this.allowRepeats=!0,this.repeatTracker=this.allowRepeats?new TA:null,this.fuzzyPrefixSearch=!0,this.initing=this.init()}async init(){let e=0;this.db=await Hm(this.name,this.version,{upgrade:(t,r,n,i)=>{e=r,this._initDB(t,r,n,i)},blocking:(e,t)=>{t||this.close()}}),1===e&&await this.convertCuratedPagesToV2(this.db)}_initDB(e,t){if(!t){const t=e.createObjectStore("pages",{keyPath:"id"});t.createIndex("url","url"),t.createIndex("ts","ts"),t.createIndex("state","state"),e.createObjectStore("pageLists",{keyPath:"id",autoIncrement:!0});e.createObjectStore("curatedPages",{keyPath:"id",autoIncrement:!0}).createIndex("listPages",["list","pos"]);const r=e.createObjectStore("resources",{keyPath:["url","ts"]});r.createIndex("pageId","pageId"),r.createIndex("mimeStatusUrl",["mime","status","url"]),e.createObjectStore("payload",{keyPath:"digest",unique:!0}),e.createObjectStore("digestRef",{keyPath:"digest",unique:!0})}}async clearAll(){const e=["pages","resources","payload","digestRef"];for(const t of e)await this.db.clear(t)}close(){this.db&&(this.db.close(),this.db=null)}async delete(){this.close(),await jm(this.name,{blocked(e,t){console.log("Unable to delete: "+t)}})}async addPage(e,t){const r=e.url,n=e.title||e.url,i=e.id||this.newPageId(),s=e.state||17;let o=e.ts;if("number"!=typeof o)if(e.timestamp)o=hb(e.timestamp).getTime();else{const t=e.ts||e.date||e.datetime;t&&(o=new Date(t).getTime())}const a={...e,url:r,ts:o,title:n,id:i,state:s};return t?(t.store.put(a),a.id):await this.db.put("pages",a)}async addPages(e,t="pages",r=!1){const n=this.db.transaction(t,"readwrite");for(const t of e)r?n.store.put(t):this.addPage(t,n);try{await n.done}catch(e){console.warn("addPages tx",e.toString())}}async createPageList(e){const t={};return t.title=e.title,t.desc=e.desc||e.description,t.slug=e.id||e.slug,await this.db.put("pageLists",t)}async addCuratedPageList(e,t){const r=await this.createPageList(e);let n=0;for(const e of t)e.pos=n++,e.list=r;await this.addPages(t,"curatedPages")}async addCuratedPageLists(e,t="pages",r="public"){for(const n of e){if(r&&!n[r])continue;const e=n[t]||[];await this.addCuratedPageList(n,e)}}async convertCuratedPagesToV2(e){const t=await e.getAll("curatedPages");if(!t||!t.length)return;const r=await e.getAll("pages"),n=new Map;for(const e of r)n.set(e.id,e);for(const e of t)if(e.page){const t=n.get(e.page);t&&(e.id=this.newPageId(),e.url=t.url,e.ts=t.ts,!e.title&&t.title&&(e.title=t.title)),delete e.page}await e.clear("curatedPages");const i=e.transaction("curatedPages","readwrite");for(const e of t)i.store.put(e);try{await i.done}catch(e){console.warn("Conversion Failed",e)}}async getCuratedPagesByList(){const e=await this.db.getAll("pageLists"),t=this.db.transaction("curatedPages","readonly");for await(const r of t.store.index("listPages").iterate()){const t=e[r.value.list-1];t&&(t.show=!0,t.pages||(t.pages=[]),t.pages.push(r.value))}return e}newPageId(){return yb()}async getAllPages(){return await this.db.getAll("pages")}async getPages(e){const t=[];e.sort();for await(const r of this.matchAny("pages",null,e))t.push(r);return t}async getPagesWithState(e){return await this.db.getAllFromIndex("pages","state",e)}async getVerifyInfo(){return{}}async addVerifyData(){}async addVerifyDataList(){}async dedupResource(e,t,r,n=1){const i=r.objectStore("digestRef"),s=await i.get(e);if(s)return++s.count,s;if(t)try{r.objectStore("payload").put({digest:e,payload:t});return{digest:e,count:n,size:t.length}}catch(e){console.log(e)}return null}async addResources(e){const t=[],r=[],n={},i=new Set,s=this.db.transaction(["digestRef","payload"],"readwrite");for(const o of e){let e=1;const a=o.mime===vA?t:r;a.push(o);const c=this.getFuzzyUrl(o);c&&(a.push(c),e=2),this.useRefCounts&&o.digest&&(n[o.digest]?(n[o.digest].count+=e,i.add(o.digest)):n[o.digest]=await this.dedupResource(o.digest,o.payload,s,e),delete o.payload)}if(this.useRefCounts){const e=s.objectStore("digestRef");for(const t of i)e.put(n[t])}try{await s.done}catch(e){console.error("Payload and Ref Count Bulk Add Failed: ",e)}const o=this.db.transaction("resources","readwrite");for(const e of t)o.store.put(e);for(const e of r)o.store.put(e);try{await o.done}catch(e){console.error("Resources Bulk Add Failed",e)}}getFuzzyUrl(e){if(e.status>=200&&e.status<400&&304!==e.status&&204!==e.status){const{fuzzyCanonUrl:t}=wA.getRuleFor(e.url);if(!t||t===e.url)return null;return{url:t,ts:e.ts,origURL:e.url,origTS:e.ts,pageId:e.pageId,digest:e.digest}}return null}async addResource(e){e.payload&&e.payload.length>this.minDedupSize&&(e.digest||(e.digest=await fb(e.payload,"sha-256")));let t=null,r=!1;const n=this.db.transaction(["resources","digestRef","payload"],"readwrite");if(e.payload&&e.payload.length>this.minDedupSize?(t=await this.dedupResource(e.digest,e.payload,n),r=t&&1===t.count,delete e.payload):e.payload&&(r=!0),e.mime!==vA){n.objectStore("resources").put(e);const r=this.getFuzzyUrl(e);r&&(n.objectStore("resources").put(r),t&&t.count++)}else n.objectStore("resources").add(e);t&&n.objectStore("digestRef").put(t);try{await n.done}catch(t){e.mime===vA?console.log("Skip Duplicate revisit for: "+e.url):console.log("Add Error for "+e.url),console.log(t)}return r}async getResource(e,t,r,n={}){const i=hb(e.timestamp).getTime();let s=e.url,o=null;const a=this.repeatTracker?this.repeatTracker.getSkipCount(r,s,e.request.method):0,c={...n,skip:a};if(s.startsWith("//")){let t=!1;o=await this.lookupUrl("https:"+s,i,c),o||(o=await this.lookupUrl("http:"+s,i,c),(o||e.request.referrer.indexOf("/http://",2)>0)&&(t=!0)),s=(t?"http:":"https:")+s}else if(o=await this.lookupUrl(s,i,c),!o&&this.autoHttpsCheck&&s.startsWith("http://")){const e=s.replace("http://","https://");o=await this.lookupUrl(e,i,c),o&&(s=e)}if(o||!this.fuzzyPrefixSearch||n.noFuzzyCheck||(o=await this.lookupQueryPrefix(s,n)),o&&o.origURL){const e=await this.lookupUrl(o.origURL,o.origTS||o.ts,n);e&&(s=e.url,o=e)}if(!o)return null;const l=o.status,u=o.statusText||Ab(l);let h=null;if(!bb()&&(h=await this.loadPayload(o,n),!h))return null;const d=wb(o.respHeaders),f=new Date(o.ts),p=o.extraOpts||null;return s=o.url,s!==e.url&&d.set("Content-Location",s),new AA({url:s,payload:h,status:l,statusText:u,headers:d,date:f,extraOpts:p})}async loadPayload(e){if(e.digest&&!e.payload){if("sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"===e.digest||"sha1:3I42H3S6NNFQ2MSVX7XZKYAYSCX5QBYJ"===e.digest)return new Uint8Array([]);const t=await this.db.get("payload",e.digest);if(!t)return null;const{payload:r}=t;return r}return e.payload}async lookupUrl(e,t,r={}){const n=this.db.transaction("resources","readonly");if(t){const i=IDBKeyRange.bound([e,t],[e,EA]);if(r.noRevisits||r.pageId){let e=await n.store.getAll(i,16);e=e||[];for(const t of e)if(!(r.pageId&&t.pageId&&t.pageId!==r.pageId||r.noRevisits&&t.mime===vA))return t}else{const e=await n.store.get(i);if(e)return e}}const i=IDBKeyRange.bound([e],[e,t||EA]);for await(const e of n.store.iterate(i,"prev")){const t=e.value;if((!r.pageId||!t.pageId||t.pageId===r.pageId)&&(!r.noRevisits||t.mime!==vA))return t}return null}async lookupQueryPrefix(e,t){const{rule:r,prefix:n,fuzzyCanonUrl:i}=wA.getRuleFor(e);if(i!==e){const e=await this.lookupUrl(i,0,t);if(e)return e}if(!r&&n===e&&n===i&&!e.endsWith("?"))return null;const s=await this.db.getAll("resources",this.getLookupRange(n,"prefix"),128e3);return wA.fuzzyCompareUrls(e,s,r)}resJson(e){const t=new Date(e.ts).toISOString();return{url:e.url,date:t,ts:lb(t),mime:e.mime,status:e.status}}async resourcesByPage(e){return this.db.getAllFromIndex("resources","pageId",e)}async*resourcesByPages2(e){e.sort(),yield*this.matchAny("resources","pageId",e)}async*resourcesByPages(e){const t=this.db.transaction("resources","readonly");for await(const r of t.store.iterate())e.includes(r.value.pageId)&&(yield r.value)}async*matchAny(e,t,r,n,i=!1){const s=this.db.transaction(e,"readonly"),o=IDBKeyRange.lowerBound(r[0],i);let a=t?await s.store.index(t).openCursor(o):await s.store.openCursor(o),c=0;for(;a&&c<r.length;){let e,t,i;void 0!==n?(e=a.key[n],t=r[c][n],i=e.startsWith(t)):(e=a.key,t=r[c],i=e===t),!i&&e>t?++c:i?(yield a.value,a=await a.continue()):a=await a.continue(r[c])}}async resourcesByUrlAndMime(e,t,r=1e3,n=!0,i="",s=""){const o=t?null:r,a=await this.db.getAll("resources",this.getLookupRange(e,n?"prefix":"exact",i,s),o);t=t.split(",");const c=[];for(const e of a)for(const n of t)if(!n||e.mime&&e.mime.startsWith(n)){if(c.push(this.resJson(e)),c.length===r)return c;break}return c}async resourcesByMime(e,t=100,r="",n="",i=0){const s=[];(e=e.split(",")).sort();let o=[];r&&o.push([r,i,n]);for(const t of e)(!r||!t||t>r)&&o.push([t,0,""]);for await(const e of this.matchAny("resources","mimeStatusUrl",o,0,!0))if(s.push(this.resJson(e)),s.length===t)break;return s}async deletePage(e){const t=this.db.transaction("pages","readwrite"),r=await t.store.get(e);await t.store.delete(e);const n=await this.deletePageResources(e);return{pageSize:r&&r.size||0,dedupSize:n}}async deletePageResources(e){const t={},r=this.db.transaction("resources","readwrite");let n=await r.store.index("pageId").openCursor(e),i=0;for(;n;){const e=n.value.digest;e?t[e]=(t[e]||0)+1:n.value.payload&&(i+=n.value.payload.length),r.store.delete(n.primaryKey),n=await n.continue()}await r.done;const s=this.db.transaction(["payload","digestRef"],"readwrite"),o=s.objectStore("digestRef");for(const e of Object.keys(t)){const r=await o.get(e);r&&(r.count-=t[e]),r&&r.count>=1?o.put(r):(i+=r?r.size:0,o.delete(e),s.objectStore("payload").delete(e))}return await s.done,i}prefixUpperBound(e){return e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+1)}getLookupRange(e,t,r,n){let i,s,o;switch(t){case"prefix":i=[e],s=[this.prefixUpperBound(e)];break;case"host":{const t=new URL(e).origin;i=[t+"/"],s=[t+"0"];break}default:i=[e],s=[e,Number.MAX_SAFE_INTEGER]}return r?(i=[r,n||""],o=!0):o=!1,IDBKeyRange.bound(i,s,o,!0)}}class TA{constructor(){this.repeats={}}getSkipCount(e,t,r){if("POST"!==r&&!t.endsWith(".m3u8"))return 0;e.replacesClientId&&delete this.repeats[e.replacesClientId];const n=e.resultingClientId||e.clientId;return n?(void 0===this.repeats[n]&&(this.repeats[n]={}),void 0===this.repeats[n][t]?this.repeats[n][t]=0:this.repeats[n][t]++,this.repeats[n][t]):0}}class SA{constructor(e,{cloneResponse:t=!1,allowBody:r=!1,hostProxyOnly:n=!1}={}){if(e=e||{},this.prefix=e.prefix||"",this.proxyPathOnly=e.proxyPathOnly||!1,this.isLive=void 0===e.isLive||e.isLive,this.archivePrefix=e.archivePrefix||"",this.cloneResponse=t,this.allowBody=r,this.hostProxy=e.hostProxy,this.hostProxy instanceof Array){const e={};for(const t of this.hostProxy)e[t.host]=t;this.hostProxy=e}this.hostProxyOnly=n}async getAllPages(){return[]}getFetchUrl(e,t,r){let n;if(this.hostProxy){n=new URL(e);const t=this.hostProxy[n.host];if(t)return r.set("X-Proxy-Host",n.host),t.prefix+(t.pathOnly?n.pathname+n.search:e)}return this.hostProxyOnly?null:this.proxyPathOnly?(n||(n=new URL(e)),this.prefix+n.pathname+n.search):this.isLive||!t.timestamp?this.prefix+e:this.prefix+this.archivePrefix+t.timestamp+"id_/"+e}async getResource(e,t){const{headers:r,credentials:n,url:i}=e.prepareProxyRequest(t,!0),s=this.getFetchUrl(i,e,r);if(!s)return null;let o=null;!this.allowBody||"POST"!==e.method&&"PUT"!==e.method||(o=await e.getBody());const a=await fetch(s,{method:e.method,body:o,headers:r,credentials:n,mode:"cors",redirect:"follow"});let c=null;this.cloneResponse&&(c=a.clone());const l=AA.fromResponse({url:i,response:a,date:new Date,noRW:!1,isLive:this.isLive});return c&&(l.clonedResponse=c),l}}var IA=__webpack_require__(8173),CA=__webpack_require__(7867),RA=__webpack_require__(5755);async function xA(e,t,r){const n=e;try{"chunked"===r&&(e=function(e){let t=0,r=0;const n=new TextDecoder("utf-8");for(;t<e.length;){let s=t;for(;e[s]>=48&&e[s]<=57||e[s]>=65&&e[s]<=70||e[s]>=97&&e[s]<=102;)s++;if(0===s)return e;if(13!=e[s]||10!=e[s+1])return e;s+=2;var i=parseInt(n.decode(e.subarray(t,s)),16);if(0==i)break;e.set(e.subarray(s,s+i),r),s+=i,r+=i,13==e[s]&&10==e[s+1]&&(s+=2),t=s}return e.subarray(0,r)}(e))}catch(e){console.log("Chunk-Encoding Ignored: "+e)}try{if("br"===t)0===(e=CA(e)).length&&(e=n);else if("gzip"===t||"gzip"===r){const t=new RA.Inflate;t.push(e,!0),t.result&&!t.err&&(e=t.result)}}catch(e){console.log("Content-Encoding Ignored: "+e)}return e}var kA=__webpack_require__(2197);function NA(e={}){let t,r;const n=e&&e.response&&e.response.extraOpts;if(n&&(t=n.adaptive_max_resolution||n.maxRes,r=n.adaptive_max_bandwidth||n.maxBand,t&&r))return{maxRes:t,maxBand:r};let i;return i=e&&e.response&&!e.response.isLive?{maxRes:921600,maxBand:2e6}:{maxRes:412800,maxBand:1e6},e&&e.save&&(e.save.maxRes=i.maxRes,e.save.maxBand=i.maxBand),i}function BA(e,t){const r=/#EXT-X-STREAM-INF:(?:.*[,])?BANDWIDTH=([\d]+)/,n=/RESOLUTION=([\d]+)x([\d]+)/,{maxRes:i,maxBand:s}=NA(t);let o=[],a=0,c=null,l=0,u=0,h=e.trimEnd().split("\n");for(const e of h){const d=e.match(r);if(!d){t&&t.rewriteUrl&&!e.startsWith("#")&&(h[a]=t.rewriteUrl(e)),a+=1;continue}o.push(a);const f=Number(d[1]),p=e.match(n),g=p?Number(p[1])*Number(p[2]):0;g&&i?g<=i&&g>u&&(u=g,l=f,c=a):f<=s&&f>l&&(u=g,l=f,c=a),a+=1}o.reverse();for(const e of o)e!==c&&h.splice(e,2);return h.join("\n")}const OA={ignoreAttributes:!1,removeNSPrefix:!1,format:!1,suppressEmptyNode:!0};function DA(e,t,r){try{return function(e,t,r){const n=new kA.XMLParser(OA).parse(e),{maxRes:i,maxBand:s}=NA(t);let o=null,a=0,c=0,l=null;l=Array.isArray(n.MPD.Period.AdaptationSet)?n.MPD.Period.AdaptationSet:[n.MPD.Period.AdaptationSet];for(const e of l){o=null,a=0,c=0;let t=null;t=Array.isArray(e.Representation)?e.Representation:[e.Representation];for(const e of t){const t=Number(e["@_width"]||"0")*Number(e["@_height"]||"0"),r=Number(e["@_bandwidth"]||"0");t&&i?t<=i&&t>a&&(a=t,c=r,o=e):r<=s&&r>c&&(a=t,c=r,o=e)}o&&Array.isArray(r)&&r.push(o["@_id"]),o&&(e.Representation=[o])}const u=new kA.XMLBuilder(OA);return"<?xml version='1.0' encoding='UTF-8'?>\n"+u.build(n).trim()}(e,t,r)}catch(t){return console.log(t),e}}const LA=[{contains:["youtube.com","youtube-nocookie.com"],rxRules:[[/ytplayer.load\(\);/,PA('ytplayer.config.args.dash = "0"; ytplayer.config.args.dashmpd = ""; {0}')],[/yt\.setConfig.*PLAYER_CONFIG.*args":\s*{/,PA('{0} "dash": "0", dashmpd: "", ')],[/(?:"player":|ytplayer\.config).*"args":\s*{/,PA('{0}"dash":"0","dashmpd":"",')],[/yt\.setConfig.*PLAYER_VARS.*?{/,PA('{0}"dash":"0","dashmpd":"",')],[/ytplayer.config={args:\s*{/,PA('{0}"dash":"0","dashmpd":"",')],[/"0"\s*?==\s*?\w+\.dash&&/m,PA("1&&")]]},{contains:["player.vimeo.com/video/"],rxRules:[[/^\{.+\}$/,function(e){let t;try{t=JSON.parse(e)}catch(t){return e}if(t&&t.request&&t.request.files){const e=t.request.files;if("object"==typeof e.progressive&&e.progressive.length)return e.dash&&(e.__dash=e.dash,delete e.dash),e.hls&&(e.__hls=e.hls,delete e.hls),JSON.stringify(t)}return e.replace(/query_string_ranges=1/g,"query_string_ranges=0")}]]},{contains:["master.json?query_string_ranges=0","master.json?base64"],rxRules:[[/^\{.+\}$/,function(e,t){if(!t)return e;let r=null;const n=UA(t);try{r=JSON.parse(e),console.log("manifest",r)}catch(t){return e}function i(e,t,r){let n=0,i=null;for(const s of e)s.mime_type==r&&s.bitrate>i&&s.bitrate<=t&&(i=s.bitrate,n=s);return n?[n]:e}return r.video=i(r.video,n,"video/mp4"),r.audio=i(r.audio,n,"audio/mp4"),JSON.stringify(r)}]]},{contains:["facebook.com/"],rxRules:[[/"dash_/,PA('"__nodash__')],[/_dash"/,PA('__nodash__"')],[/_dash_/,PA("__nodash__")],[/"debugNoBatching\s?":(?:false|0)/,PA('"debugNoBatching":true')]]},{contains:["instagram.com/"],rxRules:[[/"is_dash_eligible":(?:true|1)/,PA('"is_dash_eligible":false')],[/"debugNoBatching\s?":(?:false|0)/,PA('"debugNoBatching":true')]]},{contains:["api.twitter.com/2/","twitter.com/i/api/2/","twitter.com/i/api/graphql/"],rxRules:[[/"video_info":.*?}]}/,MA('"video_info":')]]},{contains:["cdn.syndication.twimg.com/tweet-result"],rxRules:[[/"video":.*?viewCount":\d+}/,MA('"video":')]]},{contains:["/vqlweb.js"],rxRules:[[/\b\w+\.updatePortSize\(\);this\.updateApplicationSize\(\)(?![*])/gim,PA("/*{0}*/")]]}];function PA(e){return t=>e.replace("{0}",t)}function UA(e){let t=5e6;const r=e.response&&e.response.extraOpts;return e.save?e.save.maxBitrate=t:r&&r.maxBitrate&&(t=r.maxBitrate),t}function MA(e){return(t,r)=>{if(!r)return t;const n=t;try{const n=/([\d]+)x([\d]+)/,i=UA(r);t=t.slice(e.length);const s=JSON.parse(t);let o=null,a=0;for(const e of s.variants)if(!(e.content_type&&"video/mp4"!==e.content_type||e.type&&"video/mp4"!==e.type))if(e.bitrate&&e.bitrate>a&&e.bitrate<=i)o=e,a=e.bitrate;else if(e.src){const t=n.exec(e.src);if(t){const r=Number(t[1])*Number(t[2]);r>a&&(a=r,o=e)}}return o&&(s.variants=[o]),e+JSON.stringify(s)}catch(e){return console.warn("rewriter error: ",e),n}}}class FA{constructor(e,t){this.rwRules=t||LA,this.RewriterCls=e,this._initRules()}_initRules(){this.rewriters=new Map;for(const e of this.rwRules)e.rxRules&&this.rewriters.set(e,new this.RewriterCls(e.rxRules));this.defaultRewriter=new this.RewriterCls}getRewriter(e){for(const t of this.rwRules)if(t.contains)for(const r of t.contains)if(e.indexOf(r)>=0){const e=this.rewriters.get(t);if(e)return e}return this.defaultRewriter}}class HA{constructor(e){this.rules=e||null,this.rules?this.compileRules():this.rx=null}compileRules(){let e="";for(let t of this.rules)e&&(e+="|"),e+=`(${t[0].source})`;const t=`(?:${e})`;this.rx=new RegExp(t,"gm")}doReplace(e,t){const r=e[e.length-2],n=e[e.length-1];for(let i=0;i<this.rules.length;i++){const s=e[i];if(!s)continue;const o=this.rules[i][1].call(this,s,t,r,n);if(o)return o}}rewrite(e,t){return this.rx?e.replace(this.rx,((e,...r)=>this.doReplace(r,t))):e}}const jA=/^\s*?import\s*?[{"'*]/,zA=/^\s*?export\s*?({([\s\w,$\n]+?)}[\s;]*|default|class)\s+/m,WA=/^\s*?import(?:['"\s]*(?:[\w*${}\s,]+from\s*)?['"\s]?['"\s])(?:.*?)['"\s]/,GA=/(import(?:['"\s]*(?:[\w*${}\s,]+from\s*)?['"\s]?['"\s]))((?:https?|[./]).*?)(['"\s])/,qA=["window","globalThis","self","document","location","top","parent","frames","opener"],QA=qA.map((e=>`(?:^|[^$.])\\b${e}\\b(?:$|[^$])`)).join("|"),VA=new RegExp(`(${QA})`),KA=(()=>{const e="_____WB$wombat$check$this$function_____(this)";function t(){return t=>t.replace("this",e)}return[[/(?:^|\s)\beval\s*\(/,(n="WB_wombat_runEval2((_______eval_arg, isGlobal) => { var ge = eval; return isGlobal ? ge(_______eval_arg) : eval(_______eval_arg); }).eval(this, (function() { return arguments })(),",i="eval",e=>{const t=e.indexOf(i);return 0===t?n:e.slice(0,t)+n})],[/[=]\s*\beval\b(?![(:.$])/,function(e,t){return r=>r.replace(e,t)}("eval","self.eval")],[/\.postMessage\b\(/,function(e){return t=>e+t}(".__WB_pmw(self)")],[/[^$.]?\s?\blocation\b\s*[=]\s*(?![\s=])/,(r="((self.__WB_check_loc && self.__WB_check_loc(location, arguments)) || {}).href = ",(e,t,n,i)=>{if(n>0){const t=i[n-1];if("."===t||"$"===t)return e}return e+r})],[/\breturn\s+this\b\s*(?![\s\w.$])/,t()],[new RegExp(`[^$.]\\s?\\bthis\\b(?=(?:\\.(?:${qA.join("|")})\\b))`),(t,r,n,i)=>{const s=n>0?i[n-1]:"";return"\n"===s?t.replace("this",";"+e):"."!==s&&"$"!==s?t.replace("this",e):t}],[/[=,]\s*\bthis\b\s*(?![\s\w:.$])/,t()],[/\}(?:\s*\))?\s*\(this\)/,t()],[/[^|&][|&]{2}\s*this\b\s*(?![|\s&.$](?:[^|&]|$))/,t()],[/async\s+import\s*\(/,e=>e],[/[^$.]\bimport\s*\(/,function(e,t){return(r,n)=>{let i=r.replace(e,t);return i+=n.isModule?"import.meta.url, ":"null, ",i}}("import","____wb_rewrite_import__")]];var r,n,i})();const YA=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),JA="";var XA;!function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"}(XA=XA||(XA={}));const ZA="--",$A="[CDATA[",eE="doctype",tE="script",rE="public",nE="system";function iE(e){return e>=55296&&e<=57343}function sE(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159}function oE(e){return e>=64976&&e<=65007||YA.has(e)}var aE;!function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(aE=aE||(aE={}));class cE{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e){const{line:t,col:r,offset:n}=this;return{code:e,startLine:t,endLine:t,startCol:r,endCol:r,startOffset:n,endOffset:n}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const t=this.html.charCodeAt(this.pos+1);if(function(e){return e>=56320&&e<=57343}(t))return this.pos++,this._addGap(),1024*(e-55296)+9216+t}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,XA.EOF;return this._err(aE.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let t=0;t<e.length;t++){if((32|this.html.charCodeAt(this.pos+t))!==e.charCodeAt(t))return!1}return!0}peek(e){const t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,XA.EOF;const r=this.html.charCodeAt(t);return r===XA.CARRIAGE_RETURN?XA.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,XA.EOF;let e=this.html.charCodeAt(this.pos);if(e===XA.CARRIAGE_RETURN)return this.isEol=!0,this.skipNextNewLine=!0,XA.LINE_FEED;if(e===XA.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine))return this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance();this.skipNextNewLine=!1,iE(e)&&(e=this._processSurrogate(e));return null===this.handler.onParseError||e>31&&e<127||e===XA.LINE_FEED||e===XA.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e}_checkForProblematicCharacters(e){sE(e)?this._err(aE.controlCharacterInInputStream):oE(e)&&this._err(aE.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var lE;!function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"}(lE=lE||(lE={}));const uE=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map((e=>e.charCodeAt(0)))),hE=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map((e=>e.charCodeAt(0))));var dE;const fE=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),pE=null!==(dE=String.fromCodePoint)&&void 0!==dE?dE:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};function gE(e){return pE(function(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=fE.get(e))&&void 0!==t?t:e}(e))}var yE,wE;function mE(e){return function(t,r){let n="",i=0,s=0;for(;(s=t.indexOf("&",s))>=0;){if(n+=t.slice(i,s),i=s,s+=1,t.charCodeAt(s)===yE.NUM){let e=s+1,o=10,a=t.charCodeAt(e);(a|yE.To_LOWER_BIT)===yE.LOWER_X&&(o=16,s+=1,e+=1);do{a=t.charCodeAt(++s)}while(a>=yE.ZERO&&a<=yE.NINE||16===o&&(a|yE.To_LOWER_BIT)>=yE.LOWER_A&&(a|yE.To_LOWER_BIT)<=yE.LOWER_F);if(e!==s){const a=t.substring(e,s),c=parseInt(a,o);if(t.charCodeAt(s)===yE.SEMI)s+=1;else if(r)continue;n+=gE(c),i=s}continue}let o=0,a=1,c=0,l=e[c];for(;s<t.length&&(c=bE(e,l,c+1,t.charCodeAt(s)),!(c<0));s++,a++){l=e[c];const n=l&wE.VALUE_LENGTH;if(n){r&&t.charCodeAt(s)!==yE.SEMI||(o=c,a=0);const e=(n>>14)-1;if(0===e)break;c+=e}}if(0!==o){const t=(e[o]&wE.VALUE_LENGTH)>>14;n+=1===t?String.fromCharCode(e[o]&~wE.VALUE_LENGTH):2===t?String.fromCharCode(e[o+1]):String.fromCharCode(e[o+1],e[o+2]),i=s-a+1}}return n+t.slice(i)}}function bE(e,t,r,n){const i=(t&wE.BRANCH_LENGTH)>>7,s=t&wE.JUMP_TABLE;if(0===i)return 0!==s&&n===s?r:-1;if(s){const t=n-s;return t<0||t>=i?-1:e[r+t]-1}let o=r,a=o+i-1;for(;o<=a;){const t=o+a>>>1,r=e[t];if(r<n)o=t+1;else{if(!(r>n))return e[t+i];a=t-1}}return-1}!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.To_LOWER_BIT=32]="To_LOWER_BIT"}(yE||(yE={})),function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(wE||(wE={}));mE(uE),mE(hE);var AE,EE,vE,_E,TE;!function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"}(AE=AE||(AE={})),function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"}(EE=EE||(EE={})),function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"}(vE=vE||(vE={})),function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"}(_E=_E||(_E={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"}(TE=TE||(TE={}));const SE=new Map([[_E.A,TE.A],[_E.ADDRESS,TE.ADDRESS],[_E.ANNOTATION_XML,TE.ANNOTATION_XML],[_E.APPLET,TE.APPLET],[_E.AREA,TE.AREA],[_E.ARTICLE,TE.ARTICLE],[_E.ASIDE,TE.ASIDE],[_E.B,TE.B],[_E.BASE,TE.BASE],[_E.BASEFONT,TE.BASEFONT],[_E.BGSOUND,TE.BGSOUND],[_E.BIG,TE.BIG],[_E.BLOCKQUOTE,TE.BLOCKQUOTE],[_E.BODY,TE.BODY],[_E.BR,TE.BR],[_E.BUTTON,TE.BUTTON],[_E.CAPTION,TE.CAPTION],[_E.CENTER,TE.CENTER],[_E.CODE,TE.CODE],[_E.COL,TE.COL],[_E.COLGROUP,TE.COLGROUP],[_E.DD,TE.DD],[_E.DESC,TE.DESC],[_E.DETAILS,TE.DETAILS],[_E.DIALOG,TE.DIALOG],[_E.DIR,TE.DIR],[_E.DIV,TE.DIV],[_E.DL,TE.DL],[_E.DT,TE.DT],[_E.EM,TE.EM],[_E.EMBED,TE.EMBED],[_E.FIELDSET,TE.FIELDSET],[_E.FIGCAPTION,TE.FIGCAPTION],[_E.FIGURE,TE.FIGURE],[_E.FONT,TE.FONT],[_E.FOOTER,TE.FOOTER],[_E.FOREIGN_OBJECT,TE.FOREIGN_OBJECT],[_E.FORM,TE.FORM],[_E.FRAME,TE.FRAME],[_E.FRAMESET,TE.FRAMESET],[_E.H1,TE.H1],[_E.H2,TE.H2],[_E.H3,TE.H3],[_E.H4,TE.H4],[_E.H5,TE.H5],[_E.H6,TE.H6],[_E.HEAD,TE.HEAD],[_E.HEADER,TE.HEADER],[_E.HGROUP,TE.HGROUP],[_E.HR,TE.HR],[_E.HTML,TE.HTML],[_E.I,TE.I],[_E.IMG,TE.IMG],[_E.IMAGE,TE.IMAGE],[_E.INPUT,TE.INPUT],[_E.IFRAME,TE.IFRAME],[_E.KEYGEN,TE.KEYGEN],[_E.LABEL,TE.LABEL],[_E.LI,TE.LI],[_E.LINK,TE.LINK],[_E.LISTING,TE.LISTING],[_E.MAIN,TE.MAIN],[_E.MALIGNMARK,TE.MALIGNMARK],[_E.MARQUEE,TE.MARQUEE],[_E.MATH,TE.MATH],[_E.MENU,TE.MENU],[_E.META,TE.META],[_E.MGLYPH,TE.MGLYPH],[_E.MI,TE.MI],[_E.MO,TE.MO],[_E.MN,TE.MN],[_E.MS,TE.MS],[_E.MTEXT,TE.MTEXT],[_E.NAV,TE.NAV],[_E.NOBR,TE.NOBR],[_E.NOFRAMES,TE.NOFRAMES],[_E.NOEMBED,TE.NOEMBED],[_E.NOSCRIPT,TE.NOSCRIPT],[_E.OBJECT,TE.OBJECT],[_E.OL,TE.OL],[_E.OPTGROUP,TE.OPTGROUP],[_E.OPTION,TE.OPTION],[_E.P,TE.P],[_E.PARAM,TE.PARAM],[_E.PLAINTEXT,TE.PLAINTEXT],[_E.PRE,TE.PRE],[_E.RB,TE.RB],[_E.RP,TE.RP],[_E.RT,TE.RT],[_E.RTC,TE.RTC],[_E.RUBY,TE.RUBY],[_E.S,TE.S],[_E.SCRIPT,TE.SCRIPT],[_E.SECTION,TE.SECTION],[_E.SELECT,TE.SELECT],[_E.SOURCE,TE.SOURCE],[_E.SMALL,TE.SMALL],[_E.SPAN,TE.SPAN],[_E.STRIKE,TE.STRIKE],[_E.STRONG,TE.STRONG],[_E.STYLE,TE.STYLE],[_E.SUB,TE.SUB],[_E.SUMMARY,TE.SUMMARY],[_E.SUP,TE.SUP],[_E.TABLE,TE.TABLE],[_E.TBODY,TE.TBODY],[_E.TEMPLATE,TE.TEMPLATE],[_E.TEXTAREA,TE.TEXTAREA],[_E.TFOOT,TE.TFOOT],[_E.TD,TE.TD],[_E.TH,TE.TH],[_E.THEAD,TE.THEAD],[_E.TITLE,TE.TITLE],[_E.TR,TE.TR],[_E.TRACK,TE.TRACK],[_E.TT,TE.TT],[_E.U,TE.U],[_E.UL,TE.UL],[_E.SVG,TE.SVG],[_E.VAR,TE.VAR],[_E.WBR,TE.WBR],[_E.XMP,TE.XMP]]);function IE(e){var t;return null!==(t=SE.get(e))&&void 0!==t?t:TE.UNKNOWN}const CE=TE;AE.HTML,new Set([CE.ADDRESS,CE.APPLET,CE.AREA,CE.ARTICLE,CE.ASIDE,CE.BASE,CE.BASEFONT,CE.BGSOUND,CE.BLOCKQUOTE,CE.BODY,CE.BR,CE.BUTTON,CE.CAPTION,CE.CENTER,CE.COL,CE.COLGROUP,CE.DD,CE.DETAILS,CE.DIR,CE.DIV,CE.DL,CE.DT,CE.EMBED,CE.FIELDSET,CE.FIGCAPTION,CE.FIGURE,CE.FOOTER,CE.FORM,CE.FRAME,CE.FRAMESET,CE.H1,CE.H2,CE.H3,CE.H4,CE.H5,CE.H6,CE.HEAD,CE.HEADER,CE.HGROUP,CE.HR,CE.HTML,CE.IFRAME,CE.IMG,CE.INPUT,CE.LI,CE.LINK,CE.LISTING,CE.MAIN,CE.MARQUEE,CE.MENU,CE.META,CE.NAV,CE.NOEMBED,CE.NOFRAMES,CE.NOSCRIPT,CE.OBJECT,CE.OL,CE.P,CE.PARAM,CE.PLAINTEXT,CE.PRE,CE.SCRIPT,CE.SECTION,CE.SELECT,CE.SOURCE,CE.STYLE,CE.SUMMARY,CE.TABLE,CE.TBODY,CE.TD,CE.TEMPLATE,CE.TEXTAREA,CE.TFOOT,CE.TH,CE.THEAD,CE.TITLE,CE.TR,CE.TRACK,CE.UL,CE.WBR,CE.XMP]),AE.MATHML,new Set([CE.MI,CE.MO,CE.MN,CE.MS,CE.MTEXT,CE.ANNOTATION_XML]),AE.SVG,new Set([CE.TITLE,CE.FOREIGN_OBJECT,CE.DESC]),AE.XLINK,new Set,AE.XML,new Set,AE.XMLNS,new Set;const RE=new Set([_E.STYLE,_E.SCRIPT,_E.XMP,_E.IFRAME,_E.NOEMBED,_E.NOFRAMES,_E.PLAINTEXT]);const xE=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var kE;!function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"}(kE||(kE={}));const NE={DATA:kE.DATA,RCDATA:kE.RCDATA,RAWTEXT:kE.RAWTEXT,SCRIPT_DATA:kE.SCRIPT_DATA,PLAINTEXT:kE.PLAINTEXT,CDATA_SECTION:kE.CDATA_SECTION};function BE(e){return e>=XA.DIGIT_0&&e<=XA.DIGIT_9}function OE(e){return e>=XA.LATIN_CAPITAL_A&&e<=XA.LATIN_CAPITAL_Z}function DE(e){return function(e){return e>=XA.LATIN_SMALL_A&&e<=XA.LATIN_SMALL_Z}(e)||OE(e)}function LE(e){return DE(e)||BE(e)}function PE(e){return e>=XA.LATIN_CAPITAL_A&&e<=XA.LATIN_CAPITAL_F}function UE(e){return e>=XA.LATIN_SMALL_A&&e<=XA.LATIN_SMALL_F}function ME(e){return e+32}function FE(e){return e===XA.SPACE||e===XA.LINE_FEED||e===XA.TABULATION||e===XA.FORM_FEED}function HE(e){return FE(e)||e===XA.SOLIDUS||e===XA.GREATER_THAN_SIGN}class jE{constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=kE.DATA,this.returnState=kE.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new cE(t),this.currentLocation=this.getCurrentLocation(-1)}_err(e){var t,r;null===(r=(t=this.handler).onParseError)||void 0===r||r.call(t,this.preprocessor.getError(e))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==e||e())}write(e,t,r){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||null==r||r()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(e){this.consumedAfterSnapshot-=e,this.preprocessor.retreat(e)}_reconsumeInState(e,t){this.state=e,this._callState(t)}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,t){return!!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}_createStartTagToken(){this.currentToken={type:lE.START_TAG,tagName:"",tagID:TE.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:lE.END_TAG,tagName:"",tagID:TE.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:lE.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:lE.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,t;const r=this.currentToken;if(null===function(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null}(r,this.currentAttr.name)){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){(null!==(e=(t=r.location).attrs)&&void 0!==e?e:t.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(aE.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=IE(e.tagName),e.type===lE.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(aE.endTagWithAttributes),e.selfClosing&&this._err(aE.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case lE.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case lE.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case lE.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:lE.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken){if(this.currentCharacterToken.type===e)return void(this.currentCharacterToken.chars+=t);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(e,t)}_emitCodePoint(e){const t=FE(e)?lE.WHITESPACE_CHARACTER:e===XA.NULL?lE.NULL_CHARACTER:lE.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(lE.CHARACTER,e)}_matchNamedCharacterReference(e){let t=null,r=0,n=!1;for(let s=0,o=uE[0];s>=0&&(s=bE(uE,o,s+1,e),!(s<0));e=this._consume()){r+=1,o=uE[s];const a=o&wE.VALUE_LENGTH;if(a){const o=(a>>14)-1;if(e!==XA.SEMICOLON&&this._isCharacterReferenceInAttribute()&&((i=this.preprocessor.peek(1))===XA.EQUALS_SIGN||LE(i))?(t=[XA.AMPERSAND],s+=o):(t=0===o?[uE[s]&~wE.VALUE_LENGTH]:1===o?[uE[++s]]:[uE[++s],uE[++s]],r=0,n=e!==XA.SEMICOLON),0===o){this._consume();break}}}var i;return this._unconsume(r),n&&!this.preprocessor.endOfChunkHit&&this._err(aE.missingSemicolonAfterCharacterReference),this._unconsume(1),t}_isCharacterReferenceInAttribute(){return this.returnState===kE.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===kE.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===kE.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case kE.DATA:this._stateData(e);break;case kE.RCDATA:this._stateRcdata(e);break;case kE.RAWTEXT:this._stateRawtext(e);break;case kE.SCRIPT_DATA:this._stateScriptData(e);break;case kE.PLAINTEXT:this._statePlaintext(e);break;case kE.TAG_OPEN:this._stateTagOpen(e);break;case kE.END_TAG_OPEN:this._stateEndTagOpen(e);break;case kE.TAG_NAME:this._stateTagName(e);break;case kE.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case kE.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case kE.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case kE.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case kE.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case kE.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case kE.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case kE.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case kE.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case kE.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case kE.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case kE.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case kE.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case kE.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case kE.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case kE.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case kE.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case kE.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case kE.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case kE.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case kE.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case kE.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case kE.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case kE.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case kE.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case kE.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case kE.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case kE.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case kE.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case kE.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case kE.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case kE.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case kE.BOGUS_COMMENT:this._stateBogusComment(e);break;case kE.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case kE.COMMENT_START:this._stateCommentStart(e);break;case kE.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case kE.COMMENT:this._stateComment(e);break;case kE.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case kE.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case kE.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case kE.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case kE.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case kE.COMMENT_END:this._stateCommentEnd(e);break;case kE.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case kE.DOCTYPE:this._stateDoctype(e);break;case kE.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case kE.DOCTYPE_NAME:this._stateDoctypeName(e);break;case kE.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case kE.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case kE.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case kE.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case kE.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case kE.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case kE.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case kE.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case kE.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case kE.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case kE.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case kE.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case kE.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case kE.CDATA_SECTION:this._stateCdataSection(e);break;case kE.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case kE.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case kE.CHARACTER_REFERENCE:this._stateCharacterReference(e);break;case kE.NAMED_CHARACTER_REFERENCE:this._stateNamedCharacterReference(e);break;case kE.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;case kE.NUMERIC_CHARACTER_REFERENCE:this._stateNumericCharacterReference(e);break;case kE.HEXADEMICAL_CHARACTER_REFERENCE_START:this._stateHexademicalCharacterReferenceStart(e);break;case kE.HEXADEMICAL_CHARACTER_REFERENCE:this._stateHexademicalCharacterReference(e);break;case kE.DECIMAL_CHARACTER_REFERENCE:this._stateDecimalCharacterReference(e);break;case kE.NUMERIC_CHARACTER_REFERENCE_END:this._stateNumericCharacterReferenceEnd(e);break;default:throw new Error("Unknown state")}}_stateData(e){switch(e){case XA.LESS_THAN_SIGN:this.state=kE.TAG_OPEN;break;case XA.AMPERSAND:this.returnState=kE.DATA,this.state=kE.CHARACTER_REFERENCE;break;case XA.NULL:this._err(aE.unexpectedNullCharacter),this._emitCodePoint(e);break;case XA.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case XA.AMPERSAND:this.returnState=kE.RCDATA,this.state=kE.CHARACTER_REFERENCE;break;case XA.LESS_THAN_SIGN:this.state=kE.RCDATA_LESS_THAN_SIGN;break;case XA.NULL:this._err(aE.unexpectedNullCharacter),this._emitChars(JA);break;case XA.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case XA.LESS_THAN_SIGN:this.state=kE.RAWTEXT_LESS_THAN_SIGN;break;case XA.NULL:this._err(aE.unexpectedNullCharacter),this._emitChars(JA);break;case XA.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case XA.LESS_THAN_SIGN:this.state=kE.SCRIPT_DATA_LESS_THAN_SIGN;break;case XA.NULL:this._err(aE.unexpectedNullCharacter),this._emitChars(JA);break;case XA.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case XA.NULL:this._err(aE.unexpectedNullCharacter),this._emitChars(JA);break;case XA.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateTagOpen(e){if(DE(e))this._createStartTagToken(),this.state=kE.TAG_NAME,this._stateTagName(e);else switch(e){case XA.EXCLAMATION_MARK:this.state=kE.MARKUP_DECLARATION_OPEN;break;case XA.SOLIDUS:this.state=kE.END_TAG_OPEN;break;case XA.QUESTION_MARK:this._err(aE.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=kE.BOGUS_COMMENT,this._stateBogusComment(e);break;case XA.EOF:this._err(aE.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(aE.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=kE.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(DE(e))this._createEndTagToken(),this.state=kE.TAG_NAME,this._stateTagName(e);else switch(e){case XA.GREATER_THAN_SIGN:this._err(aE.missingEndTagName),this.state=kE.DATA;break;case XA.EOF:this._err(aE.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(aE.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=kE.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const t=this.currentToken;switch(e){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:this.state=kE.BEFORE_ATTRIBUTE_NAME;break;case XA.SOLIDUS:this.state=kE.SELF_CLOSING_START_TAG;break;case XA.GREATER_THAN_SIGN:this.state=kE.DATA,this.emitCurrentTagToken();break;case XA.NULL:this._err(aE.unexpectedNullCharacter),t.tagName+=JA;break;case XA.EOF:this._err(aE.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint(OE(e)?ME(e):e)}}_stateRcdataLessThanSign(e){e===XA.SOLIDUS?this.state=kE.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=kE.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){DE(e)?(this.state=kE.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=kE.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();this.currentToken.tagName=this.lastStartTagName;switch(this.preprocessor.peek(this.lastStartTagName.length)){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=kE.BEFORE_ATTRIBUTE_NAME,!1;case XA.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=kE.SELF_CLOSING_START_TAG,!1;case XA.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=kE.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=kE.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===XA.SOLIDUS?this.state=kE.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=kE.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){DE(e)?(this.state=kE.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=kE.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=kE.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case XA.SOLIDUS:this.state=kE.SCRIPT_DATA_END_TAG_OPEN;break;case XA.EXCLAMATION_MARK:this.state=kE.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=kE.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){DE(e)?(this.state=kE.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=kE.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=kE.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===XA.HYPHEN_MINUS?(this.state=kE.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=kE.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===XA.HYPHEN_MINUS?(this.state=kE.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=kE.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case XA.HYPHEN_MINUS:this.state=kE.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case XA.LESS_THAN_SIGN:this.state=kE.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case XA.NULL:this._err(aE.unexpectedNullCharacter),this._emitChars(JA);break;case XA.EOF:this._err(aE.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case XA.HYPHEN_MINUS:this.state=kE.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case XA.LESS_THAN_SIGN:this.state=kE.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case XA.NULL:this._err(aE.unexpectedNullCharacter),this.state=kE.SCRIPT_DATA_ESCAPED,this._emitChars(JA);break;case XA.EOF:this._err(aE.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=kE.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case XA.HYPHEN_MINUS:this._emitChars("-");break;case XA.LESS_THAN_SIGN:this.state=kE.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case XA.GREATER_THAN_SIGN:this.state=kE.SCRIPT_DATA,this._emitChars(">");break;case XA.NULL:this._err(aE.unexpectedNullCharacter),this.state=kE.SCRIPT_DATA_ESCAPED,this._emitChars(JA);break;case XA.EOF:this._err(aE.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=kE.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===XA.SOLIDUS?this.state=kE.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:DE(e)?(this._emitChars("<"),this.state=kE.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=kE.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){DE(e)?(this.state=kE.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=kE.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=kE.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(tE,!1)&&HE(this.preprocessor.peek(tE.length))){this._emitCodePoint(e);for(let e=0;e<tE.length;e++)this._emitCodePoint(this._consume());this.state=kE.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=kE.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case XA.HYPHEN_MINUS:this.state=kE.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case XA.LESS_THAN_SIGN:this.state=kE.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case XA.NULL:this._err(aE.unexpectedNullCharacter),this._emitChars(JA);break;case XA.EOF:this._err(aE.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case XA.HYPHEN_MINUS:this.state=kE.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case XA.LESS_THAN_SIGN:this.state=kE.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case XA.NULL:this._err(aE.unexpectedNullCharacter),this.state=kE.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(JA);break;case XA.EOF:this._err(aE.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=kE.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case XA.HYPHEN_MINUS:this._emitChars("-");break;case XA.LESS_THAN_SIGN:this.state=kE.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case XA.GREATER_THAN_SIGN:this.state=kE.SCRIPT_DATA,this._emitChars(">");break;case XA.NULL:this._err(aE.unexpectedNullCharacter),this.state=kE.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(JA);break;case XA.EOF:this._err(aE.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=kE.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===XA.SOLIDUS?(this.state=kE.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=kE.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(tE,!1)&&HE(this.preprocessor.peek(tE.length))){this._emitCodePoint(e);for(let e=0;e<tE.length;e++)this._emitCodePoint(this._consume());this.state=kE.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=kE.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:break;case XA.SOLIDUS:case XA.GREATER_THAN_SIGN:case XA.EOF:this.state=kE.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case XA.EQUALS_SIGN:this._err(aE.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=kE.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=kE.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:case XA.SOLIDUS:case XA.GREATER_THAN_SIGN:case XA.EOF:this._leaveAttrName(),this.state=kE.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case XA.EQUALS_SIGN:this._leaveAttrName(),this.state=kE.BEFORE_ATTRIBUTE_VALUE;break;case XA.QUOTATION_MARK:case XA.APOSTROPHE:case XA.LESS_THAN_SIGN:this._err(aE.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case XA.NULL:this._err(aE.unexpectedNullCharacter),this.currentAttr.name+=JA;break;default:this.currentAttr.name+=String.fromCodePoint(OE(e)?ME(e):e)}}_stateAfterAttributeName(e){switch(e){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:break;case XA.SOLIDUS:this.state=kE.SELF_CLOSING_START_TAG;break;case XA.EQUALS_SIGN:this.state=kE.BEFORE_ATTRIBUTE_VALUE;break;case XA.GREATER_THAN_SIGN:this.state=kE.DATA,this.emitCurrentTagToken();break;case XA.EOF:this._err(aE.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=kE.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:break;case XA.QUOTATION_MARK:this.state=kE.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case XA.APOSTROPHE:this.state=kE.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case XA.GREATER_THAN_SIGN:this._err(aE.missingAttributeValue),this.state=kE.DATA,this.emitCurrentTagToken();break;default:this.state=kE.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case XA.QUOTATION_MARK:this.state=kE.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case XA.AMPERSAND:this.returnState=kE.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=kE.CHARACTER_REFERENCE;break;case XA.NULL:this._err(aE.unexpectedNullCharacter),this.currentAttr.value+=JA;break;case XA.EOF:this._err(aE.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case XA.APOSTROPHE:this.state=kE.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case XA.AMPERSAND:this.returnState=kE.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=kE.CHARACTER_REFERENCE;break;case XA.NULL:this._err(aE.unexpectedNullCharacter),this.currentAttr.value+=JA;break;case XA.EOF:this._err(aE.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:this._leaveAttrValue(),this.state=kE.BEFORE_ATTRIBUTE_NAME;break;case XA.AMPERSAND:this.returnState=kE.ATTRIBUTE_VALUE_UNQUOTED,this.state=kE.CHARACTER_REFERENCE;break;case XA.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=kE.DATA,this.emitCurrentTagToken();break;case XA.NULL:this._err(aE.unexpectedNullCharacter),this.currentAttr.value+=JA;break;case XA.QUOTATION_MARK:case XA.APOSTROPHE:case XA.LESS_THAN_SIGN:case XA.EQUALS_SIGN:case XA.GRAVE_ACCENT:this._err(aE.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case XA.EOF:this._err(aE.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:this._leaveAttrValue(),this.state=kE.BEFORE_ATTRIBUTE_NAME;break;case XA.SOLIDUS:this._leaveAttrValue(),this.state=kE.SELF_CLOSING_START_TAG;break;case XA.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=kE.DATA,this.emitCurrentTagToken();break;case XA.EOF:this._err(aE.eofInTag),this._emitEOFToken();break;default:this._err(aE.missingWhitespaceBetweenAttributes),this.state=kE.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case XA.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=kE.DATA,this.emitCurrentTagToken();break;case XA.EOF:this._err(aE.eofInTag),this._emitEOFToken();break;default:this._err(aE.unexpectedSolidusInTag),this.state=kE.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const t=this.currentToken;switch(e){case XA.GREATER_THAN_SIGN:this.state=kE.DATA,this.emitCurrentComment(t);break;case XA.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case XA.NULL:this._err(aE.unexpectedNullCharacter),t.data+=JA;break;default:t.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(ZA,!0)?(this._createCommentToken(ZA.length+1),this.state=kE.COMMENT_START):this._consumeSequenceIfMatch(eE,!1)?(this.currentLocation=this.getCurrentLocation(eE.length+1),this.state=kE.DOCTYPE):this._consumeSequenceIfMatch($A,!0)?this.inForeignNode?this.state=kE.CDATA_SECTION:(this._err(aE.cdataInHtmlContent),this._createCommentToken($A.length+1),this.currentToken.data="[CDATA[",this.state=kE.BOGUS_COMMENT):this._ensureHibernation()||(this._err(aE.incorrectlyOpenedComment),this._createCommentToken(2),this.state=kE.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case XA.HYPHEN_MINUS:this.state=kE.COMMENT_START_DASH;break;case XA.GREATER_THAN_SIGN:{this._err(aE.abruptClosingOfEmptyComment),this.state=kE.DATA;const e=this.currentToken;this.emitCurrentComment(e);break}default:this.state=kE.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const t=this.currentToken;switch(e){case XA.HYPHEN_MINUS:this.state=kE.COMMENT_END;break;case XA.GREATER_THAN_SIGN:this._err(aE.abruptClosingOfEmptyComment),this.state=kE.DATA,this.emitCurrentComment(t);break;case XA.EOF:this._err(aE.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=kE.COMMENT,this._stateComment(e)}}_stateComment(e){const t=this.currentToken;switch(e){case XA.HYPHEN_MINUS:this.state=kE.COMMENT_END_DASH;break;case XA.LESS_THAN_SIGN:t.data+="<",this.state=kE.COMMENT_LESS_THAN_SIGN;break;case XA.NULL:this._err(aE.unexpectedNullCharacter),t.data+=JA;break;case XA.EOF:this._err(aE.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const t=this.currentToken;switch(e){case XA.EXCLAMATION_MARK:t.data+="!",this.state=kE.COMMENT_LESS_THAN_SIGN_BANG;break;case XA.LESS_THAN_SIGN:t.data+="<";break;default:this.state=kE.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===XA.HYPHEN_MINUS?this.state=kE.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=kE.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===XA.HYPHEN_MINUS?this.state=kE.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=kE.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==XA.GREATER_THAN_SIGN&&e!==XA.EOF&&this._err(aE.nestedComment),this.state=kE.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const t=this.currentToken;switch(e){case XA.HYPHEN_MINUS:this.state=kE.COMMENT_END;break;case XA.EOF:this._err(aE.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=kE.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const t=this.currentToken;switch(e){case XA.GREATER_THAN_SIGN:this.state=kE.DATA,this.emitCurrentComment(t);break;case XA.EXCLAMATION_MARK:this.state=kE.COMMENT_END_BANG;break;case XA.HYPHEN_MINUS:t.data+="-";break;case XA.EOF:this._err(aE.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=kE.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const t=this.currentToken;switch(e){case XA.HYPHEN_MINUS:t.data+="--!",this.state=kE.COMMENT_END_DASH;break;case XA.GREATER_THAN_SIGN:this._err(aE.incorrectlyClosedComment),this.state=kE.DATA,this.emitCurrentComment(t);break;case XA.EOF:this._err(aE.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=kE.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:this.state=kE.BEFORE_DOCTYPE_NAME;break;case XA.GREATER_THAN_SIGN:this.state=kE.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case XA.EOF:{this._err(aE.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._err(aE.missingWhitespaceBeforeDoctypeName),this.state=kE.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(OE(e))this._createDoctypeToken(String.fromCharCode(ME(e))),this.state=kE.DOCTYPE_NAME;else switch(e){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:break;case XA.NULL:this._err(aE.unexpectedNullCharacter),this._createDoctypeToken(JA),this.state=kE.DOCTYPE_NAME;break;case XA.GREATER_THAN_SIGN:{this._err(aE.missingDoctypeName),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=kE.DATA;break}case XA.EOF:{this._err(aE.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=kE.DOCTYPE_NAME}}_stateDoctypeName(e){const t=this.currentToken;switch(e){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:this.state=kE.AFTER_DOCTYPE_NAME;break;case XA.GREATER_THAN_SIGN:this.state=kE.DATA,this.emitCurrentDoctype(t);break;case XA.NULL:this._err(aE.unexpectedNullCharacter),t.name+=JA;break;case XA.EOF:this._err(aE.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint(OE(e)?ME(e):e)}}_stateAfterDoctypeName(e){const t=this.currentToken;switch(e){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:break;case XA.GREATER_THAN_SIGN:this.state=kE.DATA,this.emitCurrentDoctype(t);break;case XA.EOF:this._err(aE.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(rE,!1)?this.state=kE.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(nE,!1)?this.state=kE.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(aE.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=kE.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const t=this.currentToken;switch(e){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:this.state=kE.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case XA.QUOTATION_MARK:this._err(aE.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=kE.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case XA.APOSTROPHE:this._err(aE.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=kE.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case XA.GREATER_THAN_SIGN:this._err(aE.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=kE.DATA,this.emitCurrentDoctype(t);break;case XA.EOF:this._err(aE.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(aE.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=kE.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:break;case XA.QUOTATION_MARK:t.publicId="",this.state=kE.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case XA.APOSTROPHE:t.publicId="",this.state=kE.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case XA.GREATER_THAN_SIGN:this._err(aE.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=kE.DATA,this.emitCurrentDoctype(t);break;case XA.EOF:this._err(aE.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(aE.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=kE.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case XA.QUOTATION_MARK:this.state=kE.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case XA.NULL:this._err(aE.unexpectedNullCharacter),t.publicId+=JA;break;case XA.GREATER_THAN_SIGN:this._err(aE.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=kE.DATA;break;case XA.EOF:this._err(aE.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case XA.APOSTROPHE:this.state=kE.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case XA.NULL:this._err(aE.unexpectedNullCharacter),t.publicId+=JA;break;case XA.GREATER_THAN_SIGN:this._err(aE.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=kE.DATA;break;case XA.EOF:this._err(aE.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:this.state=kE.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case XA.GREATER_THAN_SIGN:this.state=kE.DATA,this.emitCurrentDoctype(t);break;case XA.QUOTATION_MARK:this._err(aE.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=kE.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case XA.APOSTROPHE:this._err(aE.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=kE.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case XA.EOF:this._err(aE.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(aE.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=kE.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const t=this.currentToken;switch(e){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:break;case XA.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=kE.DATA;break;case XA.QUOTATION_MARK:t.systemId="",this.state=kE.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case XA.APOSTROPHE:t.systemId="",this.state=kE.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case XA.EOF:this._err(aE.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(aE.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=kE.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const t=this.currentToken;switch(e){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:this.state=kE.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case XA.QUOTATION_MARK:this._err(aE.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=kE.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case XA.APOSTROPHE:this._err(aE.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=kE.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case XA.GREATER_THAN_SIGN:this._err(aE.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=kE.DATA,this.emitCurrentDoctype(t);break;case XA.EOF:this._err(aE.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(aE.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=kE.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:break;case XA.QUOTATION_MARK:t.systemId="",this.state=kE.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case XA.APOSTROPHE:t.systemId="",this.state=kE.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case XA.GREATER_THAN_SIGN:this._err(aE.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=kE.DATA,this.emitCurrentDoctype(t);break;case XA.EOF:this._err(aE.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(aE.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=kE.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case XA.QUOTATION_MARK:this.state=kE.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case XA.NULL:this._err(aE.unexpectedNullCharacter),t.systemId+=JA;break;case XA.GREATER_THAN_SIGN:this._err(aE.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=kE.DATA;break;case XA.EOF:this._err(aE.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case XA.APOSTROPHE:this.state=kE.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case XA.NULL:this._err(aE.unexpectedNullCharacter),t.systemId+=JA;break;case XA.GREATER_THAN_SIGN:this._err(aE.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=kE.DATA;break;case XA.EOF:this._err(aE.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case XA.SPACE:case XA.LINE_FEED:case XA.TABULATION:case XA.FORM_FEED:break;case XA.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=kE.DATA;break;case XA.EOF:this._err(aE.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(aE.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=kE.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const t=this.currentToken;switch(e){case XA.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=kE.DATA;break;case XA.NULL:this._err(aE.unexpectedNullCharacter);break;case XA.EOF:this.emitCurrentDoctype(t),this._emitEOFToken()}}_stateCdataSection(e){switch(e){case XA.RIGHT_SQUARE_BRACKET:this.state=kE.CDATA_SECTION_BRACKET;break;case XA.EOF:this._err(aE.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===XA.RIGHT_SQUARE_BRACKET?this.state=kE.CDATA_SECTION_END:(this._emitChars("]"),this.state=kE.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case XA.GREATER_THAN_SIGN:this.state=kE.DATA;break;case XA.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=kE.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(e){e===XA.NUMBER_SIGN?this.state=kE.NUMERIC_CHARACTER_REFERENCE:LE(e)?(this.state=kE.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(e)):(this._flushCodePointConsumedAsCharacterReference(XA.AMPERSAND),this._reconsumeInState(this.returnState,e))}_stateNamedCharacterReference(e){const t=this._matchNamedCharacterReference(e);if(this._ensureHibernation());else if(t){for(let e=0;e<t.length;e++)this._flushCodePointConsumedAsCharacterReference(t[e]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(XA.AMPERSAND),this.state=kE.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(e){LE(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===XA.SEMICOLON&&this._err(aE.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,e))}_stateNumericCharacterReference(e){this.charRefCode=0,e===XA.LATIN_SMALL_X||e===XA.LATIN_CAPITAL_X?this.state=kE.HEXADEMICAL_CHARACTER_REFERENCE_START:BE(e)?(this.state=kE.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(e)):(this._err(aE.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(XA.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(XA.NUMBER_SIGN),this._reconsumeInState(this.returnState,e))}_stateHexademicalCharacterReferenceStart(e){!function(e){return BE(e)||PE(e)||UE(e)}(e)?(this._err(aE.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(XA.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(XA.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState):(this.state=kE.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(e))}_stateHexademicalCharacterReference(e){PE(e)?this.charRefCode=16*this.charRefCode+e-55:UE(e)?this.charRefCode=16*this.charRefCode+e-87:BE(e)?this.charRefCode=16*this.charRefCode+e-48:e===XA.SEMICOLON?this.state=kE.NUMERIC_CHARACTER_REFERENCE_END:(this._err(aE.missingSemicolonAfterCharacterReference),this.state=kE.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateDecimalCharacterReference(e){BE(e)?this.charRefCode=10*this.charRefCode+e-48:e===XA.SEMICOLON?this.state=kE.NUMERIC_CHARACTER_REFERENCE_END:(this._err(aE.missingSemicolonAfterCharacterReference),this.state=kE.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}_stateNumericCharacterReferenceEnd(e){if(this.charRefCode===XA.NULL)this._err(aE.nullCharacterReference),this.charRefCode=XA.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(aE.characterReferenceOutsideUnicodeRange),this.charRefCode=XA.REPLACEMENT_CHARACTER;else if(iE(this.charRefCode))this._err(aE.surrogateCharacterReference),this.charRefCode=XA.REPLACEMENT_CHARACTER;else if(oE(this.charRefCode))this._err(aE.noncharacterCharacterReference);else if(sE(this.charRefCode)||this.charRefCode===XA.CARRIAGE_RETURN){this._err(aE.controlCharacterReference);const e=xE.get(this.charRefCode);void 0!==e&&(this.charRefCode=e)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,e)}}const zE=new Set([TE.DD,TE.DT,TE.LI,TE.OPTGROUP,TE.OPTION,TE.P,TE.RB,TE.RP,TE.RT,TE.RTC]);new Set([...zE,TE.CAPTION,TE.COLGROUP,TE.TBODY,TE.TD,TE.TFOOT,TE.TH,TE.THEAD,TE.TR]),new Map([[TE.APPLET,AE.HTML],[TE.CAPTION,AE.HTML],[TE.HTML,AE.HTML],[TE.MARQUEE,AE.HTML],[TE.OBJECT,AE.HTML],[TE.TABLE,AE.HTML],[TE.TD,AE.HTML],[TE.TEMPLATE,AE.HTML],[TE.TH,AE.HTML],[TE.ANNOTATION_XML,AE.MATHML],[TE.MI,AE.MATHML],[TE.MN,AE.MATHML],[TE.MO,AE.MATHML],[TE.MS,AE.MATHML],[TE.MTEXT,AE.MATHML],[TE.DESC,AE.SVG],[TE.FOREIGN_OBJECT,AE.SVG],[TE.TITLE,AE.SVG]]),TE.H1,TE.H2,TE.H3,TE.H4,TE.H5,TE.H6,TE.TR,TE.TEMPLATE,TE.HTML,TE.TBODY,TE.TFOOT,TE.THEAD,TE.TEMPLATE,TE.HTML,TE.TABLE,TE.TEMPLATE,TE.HTML,TE.TD,TE.TH;var WE;!function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"}(WE=WE||(WE={}));WE.Marker;const GE=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],qE=(new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"]);const QE="text/html",VE="application/xhtml+xml",KE=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((e=>[e.toLowerCase(),e]))),YE=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:AE.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:AE.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:AE.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:AE.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:AE.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:AE.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:AE.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:AE.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:AE.XML}],["xml:space",{prefix:"xml",name:"space",namespace:AE.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:AE.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:AE.XMLNS}]]),JE=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((e=>[e.toLowerCase(),e]))),XE=new Set([TE.B,TE.BIG,TE.BLOCKQUOTE,TE.BODY,TE.BR,TE.CENTER,TE.CODE,TE.DD,TE.DIV,TE.DL,TE.DT,TE.EM,TE.EMBED,TE.H1,TE.H2,TE.H3,TE.H4,TE.H5,TE.H6,TE.HEAD,TE.HR,TE.I,TE.IMG,TE.LI,TE.LISTING,TE.MENU,TE.META,TE.NOBR,TE.OL,TE.P,TE.PRE,TE.RUBY,TE.S,TE.SMALL,TE.SPAN,TE.STRONG,TE.STRIKE,TE.SUB,TE.SUP,TE.TABLE,TE.TT,TE.U,TE.UL,TE.VAR]);function ZE(e){const t=JE.get(e.tagName);null!=t&&(e.tagName=t,e.tagID=IE(e.tagName))}function $E(e,t,r,n){return(!n||n===AE.HTML)&&function(e,t,r){if(t===AE.MATHML&&e===TE.ANNOTATION_XML)for(let e=0;e<r.length;e++)if(r[e].name===EE.ENCODING){const t=r[e].value.toLowerCase();return t===QE||t===VE}return t===AE.SVG&&(e===TE.FOREIGN_OBJECT||e===TE.DESC||e===TE.TITLE)}(e,t,r)||(!n||n===AE.MATHML)&&function(e,t){return t===AE.MATHML&&(e===TE.MI||e===TE.MO||e===TE.MN||e===TE.MS||e===TE.MTEXT)}(e,t)}var ev;!function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"}(ev||(ev={}));new Set([TE.TABLE,TE.TBODY,TE.TFOOT,TE.THEAD,TE.TR]);new Set([TE.CAPTION,TE.COL,TE.COLGROUP,TE.TBODY,TE.TD,TE.TFOOT,TE.TH,TE.THEAD,TE.TR]);const tv=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);String.prototype.codePointAt;function rv(e,t){return function(r){let n,i=0,s="";for(;n=e.exec(r);)i!==n.index&&(s+=r.substring(i,n.index)),s+=t.get(n[0].charCodeAt(0)),i=n.index+1;return s+r.substring(i)}}rv(/[&<>'"]/g,tv);const nv=rv(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),iv=rv(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));new Set([_E.AREA,_E.BASE,_E.BASEFONT,_E.BGSOUND,_E.BR,_E.COL,_E.EMBED,_E.FRAME,_E.HR,_E.IMG,_E.INPUT,_E.KEYGEN,_E.LINK,_E.META,_E.PARAM,_E.SOURCE,_E.TRACK,_E.WBR]);var sv=__webpack_require__(9104);class ov extends sv.Writable{_write(e,t,r){r()}}const av=TE;class cv{constructor(e,t){this.handler=t,this.namespaceStack=[],this.inForeignContent=!1,this.skipNextNewLine=!1,this.tokenizer=new jE(e,this),this._enterNamespace(AE.HTML)}onNullCharacter(e){this.skipNextNewLine=!1,this.inForeignContent?this.handler.onCharacter({type:lE.CHARACTER,chars:"",location:e.location}):this.handler.onNullCharacter(e)}onWhitespaceCharacter(e){if(this.skipNextNewLine&&10===e.chars.charCodeAt(0)){if(this.skipNextNewLine=!1,1===e.chars.length)return;e.chars=e.chars.substr(1)}this.handler.onWhitespaceCharacter(e)}onCharacter(e){this.skipNextNewLine=!1,this.handler.onCharacter(e)}onComment(e){this.skipNextNewLine=!1,this.handler.onComment(e)}onDoctype(e){this.skipNextNewLine=!1,this.handler.onDoctype(e)}onEof(e){this.skipNextNewLine=!1,this.handler.onEof(e)}_enterNamespace(e){this.namespaceStack.unshift(e),this.inForeignContent=e!==AE.HTML,this.tokenizer.inForeignNode=this.inForeignContent}_leaveCurrentNamespace(){this.namespaceStack.shift(),this.inForeignContent=this.namespaceStack[0]!==AE.HTML,this.tokenizer.inForeignNode=this.inForeignContent}_ensureTokenizerMode(e){switch(e){case av.TEXTAREA:case av.TITLE:this.tokenizer.state=NE.RCDATA;break;case av.PLAINTEXT:this.tokenizer.state=NE.PLAINTEXT;break;case av.SCRIPT:this.tokenizer.state=NE.SCRIPT_DATA;break;case av.STYLE:case av.IFRAME:case av.XMP:case av.NOEMBED:case av.NOFRAMES:case av.NOSCRIPT:this.tokenizer.state=NE.RAWTEXT}}onStartTag(e){let t=e.tagID;switch(t){case av.SVG:this._enterNamespace(AE.SVG);break;case av.MATH:this._enterNamespace(AE.MATHML)}if(this.inForeignContent)if(function(e){const t=e.tagID;return t===TE.FONT&&e.attrs.some((({name:e})=>e===EE.COLOR||e===EE.SIZE||e===EE.FACE))||XE.has(t)}(e))this._leaveCurrentNamespace();else{const r=this.namespaceStack[0];r===AE.MATHML?function(e){for(let t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}}(e):r===AE.SVG&&(ZE(e),function(e){for(let t=0;t<e.attrs.length;t++){const r=KE.get(e.attrs[t].name);null!=r&&(e.attrs[t].name=r)}}(e)),function(e){for(let t=0;t<e.attrs.length;t++){const r=YE.get(e.attrs[t].name);r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}}(e),t=e.tagID,!e.selfClosing&&$E(t,r,e.attrs)&&this._enterNamespace(AE.HTML)}else{switch(t){case av.PRE:case av.TEXTAREA:case av.LISTING:this.skipNextNewLine=!0;break;case av.IMAGE:e.tagName=_E.IMG,e.tagID=av.IMG}this._ensureTokenizerMode(t)}this.handler.onStartTag(e)}onEndTag(e){let t=e.tagID;if(this.inForeignContent)(t===av.SVG&&this.namespaceStack[0]===AE.SVG||t===av.MATH&&this.namespaceStack[0]===AE.MATHML)&&this._leaveCurrentNamespace();else{const r=this.namespaceStack[1];if(r===AE.SVG){const r=JE.get(e.tagName);r&&(t=IE(r))}$E(t,r,e.attrs)&&this._leaveCurrentNamespace()}this.namespaceStack[0]===AE.SVG&&ZE(e),this.handler.onEndTag(e)}}class lv extends sv.Transform{constructor(e={}){super({encoding:"utf8",decodeStrings:!1}),this.pendingText=null,this.lastChunkWritten=!1,this.stopped=!1,this.options={sourceCodeLocationInfo:!1,...e},this.parserFeedbackSimulator=new cv(this.options,this),this.tokenizer=this.parserFeedbackSimulator.tokenizer,this.pipe(new ov)}_transform(e,t,r){if("string"!=typeof e)throw new TypeError("Parser can work only with string streams.");r(null,this._transformChunk(e))}_final(e){this.lastChunkWritten=!0,e(null,this._transformChunk(""))}stop(){this.stopped=!0,this.tokenizer.pause()}_transformChunk(e){return this.stopped||this.tokenizer.write(e,this.lastChunkWritten),e}onCharacter({chars:e,location:t}){if(null===this.pendingText)this.pendingText={text:e,sourceCodeLocation:t};else if(this.pendingText.text+=e,t&&this.pendingText.sourceCodeLocation){const{endLine:e,endCol:r,endOffset:n}=t;this.pendingText.sourceCodeLocation={...this.pendingText.sourceCodeLocation,endLine:e,endCol:r,endOffset:n}}this.tokenizer.preprocessor.willDropParsedChunk()&&this._emitPendingText()}onWhitespaceCharacter(e){this.onCharacter(e)}onNullCharacter(e){this.onCharacter(e)}onEof(){this._emitPendingText(),this.stopped=!0}onStartTag(e){this._emitPendingText();const t={tagName:e.tagName,attrs:e.attrs,selfClosing:e.selfClosing,sourceCodeLocation:e.location};this.emitIfListenerExists("startTag",t)}onEndTag(e){this._emitPendingText();const t={tagName:e.tagName,sourceCodeLocation:e.location};this.emitIfListenerExists("endTag",t)}onDoctype(e){this._emitPendingText();const t={name:e.name,publicId:e.publicId,systemId:e.systemId,sourceCodeLocation:e.location};this.emitIfListenerExists("doctype",t)}onComment(e){this._emitPendingText();const t={text:e.data,sourceCodeLocation:e.location};this.emitIfListenerExists("comment",t)}emitIfListenerExists(e,t){return 0!==this.listenerCount(e)&&(this._emitToken(e,t),!0)}_emitToken(e,t){this.emit(e,t)}_emitPendingText(){null!==this.pendingText&&(this.emitIfListenerExists("text",this.pendingText),this.pendingText=null)}}class uv extends lv{constructor(){super({sourceCodeLocationInfo:!0})}_transformChunk(e){return super._transformChunk(e),""}_getRawHtml(e){const{droppedBufferSize:t,html:r}=this.tokenizer.preprocessor,n=e.startOffset-t,i=e.endOffset-t;return r.slice(n,i)}emitIfListenerExists(e,t){return super.emitIfListenerExists(e,t)||this.emitRaw(this._getRawHtml(t.sourceCodeLocation)),this.parserFeedbackSimulator.skipNextNewLine=!1,!0}_emitToken(e,t){this.emit(e,t,this._getRawHtml(t.sourceCodeLocation))}emitDoctype(e){let t=`<!DOCTYPE ${e.name}`;null!==e.publicId?t+=` PUBLIC "${e.publicId}"`:null!==e.systemId&&(t+=" SYSTEM"),null!==e.systemId&&(t+=` "${e.systemId}"`),t+=">",this.push(t)}emitStartTag(e){let t=`<${e.tagName}`;for(const r of e.attrs)t+=` ${r.name}="${nv(r.value)}"`;t+=e.selfClosing?"/>":">",this.push(t)}emitEndTag(e){this.push(`</${e.tagName}>`)}emitText({text:e}){var t,r;this.push(!this.parserFeedbackSimulator.inForeignContent&&(t=this.tokenizer.lastStartTagName,r=!0,RE.has(t)||r&&t===_E.NOSCRIPT)?e:iv(e))}emitComment(e){this.push(`\x3c!--${e.text}--\x3e`)}emitRaw(e){this.push(e)}}const hv=new TextEncoder,dv=new TextDecoder,fv=/([\d.]+\s*;\s*url\s*=\s*)(.+)(\s*)/im,pv=["http://","https://","//"],gv="mp_",yv={a:{href:gv},applet:{codebase:"oe_",archive:"oe_"},area:{href:gv},audio:{src:"oe_"},base:{href:gv},blockquote:{cite:gv},body:{background:"im_"},button:{formaction:gv},command:{icon:"im_"},del:{cite:gv},embed:{src:"oe_"},iframe:{src:"if_"},image:{src:"im_","xlink:href":"im_",href:"im_"},img:{src:"im_",srcset:"im_"},ins:{cite:gv},input:{src:"im_",formaction:gv},form:{action:gv},frame:{src:"fr_"},link:{href:"oe_"},meta:{content:gv},object:{codebase:"oe_",data:"oe_"},param:{value:"oe_"},q:{cite:gv},ref:{href:"oe_"},script:{src:"js_","xlink:href":"js_"},source:{src:"oe_",srcset:"oe_"},video:{src:"oe_",poster:"im_"}},wv=[{match:/youtube.com\/v\/([^&]+)[&]/,replace:"youtube.com/embed/$1?"}],mv=[{urlMatch:/[?&]:loadOrderID=([\d]+)/,match:/(loadOrderID&(quot;&)?#x[^;]+?;)([\d]+)/gi,replace:"$1$U1"}];class bv{constructor(e,t=!1){this.rewriter=e,this.rule=null;for(const e of mv){const t=this.rewriter.url.match(e.urlMatch);if(t){this.ruleMatch=t,this.rule=e;break}}this.isCharsetUTF8=t}rewriteMetaContent(e,t,r){let n=this.getAttr(e,"http-equiv");if(n&&(n=n.toLowerCase()),"content-security-policy"===n)t.name="_"+t.name;else{if("refresh"===n)return t.value.replace(fv,((e,t,n,i)=>t+this.rewriteUrl(r,n)+i));if("referrer"===this.getAttr(e,"name"))return"no-referrer-when-downgrade";if(cb(t.value,pv))return this.rewriteUrl(r,t.value)}return t.value}rewriteSrcSet(e,t){const r=/\s*(\S*\s+[\d.]+[wx]),|(?:\s*,(?:\s+|(?=https?:)))/;let n=[];for(let i of e.split(r))if(i){const e=i.trim().split(" ");e[0]=this.rewriteUrl(t,e[0]),n.push(e.join(" "))}return n.join(", ")}rewriteTagAndAttrs(e,t,r){const n=e=>cb(e,pv),i=e.tagName;for(let s of e.attrs){const o=s.name,a=s.value;if(o.startsWith("on")&&a.startsWith("javascript:")&&"-"!=o.slice(2,3))s.value="javascript:"+r.rewriteJS(a.slice("javascript:".length),{inline:!0});else if("style"===o)s.value=r.rewriteCSS(s.value);else if("background"===o)s.value=this.rewriteUrl(r,a);else if("srcset"===o||"imagesrcset"===o&&"link"===i)s.value=this.rewriteSrcSet(a,r);else if("crossorigin"===o||"integrity"===o||"download"===o)s.name="_"+s.name;else if("meta"===i&&"content"===o)s.value=this.rewriteMetaContent(e.attrs,s,r);else if("param"===i&&n(a))s.value=this.rewriteUrl(r,s.value);else if(o.startsWith("data-")&&n(a))s.value=this.rewriteUrl(r,s.value);else if("base"===i&&"href"===o)try{s.value=this.rewriter.updateBaseUrl(s.value)}catch(e){console.warn("Invalid <base>: "+s.value)}else if("script"===i&&"src"===o){const t="module"===this.getScriptRWType(e)?"esm_":null,n=this.rewriteUrl(r,s.value,!1,t);n===s.value?(e.attrs.push({name:"__wb_orig_src",value:s.value}),s.value=this.rewriteUrl(r,s.value,!0,t)):s.value=n}else if("object"===i&&"data"===o){const t=this.getAttr(e.attrs,"type");if("application/pdf"===t)s.name="src",e.tagName="iframe";else if("application/x-shockwave-flash"===t)for(const t of wv){const n=s.value.replace(t.match,t.replace);if(n!==s.value){s.name="src",s.value=this.rewriteUrl(r,n),e.tagName="iframe";break}}}else if("target"===o){const e=s.value;"_blank"!==e&&"_parent"!==e&&"_top"!==e&&"new"!==e||(s.value=ob)}else("href"===o||"src"===o||t[s.name])&&(s.value=this.rewriteUrl(r,s.value))}}getAttr(e,t){for(let r of e)if(r.name===t)return r.value;return null}getScriptRWType(e){const t=this.getAttr(e.attrs,"type");return"module"===t?"module":"application/json"===t?"json":!t||t.indexOf("javascript")>=0||t.indexOf("ecmascript")>=0?"js":""}async rewrite(e){if(!e.buffer&&!e.reader)return e;if(e.expectedLength()>5e6)return console.warn("Skipping rewriting, HTML file too big: "+e.expectedLength()),e;const t=this.rewriter,r=new uv;r.tokenizer.preprocessor.bufferWaterline=1/0;let n=!1,i="",s="",o=null;const a=()=>{if(!n&&t.headInsertFunc){const e=t.headInsertFunc(t.url);e&&r.emitRaw(e),n=!0}};r.on("startTag",(e=>{const c=yv[e.tagName],l=e.tagName;switch(this.rewriteTagAndAttrs(e,c||{},t),n||["head","html"].includes(e.tagName)||a(),r.emitStartTag(e),e.tagName){case"script":if(e.selfClosing)break;i=e.tagName,s=this.getScriptRWType(e);break;case"style":e.selfClosing||(i=e.tagName);break;case"head":a()}e.tagName!==l&&(i=l,o=e.tagName)})),r.on("endTag",(e=>{e.tagName===i&&(o&&(e.tagName=o,o=null),i=""),r.emitEndTag(e)})),r.on("text",((e,n)=>{const o=(()=>{if("script"===i){const r=t.prefix,n="module"===s;return"js"===s||n?t.rewriteJS(e.text,{isModule:n,prefix:r}):"json"===s?t.rewriteJSON(e.text,{prefix:r}):e.text}return"style"===i?t.rewriteCSS(e.text):this.rewriteHTMLText(n)})();for(let e=0;e<o.length;e+=sb)r.emitRaw(o.slice(e,e+sb))}));const c=e.createIter();let l=!1;const u=this.isCharsetUTF8;return e.setReader(new ReadableStream({async start(e){r.on("data",(t=>{e.enqueue(u?hv.encode(t):gb(t))})),r.on("end",(()=>{e.close()}));for await(const e of c)u?r.write(dv.decode(e),"utf8"):r.write(pb(e),"latin1"),l=!0;l&&a(),r.end()}})),e}rewriteUrl(e,t,r=!1,n=null){this.isCharsetUTF8||(t=dv.decode(gb(t)));const i=e.rewriteUrl(t,r);return n?i.replace("mp_/",n+"/"):i}rewriteHTMLText(e){if(this.rule){const t=this.rule.replace.replace("$U1",this.ruleMatch[1]),r=e.replace(this.rule.match,t);if(e!==r)return r}return e}}const Av=/(url\s*\(\s*[\\"']*)([^)'"]+)([\\"']*\s*\))/gi,Ev=/(@import\s*[\\"']*)([^)'";]+)([\\"']*\s*;?)/gi,vv=/WB_wombat_/g,_v=/^(?:\s*(?:(?:\/\*[^*]*\*\/)|(?:\/\/[^\n]+[\n])))*\s*([\w.]+)\([{[]/,Tv=/[?].*(?:callback|jsonp)=([^&]+)/i,Sv=new FA(class extends HA{constructor(e){super(),this.extraRules=e,this.firstBuff=this.initLocalDecl(qA),this.lastBuff="\n\n}"}initLocalDecl(e){const t="_____WB$wombat$assign$function_____";let r=`var ${t} = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };\nif (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }\n{\n`;for(let n of e)r+=`let ${n} = ${t}("${n}");\n`;return r+="let arguments;\n",r+"\n"}getModuleDecl(e,t){return`import { ${e.join(", ")} } from "${t}__wb_module_decl.js";\n`}detectIsModule(e){return!!(e.indexOf("import")>=0&&e.match(jA))||!!(e.indexOf("export")>=0&&e.match(zA))}rewrite(e,t){void 0!==(t=t||{}).isModule&&null!==t.isModule||(t.isModule=this.detectIsModule(e,t));let r=KA;t.isModule&&(r=[...r,this.getESMImportRule()]),this.extraRules&&this.extraRules.length?this.rules=[...r,...this.extraRules]:this.rules=r,this.compileRules();let n=super.rewrite(e,t);if(t.isModule)return this.getModuleDecl(qA,t.prefix)+n;return VA.exec(e)&&(n=this.firstBuff+n+this.lastBuff),t&&t.inline&&(n=n.replace(/\n/g," ")),n}getESMImportRule(){return[WA,(e,t)=>{const r=t.prefix.replace("mp_/","esm_/");return e.replace(GA,((e,n,i,s)=>{try{i=new URL(i,t.baseUrl).href,i=r+i}catch(e){}return n+i+s}))}]}}),Iv=new FA(HA);class Cv{constructor({baseUrl:e,prefix:t,responseUrl:r,workerInsertFunc:n,headInsertFunc:i=null,urlRewrite:s=!0,contentRewrite:o=!0,decode:a=!0,useBaseRules:c=!1}={}){if(this.urlRewrite=s,this.contentRewrite=o,this.dsRules=s&&!c?Sv:Iv,this.decode=a,this.prefix=t||"",this.prefix&&s){const e=new URL(this.prefix);this.relPrefix=e.pathname,this.schemeRelPrefix=this.prefix.slice(e.protocol.length)}const l=new URL(r||e);this.scheme=l.protocol,e.startsWith("//")&&(e=this.scheme+e),this.url=this.baseUrl=e,this.headInsertFunc=i,this.workerInsertFunc=n,this.responseUrl=r,this.isCharsetUTF8=!1,this._jsonpCallback=null}getRewriteMode(e,t,r="",n=null){if(!n&&t){const e=(n=t.headers.get("Content-Type")||"").split(";");n=e[0],e.length>1&&(this.isCharsetUTF8="utf8"===e[1].trim().toLowerCase().replace("charset=","").replace("-",""))}if(e)switch(e.destination){case"style":return"css";case"script":return this.getScriptRewriteMode(n,r,"js");case"worker":return"js-worker"}switch(n){case"text/html":return e.destination||"application/json"!==e.headers.get("Accept")?"html":"json";case"text/css":return"css";case"application/x-mpegURL":case"application/vnd.apple.mpegurl":return"hls";case"application/dash+xml":return"dash";default:return this.getScriptRewriteMode(n,r,null)}}getScriptRewriteMode(e,t,r){switch(e){case"text/javascript":case"application/javascript":case"application/x-javascript":return this.parseJSONPCallback(t)?"jsonp":t.endsWith(".json")?"json":"js";case"application/json":return"json";default:return r}}async rewrite(e,t){const r=this.contentRewrite?this.getRewriteMode(t,e,this.baseUrl):null,n=function(e){return"XMLHttpRequest"===e.headers.get("X-Pywb-Requested-With")||"cors"===e.mode&&("script"!==e.destination||"esm_"!==e.mod)}(t),i=this.urlRewrite&&!n,s=this.rewriteHeaders(e.headers,this.urlRewrite,!!r,n),o=e.headers.get("content-encoding"),a=e.headers.get("transfer-encoding");e.headers=s,this.decode&&(o||a)&&(e=await async function(e,t,r,n){if(e.reader&&n&&("gzip"===t&&!r||!t&&"gzip"===r))return e.setReader(new qb(e.reader)),e;const i=new Uint8Array(await e.getBuffer()),s=await xA(i,t,r);return i!==s&&e.setBuffer(s),e}(e,o,a,null===r));const c={response:e,prefix:this.prefix,baseUrl:this.baseUrl};let l=null;switch(r){case"html":if(i)return await this.rewriteHtml(e);break;case"css":this.urlRewrite&&(l=this.rewriteCSS);break;case"js":l=this.rewriteJS,"esm_"===t.mod&&(c.isModule=!0);break;case"json":l=this.rewriteJSON;break;case"js-worker":l=this.workerInsertFunc;break;case"jsonp":l=this.rewriteJSONP;break;case"hls":l=BA;break;case"dash":l=DA}if(i&&(c.rewriteUrl=e=>this.rewriteUrl(e)),l){let t=await e.getText(this.isCharsetUTF8);t=l.call(this,t,c),e.setText(t,this.isCharsetUTF8)}return e}updateBaseUrl(e){if(this.baseUrl=new URL(e,this.baseUrl).href,e&&this.baseUrl!=e)try{e=new URL(e).href}catch(t){e.startsWith("//")&&(e=(e=new URL("https:"+e).href).slice("https:".length))}return this.rewriteUrl(e)}isRewritableUrl(e){const t=["#","javascript:","data:","mailto:","about:","file:","blob:","{"];for(let r of t)if(e.startsWith(r))return!1;return!0}rewriteUrl(e,t=!1){if(!this.urlRewrite)return e;var r=e;return!(e=e.trim())||!this.isRewritableUrl(e)||e.startsWith(this.prefix)||e.startsWith(this.relPrefix)?r:e.startsWith("http:")||e.startsWith("https:")||e.startsWith("https\\3a/")?this.prefix+e:e.startsWith("//")||e.startsWith("\\/\\/")?this.schemeRelPrefix+e:e.startsWith("/")?(e=new URL(e,this.baseUrl).href,this.relPrefix+e):t||e.indexOf("../")>=0?(e=new URL(e,this.baseUrl).href,this.prefix+e):r}rewriteHtml(e){return new bv(this,this.isCharsetUTF8).rewrite(e)}rewriteCSS(e){const t=this;function r(e,r,n,i){return n=n.trim(),r+t.rewriteUrl(n)+i}return e.replace(Av,r).replace(Ev,r).replace(vv,"")}rewriteJS(e,t){const r=t&&!t.rewriteUrl&&void 0===t.isModule,n=r?Iv:this.dsRules,i=n.getRewriter(this.baseUrl);return i===n.defaultRewriter&&r?e:i.rewrite(e,t)}rewriteJSON(e,t){e=this.rewriteJSONP(e);const r=Iv.getRewriter(this.baseUrl);return r!==Iv.defaultRewriter?r.rewrite(e,t):e}parseJSONPCallback(e){const t=e.match(Tv);return t&&"?"!==t[1]?(this._jsonpCallback=t[1],!0):(this._jsonpCallback=!1,!1)}rewriteJSONP(e){const t=e.match(_v);return t?(null===this._jsonpCallback&&this.parseJSONPCallback(this.baseUrl),!1===this._jsonpCallback?e:this._jsonpCallback+e.slice(e.indexOf(t[1])+t[1].length)):e}rewriteHeaders(e,t,r,n){const i={"access-control-allow-origin":"prefix-if-url-rewrite","access-control-allow-credentials":"prefix-if-url-rewrite","access-control-expose-headers":"prefix-if-url-rewrite","access-control-max-age":"prefix-if-url-rewrite","access-control-allow-methods":"prefix-if-url-rewrite","access-control-allow-headers":"prefix-if-url-rewrite","accept-patch":"keep","accept-ranges":"keep",age:"prefix",allow:"keep","alt-svc":"prefix","cache-control":"prefix",connection:"prefix","content-base":"url-rewrite","content-disposition":"keep","content-encoding":"prefix-if-content-rewrite","content-language":"keep","content-length":"content-length","content-location":"url-rewrite","content-md5":"prefix","content-range":"keep","content-security-policy":"prefix","content-security-policy-report-only":"prefix","content-type":"keep",date:"keep",etag:"prefix",expires:"prefix","last-modified":"prefix",link:"link",location:"url-rewrite",p3p:"prefix",pragma:"prefix","proxy-authenticate":"keep","public-key-pins":"prefix","retry-after":"prefix",server:"prefix","set-cookie":"cookie",status:"prefix","strict-transport-security":"prefix",trailer:"prefix","transfer-encoding":"transfer-encoding",tk:"prefix",upgrade:"prefix","upgrade-insecure-requests":"prefix",vary:"prefix",via:"prefix",warning:"prefix","www-authenticate":"keep","x-frame-options":"prefix","x-xss-protection":"prefix"},s="X-Archive-Orig-";let o=new Headers;for(let a of e.entries()){switch(i[a[0]]){case"keep":case"cookie":default:o.append(a[0],a[1]);break;case"url-rewrite":if(t){if("location"===a[0]&&this.url!==this.responseUrl){const e="http:"===this.scheme?"https:":"http:",t=e+this.responseUrl.slice(this.scheme.length);a[1]===t&&(a[1]=e+this.url.slice(this.url.indexOf("//")))}o.append(a[0],this.rewriteUrl(a[1]))}else o.append(a[0],a[1]);break;case"prefix-if-content-rewrite":r?o.append(s+a[0],a[1]):o.append(a[0],a[1]);break;case"prefix-if-url-rewrite":t?o.append(s+a[0],a[1]):o.append(a[0],a[1]);break;case"content-length":if("0"==a[1]){o.append(a[0],a[1]);continue}if(r)try{if(parseInt(a[1])>=0){o.append(a[0],a[1]);continue}}catch(e){}o.append(a[0],a[1]);break;case"transfer-encoding":case"prefix":o.append(s+a[0],a[1]);break;case"link":t&&!n?o.append(a[0],this.rewriteLinkHeader(a[1])):o.append(a[0],a[1])}}return o}rewriteLinkHeader(e){try{const t=IA.parse(e);for(const e of t.refs)e.uri&&(e.uri=this.rewriteUrl(e.uri));return t.toString()}catch(t){return console.warn("Error parsing link header: "+e),e}}}class Rv{constructor(e,t,r={}){const{name:n,store:i,config:s}=e;this.name=n,this.store=i,this.config=s,this.metadata=this.config.metadata?this.config.metadata:{};const o={...r,...this.config.extraConfig};this.injectScripts=o.injectScripts||[],this.noRewritePrefixes=o.noRewritePrefixes||null,this.noPostToGet=!!o.noPostToGet,this.convertPostToGet=!!o.convertPostToGet,this.coHeaders=o.coHeaders||!1,this.csp=o.csp||"default-src 'unsafe-eval' 'unsafe-inline' 'self' data: blob: mediastream: ws: wss: ; form-action 'self'",this.injectRelCanon=o.injectRelCanon||!1,this.baseFramePrefix=o.baseUrlSourcePrefix,this.baseFrameUrl=o.baseUrl,this.baseFrameHashReplay=o.baseUrlHashReplay||!1,this.liveRedirectOnNotFound=o.liveRedirectOnNotFound||!1,this.rootPrefix=t.root||t.main,this.prefix=t.main,this.config.root?this.isRoot=!0:(this.prefix+=this.name+"/",this.isRoot=!1),this.staticPrefix=t.static}async handleRequest(e,t){let r=e.url,n=e.timestamp;if(!e.mod)return await this.makeTopFrame(r,n);this.noPostToGet||(r=await e.convertPostToGet());let i=null,s=r;try{if(r.startsWith("srcdoc:"))i=this.getSrcDocResponse(r,r.slice("srcdoc:".length));else if(r.startsWith("blob:")){const e=r.indexOf("/"),t=r.slice(5,e),n=`blob:${self.location.origin}/${t}`;s=r.slice(e+1),i=await this.getBlobResponse(n)}else"about:blank"===r?i=await this.getSrcDocResponse(r):"__wb_module_decl.js"===r?i=await this.getWrappedModuleDecl(r):(i=await this.getReplayResponse(e,t),r=e.url,i&&i.updateTS&&(n=i.updateTS))}catch(t){if(await Eb(t,this.config))return vb(e,'<p style="margin: auto">Please wait, this page will reload after authentication...</p>',401)}if(!i){try{r=decodeURIComponent(r),r+=e.hash}catch(e){}const t=`\n      <html>\n      <body style="font-family: sans-serif">\n      <h2>Archived Page Not Found</h2>\n      <p>Sorry, this page was not found in this archive:</p>\n      <p><code style="word-break: break-all; font-size: larger">${r}</code></p>\n      ${this.liveRedirectOnNotFound&&"navigate"===e.mode?`\n      <p>Redirecting to live page now... (If this URL is a file download, the download should have started).</p>\n      <script>\n      window.top.location.href = "${r}";\n      <\/script>\n      `:"\n      "}\n      <p>\n      <a target="_blank" href="${r}">Click Here</a> to try to load the live page in a new tab (or to download the URL as a file).</p>\n      </body>\n      </html>\n      `;return vb(e,t)}if(i instanceof Response)return i;if(!i.noRW){const t=this.prefix+(e.pageId?`:${e.pageId}/`:""),o=t+n,a=r=>{let s=i.headers.get("x-wabac-preset-cookie")||"";const a=i.headers.get("Set-Cookie"),c=o+(n?"/":"")+r;return this.makeHeadInsert(r,n,i.date,c,t,s,a,i.isLive,e.referrer,i.extraOpts)},c=e=>`\n        (function() { self.importScripts('${this.staticPrefix}wombatWorkers.js');            new WBWombat({'prefix': '${o}/', 'prefixMod': '${o}wkrf_/', 'originalURL': '${r}'});        })();`+e,l=e.mod,u="id_"===l||"wkrf_"===l,h=o+l+"/",d={baseUrl:s,responseUrl:i.url,prefix:h,headInsertFunc:a,workerInsertFunc:c,urlRewrite:!u,contentRewrite:!u,decode:this.config.decode},f=new Cv(d);i=await f.rewrite(i,e),"id_"!==l&&i.headers.append("Content-Security-Policy",this.csp)}const o=e.headers.get("range");return!o||200!==i.status&&206!==i.status||i.setRange(o),i.makeResponse(this.coHeaders)}getCanonRedirect(e){let{url:t,timestamp:r,mod:n,referrer:i}=e;const s=t.startsWith("//");if(s){t=(i&&i.indexOf("/http://")>0?"http:":"https:")+t}try{const i=new URL(t);if(i.href!==t){if("/"===i.pathname){let e=this.prefix+r+n;return(r||n)&&(e+="/"),e+=i.href,Response.redirect(e,301)}(!s&&t.indexOf(":443")||t.indexOf(":80"))&&(e.url=i.href)}}catch(e){}return null}getWrappedModuleDecl(){const e=(new TextEncoder).encode('\n    var wrapObj = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };\n    if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }\n\n    const window = wrapObj("window");\n    const document = wrapObj("document");\n    const location = wrapObj("location");\n    const top = wrapObj("top");\n    const parent = wrapObj("parent");\n    const frames = wrapObj("frames");\n    const opener = wrapObj("opener");\n    const __self = wrapObj("self");\n    const __globalThis = wrapObj("globalThis");\n\n    export { window, document, location, top, parent, frames, opener, __self as self, __globalThis as globalThis };\n    '),t=new Headers({"Content-Type":"application/javascript"});return new Response(e,{headers:t,status:200,statusText:"OK"})}getSrcDocResponse(e,t){const r=t?decodeURIComponent(atob(t)):"<!DOCTYPE html><html><head></head><body></body></html>",n=(new TextEncoder).encode(r),i=new Headers({"Content-Type":"text/html"}),s=new Date;return new AA({payload:n,status:200,statusText:"OK",headers:i,url:e,date:s})}async getBlobResponse(e){const t=await fetch(e),r=t.status,n=t.statusText,i=new Headers(t.headers);"application/xhtml+xml"===i.get("content-type")&&i.set("content-type","text/html");const s=new Date,o=new Uint8Array(await t.arrayBuffer());return new AA({payload:o,status:r,statusText:n,headers:i,url:e,date:s})}async getReplayResponse(e,t){let r=this.getCanonRedirect(e);if(r)return r;const n={pageId:e.pageId};r=await this.store.getResource(e,this.prefix,t,n);const{request:i,url:s}=e;if(("video"===i.destination||"audio"===i.destination)&&"navigate"!==i.mode)for(;r&&r.status>=301&&r.status<400;){const i=new URL(r.headers.get("location"),s);e.url=i.href,console.log(`resolve redirect ${s} -> ${e.url}`),r=await this.store.getResource(e,this.prefix,t,n)}return r}async makeTopFrame(e,t){let r=null;if(this.baseFrameUrl&&!this.baseFramePrefix?r=this.baseFrameUrl:!this.isRoot&&this.config.sourceUrl&&(r=this.baseFramePrefix||"./",r+=`?source=${this.config.sourceUrl}`),r){if(this.baseFrameHashReplay)r+=`#${t}/${e}`;else{r+="#"+new URLSearchParams({url:e,ts:t,view:"replay"}).toString()}return Response.redirect(r)}let n=null;if(this.config.topTemplateUrl){const r=await fetch(this.config.topTemplateUrl);n=(await r.text()).replace("$URL",e).replace("$TS",t).replace("$PREFIX",this.prefix)}else n=`\n<!DOCTYPE html>\n<html>\n<head>\n<style>\nhtml, body\n{\n  height: 100%;\n  margin: 0px;\n  padding: 0px;\n  border: 0px;\n  overflow: hidden;\n}\n\n</style>\n<script src='${this.staticPrefix}wb_frame.js'> <\/script>\n\n<script>\nwindow.home = "${this.rootPrefix}";\n<\/script>\n\n<script src='${this.staticPrefix}default_banner.js'> <\/script>\n<link rel='stylesheet' href='${this.staticPrefix}default_banner.css'/>\n\n</head>\n<body style="margin: 0px; padding: 0px;">\n<div id="wb_iframe_div">\n<iframe id="replay_iframe" name="___wb_replay_top_frame" frameborder="0" seamless="seamless" scrolling="yes" class="wb_iframe" allow="autoplay; fullscreen"></iframe>\n</div>\n<script>\n  var cframe = new ContentFrame({"url": "${e}",\n                                 "app_prefix": "${this.prefix}",\n                                 "content_prefix": "${this.prefix}",\n                                 "request_ts": "${t}",\n                                 "iframe": "#replay_iframe"});\n\n<\/script>\n</body>\n</html>\n`;let i={status:200,statusText:"OK",headers:{"Content-Type":"text/html","Content-Security-Policy":this.csp}};return new Response(n,i)}makeHeadInsert(e,t,r,n,i,s,o,a,c,l){const u=this.name,h=function(e){if(!e)return"";try{return""+parseInt(e.getTime()/1e3)}catch(e){return""}}(r),d=lb(r.toISOString()),f=new URL(e);let p;p="https:"!==f.protocol&&"http:"!==f.protocol?c&&c.indexOf("/http://")>0?"http":"https":f.protocol.slice(0,-1),o&&(s=function(e,t){e=e.replace(ab,"");const r=[];for(const n of e.split(",")){const e=n.split(";",1)[0];if(e!==n){const r=n.slice(e.length).toLowerCase();if(r.indexOf("httponly")>0)continue;if("http"===t&&r.indexOf("secure")>0)continue}r.push(e)}return r.join(";")}(o,p)+";"+s);const g=l&&Number(l.pixelRatio)?l.pixelRatio:1,y=l&&l.storage?btoa(l.storage):"",w=s?JSON.stringify(s):'""';return`\n\x3c!-- WB Insert --\x3e\n<style>\nbody {\n  font-family: inherit;\n  font-size: inherit;\n}\n</style>\n${this.injectRelCanon?`<link rel="canonical" href="${e}"/>`:""}\n<script>\n  wbinfo = {};\n  wbinfo.top_url = "${n}";\n  // Fast Top-Frame Redirect\n  if (window == window.top && wbinfo.top_url) {\n    var loc = window.location.href.replace(window.location.hash, "");\n    loc = decodeURI(loc);\n\n    if (loc != decodeURI(wbinfo.top_url)) {\n        window.location.href = wbinfo.top_url + window.location.hash;\n    }\n  }\n  wbinfo.url = "${e}";\n  wbinfo.timestamp = "${d}";\n  wbinfo.request_ts = "${t}";\n  wbinfo.prefix = decodeURI("${i}");\n  wbinfo.mod = "mp_";\n  wbinfo.is_framed = true;\n  wbinfo.is_live = ${a?"true":"false"};\n  wbinfo.coll = "${u}";\n  wbinfo.proxy_magic = "";\n  wbinfo.static_prefix = "${this.staticPrefix}";\n  wbinfo.enable_auto_fetch = true;\n  wbinfo.presetCookie = ${w};\n  wbinfo.storage = "${y}";\n  wbinfo.isSW = true;\n  wbinfo.pixel_ratio = ${g};\n  wbinfo.convert_post_to_get = ${this.convertPostToGet};\n  wbinfo.target_frame = "___wb_replay_top_frame";\n<\/script>\n<script src='${this.staticPrefix}wombat.js'> <\/script>\n<script>\n  wbinfo.wombat_ts = "${a?d:t}";\n  wbinfo.wombat_sec = "${h}";\n  wbinfo.wombat_scheme = "${p}";\n  wbinfo.wombat_host = "${f.host}";\n\n  ${this.noRewritePrefixes?`\n  wbinfo.wombat_opts = {"no_rewrite_prefixes": ${JSON.stringify(this.noRewritePrefixes)}}`:"\n  wbinfo.wombat_opts = {}\n  "}\n\n  if (window && window._WBWombatInit) {\n    window._WBWombatInit(wbinfo);\n  }\n<\/script>\n${this.injectScripts.map((e=>`<script src='${e}'> <\/script>`)).join("")}\n  `}}const xv=["script","style","header","footer","banner-div","noscript"];class kv{constructor(e=1e3){this.batchSize=e,this.promises=[],this.batch=[],this.count=0,this.dupeSet=new Set}addPage(e){this.promises.push(this.db.addPage(e))}isBatchFull(){return this.batch.length>=this.batchSize}addResource(e){if(this.isBatchFull()&&this.flush(),Number.isNaN(e.ts))return void console.warn("Skipping resource with missing/invalid ts: "+e.url);const t=e.url+" "+e.ts;if("warc/revisit"===e.mime){if(this.dupeSet.has(t))return void console.warn("Skipping duplicate revisit, prevent overriding non-revisit")}else this.dupeSet.add(t);this.batch.push(e)}flush(){this.batch.length>0&&this.promises.push(this.db.addResources(this.batch)),console.log(`Read ${this.count+=this.batch.length} records`),this.batch=[]}async finishIndexing(){this.flush(),this._finishLoad();try{await Promise.all(this.promises)}catch(e){console.warn(e)}this.promises=[]}_finishLoad(){}}class Nv extends kv{constructor(e,t=null,r=null,n=null){super(),this.reader=e,this.abort=t,this.loadId=r,this.anyPages=!1,this.detectPages=!1,this._lastRecord=null,this.metadata={},this.pageMap={},this.pages=[],this.lists=[],this.source=n}parseWarcInfo(e){if(!e.payload)return;const t=new TextDecoder("utf-8").decode(e.payload);for(const e of t.split("\n"))if(e.startsWith("json-metadata:"))try{const t=JSON.parse(e.slice("json-metadata:".length));if("collection"===t.type&&(this.metadata.desc=t.desc,this.metadata.title=t.title),t.pages&&t.pages.length){this.pages=this.pages.concat(t.pages);for(const e of t.pages)e.ts=hb(e.timestamp).getTime(),this.pageMap[e.ts+"/"+e.url]={page:e};this.anyPages=!0}t.lists&&t.lists.length&&(this.lists=this.lists.concat(t.lists))}catch(e){console.log("Page Add Error",e.toString())}}index(e,t){if("warcinfo"!==e.warcType){if(this._lastRecord)return this._lastRecord.warcTargetURI!=e.warcTargetURI?(this.indexReqResponse(this._lastRecord,null,t),void(this._lastRecord=e)):void("request"===e.warcType&&"response"===this._lastRecord.warcType?(this.indexReqResponse(this._lastRecord,e,t),this._lastRecord=null):"response"===e.warcType&&"request"===this._lastRecord.warcType?(this.indexReqResponse(e,this._lastRecord,t),this._lastRecord=null):(this.indexReqResponse(this._lastRecord,null,t),this._lastRecord=e));this._lastRecord=e}else this.parseWarcInfo(e)}indexDone(e){this._lastRecord&&(this.indexReqResponse(this._lastRecord,null,e),this._lastRecord=null)}shouldIndexMetadataRecord(e){const t=e.warcTargetURI;return!(!t||!t.startsWith("metadata://"))}parseRevisitRecord(e,t){const r=e.warcTargetURI.split("#")[0],n=e.warcDate,i=new Date(n).getTime();let s;if(e.httpHeaders){const n=this.parseResponseHttpHeaders(e,r,t);s=n&&Object.fromEntries(n.headers.entries())}const o=e.warcRefersToTargetURI,a=new Date(e.warcRefersToDate).getTime();if(o===r&&a===i)return null;return{url:r,ts:i,origURL:o,origTS:a,digest:e.warcPayloadDigest,pageId:null,respHeaders:s}}parseResponseHttpHeaders(e,t,r){let n=200,i=null,s="";const o=r&&r.httpHeaders.method;if(e.httpHeaders){if(n=Number(e.httpHeaders.statusCode)||200,"OPTIONS"===o||"HEAD"===o)return null;if(i=wb(e.httpHeaders.headers),s=(i.get("content-type")||"").split(";")[0],206===n&&!this.isFullRangeRequest(i))return null;if(n>300&&n<400){const e=i.get("location");if(e&&new URL(e,t).href===t)return null}}else i=new Headers,i.set("content-type",e.warcContentType),i.set("content-length",e.warcContentLength),s=e.warcContentType;return{status:n,method:o,headers:i,mime:s}}indexReqResponse(e,t){const r=this.parseRecords(e,t);r&&this.addResource(r)}parseRecords(e,t){switch(e.warcType){case"revisit":return this.parseRevisitRecord(e,t);case"resource":t=null;break;case"response":break;case"metadata":if(!this.shouldIndexMetadataRecord(e))return null;break;default:return null}let r=e.warcTargetURI.split("#")[0];const n=e.warcDate,i=this.parseResponseHttpHeaders(e,r,t);if(!i)return null;const{status:s,method:o,headers:a,mime:c}=i;let l,u,h=null,d=null;if(t&&t.httpHeaders.headers){let e=null;try{e=new Headers(t.httpHeaders.headers);const r=e.get("cookie");r&&a.set("x-wabac-preset-cookie",r),h=t.httpHeaders.headers.get("Referer")}catch(t){e=new Headers,console.warn(t)}if(u=Object.fromEntries(e.entries()),"GET"!==o){const n={headers:e,method:o,url:r,postData:t.payload};Pb(n)&&(l=r,r=n.url,d=t.payload)}}if(void 0===this.detectPages&&(this.detectPages=!this.anyPages),this.detectPages&&function(e,t,r){if(200!=t)return!1;if(!e.startsWith("http:")&&!e.startsWith("https:")&&!e.startsWith("blob:"))return!1;if(e.endsWith("/robots.txt"))return!1;const n=e.split("?",2);if(2===n.length&&n[1].length>n[0].length)return!1;if(n[0].substring(n[0].lastIndexOf("/")+1).startsWith("."))return!1;if(r&&"text/html"!==r)return!1;return!0}(r,s,c)){const e=r;this.addPage({url:r,date:n,title:e})}const f=new Date(n).getTime(),p=Object.fromEntries(a.entries()),g=e.warcPayloadDigest,y=e.payload,w={url:r,ts:f,status:s,mime:c,respHeaders:p,reqHeaders:u,digest:g,payload:y,reader:y?null:e.reader,referrer:h};this.pageMap[f+"/"+r]&&y&&c.startsWith("text/")&&(this.pageMap[f+"/"+r].textPromise=async function(e,t,r,n){const i=new lv,s=[];let o=null;i.on("text",(e=>{if(o)return;const t=e.text.trim();t&&s.push(t)})),i.on("startTag",(e=>{!e.selfClosing&&xv.includes(e.tagName)&&(o=e.tagName)})),i.on("endTag",(e=>{e.tagName===o&&(o=null)})),(r||n)&&(t=await xA(t,r,n)),i.end((new TextDecoder).decode(t));const a=new Promise((e=>{i.on("end",(()=>{e(s.join(" "))}))}));return await a}(0,y,a.get("content-encoding"),a.get("transfer-encoding")));const m=e.warcHeader("WARC-JSON-Metadata");if(m)try{w.extraOpts=JSON.parse(m)}catch(e){}const b=e.warcHeader("WARC-Page-ID");return b&&(w.pageId=b),this.sourceExtra&&(w.source=this.sourceExtra),"GET"!==o&&l&&null!==d&&(w.requestUrl=l,w.method=o,w.requestBody=d),w}isFullRangeRequest(e){const t=e.get("content-range"),r=parseInt(e.get("content-length")||0);return t&&t===`bytes 0-${r-1}/${r}`}filterRecord(){return null}async load(e,t,r){this.db=e;const n=new sA(this.reader);let i=0,s=0,o=0;try{for await(const e of n){if(o++,!e.warcType){console.log("skip empty record");continue}if(self.interruptLoads&&this.loadId&&self.interruptLoads[this.loadId])throw t(Math.round(n.offset/r*95),"Loading Canceled",n.offset,r),self.interruptLoads[this.loadId](),this.abort&&this.abort.abort(),new Cb;if(s=(new Date).getTime(),s-i>500){const e=`Processed ${o} records`;t(Math.round(n.offset/r*95),null,n.offset,r,null,e),i=s}const a=this.filterRecord(e);if("done"===a){this.abort&&this.abort.abort();break}if("skip"!==a&&("skipContent"===a?await e.skipFully():await e.readFully(),o++,this.index(e,n),this.promises.length>0)){try{await Promise.all(this.promises)}catch(e){console.warn(e.toString())}this.promises=[]}}}catch(e){if(e instanceof Cb)throw e;t(Math.round(n.offset/r*95),`Sorry there was an error downloading. Please try again (${e})`,n.offset,r),console.warn(e)}return this.indexDone(n),t(95,null,n.offset,r),await this.finishIndexing(),t(100,null,r,r),this.metadata}async _finishLoad(){if(this.pages.length){for(const{page:e,textPromise:t}of Object.values(this.pageMap))if(t)try{e.text=await t}catch(e){console.warn("Error adding text: "+e.toString())}this.promises.push(this.db.addPages(this.pages))}this.lists.length&&this.promises.push(this.db.addCuratedPageLists(this.lists,"bookmarks","public"))}}class Bv extends Nv{constructor(e){super(e),this.detectPages=!1}addPage(){}async load(){const e=await new sA(this.reader).parse();if(!e)return null;const t=this.parseRecords(e,null);return t&&"revisit"!==e.warcType||await e.readFully(),t}}const Ov="https://w3s.link/";function Dv(e){const{hostname:t,protocol:r,pathname:n}=new URL(e),i=r.slice(0,-1);if(!t){const[e,...t]=n.slice(2).split("/");return{type:i,cid:e,path:"/"+t.join("/")}}return{type:i,cid:t,path:n}}async function Lv(e){return jv(e)?e:zv(e)?Mv(e):e}async function Pv(e){return new Response(e).blob()}async function*Uv(e){const t=await e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)return;yield r}}finally{t.releaseLock()}}function Mv(e){let t=e;t.next||(t=e[Symbol.asyncIterator]());const r=new TextEncoder;return new ReadableStream({async pull(e){const{value:n,done:i}=await t.next();if(i)await e.close();else{let t=n;"string"==typeof t&&(t=r.encode(t)),await e.enqueue(t)}}})}async function Fv(e){if(!e.ok){const t=await e.text(),r=e.status;throw new Error(`HTTP Error ${r}: ${t}`)}}async function Hv({url:e,file:t,fileName:r="",parameterName:n="file",fetch:i=globalThis.fetch,signal:s}){const o=new FormData,a=new Headers;Wv(e,a);const c=await async function(e){if(jv(e))return await Pv(e);if(zv(e)){const t=Mv(e);return await Pv(t)}return e instanceof Blob?e:new Blob([e])}(t);r?o.append(n,c,r):o.append(n,c);const l=await i(e,{method:"POST",body:o,headers:a,signal:s});return await Fv(l),l}function jv(e){return"function"==typeof e.getReader}function zv(e){return e[Symbol.asyncIterator]}function Wv(e,t){if(e.password)if(e.username){const r=`Basic ${btoa(`${unescape(e.username)}:${unescape(e.password)}`)}`;t.append("Authorization",unescape(r)),e.username="",e.password=""}else{const r=`Bearer ${e.password}`;t.append("Authorization",unescape(r)),e.password=""}}async function Gv({url:e,fetch:t=globalThis.fetch,signal:r}){const n=await t(e,{method:"HEAD",signal:r});await Fv(n);const i=n.headers.get("x-ipfs-datasize")||n.headers.get("Content-Length");return parseInt(i,10)}async function*qv({url:e,start:t,end:r,format:n,signal:i,fetch:s=globalThis.fetch}){const o=new Headers;Number.isInteger(t)&&(Number.isInteger(r)?o.set("Range",`bytes=${t}-${r}`):o.set("Range",`bytes=${t}-`));const a=new URL(e);n&&(o.set("Accept",`application/vnd.ipld.${n}`),o.set("cache-control","no-cache"));const c=await s(a.href,{headers:o,signal:i});await Fv(c),yield*Uv(c.body)}async function*Qv({url:e,start:t,end:r,format:n,signal:i,gatewayURL:s=Vv()}){const o=function(e,t=Vv()){const{cid:r,path:n,type:i}=Dv(e);return new URL(`/${i}/${r}${n}`,t)}(e,s);yield*qv({url:o,start:t,end:r,format:n,signal:i})}function Vv(){if(!globalThis.location)return Ov;const{pathname:e,hostname:t,protocol:r}=globalThis.location;if(e.startsWith("/ipfs/")||e.startsWith("/ipns/"))return`${r}//${t}/`;const[n,...i]=t.split(".");return 59===n.length&&i.length>=2?`${r}//${i.join(".")}/`:Ov}let Kv=!1;const Yv=[5001,45001,45002,45003,45004,45005],Jv="https://api.estuary.tech/",Xv="agregore",Zv="daemon",$v="web3.storage",e_="estuary",t_="readonly",r_=[Xv,Zv,$v,e_,t_];class n_{get type(){return"invalid"}async*get(e,{start:t,end:r,signal:n=null,format:i=null}={}){throw new Error("Not Implemented")}async getSize(e,t=null){throw new Error("Not Implemented")}async uploadCAR(e,t=null){throw new Error("Not Implemented")}async uploadFile(e,t,r=null){throw new Error("Not Implemented")}async clear(e,t=null){throw new Error("Not Implemented")}}async function i_({daemonURL:e,web3StorageToken:t,web3StorageURL:r="https://api.web3.storage/",estuaryToken:n,estuaryURL:i=Jv,publicGatewayURL:s=Vv(),readonly:o=!0,timeout:a=1e3,fetch:c=globalThis.fetch}={}){const l=[],u=[];if(u.push(async function(e=globalThis.fetch){try{return await e("ipfs://localhost/"),!0}catch(e){return Kv&&console.warn("Unable to detect Agregore",e),!1}}(c).then((e=>e&&l.push({type:Xv,fetch:c})))),u.push(async function(){const e=Yv.map((e=>`http://localhost:${e}`));try{const r=await Promise.any(e.map((e=>f_(e).then((t=>{if(t)return e;throw new Error("Not found")})))));return!!r&&(d_&&!h_&&(t=r,h_=!0,globalThis.chrome.webRequest.onBeforeSendHeaders.addListener((e=>{const{requestHeaders:r}=e;for(const e of r)if("origin"===e.name.toLowerCase())return e.value=t,{requestHeaders:r};return e.requestHeaders.push({name:"Origin",value:t}),{requestHeaders:r}}),{urls:[t+"/*"]},["blocking","requestHeaders","extraHeaders"])),r)}catch{return!1}var t}().then((e=>e&&l.push({type:Zv,url:e,fetch:c})))),e&&u.push(f_(e,a,c).then((t=>t&&l.push({type:Zv,url:e,fetch:c})))),n){const e=i,t=n;l.push({type:e_,url:e,authorization:t,fetch:c,publicGatewayURL:s})}if(t){const e=r,n=t;l.push({type:$v,url:e,authorization:n,fetch:c,publicGatewayURL:s})}return o&&s&&l.push({type:t_,fetch:c,publicGatewayURL:s}),await Promise.allSettled(u),l}async function s_({chooseOrder:e=r_,...t}={}){const r=function(e,t=r_){const r=e.filter((({type:e})=>t.includes(e))).sort((({type:e},{type:r})=>t.indexOf(e)-t.indexOf(r))),n=r[0];if(!n)throw new Error("Unable to find valid type");return n}(await i_(t),e);return async function(e){const{type:t}=e;let r=null;if(t===Xv)r=new c_(e.fetch||globalThis.fetch);else if(t===Zv)r=new u_(e.url);else if(t===$v)r=new l_(e.authorization,e.url,e.publicGatewayURL);else if(t===e_)r=new a_(e.authorization,e.url,e.publicGatewayURL);else{if(t!==t_)throw new TypeError(`Unknown API type: ${t}.`);r=new o_(e.publicGatewayURL)}return r}(r)}class o_ extends n_{constructor(e=Vv()){super(),this.gatewayURL=e}get type(){return t_}async*get(e,{start:t,end:r,signal:n=null,format:i=null}={}){yield*Qv({url:e,start:t,end:r,format:i,gatewayURL:this.gatewayURL,signal:n})}async getSize(e,t=null){const{cid:r,path:n,type:i}=Dv(e);return Gv({url:new URL(`/${i}/${r}${n}`,this.gatewayURL),signal:t})}}class a_ extends o_{constructor(e,t=Jv,r=Vv()){super(r),this.authorization=e,this.url=t}get type(){return e_}async uploadCAR(e,t=null){throw new Error("Not Implemented")}async uploadFile(e,t,r=null){const n=new URL("/content/add",this.url);n.password=this.authorization;const i=await Hv({url:n,file:e,fileName:t,parameterName:"data",signal:r}),{cid:s}=await i.json();return`ipfs://${s}/`}}class c_ extends n_{constructor(e=globalThis.fetch){super(),this.fetch=e}get type(){return Xv}async*get(e,{start:t,end:r,signal:n=null,format:i=null}={}){const{fetch:s}=this;yield*qv({url:e,start:t,end:r,format:i,fetch:s,signal:n})}async getSize(e,t=null){const{fetch:r}=this;return Gv({url:e,fetch:r,signal:t})}async uploadCAR(e,t=null){const r=await Lv(e),{fetch:n}=this,i=await n("ipfs://localhost",{method:"POST",headers:{"Content-Type":"application/vnd.ipld.car"},signal:t,body:r});await Fv(i);return(await i.text()).split("\n")}async uploadFile(e,t=null){const r=await Lv(e),{fetch:n}=this,i=await n("ipfs://localhost",{method:"POST",headers:{"Content-Type":"application/octet-stream"},signal:t,body:r});return await Fv(i),i.headers.get("Location")}}class l_ extends o_{constructor(e,t="https://api.web3.storage/",r=Vv()){super(r),this.authorization=e,this.url=t}get type(){return $v}async uploadCAR(e,t=null){const r=new URL("/car",this.url);r.password=this.authorization;const n=await async function({url:e,fileIterator:t,signal:r}){const n=new Headers;n.set("Content-Type","application/octet-stream"),Wv(e,n);const i=await Lv(t),s=await fetch(e,{method:"POST",signal:r,body:i,headers:n,duplex:"half"});return await Fv(s),s}({url:r,fileIterator:e,signal:t});return(await n.text()).split("\n").filter((e=>e)).map((e=>{const{cid:t}=JSON.parse(e);return`ipfs://${t}/`}))}async uploadFile(e,{fileName:t="",signal:r=null}={}){const n=new URL("/upload",this.url);n.password=this.authorization;const i=await Hv({url:n,file:e,fileName:t,signal:r}),{cid:s}=await i.json();return`ipfs://${s}/`}}class u_ extends n_{constructor(e="http://localhost:5001/"){super(),this.url=e}get type(){return Zv}async*get(e,{start:t,end:r,signal:n=null,format:i=null}={}){const{cid:s,path:o,type:a}=Dv(e),c=new URL(`/api/v0/cat?arg=/${a}/${s}${o}`,this.url);if(t&&c.searchParams.set("offset",t),r&&c.searchParams.set("length",r-(t||0)+1),i)throw new Error("Format is unsupported on Kubo Daemons for now");const l=await fetch(c,{method:"POST",signal:n});await Fv(l),yield*Uv(l.body)}async getSize(e,t=null){try{const{cid:r,path:n,type:i}=Dv(e),s=`/api/v0/file/ls?arg=/${i}/${r}${n}&size=true`,o=new URL(s,this.url),a=await fetch(o,{method:"POST",signal:t});await Fv(a);const{Objects:c}=await a.json(),[{Size:l}]=Object.values(c);return l}catch(r){return Kv&&console.warn(r),this._getSizeWithDag(e,t)}}async _getSizeWithDag(e,t=null){const{cid:r,path:n,type:i}=Dv(e),s=new URL(`/api/v0/dag/stat?arg=/${i}/${r}${n}`,this.url),o=await fetch(s,{method:"POST",signal:t});await Fv(o);const{Size:a}=await o.json();return parseInt(a,10)}async _pin(e,t=null){const{cid:r,path:n,type:i}=Dv(e),s=new URL(`/api/v0/pin/add?arg=/${i}/${r}${n}`,this.url),o=await fetch(s,{method:"POST",signal:t});await Fv(o)}async _unpin(e,t=null){const{cid:r,path:n,type:i}=Dv(e),s=new URL(`/api/v0/pin/rm?arg=/${i}/${r}${n}`,this.url),o=await fetch(s,{method:"POST",signal:t});await Fv(o)}async clear(e,t=null){return this._unpin(e,t)}async uploadCAR(e,t=null){const r=new URL("/api/v0/dag/import?allow-big-block=true&pin-roots=true",this.url),n=await Hv({url:r,file:e,signal:t});return(await n.text()).split("\n").filter((e=>e)).map((e=>{const{Root:t}=JSON.parse(e);return`ipfs://${t.Cid["/"]}/`}))}async uploadFile(e,t="",r=null){const n=new URL("/api/v0/add?pin=true&cid-version=1&inline=false&raw-leaves=true",this.url),i=e.name&&e instanceof Blob;(t||i)&&n.searchParams.set("wrap-with-directory","true");const s=await Hv({url:n,file:e,fileName:t,signal:r}),o=await s.text(),[a]=o.split("\n"),{Hash:c}=JSON.parse(a),l=`ipfs://${c}/`;return await this._pin(l,r),l}}let h_=!1;const d_=!!(globalThis&&globalThis.chrome&&globalThis.chrome.webRequest&&globalThis.chrome.webRequest.onBeforeSendHeaders&&globalThis.chrome.webRequest.onBeforeSendHeaders.addListener);async function f_(e="http://localhost:5001/",t=1e3,r=globalThis.fetch){try{const n=new AbortController,{signal:i}=n;setTimeout((()=>n.abort()),t);const s=await r(new URL("/api/v0/version",e),{method:"POST",signal:i});return!!s.ok||!(!s.status||404===s.status)}catch(t){return Kv&&console.warn("Unable to detect Kubo Daemon",t,e),!1}}let p_=null;async function g_(e){return p_||(p_=await s_(e)),p_}const y_="https://helper-proxy.webrecorder.workers.dev";async function w_(e){const{url:t}=e;if(e.extra&&e.extra.arrayBuffer)return new A_(e.extra.arrayBuffer);const r=t.split(":",1)[0];switch(r){case"blob":return new E_(e);case"http":case"https":return new m_(e);case"file":return new v_(e);case"googledrive":return new b_(e);case"ipfs":return new __(e)}try{if(self.location&&r===self.location.protocol.split(":")[0])return new m_(e)}catch(e){}try{return await fetch(`${r}://localhost`,{method:"HEAD"}),new m_(e)}catch(e){}throw new Error("Invalid URL: "+t)}class m_{constructor({url:e,headers:t,length:r=null,canLoadOnDemand:n=!1}){this.url=e,this.headers=t||{},this.length=r,this.canLoadOnDemand=n,this.isValid=!1,this.ipfsAPI=null,this.loadingIPFS=null}async doInitialFetch(e,t=!1){const r=new Headers(this.headers);t||r.set("Range","bytes=0-"),this.isValid=!1;let n=null,i=null;if(e)try{i=await this.retryFetch(this.url,{headers:r,method:"HEAD",cache:"no-store"}),200!==i.status&&206!=i.status||(this.canLoadOnDemand=206===i.status||"bytes"===i.headers.get("Accept-Ranges"),this.isValid=!0)}catch(e){}if(!this.isValid||!this.canLoadOnDemand){n=new AbortController;const t=n.signal;i=await this.retryFetch(this.url,{headers:r,signal:t,cache:"no-store"}),this.canLoadOnDemand=206===i.status||"bytes"===i.headers.get("Accept-Ranges"),this.isValid=206===i.status||200===i.status,e&&(n.abort(),n=null)}if(null===this.length&&(this.length=Number(i.headers.get("Content-Length")),!this.length&&206===i.status)){let e=i.headers.get("Content-Range");e&&(e=e.split("/"),2===e.length&&(this.length=e[1]))}if(null===this.length)try{const e=await fetch(`${y_}/c/${this.url}`),t=await e.json();t.size&&(this.length=t.size)}catch(e){console.log("Error fetching from helper: "+e.toString())}return this.length=Number(this.length||0),{response:i,abort:n}}async getLength(){if(null===this.length){const{abort:e}=await this.doInitialFetch(!0);e&&e.abort()}return this.length}async getRange(e,t,r=!1,n=null){const i=new Headers(this.headers);i.set("Range",`bytes=${e}-${e+t-1}`);const s={signal:n,headers:i,cache:"no-store"};let o=null;try{o=await this.retryFetch(this.url,s)}catch(e){throw console.log(e),new Tb(this.url)}if(206!=o.status){const e={url:this.url,status:o.status,resp:o};throw 401===o.status?new Sb(e):403==o.status?new Ib(e):new Tb(e)}return r?o.body:new Uint8Array(await o.arrayBuffer())}async retryFetch(e,t){let r=null,n=1e3;for(let i=0;i<20&&(r=await fetch(e,t),429===r.status);i++)await Rb(n),n+=2e3;return r}}class b_{constructor({url:e,headers:t,size:r,extra:n}){this.fileId=e.slice("googledrive://".length),this.apiUrl=`https://www.googleapis.com/drive/v3/files/${this.fileId}?alt=media`,this.canLoadOnDemand=!0,this.headers=t,n&&n.publicUrl?this.publicUrl=n.publicUrl:this.publicUrl=null,this.length=r,this.isValid=!1}async getLength(){return this.length}async doInitialFetch(e){let t=null,r=null;if(this.publicUrl){t=new m_({url:this.publicUrl,length:this.length});try{r=await t.doInitialFetch(e)}catch(e){}if(!t.isValid&&(r&&r.abort&&r.abort.abort(),await this.refreshPublicUrl())){t=new m_({url:this.publicUrl,length:this.length});try{r=await t.doInitialFetch(e)}catch(e){}!t.isValid&&r&&r.abort&&r.abort.abort()}}return t&&t.isValid||(this.publicUrl=null,t=new m_({url:this.apiUrl,headers:this.headers,length:this.length}),r=await t.doInitialFetch(e)),this.isValid=t.isValid,this.length||(this.length=t.length),r}async getRange(e,t,r=!1,n){let i=null;if(this.publicUrl){i=new m_({url:this.publicUrl,length:this.length});try{return await i.getRange(e,t,r,n)}catch(s){if(await this.refreshPublicUrl()){i=new m_({url:this.publicUrl,length:this.length});try{return await i.getRange(e,t,r,n)}catch(e){}}}this.publicUrl=null}i=new m_({url:this.apiUrl,headers:this.headers,length:this.length});let s=50;for(;s<2e3;)try{return await i.getRange(e,t,r,n)}catch(e){if(e instanceof Ib&&e.info&&e.info.resp&&e.info.resp.headers.get("content-type").startsWith("application/json")){const t=await e.info.resp.json();if(t.error&&t.error.errors&&"userRateLimitExceeded"===t.error.errors[0].reason){console.log(`Exponential backoff, waiting for: ${s}`),await Rb(s),s*=2;continue}}throw e}}async refreshPublicUrl(){try{const e=await fetch(`${y_}/g/${this.fileId}`),t=await e.json();if(t.url)return this.publicUrl=t.url,!0}catch(e){}return!1}}class A_{constructor(e){this.arrayBuffer=e,this.size=e.length,this.canLoadOnDemand=!0}get length(){return this.size}get isValid(){return!!this.arrayBuffer}async getLength(){return this.size}async doInitialFetch(e=!1){const t=e?null:S_(this.arrayBuffer);return{response:new Response(t)}}async getRange(e,t,r=!1){const n=this.arrayBuffer.slice(e,e+t);return r?S_(n):n}}class E_{constructor({url:e,blob:t=null,size:r=null}){this.url=e,this.blob=t,this.size=this.blob?this.blob.size:r,this.canLoadOnDemand=!0}get length(){return this.size}get isValid(){return!!this.blob}async getLength(){if(!this.blob||!this.blob.size){let e=await fetch(this.url);this.blob=await e.blob(),this.size=this.blob.size}return this.size}async doInitialFetch(e=!1){if(!this.blob)try{const e=await fetch(this.url);this.blob=await e.blob(),this.size=this.blob.size}catch(e){throw console.warn(e),e}this.arrayBuffer=this.blob.arrayBuffer?await this.blob.arrayBuffer():await this._getArrayBuffer(),this.arrayBuffer=new Uint8Array(this.arrayBuffer);const t=e?null:S_(this.arrayBuffer);return{response:new Response(t)}}async getRange(e,t,r=!1){this.arrayBuffer||await this.doInitialFetch(!0);const n=this.arrayBuffer.slice(e,e+t);return r?S_(n):n}_getArrayBuffer(){return new Promise((e=>{const t=new FileReader;t.onloadend=()=>{e(t.result)},t.readAsArrayBuffer(this.blob)}))}}class v_{constructor({blob:e,size:t,extra:r,url:n}){this.url=n,this.file=e,this.size=this.blob?this.blob.size:t,this.fileHandle=r.fileHandle,this.canLoadOnDemand=!0}get length(){return this.size}get isValid(){return!!this.file}async getLength(){return void 0===this.size&&await this.initFileObject(),this.size}async initFileObject(){const e={mode:"read"};if("granted"!==await this.fileHandle.queryPermission(e)){if("granted"!==await this.fileHandle.requestPermission(e))throw new Sb({fileHandle:this.fileHandle})}this.file=await this.fileHandle.getFile(),this.size=this.file.size}async doInitialFetch(e=!1){this.file||await this.initFileObject();const t=e?null:this.file.stream();return{response:new Response(t)}}async getRange(e,t,r=!1){this.file||await this.initFileObject();const n=this.file.slice(e,e+t);return r?n.stream():new Uint8Array(await n.arrayBuffer())}}class __{constructor({url:e,headers:t,...r}){this.url=e,this.opts=r;let n=e.lastIndexOf("#");n<0&&(n=void 0),this.headers=t,this.length=null,this.canLoadOnDemand=!0}async getLength(){return null===this.length&&await this.doInitialFetch(!0),this.length}async doInitialFetch(e){const t=await g_(this.opts);try{this.length=await t.getSize(this.url),this.isValid=null!==this.length}catch(e){console.warn(e),this.length=null,this.isValid=!1}let r=206;this.isValid||(r=404);const n=new AbortController,i=n.signal;let s;if(e||!this.isValid)s=new Uint8Array([]);else{s=T_(t.get(this.url,{signal:i}))}return{response:new Response(s,{status:r}),abort:n}}async getRange(e,t,r=!1,n=null){const i=(await g_(this.opts)).get(this.url,{start:e,end:e+t-1,signal:n});if(r)return T_(i);{const e=[];let t=0;for await(const r of i)e.push(r),t+=r.byteLength;return Hb(e,t)}}}function T_(e){return new ReadableStream({start:async t=>{try{for await(const r of e)t.enqueue(r)}catch(e){console.log(e)}t.close()}})}function S_(e){return new ReadableStream({start(t){t.enqueue(e),t.close()}})}class I_ extends _A{constructor(e,t=!1){super(e),this.noCache=t,this.useRefCounts=!t,this.streamMap=new Map}async loadRecordFromSource(e){const t=await this.loadSource(e.source),r=new Bv(t);return{remote:await r.load()}}async loadPayload(e,t){let r=await super.loadPayload(e,t);if(r&&e.respHeaders&&("warc/revisit"!==e.mime||e.status>=300&&e.status<400))return r;const n=this.streamMap.get(e.url);if(n)return console.log(`Reuse stream for ${e.url}`),new x_(n);const{remote:i,hasher:s}=await this.loadRecordFromSource(e);if(!i)return console.log(`No WARC Record Loaded for: ${e.url}`),null;if(!(i.url===e.url||e.method&&e.url.startsWith(i.url)))return console.log(`Wrong url: expected ${e.url}, got ${i.url}`),null;if(i.ts!==e.ts){if(1e3*Math.floor(i.ts/1e3)!==e.ts)return console.log(`Wrong timestamp: expected ${e.ts}, got ${i.ts}`),null}if(i.digest!==e.digest&&e.digest&&i.digest){const t=i.digest.split(":"),r=e.digest.split(":");2===t.length&&2===r.length&&r[1]===t[1]?e.digest=t[0]+":"+r[1]:console.log(`Wrong digest: expected ${e.digest}, got ${i.digest}`)}if(i.origURL){if(!r&&e.status>=300&&e.status<400&&i.respHeaders){if(e.respHeaders=i.respHeaders,!this.noCache)try{await this.db.put("resources",e)}catch(e){console.log(e)}return new Uint8Array([])}const n=await this.lookupUrl(i.origURL,i.origTS,{...t,noRevisits:!0});if(!n)return null;const s=t&&t.depth||0;if(!r&&(s<2?r=await this.loadPayload(n,{...t,depth:s+1}):console.warn("Avoiding revisit lookup loop for: "+JSON.stringify(i)),!r))return null;if(e.respHeaders=i.respHeaders?i.respHeaders:n.respHeaders,e.mime=n.mime,e.digest=n.digest,n.extraOpts&&(e.extraOpts=n.extraOpts),!this.noCache){delete e.payload;try{await this.db.put("resources",e)}catch(e){console.log(e)}n.digest===i.digest||r[Symbol.asyncIterator]||await this.commitPayload(r,i.digest)}return r}const o=i.digest;if(!this.noCache&&i.reader&&o&&(i.reader=new N_(this,i.reader,o,e.url,this.streamMap,s,e.recordDigest,e.source)),r=i.payload,!r&&!i.reader)return null;try{r&&!this.noCache&&await this.commitPayload(r,o)}catch(t){console.warn(`Payload Update Error: ${e.url}`),console.warn(t)}if(!(e.respHeaders&&e.digest||(e.respHeaders=i.respHeaders,e.digest=o,i.extraOpts&&(e.extraOpts=i.extraOpts),this.noCache)))try{await this.db.put("resources",e)}catch(t){console.warn(`Resource Update Error: ${e.url}`),console.warn(t)}return r||i.reader}async commitPayload(e,t){if(!e||0===e.length)return;const r=this.db.transaction(["payload","digestRef"],"readwrite");try{if(r.objectStore("payload").put({payload:e,digest:t}),this.useRefCounts){const n=await r.objectStore("digestRef").get(t);n&&(n.size=e.length,r.objectStore("digestRef").put(n))}await r.done}catch(e){console.warn("Payload Commit Error: "+e)}}}class C_ extends I_{constructor(e,t,r=!1){super(e,r),this.loader=t}updateHeaders(e){this.loader.headers=e}async loadSource(e){const{start:t,length:r}=e;return await this.loader.getRange(t,r,!0)}}class R_ extends I_{constructor(e,t,r,n=!1){super(e,n),this.remoteUrlPrefix=t,this.headers=r}updateHeaders(e){this.headers=e}async loadSource(e){const{start:t,length:r}=e,n=(new Headers(this.headers),new URL(e.path,this.remoteUrlPrefix).href),i=await w_(n);return await i.getRange(t,r,!0)}}class x_ extends Gb{constructor(e){super(),this.chunkstore=e,this.offset=0,this.size=this.chunkstore.totalLength}setLimitSkip(e=-1,t=0){this.offset=t,e>0&&(this.size=e)}setRangeAll(e){this.size=e}getReadableStream(){console.log(`Offset: ${this.offset}, Size: ${this.size}`);const e=this.chunkstore.getChunkIter();return new Qb(e,this.size,this.offset).getReadableStream()}}class k_{constructor(e){this.chunks=[],this.size=0,this.done=!1,this.totalLength=e,this.nextChunk=new Promise((e=>this._nextResolve=e))}add(e){this.chunks.push(e),this.size+=e.byteLength,this._nextResolve(!0),this.nextChunk=new Promise((e=>this._nextResolve=e))}concatChunks(){return this._nextResolve(!1),this.done=!0,Hb(this.chunks,this.size)}async*getChunkIter(){for(const e of this.chunks)yield e;let e=this.chunks.length;for(;!this.done&&await this.nextChunk;)for(;e<this.chunks.length;e++)yield this.chunks[e]}}class N_ extends Gb{constructor(e,t,r,n="",i,s,o,a){super(),this.db=e,this.reader=t,this.digest=r,this.url=n,this.commit=!0,this.fullbuff=null,this.hasher=s,this.expectedHash=o,this.source=a,this.isRange=!1,this.totalLength=-1,this.streamMap=i}setRangeAll(e){this.isRange=!0,this.totalLength=e}setLimitSkip(e=-1,t=0){this.isRange=!0,2!==e||0!==t?((-1!=e||t>0)&&(this.commit=!1),this.reader.setLimitSkip(e,t)):this.fixedSize=2}async*[Symbol.asyncIterator](){let e=null;this.commit&&(e=new k_(this.totalLength),this.isRange&&(console.log(`Store stream for ${this.url}, ${this.totalLength}`),this.streamMap.set(this.url,e)));for await(const t of this.reader)e&&e.add(t),yield t;if(0!==this.reader.limit)console.warn(`Expected payload not consumed, ${this.reader.limit} bytes left`);else{if(!this.isRange&&this.hasher&&this.expectedHash&&this.source){const e=this.hasher.getHash(),{path:t,start:r,length:n}=this.source,i=`${t}:${r}-${n}`;this.db.addVerifyData(i,this.expectedHash,e)}this.commit&&(this.fullbuff=e.concatChunks(),await this.db.commitPayload(this.fullbuff,this.digest))}this.commit&&this.isRange&&(this.streamMap.delete(this.url),console.log(`Delete stream for ${this.url}`))}async _consumeIter(e){for await(const t of e);}async readFully(){return this.fullbuff||await this._consumeIter(this),this.fullbuff}getReadableStream(){const e=super.getReadableStream();if(!this.commit)return e;const t=e.tee();return this._consumeIter(qb.fromReadable(t[1].getReader())),this.fixedSize?this.getFixedSizeReader(t[0].getReader(),this.fixedSize):t[0]}getFixedSizeReader(e,t){return new ReadableStream({async start(r){const{value:n,done:i}=await e.read();i||r.enqueue(n.slice(0,t)),r.close(),e.close()}})}}class B_ extends kv{constructor(e){super(),this.har=e,this.pageRefs={}}async load(e){return this.db=e,"string"==typeof this.har&&(this.har=JSON.parse(this.har)),this.parseEntries(this.har),this.parsePages(this.har),await this.finishIndexing(),{}}parsePages(e){for(const t of e.log.pages){if(!t.pageTimings||!t.pageTimings.onLoad)continue;let e;e=t.title&&(t.title.startsWith("http:")||t.title.startsWith("https:"))?t.title:this.pageRefs[t.id];const r=t.title||e,n=t.startedDateTime;this.addPage({url:e,date:n,title:r})}}parseEntries(e){for(const t of e.log.entries){const e=new Date(t.startedDateTime).getTime(),r={};for(const{name:e,value:n}of t.response.headers)r[e]=n;let n=null;const i=new TextEncoder;if(t.response.content&&t.response.content.text)try{n=Uint8Array.from(atob(t.response.content.text),(e=>e.charCodeAt(0)))}catch(e){n=t.response.content.text}else{const e=r["Content-Length"];e&&"0"!==e?(console.log(`Warning: Content-Length ${e} but no content found for ${t.request.url}`),n=i.encode("Sorry, the HAR file did not include the content for this resource.")):n=Uint8Array.from([])}this.addResource({url:t.request.url,ts:e,status:t.response.status,respHeaders:r,payload:n}),t.pageref&&!this.pageRefs[t.pageref]&&(this.pageRefs[t.pageref]=t.request.url)}}}class O_ extends Nv{constructor(e,t,r,n={},i="sha256:"){super(e,t,r),this.cdxindexer=null,this.sourceExtra=n,this.shaPrefix=i}filterRecord(e){switch(e.warcType){case"warcinfo":case"revisit":case"request":return null;case"metadata":return this.shouldIndexMetadataRecord(e)?null:"skip"}const t=e.warcTargetURI,r=new Date(e.warcDate).getTime();if(this.pageMap[r+"/"+t])return e._isPage=!0,null}index(e,t){return e&&(e._offset=t.offset,e._length=t.recordLength),super.index(e,t)}indexReqResponse(e,t,r){if(e._isPage)return super.indexReqResponse(e,t,r);if("warcinfo"===e.warcType)return void this.parseWarcInfo(e);this.cdxindexer||(this.cdxindexer=new fA({noSurt:!0},null));const n=this.cdxindexer.indexRecordPair(e,t,r,"");if(n&&(206!==n.status||this.isFullRangeRequest(e.httpHeaders.headers))){if(t&&t.httpHeaders){let e=t.httpHeaders.headers.get("cookie");e&&(n["req.http:cookie"]=e)}this.addCdx(n)}}getSource(e){return{...this.sourceExtra,path:e.filename,start:Number(e.offset),length:Number(e.length)}}addCdx(e){const{url:t,mime:r}=e,n=Number(e.status)||200,i=hb(e.timestamp).getTime(),s=this.getSource(e);let{digest:o,recordDigest:a}=e;o&&-1===o.indexOf(":")&&(o=this.shaPrefix+o);const c={url:t,ts:i,status:n,digest:o,recordDigest:a,mime:r,loaded:!1,source:s};if(e.method){if("HEAD"===e.method||"OPTIONS"===e.method)return;c.method=e.method}e["req.http:cookie"]&&(c["req.http:cookie"]=e["req.http:cookie"]),e.requestBody&&(c.url=Ub(e.url,e.requestBody,e.method)),this.addResource(c)}}class D_ extends O_{async load(e,t,r){this.db=e;let n=this.reader;n.iterLines||(n=new qb(this.reader));let i=0;for await(const e of n.iterLines()){let n,s,o;i+=e.length;let a=e.trimEnd();if(!a.startsWith("{")){const e=a.indexOf(" {");if(e<0)continue;[s,o]=a.split(" ",2),a=a.slice(e)}try{n=JSON.parse(a)}catch(e){console.log("JSON Parser error on: "+a);continue}n.timestamp=o,n.url||(n.url=s,console.warn(`URL missing, using urlkey ${s}`)),t&&this.isBatchFull()&&t(Math.round(i/r*100),null,i,r),this.addCdx(n)}await this.finishIndexing(),t&&t(100,null,r,r)}}
/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function L_(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))}class P_{constructor(){this.mutex=Promise.resolve()}lock(){let e=()=>{};return this.mutex=this.mutex.then((()=>new Promise(e))),new Promise((t=>{e=t}))}dispatch(e){return L_(this,void 0,void 0,(function*(){const t=yield this.lock();try{return yield Promise.resolve(e())}finally{t()}}))}}var U_;const M_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:__webpack_require__.g,F_=null!==(U_=M_.Buffer)&&void 0!==U_?U_:null,H_=M_.TextEncoder?new M_.TextEncoder:null;function j_(e,t){return(15&e)+(e>>6|e>>3&8)<<4|(15&t)+(t>>6|t>>3&8)}function z_(e,t){const r=t.length>>1;for(let n=0;n<r;n++){const r=n<<1;e[n]=j_(t.charCodeAt(r),t.charCodeAt(r+1))}}const W_="a".charCodeAt(0)-10,G_="0".charCodeAt(0);function q_(e,t,r){let n=0;for(let i=0;i<r;i++){let r=t[i]>>>4;e[n++]=r>9?r+W_:r+G_,r=15&t[i],e[n++]=r>9?r+W_:r+G_}return String.fromCharCode.apply(null,e)}const Q_=null!==F_?e=>{if("string"==typeof e){const t=F_.from(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.length)}if(F_.isBuffer(e))return new Uint8Array(e.buffer,e.byteOffset,e.length);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Invalid data type!")}:e=>{if("string"==typeof e)return H_.encode(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Invalid data type!")},V_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K_=new Uint8Array(256);for(let e=0;e<V_.length;e++)K_[V_.charCodeAt(e)]=e;function Y_(e){let t=Math.floor(.75*e.length);const r=e.length;return"="===e[r-1]&&(t-=1,"="===e[r-2]&&(t-=1)),t}function J_(e){const t=Y_(e),r=e.length,n=new Uint8Array(t);let i=0;for(let t=0;t<r;t+=4){const r=K_[e.charCodeAt(t)],s=K_[e.charCodeAt(t+1)],o=K_[e.charCodeAt(t+2)],a=K_[e.charCodeAt(t+3)];n[i]=r<<2|s>>4,i+=1,n[i]=(15&s)<<4|o>>2,i+=1,n[i]=(3&o)<<6|63&a,i+=1}return n}const X_=16384,Z_=new P_,$_=new Map;function eT(e,t){return L_(this,void 0,void 0,(function*(){let r=null,n=null,i=!1;if("undefined"==typeof WebAssembly)throw new Error("WebAssembly is not supported in this environment!");const s=()=>new DataView(r.exports.memory.buffer).getUint32(r.exports.STATE_SIZE,!0),o=Z_.dispatch((()=>L_(this,void 0,void 0,(function*(){if(!$_.has(e.name)){const t=J_(e.data),r=WebAssembly.compile(t);$_.set(e.name,r)}const t=yield $_.get(e.name);r=yield WebAssembly.instantiate(t,{})})))),a=(e=null)=>{i=!0,r.exports.Hash_Init(e)},c=e=>{if(!i)throw new Error("update() called before init()");(e=>{let t=0;for(;t<e.length;){const i=e.subarray(t,t+X_);t+=i.length,n.set(i),r.exports.Hash_Update(i.length)}})(Q_(e))},l=new Uint8Array(2*t),u=(e,s=null)=>{if(!i)throw new Error("digest() called before init()");return i=!1,r.exports.Hash_Final(s),"binary"===e?n.slice(0,t):q_(l,n,t)},h=e=>"string"==typeof e?e.length<4096:e.byteLength<X_;let d=h;switch(e.name){case"argon2":case"scrypt":d=()=>!0;break;case"blake2b":case"blake2s":d=(e,t)=>t<=512&&h(e);break;case"blake3":d=(e,t)=>0===t&&h(e);break;case"xxhash64":case"xxhash3":case"xxhash128":d=()=>!1}return yield(()=>L_(this,void 0,void 0,(function*(){r||(yield o);const e=r.exports.Hash_GetBuffer(),t=r.exports.memory.buffer;n=new Uint8Array(t,e,X_)})))(),{getMemory:()=>n,writeMemory:(e,t=0)=>{n.set(e,t)},getExports:()=>r.exports,setMemorySize:e=>{r.exports.Hash_SetMemorySize(e);const t=r.exports.Hash_GetBuffer(),i=r.exports.memory.buffer;n=new Uint8Array(i,t,e)},init:a,update:c,digest:u,save:()=>{if(!i)throw new Error("save() can only be called after init() and before digest()");const t=r.exports.Hash_GetState(),n=s(),o=r.exports.memory.buffer,a=new Uint8Array(o,t,n),c=new Uint8Array(4+n);return z_(c,e.hash),c.set(a,4),c},load:t=>{if(!(t instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const n=r.exports.Hash_GetState(),o=s(),a=4+o,c=r.exports.memory.buffer;if(t.length!==a)throw new Error(`Bad state length (expected ${a} bytes, got ${t.length})`);if(!function(e,t){if(e.length!==2*t.length)return!1;for(let r=0;r<t.length;r++){const n=r<<1;if(t[r]!==j_(e.charCodeAt(n),e.charCodeAt(n+1)))return!1}return!0}(e.hash,t.subarray(0,4)))throw new Error("This state was written by an incompatible hash implementation");const l=t.subarray(4);new Uint8Array(c,n,o).set(l),i=!0},calculate:(e,i=null,s=null)=>{if(!d(e,i))return a(i),c(e),u("hex",s);const o=Q_(e);return n.set(o),r.exports.Hash_Calculate(o.length,i,s),q_(l,n,t)},hashLength:t}}))}new P_;new P_;new DataView(new ArrayBuffer(4));new P_;new P_;new P_;new P_;new P_;new P_;new P_;new P_;new P_;var tT={name:"sha256",data:"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",hash:"817d957e"};new P_;new P_;function rT(){return eT(tT,32).then((e=>{e.init(256);const t={init:()=>(e.init(256),t),update:r=>(e.update(r),t),digest:t=>e.digest(t),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:64,digestSize:32};return t}))}new P_;new P_;new P_;new P_;new ArrayBuffer(8);new P_;new ArrayBuffer(8);new P_;new ArrayBuffer(8);new P_;new P_;new P_;const nT=4294967295,iT=65535;class sT{constructor(e,t){this.start=e,this.length=t}}class oT extends qb{constructor(e,t="gzip",r=!1){super(e,t,r)}async initHasher(){this.hasher=await rT()}async _loadNext(){const e=await super._loadNext();return e&&this.hasher.update(e),e}getHash(){return"sha256:"+this.hasher.digest("hex")}}class aT{constructor(e,t=null){this.loader=e,this.entries=t,this.entriesUpdated=!1,this.enableHashing=!0}async load(e=!1){if(!this.entries||e){const e=await this.loader.getLength(),t=Math.min(65558,e),r=e-t,n=await this.loader.getRange(r,t);try{this.entries=this._loadEntries(n,r)}catch(e){if(e instanceof sT){const r=Hb([await this.loader.getRange(e.start,e.length),n],e.length+t);this.entries=this._loadEntries(r,e.start)}}this.entriesUpdated=!0}return this.entries}_loadEntries(e,t){const r=e.byteLength;if(!r)return null;const n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=new TextDecoder("utf8"),s=new TextDecoder("ascii"),o={};let a=0,c=0,l=r;for(let t=r-22,i=Math.max(0,t-iT);t>=i;--t)if(80===e[t]&&75===e[t+1]&&5===e[t+2]&&6===e[t+3]){l=t,c=n.getUint32(t+16,!0),a=n.getUint16(t+8,!0);break}if(c===nT||a===iT){if(117853008!==n.getUint32(l-20,!0))return void console.warn("invalid zip64 EOCD locator");const e=this.getUint64(n,l-12,!0)-t;if(101075792!==n.getUint32(e,!0))return void console.warn("invalid zip64 EOCD record");a=this.getUint64(n,e+32,!0),c=this.getUint64(n,e+48,!0)}if(c>=t)c-=t;else if(c<t&&c>0)throw new sT(c,t-c);if(c>=r||c<0)for(c=-1,a=iT;++c<r&&80!==e[c]&&75!==e[c+1]&&1!==e[c+2]&&2!==e[c+3];);for(l-=46;--a>=0&&c<l&&1347092738==n.getUint32(c);){const t=n.getUint16(c+8,!0);let r=n.getUint32(c+20,!0),a=n.getUint32(c+24,!0);const l=n.getUint16(c+28,!0),u=n.getUint16(c+30,!0),h=n.getUint16(c+32,!0),d=8===n.getUint16(c+10,!0);let f=n.getUint32(c+42,!0);const p=(2048&t?i:s).decode(e.subarray(c+46,c+46+l));if(r===nT||a===nT||f===nT){let e=c+46+l;const t=e+u-3;for(;e<t;){const t=n.getUint16(e,!0);let i=n.getUint16(e+2,!0);e+=4,1===t&&(a===nT&&i>=8&&(a=this.getUint64(n,e,!0),e+=8,i-=8),r===nT&&i>=8&&(r=this.getUint64(n,e,!0),e+=8,i-=8),f===nT&&i>=8&&(f=this.getUint64(n,e,!0),e+=8,i-=8)),e+=i}}p.endsWith("/")||(o[p]={filename:p,deflate:d,uncompressedSize:a,compressedSize:r,localEntryOffset:f},u||(o[p].offset=30+l+f)),c+=46+l+u+h}return o}getCompressedSize(e){if(null===this.entries)return 0;const t=this.entries[e];return t?isNaN(t.compressedSize)?0:t.compressedSize:0}async loadFile(e,{offset:t=0,length:r=-1,signal:n=null,unzip:i=!1,computeHash:s=null}={}){null===this.entries&&await this.load();const o=this.entries[e];if(!o)return{reader:null};if(void 0===o.offset){const e=await this.loader.getRange(o.localEntryOffset,30),t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=t.getUint16(26,!0),n=t.getUint16(28,!0);o.offset=30+r+n+o.localEntryOffset,this.entriesUpdated=!0}r=r<0?o.compressedSize:Math.min(r,o.compressedSize-t),t+=o.offset;let a=(await this.loader.getRange(t,r,!0,n)).getReader(),c=null;const l=e=>s&&this.enableHashing?(c=new oT(e),c):e;return i?o.deflate?(a=new qb(new qb(a,"deflate")),a=l(a)):(a=l(a),a=new qb(a)):(a=new qb(a,o.deflate?"deflate":null),a=l(a)),c&&await c.initHasher(),{reader:a,hasher:c}}getUint64(e,t,r){const n=e.getUint32(t,r),i=e.getUint32(t+4,r),s=r?n+2**32*i:2**32*n+i;return Number.isSafeInteger(s)||console.warn(s,"exceeds MAX_SAFE_INTEGER. Precision may be lost"),s}}class cT{constructor(e,t){this.zipreader=e,this.filename=t,this.size=null}async doInitialFetch(e=!1){await this.zipreader.load(),this.size=this.zipreader.getCompressedSize(this.filename);let t=null;if(!e){const{reader:e}=await this.zipreader.loadFile(this.filename,{unzip:!0});t=T_(e)}return{response:new Response(t)}}async getLength(){return null===this.size&&await this.doInitialFetch(!0),this.size}async getRange(e,t,r=!1,n=null){const{reader:i}=await this.zipreader.loadFile(this.filename,{offset:e,length:t,signal:n,unzip:!0});return r?T_(i):await i.readFully()}}const lT="wacz";class uT{getLoadPath(){}getName(){}async createLoader(){}}class hT extends uT{constructor({waczname:e,hash:t,path:r,parent:n=null,entries:i=null,fileType:s="wacz",indexType:o=0,nonSurt:a=!1,loader:c=null}={}){super(),this.waczname=e,this.hash=t,this.path=r,this.loader=c,this.parent=n,this.zipreader=null,this.entries=i,this.indexType=o,this.fileType=s,this.nonSurt=a}markAsMultiWACZ(){this.fileType="multi-wacz"}async init(e){e&&(this.path=e);const t=this.loader?this.loader:await this.parent.createLoader({url:this.path});return await this.initFromLoader(t)}async initFromLoader(e){return this.zipreader=new aT(e,this.entries),this.entries||(this.entries=await this.zipreader.load()),this.entries}async loadFile(e,t){return this.zipreader||await this.init(),await this.zipreader.loadFile(e,t)}containsFile(e){return!!this.entries[e]}getSizeOf(e){return this.zipreader?this.zipreader.getCompressedSize(e):0}serialize(){return{waczname:this.waczname,hash:this.hash,path:this.path,entries:this.entries,indexType:this.indexType,nonSurt:this.nonSurt}}async save(e,t=!1){const r=this.zipreader;(t||r&&r.entriesUpdated)&&(await e.put("waczfiles",this.serialize()),r&&(r.entriesUpdated=!1))}iterContainedFiles(){return this.entries?Object.keys(this.entries):[]}getLoadPath(e){return this.waczname+"#!/"+e}getName(e){return this.waczname+"#!/"+e}async createLoader(e){const{url:t}=e,r=t.lastIndexOf("#!/");if(this.zipreader||await this.init(),r>=0)return new cT(this.zipreader,t.slice(r+3))}}
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
function dT(e){return null==e}var fT={isNothing:dT,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:dT(e)?[]:[e]},repeat:function(e,t){var r,n="";for(r=0;r<t;r+=1)n+=e;return n},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var r,n,i,s;if(t)for(r=0,n=(s=Object.keys(t)).length;r<n;r+=1)e[i=s[r]]=t[i];return e}};function pT(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+="\n\n"+e.mark.snippet),n+" "+r):n}function gT(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=pT(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}gT.prototype=Object.create(Error.prototype),gT.prototype.constructor=gT,gT.prototype.toString=function(e){return this.name+": "+pT(this,e)};var yT=gT;function wT(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(t=n-a+(s=" ... ").length),r-n>a&&(r=n+a-(o=" ...").length),{str:s+e.slice(t,r).replace(/\t/g,"")+o,pos:n-t+s.length}}function mT(e,t){return fT.repeat(" ",t-e.length)+e}var bT=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var r,n=/\r?\n|\r|\0/g,i=[0],s=[],o=-1;r=n.exec(e.buffer);)s.push(r.index),i.push(r.index+r[0].length),e.position<=r.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var a,c,l="",u=Math.min(e.line+t.linesAfter,s.length).toString().length,h=t.maxLength-(t.indent+u+3);for(a=1;a<=t.linesBefore&&!(o-a<0);a++)c=wT(e.buffer,i[o-a],s[o-a],e.position-(i[o]-i[o-a]),h),l=fT.repeat(" ",t.indent)+mT((e.line-a+1).toString(),u)+" | "+c.str+"\n"+l;for(c=wT(e.buffer,i[o],s[o],e.position,h),l+=fT.repeat(" ",t.indent)+mT((e.line+1).toString(),u)+" | "+c.str+"\n",l+=fT.repeat("-",t.indent+u+3+c.pos)+"^\n",a=1;a<=t.linesAfter&&!(o+a>=s.length);a++)c=wT(e.buffer,i[o+a],s[o+a],e.position-(i[o]-i[o+a]),h),l+=fT.repeat(" ",t.indent)+mT((e.line+a+1).toString(),u)+" | "+c.str+"\n";return l.replace(/\n$/,"")},AT=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],ET=["scalar","sequence","mapping"];var vT=function(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===AT.indexOf(t))throw new yT('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(r){e[r].forEach((function(e){t[String(e)]=r}))})),t}(t.styleAliases||null),-1===ET.indexOf(this.kind))throw new yT('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function _T(e,t){var r=[];return e[t].forEach((function(e){var t=r.length;r.forEach((function(r,n){r.tag===e.tag&&r.kind===e.kind&&r.multi===e.multi&&(t=n)})),r[t]=e})),r}function TT(e){return this.extend(e)}TT.prototype.extend=function(e){var t=[],r=[];if(e instanceof vT)r.push(e);else if(Array.isArray(e))r=r.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new yT("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof vT))throw new yT("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new yT("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new yT("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),r.forEach((function(e){if(!(e instanceof vT))throw new yT("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var n=Object.create(TT.prototype);return n.implicit=(this.implicit||[]).concat(t),n.explicit=(this.explicit||[]).concat(r),n.compiledImplicit=_T(n,"implicit"),n.compiledExplicit=_T(n,"explicit"),n.compiledTypeMap=function(){var e,t,r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function n(e){e.multi?(r.multi[e.kind].push(e),r.multi.fallback.push(e)):r[e.kind][e.tag]=r.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return r}(n.compiledImplicit,n.compiledExplicit),n};var ST=TT,IT=new vT("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),CT=new vT("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),RT=new vT("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}}),xT=new ST({explicit:[IT,CT,RT]});var kT=new vT("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});var NT=new vT("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function BT(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function OT(e){return 48<=e&&e<=55}function DT(e){return 48<=e&&e<=57}var LT=new vT("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r=e.length,n=0,i=!1;if(!r)return!1;if("-"!==(t=e[n])&&"+"!==t||(t=e[++n]),"0"===t){if(n+1===r)return!0;if("b"===(t=e[++n])){for(n++;n<r;n++)if("_"!==(t=e[n])){if("0"!==t&&"1"!==t)return!1;i=!0}return i&&"_"!==t}if("x"===t){for(n++;n<r;n++)if("_"!==(t=e[n])){if(!BT(e.charCodeAt(n)))return!1;i=!0}return i&&"_"!==t}if("o"===t){for(n++;n<r;n++)if("_"!==(t=e[n])){if(!OT(e.charCodeAt(n)))return!1;i=!0}return i&&"_"!==t}}if("_"===t)return!1;for(;n<r;n++)if("_"!==(t=e[n])){if(!DT(e.charCodeAt(n)))return!1;i=!0}return!(!i||"_"===t)},construct:function(e){var t,r=e,n=1;if(-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(t=r[0])&&"+"!==t||("-"===t&&(n=-1),t=(r=r.slice(1))[0]),"0"===r)return 0;if("0"===t){if("b"===r[1])return n*parseInt(r.slice(2),2);if("x"===r[1])return n*parseInt(r.slice(2),16);if("o"===r[1])return n*parseInt(r.slice(2),8)}return n*parseInt(r,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!fT.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),PT=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var UT=/^[-+]?[0-9]+e/;var MT=new vT("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!PT.test(e)||"_"===e[e.length-1])},construct:function(e){var t,r;return r="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:r*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||fT.isNegativeZero(e))},represent:function(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(fT.isNegativeZero(e))return"-0.0";return r=e.toString(10),UT.test(r)?r.replace("e",".e"):r},defaultStyle:"lowercase"}),FT=xT.extend({implicit:[kT,NT,LT,MT]}),HT=FT,jT=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),zT=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var WT=new vT("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==jT.exec(e)||null!==zT.exec(e))},construct:function(e){var t,r,n,i,s,o,a,c,l=0,u=null;if(null===(t=jT.exec(e))&&(t=zT.exec(e)),null===t)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(u=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(u=-u)),c=new Date(Date.UTC(r,n,i,s,o,a,l)),u&&c.setTime(c.getTime()-u),c},instanceOf:Date,represent:function(e){return e.toISOString()}});var GT=new vT("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),qT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var QT=new vT("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,n=0,i=e.length,s=qT;for(r=0;r<i;r++)if(!((t=s.indexOf(e.charAt(r)))>64)){if(t<0)return!1;n+=6}return n%8==0},construct:function(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=qT,o=0,a=[];for(t=0;t<i;t++)t%4==0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(255&o)),o=o<<6|s.indexOf(n.charAt(t));return 0===(r=i%4*6)?(a.push(o>>16&255),a.push(o>>8&255),a.push(255&o)):18===r?(a.push(o>>10&255),a.push(o>>2&255)):12===r&&a.push(o>>4&255),new Uint8Array(a)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,r,n="",i=0,s=e.length,o=qT;for(t=0;t<s;t++)t%3==0&&t&&(n+=o[i>>18&63],n+=o[i>>12&63],n+=o[i>>6&63],n+=o[63&i]),i=(i<<8)+e[t];return 0===(r=s%3)?(n+=o[i>>18&63],n+=o[i>>12&63],n+=o[i>>6&63],n+=o[63&i]):2===r?(n+=o[i>>10&63],n+=o[i>>4&63],n+=o[i<<2&63],n+=o[64]):1===r&&(n+=o[i>>2&63],n+=o[i<<4&63],n+=o[64],n+=o[64]),n}}),VT=Object.prototype.hasOwnProperty,KT=Object.prototype.toString;var YT=new vT("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,i,s,o=[],a=e;for(t=0,r=a.length;t<r;t+=1){if(n=a[t],s=!1,"[object Object]"!==KT.call(n))return!1;for(i in n)if(VT.call(n,i)){if(s)return!1;s=!0}if(!s)return!1;if(-1!==o.indexOf(i))return!1;o.push(i)}return!0},construct:function(e){return null!==e?e:[]}}),JT=Object.prototype.toString;var XT=new vT("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],"[object Object]"!==JT.call(n))return!1;if(1!==(i=Object.keys(n)).length)return!1;s[t]=[i[0],n[i[0]]]}return!0},construct:function(e){if(null===e)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}}),ZT=Object.prototype.hasOwnProperty;var $T=new vT("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,r=e;for(t in r)if(ZT.call(r,t)&&null!==r[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),eS=HT.extend({implicit:[WT,GT],explicit:[QT,YT,XT,$T]}),tS=Object.prototype.hasOwnProperty,rS=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,nS=/[\x85\u2028\u2029]/,iS=/[,\[\]\{\}]/,sS=/^(?:!|!!|![a-z\-]+!)$/i,oS=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function aS(e){return Object.prototype.toString.call(e)}function cS(e){return 10===e||13===e}function lS(e){return 9===e||32===e}function uS(e){return 9===e||32===e||10===e||13===e}function hS(e){return 44===e||91===e||93===e||123===e||125===e}function dS(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function fS(e){return 120===e?2:117===e?4:85===e?8:0}function pS(e){return 48<=e&&e<=57?e-48:-1}function gS(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?"":76===e?"\u2028":80===e?"\u2029":""}function yS(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var wS=new Array(256),mS=new Array(256),bS=0;bS<256;bS++)wS[bS]=gS(bS)?1:0,mS[bS]=gS(bS);function AS(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||eS,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ES(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=bT(r),new yT(t,r)}function vS(e,t){throw ES(e,t)}function _S(e,t){e.onWarning&&e.onWarning.call(null,ES(e,t))}var TS={YAML:function(e,t,r){var n,i,s;null!==e.version&&vS(e,"duplication of %YAML directive"),1!==r.length&&vS(e,"YAML directive accepts exactly one argument"),null===(n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]))&&vS(e,"ill-formed argument of the YAML directive"),i=parseInt(n[1],10),s=parseInt(n[2],10),1!==i&&vS(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=s<2,1!==s&&2!==s&&_S(e,"unsupported YAML version of the document")},TAG:function(e,t,r){var n,i;2!==r.length&&vS(e,"TAG directive accepts exactly two arguments"),n=r[0],i=r[1],sS.test(n)||vS(e,"ill-formed tag handle (first argument) of the TAG directive"),tS.call(e.tagMap,n)&&vS(e,'there is a previously declared suffix for "'+n+'" tag handle'),oS.test(i)||vS(e,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch(t){vS(e,"tag prefix is malformed: "+i)}e.tagMap[n]=i}};function SS(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)9===(o=a.charCodeAt(i))||32<=o&&o<=1114111||vS(e,"expected valid JSON character");else rS.test(a)&&vS(e,"the stream contains non-printable characters");e.result+=a}}function IS(e,t,r,n){var i,s,o,a;for(fT.isObject(r)||vS(e,"cannot merge mappings; the provided source object is unacceptable"),o=0,a=(i=Object.keys(r)).length;o<a;o+=1)s=i[o],tS.call(t,s)||(t[s]=r[s],n[s]=!0)}function CS(e,t,r,n,i,s,o,a,c){var l,u;if(Array.isArray(i))for(l=0,u=(i=Array.prototype.slice.call(i)).length;l<u;l+=1)Array.isArray(i[l])&&vS(e,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===aS(i[l])&&(i[l]="[object Object]");if("object"==typeof i&&"[object Object]"===aS(i)&&(i="[object Object]"),i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(s))for(l=0,u=s.length;l<u;l+=1)IS(e,t,s[l],r);else IS(e,t,s,r);else e.json||tS.call(r,i)||!tS.call(t,i)||(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=c||e.position,vS(e,"duplicated mapping key")),"__proto__"===i?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function RS(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):vS(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function xS(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);0!==i;){for(;lS(i);)9===i&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&35===i)do{i=e.input.charCodeAt(++e.position)}while(10!==i&&13!==i&&0!==i);if(!cS(i))break;for(RS(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==r&&0!==n&&e.lineIndent<r&&_S(e,"deficient indentation"),n}function kS(e){var t,r=e.position;return!(45!==(t=e.input.charCodeAt(r))&&46!==t||t!==e.input.charCodeAt(r+1)||t!==e.input.charCodeAt(r+2)||(r+=3,0!==(t=e.input.charCodeAt(r))&&!uS(t)))}function NS(e,t){1===t?e.result+=" ":t>1&&(e.result+=fT.repeat("\n",t-1))}function BS(e,t){var r,n,i=e.tag,s=e.anchor,o=[],a=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),n=e.input.charCodeAt(e.position);0!==n&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,vS(e,"tab characters must not be used in indentation")),45===n)&&uS(e.input.charCodeAt(e.position+1));)if(a=!0,e.position++,xS(e,!0,-1)&&e.lineIndent<=t)o.push(null),n=e.input.charCodeAt(e.position);else if(r=e.line,LS(e,t,3,!1,!0),o.push(e.result),xS(e,!0,-1),n=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&0!==n)vS(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!a&&(e.tag=i,e.anchor=s,e.kind="sequence",e.result=o,!0)}function OS(e){var t,r,n,i,s=!1,o=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&vS(e,"duplication of a tag property"),60===(i=e.input.charCodeAt(++e.position))?(s=!0,i=e.input.charCodeAt(++e.position)):33===i?(o=!0,r="!!",i=e.input.charCodeAt(++e.position)):r="!",t=e.position,s){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(n=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):vS(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!uS(i);)33===i&&(o?vS(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),sS.test(r)||vS(e,"named tag handle cannot contain such characters"),o=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);n=e.input.slice(t,e.position),iS.test(n)&&vS(e,"tag suffix cannot contain flow indicator characters")}n&&!oS.test(n)&&vS(e,"tag name cannot contain such characters: "+n);try{n=decodeURIComponent(n)}catch(t){vS(e,"tag name is malformed: "+n)}return s?e.tag=n:tS.call(e.tagMap,r)?e.tag=e.tagMap[r]+n:"!"===r?e.tag="!"+n:"!!"===r?e.tag="tag:yaml.org,2002:"+n:vS(e,'undeclared tag handle "'+r+'"'),!0}function DS(e){var t,r;if(38!==(r=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&vS(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!uS(r)&&!hS(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&vS(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function LS(e,t,r,n,i){var s,o,a,c,l,u,h,d,f,p=1,g=!1,y=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=4===r||3===r,n&&xS(e,!0,-1)&&(g=!0,e.lineIndent>t?p=1:e.lineIndent===t?p=0:e.lineIndent<t&&(p=-1)),1===p)for(;OS(e)||DS(e);)xS(e,!0,-1)?(g=!0,a=s,e.lineIndent>t?p=1:e.lineIndent===t?p=0:e.lineIndent<t&&(p=-1)):a=!1;if(a&&(a=g||i),1!==p&&4!==r||(d=1===r||2===r?t:t+1,f=e.position-e.lineStart,1===p?a&&(BS(e,f)||function(e,t,r){var n,i,s,o,a,c,l,u=e.tag,h=e.anchor,d={},f=Object.create(null),p=null,g=null,y=null,w=!1,m=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=d),l=e.input.charCodeAt(e.position);0!==l;){if(w||-1===e.firstTabInLine||(e.position=e.firstTabInLine,vS(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,63!==l&&58!==l||!uS(n)){if(o=e.line,a=e.lineStart,c=e.position,!LS(e,r,2,!1,!0))break;if(e.line===s){for(l=e.input.charCodeAt(e.position);lS(l);)l=e.input.charCodeAt(++e.position);if(58===l)uS(l=e.input.charCodeAt(++e.position))||vS(e,"a whitespace character is expected after the key-value separator within a block mapping"),w&&(CS(e,d,f,p,g,null,o,a,c),p=g=y=null),m=!0,w=!1,i=!1,p=e.tag,g=e.result;else{if(!m)return e.tag=u,e.anchor=h,!0;vS(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!m)return e.tag=u,e.anchor=h,!0;vS(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===l?(w&&(CS(e,d,f,p,g,null,o,a,c),p=g=y=null),m=!0,w=!0,i=!0):w?(w=!1,i=!0):vS(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,l=n;if((e.line===s||e.lineIndent>t)&&(w&&(o=e.line,a=e.lineStart,c=e.position),LS(e,t,4,!0,i)&&(w?g=e.result:y=e.result),w||(CS(e,d,f,p,g,y,o,a,c),p=g=y=null),xS(e,!0,-1),l=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&0!==l)vS(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return w&&CS(e,d,f,p,g,null,o,a,c),m&&(e.tag=u,e.anchor=h,e.kind="mapping",e.result=d),m}(e,f,d))||function(e,t){var r,n,i,s,o,a,c,l,u,h,d,f,p=!0,g=e.tag,y=e.anchor,w=Object.create(null);if(91===(f=e.input.charCodeAt(e.position)))o=93,l=!1,s=[];else{if(123!==f)return!1;o=125,l=!0,s={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=s),f=e.input.charCodeAt(++e.position);0!==f;){if(xS(e,!0,t),(f=e.input.charCodeAt(e.position))===o)return e.position++,e.tag=g,e.anchor=y,e.kind=l?"mapping":"sequence",e.result=s,!0;p?44===f&&vS(e,"expected the node content, but found ','"):vS(e,"missed comma between flow collection entries"),d=null,a=c=!1,63===f&&uS(e.input.charCodeAt(e.position+1))&&(a=c=!0,e.position++,xS(e,!0,t)),r=e.line,n=e.lineStart,i=e.position,LS(e,t,1,!1,!0),h=e.tag,u=e.result,xS(e,!0,t),f=e.input.charCodeAt(e.position),!c&&e.line!==r||58!==f||(a=!0,f=e.input.charCodeAt(++e.position),xS(e,!0,t),LS(e,t,1,!1,!0),d=e.result),l?CS(e,s,w,h,u,d,r,n,i):a?s.push(CS(e,null,w,h,u,d,r,n,i)):s.push(u),xS(e,!0,t),44===(f=e.input.charCodeAt(e.position))?(p=!0,f=e.input.charCodeAt(++e.position)):p=!1}vS(e,"unexpected end of the stream within a flow collection")}(e,d)?y=!0:(o&&function(e,t){var r,n,i,s,o=1,a=!1,c=!1,l=t,u=0,h=!1;if(124===(s=e.input.charCodeAt(e.position)))n=!1;else{if(62!==s)return!1;n=!0}for(e.kind="scalar",e.result="";0!==s;)if(43===(s=e.input.charCodeAt(++e.position))||45===s)1===o?o=43===s?3:2:vS(e,"repeat of a chomping mode identifier");else{if(!((i=pS(s))>=0))break;0===i?vS(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?vS(e,"repeat of an indentation width identifier"):(l=t+i-1,c=!0)}if(lS(s)){do{s=e.input.charCodeAt(++e.position)}while(lS(s));if(35===s)do{s=e.input.charCodeAt(++e.position)}while(!cS(s)&&0!==s)}for(;0!==s;){for(RS(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!c||e.lineIndent<l)&&32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!c&&e.lineIndent>l&&(l=e.lineIndent),cS(s))u++;else{if(e.lineIndent<l){3===o?e.result+=fT.repeat("\n",a?1+u:u):1===o&&a&&(e.result+="\n");break}for(n?lS(s)?(h=!0,e.result+=fT.repeat("\n",a?1+u:u)):h?(h=!1,e.result+=fT.repeat("\n",u+1)):0===u?a&&(e.result+=" "):e.result+=fT.repeat("\n",u):e.result+=fT.repeat("\n",a?1+u:u),a=!0,c=!0,u=0,r=e.position;!cS(s)&&0!==s;)s=e.input.charCodeAt(++e.position);SS(e,r,e.position,!1)}}return!0}(e,d)||function(e,t){var r,n,i;if(39!==(r=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;0!==(r=e.input.charCodeAt(e.position));)if(39===r){if(SS(e,n,e.position,!0),39!==(r=e.input.charCodeAt(++e.position)))return!0;n=e.position,e.position++,i=e.position}else cS(r)?(SS(e,n,i,!0),NS(e,xS(e,!1,t)),n=i=e.position):e.position===e.lineStart&&kS(e)?vS(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);vS(e,"unexpected end of the stream within a single quoted scalar")}(e,d)||function(e,t){var r,n,i,s,o,a;if(34!==(a=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;0!==(a=e.input.charCodeAt(e.position));){if(34===a)return SS(e,r,e.position,!0),e.position++,!0;if(92===a){if(SS(e,r,e.position,!0),cS(a=e.input.charCodeAt(++e.position)))xS(e,!1,t);else if(a<256&&wS[a])e.result+=mS[a],e.position++;else if((o=fS(a))>0){for(i=o,s=0;i>0;i--)(o=dS(a=e.input.charCodeAt(++e.position)))>=0?s=(s<<4)+o:vS(e,"expected hexadecimal character");e.result+=yS(s),e.position++}else vS(e,"unknown escape sequence");r=n=e.position}else cS(a)?(SS(e,r,n,!0),NS(e,xS(e,!1,t)),r=n=e.position):e.position===e.lineStart&&kS(e)?vS(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}vS(e,"unexpected end of the stream within a double quoted scalar")}(e,d)?y=!0:!function(e){var t,r,n;if(42!==(n=e.input.charCodeAt(e.position)))return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!uS(n)&&!hS(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&vS(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),tS.call(e.anchorMap,r)||vS(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],xS(e,!0,-1),!0}(e)?function(e,t,r){var n,i,s,o,a,c,l,u,h=e.kind,d=e.result;if(uS(u=e.input.charCodeAt(e.position))||hS(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(uS(n=e.input.charCodeAt(e.position+1))||r&&hS(n)))return!1;for(e.kind="scalar",e.result="",i=s=e.position,o=!1;0!==u;){if(58===u){if(uS(n=e.input.charCodeAt(e.position+1))||r&&hS(n))break}else if(35===u){if(uS(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&kS(e)||r&&hS(u))break;if(cS(u)){if(a=e.line,c=e.lineStart,l=e.lineIndent,xS(e,!1,-1),e.lineIndent>=t){o=!0,u=e.input.charCodeAt(e.position);continue}e.position=s,e.line=a,e.lineStart=c,e.lineIndent=l;break}}o&&(SS(e,i,s,!1),NS(e,e.line-a),i=s=e.position,o=!1),lS(u)||(s=e.position+1),u=e.input.charCodeAt(++e.position)}return SS(e,i,s,!1),!!e.result||(e.kind=h,e.result=d,!1)}(e,d,1===r)&&(y=!0,null===e.tag&&(e.tag="?")):(y=!0,null===e.tag&&null===e.anchor||vS(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===p&&(y=a&&BS(e,f))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&vS(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),c=0,l=e.implicitTypes.length;c<l;c+=1)if((h=e.implicitTypes[c]).resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(tS.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,c=0,l=(u=e.typeMap.multi[e.kind||"fallback"]).length;c<l;c+=1)if(e.tag.slice(0,u[c].tag.length)===u[c].tag){h=u[c];break}h||vS(e,"unknown tag !<"+e.tag+">"),null!==e.result&&h.kind!==e.kind&&vS(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):vS(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||y}function PS(e){var t,r,n,i,s=e.position,o=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(i=e.input.charCodeAt(e.position))&&(xS(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==i));){for(o=!0,i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!uS(i);)i=e.input.charCodeAt(++e.position);for(n=[],(r=e.input.slice(t,e.position)).length<1&&vS(e,"directive name must not be less than one character in length");0!==i;){for(;lS(i);)i=e.input.charCodeAt(++e.position);if(35===i){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&!cS(i));break}if(cS(i))break;for(t=e.position;0!==i&&!uS(i);)i=e.input.charCodeAt(++e.position);n.push(e.input.slice(t,e.position))}0!==i&&RS(e),tS.call(TS,r)?TS[r](e,r,n):_S(e,'unknown document directive "'+r+'"')}xS(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,xS(e,!0,-1)):o&&vS(e,"directives end mark is expected"),LS(e,e.lineIndent-1,4,!1,!0),xS(e,!0,-1),e.checkLineBreaks&&nS.test(e.input.slice(s,e.position))&&_S(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&kS(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,xS(e,!0,-1)):e.position<e.length-1&&vS(e,"end of the stream or a document separator is expected")}function US(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var r=new AS(e,t),n=e.indexOf("\0");for(-1!==n&&(r.position=n,vS(r,"null byte is not allowed in input")),r.input+="\0";32===r.input.charCodeAt(r.position);)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)PS(r);return r.documents}var MS={loadAll:function(e,t,r){null!==t&&"object"==typeof t&&void 0===r&&(r=t,t=null);var n=US(e,r);if("function"!=typeof t)return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])},load:function(e,t){var r=US(e,t);if(0!==r.length){if(1===r.length)return r[0];throw new yT("expected a single document in the stream, but found more")}}},FS=Object.prototype.toString,HS=Object.prototype.hasOwnProperty,jS=65279,zS={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},WS=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],GS=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function qS(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else{if(!(e<=4294967295))throw new yT("code point within a string may not be greater than 0xFFFFFFFF");r="U",n=8}return"\\"+r+fT.repeat("0",n-t.length)+t}function QS(e){this.schema=e.schema||eS,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=fT.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var r,n,i,s,o,a,c;if(null===t)return{};for(r={},i=0,s=(n=Object.keys(t)).length;i<s;i+=1)o=n[i],a=String(t[o]),"!!"===o.slice(0,2)&&(o="tag:yaml.org,2002:"+o.slice(2)),(c=e.compiledTypeMap.fallback[o])&&HS.call(c.styleAliases,a)&&(a=c.styleAliases[a]),r[o]=a;return r}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?2:1,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function VS(e,t){for(var r,n=fT.repeat(" ",t),i=0,s=-1,o="",a=e.length;i<a;)-1===(s=e.indexOf("\n",i))?(r=e.slice(i),i=a):(r=e.slice(i,s+1),i=s+1),r.length&&"\n"!==r&&(o+=n),o+=r;return o}function KS(e,t){return"\n"+fT.repeat(" ",e.indent*t)}function YS(e){return 32===e||9===e}function JS(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==jS||65536<=e&&e<=1114111}function XS(e){return JS(e)&&e!==jS&&13!==e&&10!==e}function ZS(e,t,r){var n=XS(e),i=n&&!YS(e);return(r?n:n&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e)&&35!==e&&!(58===t&&!i)||XS(t)&&!YS(t)&&35===e||58===t&&i}function $S(e,t){var r,n=e.charCodeAt(t);return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1))>=56320&&r<=57343?1024*(n-55296)+r-56320+65536:n}function eI(e){return/^\n* /.test(e)}function tI(e,t,r,n,i,s,o,a){var c,l=0,u=null,h=!1,d=!1,f=-1!==n,p=-1,g=function(e){return JS(e)&&e!==jS&&!YS(e)&&45!==e&&63!==e&&58!==e&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e&&35!==e&&38!==e&&42!==e&&33!==e&&124!==e&&61!==e&&62!==e&&39!==e&&34!==e&&37!==e&&64!==e&&96!==e}($S(e,0))&&function(e){return!YS(e)&&58!==e}($S(e,e.length-1));if(t||o)for(c=0;c<e.length;l>=65536?c+=2:c++){if(!JS(l=$S(e,c)))return 5;g=g&&ZS(l,u,a),u=l}else{for(c=0;c<e.length;l>=65536?c+=2:c++){if(10===(l=$S(e,c)))h=!0,f&&(d=d||c-p-1>n&&" "!==e[p+1],p=c);else if(!JS(l))return 5;g=g&&ZS(l,u,a),u=l}d=d||f&&c-p-1>n&&" "!==e[p+1]}return h||d?r>9&&eI(e)?5:o?2===s?5:2:d?4:3:!g||o||i(e)?2===s?5:2:1}function rI(e,t,r,n,i){e.dump=function(){if(0===t.length)return 2===e.quotingType?'""':"''";if(!e.noCompatMode&&(-1!==WS.indexOf(t)||GS.test(t)))return 2===e.quotingType?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;switch(tI(t,a,e.indent,o,(function(t){return function(e,t){var r,n;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(e.implicitTypes[r].resolve(t))return!0;return!1}(e,t)}),e.quotingType,e.forceQuotes&&!n,i)){case 1:return t;case 2:return"'"+t.replace(/'/g,"''")+"'";case 3:return"|"+nI(t,e.indent)+iI(VS(t,s));case 4:return">"+nI(t,e.indent)+iI(VS(function(e,t){var r,n,i=/(\n+)([^\n]*)/g,s=(a=e.indexOf("\n"),a=-1!==a?a:e.length,i.lastIndex=a,sI(e.slice(0,a),t)),o="\n"===e[0]||" "===e[0];var a;for(;n=i.exec(e);){var c=n[1],l=n[2];r=" "===l[0],s+=c+(o||r||""===l?"":"\n")+sI(l,t),o=r}return s}(t,o),s));case 5:return'"'+function(e){for(var t,r="",n=0,i=0;i<e.length;n>=65536?i+=2:i++)n=$S(e,i),!(t=zS[n])&&JS(n)?(r+=e[i],n>=65536&&(r+=e[i+1])):r+=t||qS(n);return r}(t)+'"';default:throw new yT("impossible error: invalid scalar style")}}()}function nI(e,t){var r=eI(e)?String(t):"",n="\n"===e[e.length-1];return r+(n&&("\n"===e[e.length-2]||"\n"===e)?"+":n?"":"-")+"\n"}function iI(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function sI(e,t){if(""===e||" "===e[0])return e;for(var r,n,i=/ [^ ]/g,s=0,o=0,a=0,c="";r=i.exec(e);)(a=r.index)-s>t&&(n=o>s?o:a,c+="\n"+e.slice(s,n),s=n+1),o=a;return c+="\n",e.length-s>t&&o>s?c+=e.slice(s,o)+"\n"+e.slice(o+1):c+=e.slice(s),c.slice(1)}function oI(e,t,r,n){var i,s,o,a="",c=e.tag;for(i=0,s=r.length;i<s;i+=1)o=r[i],e.replacer&&(o=e.replacer.call(r,String(i),o)),(cI(e,t+1,o,!0,!0,!1,!0)||void 0===o&&cI(e,t+1,null,!0,!0,!1,!0))&&(n&&""===a||(a+=KS(e,t)),e.dump&&10===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=c,e.dump=a||"[]"}function aI(e,t,r){var n,i,s,o,a,c;for(s=0,o=(i=r?e.explicitTypes:e.implicitTypes).length;s<o;s+=1)if(((a=i[s]).instanceOf||a.predicate)&&(!a.instanceOf||"object"==typeof t&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(c=e.styleMap[a.tag]||a.defaultStyle,"[object Function]"===FS.call(a.represent))n=a.represent(t,c);else{if(!HS.call(a.represent,c))throw new yT("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');n=a.represent[c](t,c)}e.dump=n}return!0}return!1}function cI(e,t,r,n,i,s,o){e.tag=null,e.dump=r,aI(e,r,!1)||aI(e,r,!0);var a,c=FS.call(e.dump),l=n;n&&(n=e.flowLevel<0||e.flowLevel>t);var u,h,d="[object Object]"===c||"[object Array]"===c;if(d&&(h=-1!==(u=e.duplicates.indexOf(r))),(null!==e.tag&&"?"!==e.tag||h||2!==e.indent&&t>0)&&(i=!1),h&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(d&&h&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),"[object Object]"===c)n&&0!==Object.keys(e.dump).length?(!function(e,t,r,n){var i,s,o,a,c,l,u="",h=e.tag,d=Object.keys(r);if(!0===e.sortKeys)d.sort();else if("function"==typeof e.sortKeys)d.sort(e.sortKeys);else if(e.sortKeys)throw new yT("sortKeys must be a boolean or a function");for(i=0,s=d.length;i<s;i+=1)l="",n&&""===u||(l+=KS(e,t)),a=r[o=d[i]],e.replacer&&(a=e.replacer.call(r,o,a)),cI(e,t+1,o,!0,!0,!0)&&((c=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&10===e.dump.charCodeAt(0)?l+="?":l+="? "),l+=e.dump,c&&(l+=KS(e,t)),cI(e,t+1,a,!0,c)&&(e.dump&&10===e.dump.charCodeAt(0)?l+=":":l+=": ",u+=l+=e.dump));e.tag=h,e.dump=u||"{}"}(e,t,e.dump,i),h&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,r){var n,i,s,o,a,c="",l=e.tag,u=Object.keys(r);for(n=0,i=u.length;n<i;n+=1)a="",""!==c&&(a+=", "),e.condenseFlow&&(a+='"'),o=r[s=u[n]],e.replacer&&(o=e.replacer.call(r,s,o)),cI(e,t,s,!1,!1)&&(e.dump.length>1024&&(a+="? "),a+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),cI(e,t,o,!1,!1)&&(c+=a+=e.dump));e.tag=l,e.dump="{"+c+"}"}(e,t,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else if("[object Array]"===c)n&&0!==e.dump.length?(e.noArrayIndent&&!o&&t>0?oI(e,t-1,e.dump,i):oI(e,t,e.dump,i),h&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,r){var n,i,s,o="",a=e.tag;for(n=0,i=r.length;n<i;n+=1)s=r[n],e.replacer&&(s=e.replacer.call(r,String(n),s)),(cI(e,t,s,!1,!1)||void 0===s&&cI(e,t,null,!1,!1))&&(""!==o&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=a,e.dump="["+o+"]"}(e,t,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else{if("[object String]"!==c){if("[object Undefined]"===c)return!1;if(e.skipInvalid)return!1;throw new yT("unacceptable kind of an object to dump "+c)}"?"!==e.tag&&rI(e,e.dump,t,s,l)}null!==e.tag&&"?"!==e.tag&&(a=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),a="!"===e.tag[0]?"!"+a:"tag:yaml.org,2002:"===a.slice(0,18)?"!!"+a.slice(18):"!<"+a+">",e.dump=a+" "+e.dump)}return!0}function lI(e,t){var r,n,i=[],s=[];for(uI(e,i,s),r=0,n=s.length;r<n;r+=1)t.duplicates.push(i[s[r]]);t.usedDuplicates=new Array(n)}function uI(e,t,r){var n,i,s;if(null!==e&&"object"==typeof e)if(-1!==(i=t.indexOf(e)))-1===r.indexOf(i)&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)uI(e[i],t,r);else for(i=0,s=(n=Object.keys(e)).length;i<s;i+=1)uI(e[n[i]],t,r)}function hI(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}const dI={Type:vT,Schema:ST,FAILSAFE_SCHEMA:xT,JSON_SCHEMA:FT,CORE_SCHEMA:HT,DEFAULT_SCHEMA:eS,load:MS.load,loadAll:MS.loadAll,dump:{dump:function(e,t){var r=new QS(t=t||{});r.noRefs||lI(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),cI(r,0,n,!0,!0)?r.dump+"\n":""}}.dump,YAMLException:yT,types:{binary:QT,float:MT,map:RT,null:kT,pairs:XT,set:$T,timestamp:WT,bool:NT,int:LT,merge:GT,omap:YT,seq:CT,str:IT},safeLoad:hI("safeLoad","load"),safeLoadAll:hI("safeLoadAll","loadAll"),safeDump:hI("safeDump","dump")};__webpack_require__(8784);var fI=__webpack_require__(11);function pI(e,t){let r=0;if(1===e.length)return e[0];for(let n=e.length-1;n>=0;n--)r+=e[e.length-1-n]*Math.pow(2,t*n);return r}function gI(e,t,r=-1){const n=r;let i=e,s=0,o=Math.pow(2,t);for(let r=1;r<8;r++){if(e<o){let e;if(n<0)e=new ArrayBuffer(r),s=r;else{if(n<r)return new ArrayBuffer(0);e=new ArrayBuffer(n),s=n}const o=new Uint8Array(e);for(let e=r-1;e>=0;e--){const r=Math.pow(2,e*t);o[s-e-1]=Math.floor(i/r),i-=o[s-e-1]*r}return e}o*=Math.pow(2,t)}return new ArrayBuffer(0)}function yI(...e){let t=0,r=0;for(const r of e)t+=r.length;const n=new ArrayBuffer(t),i=new Uint8Array(n);for(const t of e)i.set(t,r),r+=t.length;return i}function wI(){const e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const t=255===e[0]&&128&e[1],r=0===e[0]&&0==(128&e[1]);(t||r)&&this.warnings.push("Needlessly long format")}const t=new ArrayBuffer(this.valueHex.byteLength),r=new Uint8Array(t);for(let e=0;e<this.valueHex.byteLength;e++)r[e]=0;r[0]=128&e[0];const n=pI(r,8),i=new ArrayBuffer(this.valueHex.byteLength),s=new Uint8Array(i);for(let t=0;t<this.valueHex.byteLength;t++)s[t]=e[t];s[0]&=127;return pI(s,8)-n}function mI(e,t){const r=e.toString(10);if(t<r.length)return"";const n=t-r.length,i=new Array(n);for(let e=0;e<n;e++)i[e]="0";return i.join("").concat(r)}Math.log(2);
/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */
function bI(){if("undefined"==typeof BigInt)throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function AI(e){let t=0,r=0;for(let r=0;r<e.length;r++){t+=e[r].byteLength}const n=new Uint8Array(t);for(let t=0;t<e.length;t++){const i=e[t];n.set(new Uint8Array(i),r),r+=i.byteLength}return n.buffer}function EI(e,t,r,n){return t instanceof Uint8Array?t.byteLength?r<0?(e.error="Wrong parameter: inputOffset less than zero",!1):n<0?(e.error="Wrong parameter: inputLength less than zero",!1):!(t.byteLength-r-n<0)||(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):(e.error="Wrong parameter: inputBuffer has zero length",!1):(e.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class vI{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return AI(this.items)}}const _I=[new Uint8Array([1])],TI="0123456789",SI="name",II="valueHexView",CI="",RI=new ArrayBuffer(0),xI=new Uint8Array(0),kI="EndOfContent",NI="OCTET STRING",BI="BIT STRING";function OI(e){var t;return(t=class extends e{constructor(...e){var t;super(...e);const r=e[0]||{};this.isHexOnly=null!==(t=r.isHexOnly)&&void 0!==t&&t,this.valueHexView=r.valueHex?fI.vJ.toUint8Array(r.valueHex):xI}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(e){this.valueHexView=new Uint8Array(e)}fromBER(e,t,r){const n=e instanceof ArrayBuffer?new Uint8Array(e):e;if(!EI(this,n,t,r))return-1;const i=t+r;return this.valueHexView=n.subarray(t,i),this.valueHexView.length?(this.blockLength=r,i):(this.warnings.push("Zero buffer length"),t)}toBER(e=!1){return this.isHexOnly?e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",RI)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:fI.ep.ToHex(this.valueHexView)}}}).NAME="hexBlock",t}class DI{constructor({blockLength:e=0,error:t="",warnings:r=[],valueBeforeDecode:n=xI}={}){this.blockLength=e,this.error=t,this.warnings=r,this.valueBeforeDecodeView=fI.vJ.toUint8Array(n)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:fI.ep.ToHex(this.valueBeforeDecodeView)}}}DI.NAME="baseBlock";class LI extends DI{fromBER(e,t,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}LI.NAME="valueBlock";class PI extends(OI(DI)){constructor({idBlock:e={}}={}){var t,r,n,i;super(),e?(this.isHexOnly=null!==(t=e.isHexOnly)&&void 0!==t&&t,this.valueHexView=e.valueHex?fI.vJ.toUint8Array(e.valueHex):xI,this.tagClass=null!==(r=e.tagClass)&&void 0!==r?r:-1,this.tagNumber=null!==(n=e.tagNumber)&&void 0!==n?n:-1,this.isConstructed=null!==(i=e.isConstructed)&&void 0!==i&&i):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",RI}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){const r=new Uint8Array(1);if(!e){let e=this.tagNumber;e&=31,t|=e,r[0]=t}return r.buffer}if(!this.isHexOnly){const r=gI(this.tagNumber,7),n=new Uint8Array(r),i=r.byteLength,s=new Uint8Array(i+1);if(s[0]=31|t,!e){for(let e=0;e<i-1;e++)s[e+1]=128|n[e];s[i]=n[i-1]}return s.buffer}const r=new Uint8Array(this.valueHexView.byteLength+1);if(r[0]=31|t,!e){const e=this.valueHexView;for(let t=0;t<e.length-1;t++)r[t+1]=128|e[t];r[this.valueHexView.byteLength]=e[e.length-1]}return r.buffer}fromBER(e,t,r){const n=fI.vJ.toUint8Array(e);if(!EI(this,n,t,r))return-1;const i=n.subarray(t,t+r);if(0===i.length)return this.error="Zero buffer length",-1;switch(192&i[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=32==(32&i[0]),this.isHexOnly=!1;const s=31&i[0];if(31!==s)this.tagNumber=s,this.blockLength=1;else{let e=1,t=this.valueHexView=new Uint8Array(255),r=255;for(;128&i[e];){if(t[e-1]=127&i[e],e++,e>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(e===r){r+=255;const e=new Uint8Array(r);for(let r=0;r<t.length;r++)e[r]=t[r];t=this.valueHexView=new Uint8Array(r)}}this.blockLength=e+1,t[e-1]=127&i[e];const n=new Uint8Array(e);for(let r=0;r<e;r++)n[r]=t[r];t=this.valueHexView=new Uint8Array(e),t.set(n),this.blockLength<=9?this.tagNumber=pI(t,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}PI.NAME="identificationBlock";class UI extends DI{constructor({lenBlock:e={}}={}){var t,r,n;super(),this.isIndefiniteForm=null!==(t=e.isIndefiniteForm)&&void 0!==t&&t,this.longFormUsed=null!==(r=e.longFormUsed)&&void 0!==r&&r,this.length=null!==(n=e.length)&&void 0!==n?n:0}fromBER(e,t,r){const n=fI.vJ.toUint8Array(e);if(!EI(this,n,t,r))return-1;const i=n.subarray(t,t+r);if(0===i.length)return this.error="Zero buffer length",-1;if(255===i[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===i[0],this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(128&i[0]),!1===this.longFormUsed)return this.length=i[0],this.blockLength=1,t+this.blockLength;const s=127&i[0];if(s>8)return this.error="Too big integer",-1;if(s+1>i.length)return this.error="End of input reached before message was fully decoded",-1;const o=t+1,a=n.subarray(o,o+s);return 0===a[s-1]&&this.warnings.push("Needlessly long encoded length"),this.length=pI(a,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=s+1,t+this.blockLength}toBER(e=!1){let t,r;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),!1===e&&(r=new Uint8Array(t),r[0]=128),t;if(this.longFormUsed){const n=gI(this.length,8);if(n.byteLength>127)return this.error="Too big length",RI;if(t=new ArrayBuffer(n.byteLength+1),e)return t;const i=new Uint8Array(n);r=new Uint8Array(t),r[0]=128|n.byteLength;for(let e=0;e<n.byteLength;e++)r[e+1]=i[e];return t}return t=new ArrayBuffer(1),!1===e&&(r=new Uint8Array(t),r[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}UI.NAME="lengthBlock";const MI={};class FI extends DI{constructor({name:e="",optional:t=!1,primitiveSchema:r,...n}={},i){super(n),this.name=e,this.optional=t,r&&(this.primitiveSchema=r),this.idBlock=new PI(n),this.lenBlock=new UI(n),this.valueBlock=i?new i(n):new LI(n)}fromBER(e,t,r){const n=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===n?(this.error=this.valueBlock.error,n):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),n)}toBER(e,t){const r=t||new vI;t||HI(this);const n=this.idBlock.toBER(e);if(r.write(n),this.lenBlock.isIndefiniteForm)r.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,r),r.write(new ArrayBuffer(2));else{const t=this.valueBlock.toBER(e);this.lenBlock.length=t.byteLength;const n=this.lenBlock.toBER(e);r.write(n),r.write(t)}return t?RI:r.final()}toJSON(){const e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return"ascii"===e?this.onAsciiEncoding():fI.ep.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${fI.ep.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;return function(e,t){if(e.byteLength!==t.byteLength)return!1;const r=new Uint8Array(e),n=new Uint8Array(t);for(let e=0;e<r.length;e++)if(r[e]!==n[e])return!1;return!0}(this.toBER(),e.toBER())}}function HI(e){if(e instanceof MI.Constructed)for(const t of e.valueBlock.value)HI(t)&&(e.lenBlock.isIndefiniteForm=!0);return!!e.lenBlock.isIndefiniteForm}FI.NAME="BaseBlock";class jI extends FI{constructor({value:e="",...t}={},r){super(t,r),e&&this.fromString(e)}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}fromBER(e,t,r){const n=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===n?(this.error=this.valueBlock.error,n):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),n)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}jI.NAME="BaseStringBlock";class zI extends(OI(LI)){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}}var WI,GI,qI,QI,VI,KI,YI,JI,XI,ZI,$I,eC,tC,rC,nC,iC,sC,oC,aC,cC,lC,uC,hC,dC,fC,pC,gC,yC,wC,mC,bC,AC,EC,vC,_C;zI.NAME="PrimitiveValueBlock";class TC extends FI{constructor(e={}){super(e,zI),this.idBlock.isConstructed=!1}}function SC(e,t=0,r=e.length){const n=t;let i=new FI({},LI);const s=new DI;if(!EI(s,e,t,r))return i.error=s.error,{offset:-1,result:i};if(!e.subarray(t,t+r).length)return i.error="Zero buffer length",{offset:-1,result:i};let o=i.idBlock.fromBER(e,t,r);if(i.idBlock.warnings.length&&i.warnings.concat(i.idBlock.warnings),-1===o)return i.error=i.idBlock.error,{offset:-1,result:i};if(t=o,r-=i.idBlock.blockLength,o=i.lenBlock.fromBER(e,t,r),i.lenBlock.warnings.length&&i.warnings.concat(i.lenBlock.warnings),-1===o)return i.error=i.lenBlock.error,{offset:-1,result:i};if(t=o,r-=i.lenBlock.blockLength,!i.idBlock.isConstructed&&i.lenBlock.isIndefiniteForm)return i.error="Indefinite length form used for primitive encoding form",{offset:-1,result:i};let a=FI;if(1===i.idBlock.tagClass){if(i.idBlock.tagNumber>=37&&!1===i.idBlock.isHexOnly)return i.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:i};switch(i.idBlock.tagNumber){case 0:if(i.idBlock.isConstructed&&i.lenBlock.length>0)return i.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:i};a=MI.EndOfContent;break;case 1:a=MI.Boolean;break;case 2:a=MI.Integer;break;case 3:a=MI.BitString;break;case 4:a=MI.OctetString;break;case 5:a=MI.Null;break;case 6:a=MI.ObjectIdentifier;break;case 10:a=MI.Enumerated;break;case 12:a=MI.Utf8String;break;case 13:a=MI.RelativeObjectIdentifier;break;case 14:a=MI.TIME;break;case 15:return i.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:i};case 16:a=MI.Sequence;break;case 17:a=MI.Set;break;case 18:a=MI.NumericString;break;case 19:a=MI.PrintableString;break;case 20:a=MI.TeletexString;break;case 21:a=MI.VideotexString;break;case 22:a=MI.IA5String;break;case 23:a=MI.UTCTime;break;case 24:a=MI.GeneralizedTime;break;case 25:a=MI.GraphicString;break;case 26:a=MI.VisibleString;break;case 27:a=MI.GeneralString;break;case 28:a=MI.UniversalString;break;case 29:a=MI.CharacterString;break;case 30:a=MI.BmpString;break;case 31:a=MI.DATE;break;case 32:a=MI.TimeOfDay;break;case 33:a=MI.DateTime;break;case 34:a=MI.Duration;break;default:{const e=i.idBlock.isConstructed?new MI.Constructed:new MI.Primitive;e.idBlock=i.idBlock,e.lenBlock=i.lenBlock,e.warnings=i.warnings,i=e}}}else a=i.idBlock.isConstructed?MI.Constructed:MI.Primitive;return i=function(e,t){if(e instanceof t)return e;const r=new t;return r.idBlock=e.idBlock,r.lenBlock=e.lenBlock,r.warnings=e.warnings,r.valueBeforeDecodeView=e.valueBeforeDecodeView,r}(i,a),o=i.fromBER(e,t,i.lenBlock.isIndefiniteForm?r:i.lenBlock.length),i.valueBeforeDecodeView=e.subarray(n,n+i.blockLength),{offset:o,result:i}}function IC(e){if(!e.byteLength){const e=new FI({},LI);return e.error="Input buffer has zero length",{offset:-1,result:e}}return SC(fI.vJ.toUint8Array(e).slice(),0,e.byteLength)}WI=TC,MI.Primitive=WI,TC.NAME="PRIMITIVE";class CC extends LI{constructor({value:e=[],isIndefiniteForm:t=!1,...r}={}){super(r),this.value=e,this.isIndefiniteForm=t}fromBER(e,t,r){const n=fI.vJ.toUint8Array(e);if(!EI(this,n,t,r))return-1;if(this.valueBeforeDecodeView=n.subarray(t,t+r),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),t;let i=t;for(;s=this.isIndefiniteForm,o=r,(s?1:o)>0;){const e=SC(n,i,r);if(-1===e.offset)return this.error=e.result.error,this.warnings.concat(e.result.warnings),-1;if(i=e.offset,this.blockLength+=e.result.blockLength,r-=e.result.blockLength,this.value.push(e.result),this.isIndefiniteForm&&e.result.constructor.NAME===kI)break}var s,o;return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===kI?this.value.pop():this.warnings.push("No EndOfContent block encoded")),i}toBER(e,t){const r=t||new vI;for(let t=0;t<this.value.length;t++)this.value[t].toBER(e,r);return t?RI:r.final()}toJSON(){const e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const t of this.value)e.value.push(t.toJSON());return e}}CC.NAME="ConstructedValueBlock";class RC extends FI{constructor(e={}){super(e,CC),this.idBlock.isConstructed=!0}fromBER(e,t,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const n=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===n?(this.error=this.valueBlock.error,n):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),n)}onAsciiEncoding(){const e=[];for(const t of this.valueBlock.value)e.push(t.toString("ascii").split("\n").map((e=>`  ${e}`)).join("\n"));const t=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :\n${e.join("\n")}`:`${t} :`}}GI=RC,MI.Constructed=GI,RC.NAME="CONSTRUCTED";class xC extends LI{fromBER(e,t,r){return t}toBER(e){return RI}}xC.override="EndOfContentValueBlock";class kC extends FI{constructor(e={}){super(e,xC),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}qI=kC,MI.EndOfContent=qI,kC.NAME=kI;class NC extends FI{constructor(e={}){super(e,LI),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,r){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=r,t+r>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+r}toBER(e,t){const r=new ArrayBuffer(2);if(!e){const e=new Uint8Array(r);e[0]=5,e[1]=0}return t&&t.write(r),r}onAsciiEncoding(){return`${this.constructor.NAME}`}}QI=NC,MI.Null=QI,NC.NAME="NULL";class BC extends(OI(LI)){constructor({value:e,...t}={}){super(t),t.valueHex?this.valueHexView=fI.vJ.toUint8Array(t.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}get value(){for(const e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}fromBER(e,t,r){const n=fI.vJ.toUint8Array(e);return EI(this,n,t,r)?(this.valueHexView=n.subarray(t,t+r),r>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,wI.call(this),this.blockLength=r,t+r):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}BC.NAME="BooleanValueBlock";class OC extends FI{constructor(e={}){super(e,BC),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}VI=OC,MI.Boolean=VI,OC.NAME="BOOLEAN";class DC extends(OI(CC)){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,r){let n=0;if(this.isConstructed){if(this.isHexOnly=!1,n=CC.prototype.fromBER.call(this,e,t,r),-1===n)return n;for(let e=0;e<this.value.length;e++){const t=this.value[e].constructor.NAME;if(t===kI){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(t!==NI)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,n=super.fromBER(e,t,r),this.blockLength=r;return n}toBER(e,t){return this.isConstructed?CC.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}DC.NAME="OctetStringValueBlock";class LC extends FI{constructor({idBlock:e={},lenBlock:t={},...r}={}){var n,i;null!==(n=r.isConstructed)&&void 0!==n||(r.isConstructed=!!(null===(i=r.value)||void 0===i?void 0:i.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},DC),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,r){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===r)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){const n=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+r);try{if(n.byteLength){const e=SC(n,0,n.byteLength);-1!==e.offset&&e.offset===r&&(this.valueBlock.value=[e.result])}}catch(e){}}return super.fromBER(e,t,r)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?RC.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${fI.ep.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const e=[];for(const t of this.valueBlock.value)t instanceof LC&&e.push(t.valueBlock.valueHexView);return fI.vJ.concat(e)}}KI=LC,MI.OctetString=KI,LC.NAME=NI;class PC extends(OI(CC)){constructor({unusedBits:e=0,isConstructed:t=!1,...r}={}){super(r),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,t,r){if(!r)return t;let n=-1;if(this.isConstructed){if(n=CC.prototype.fromBER.call(this,e,t,r),-1===n)return n;for(const e of this.value){const t=e.constructor.NAME;if(t===kI){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(t!==BI)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const r=e.valueBlock;if(this.unusedBits>0&&r.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=r.unusedBits}return n}const i=fI.vJ.toUint8Array(e);if(!EI(this,i,t,r))return-1;const s=i.subarray(t,t+r);if(this.unusedBits=s[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const e=s.subarray(1);try{if(e.byteLength){const t=SC(e,0,e.byteLength);-1!==t.offset&&t.offset===r-1&&(this.value=[t.result])}}catch(e){}}return this.valueHexView=s.subarray(1),this.blockLength=s.length,t+r}toBER(e,t){if(this.isConstructed)return CC.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return RI;const r=new Uint8Array(this.valueHexView.length+1);return r[0]=this.unusedBits,r.set(this.valueHexView,1),r.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}PC.NAME="BitStringValueBlock";class UC extends FI{constructor({idBlock:e={},lenBlock:t={},...r}={}){var n,i;null!==(n=r.isConstructed)&&void 0!==n||(r.isConstructed=!!(null===(i=r.value)||void 0===i?void 0:i.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},PC),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,r){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return RC.prototype.onAsciiEncoding.call(this);{const e=[],t=this.valueBlock.valueHexView;for(const r of t)e.push(r.toString(2).padStart(8,"0"));const r=e.join("");return`${this.constructor.NAME} : ${r.substring(0,r.length-this.valueBlock.unusedBits)}`}}}function MC(e,t){const r=new Uint8Array([0]),n=new Uint8Array(e),i=new Uint8Array(t);let s=n.slice(0);const o=s.length-1,a=i.slice(0),c=a.length-1;let l=0;let u=0;for(let e=c<o?o:c;e>=0;e--,u++){if(!0==u<a.length)l=s[o-u]+a[c-u]+r[0];else l=s[o-u]+r[0];if(r[0]=l/10,!0==u>=s.length)s=yI(new Uint8Array([l%10]),s);else s[o-u]=l%10}return r[0]>0&&(s=yI(r,s)),s}function FC(e){if(e>=_I.length)for(let t=_I.length;t<=e;t++){const e=new Uint8Array([0]);let r=_I[t-1].slice(0);for(let t=r.length-1;t>=0;t--){const n=new Uint8Array([(r[t]<<1)+e[0]]);e[0]=n[0]/10,r[t]=n[0]%10}e[0]>0&&(r=yI(e,r)),_I.push(r)}return _I[e]}function HC(e,t){let r=0;const n=new Uint8Array(e),i=new Uint8Array(t),s=n.slice(0),o=s.length-1,a=i.slice(0),c=a.length-1;let l,u=0;for(let e=c;e>=0;e--,u++)if(l=s[o-u]-a[c-u]-r,!0==l<0)r=1,s[o-u]=l+10;else r=0,s[o-u]=l;if(r>0)for(let e=o-c+1;e>=0;e--,u++){if(l=s[o-u]-r,!(l<0)){r=0,s[o-u]=l;break}r=1,s[o-u]=l+10}return s.slice()}YI=UC,MI.BitString=YI,UC.NAME=BI;class jC extends(OI(LI)){constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),void 0!==e&&(this.valueDec=e)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=wI.call(this)))}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(function(e){const t=e<0?-1*e:e;let r=128;for(let n=1;n<8;n++){if(t<=r){if(e<0){const e=gI(r-t,8,n);return new Uint8Array(e)[0]|=128,e}let i=gI(t,8,n),s=new Uint8Array(i);if(128&s[0]){const e=i.slice(0),t=new Uint8Array(e);i=new ArrayBuffer(i.byteLength+1),s=new Uint8Array(i);for(let r=0;r<e.byteLength;r++)s[r+1]=t[r];s[0]=0}return i}r*=Math.pow(2,8)}return new ArrayBuffer(0)}(e))}get valueDec(){return this._valueDec}fromDER(e,t,r,n=0){const i=this.fromBER(e,t,r);if(-1===i)return i;const s=this.valueHexView;return 0===s[0]&&0!=(128&s[1])?this.valueHexView=s.subarray(1):0!==n&&s.length<n&&(n-s.length>1&&(n=s.length+1),this.valueHexView=s.subarray(n-s.length)),i}toDER(e=!1){const t=this.valueHexView;switch(!0){case 0!=(128&t[0]):{const e=new Uint8Array(this.valueHexView.length+1);e[0]=0,e.set(t,1),this.valueHexView=e}break;case 0===t[0]&&0==(128&t[1]):this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(e)}fromBER(e,t,r){const n=super.fromBER(e,t,r);return-1===n||this.setValueHex(),n}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const e=8*this.valueHexView.length-1;let t,r=new Uint8Array(8*this.valueHexView.length/3),n=0;const i=this.valueHexView;let s="",o=!1;for(let o=i.byteLength-1;o>=0;o--){t=i[o];for(let i=0;i<8;i++){if(1==(1&t))if(n===e)r=HC(FC(n),r),s="-";else r=MC(r,FC(n));n++,t>>=1}}for(let e=0;e<r.length;e++)r[e]&&(o=!0),o&&(s+=TI.charAt(r[e]));return!1===o&&(s+=TI.charAt(0)),s}}JI=jC,jC.NAME="IntegerValueBlock",Object.defineProperty(JI.prototype,"valueHex",{set:function(e){this.valueHexView=new Uint8Array(e),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class zC extends FI{constructor(e={}){super(e,jC),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return bI(),BigInt(this.valueBlock.toString())}static fromBigInt(e){bI();const t=BigInt(e),r=new vI,n=t.toString(16).replace(/^-/,""),i=new Uint8Array(fI.ep.FromHex(n));if(t<0){const e=new Uint8Array(i.length+(128&i[0]?1:0));e[0]|=128;const n=BigInt(`0x${fI.ep.ToHex(e)}`)+t,s=fI.vJ.toUint8Array(fI.ep.FromHex(n.toString(16)));s[0]|=128,r.write(s)}else 128&i[0]&&r.write(new Uint8Array([0])),r.write(i);return new zC({valueHex:r.final()})}convertToDER(){const e=new zC({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new zC({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}XI=zC,MI.Integer=XI,zC.NAME="INTEGER";class WC extends zC{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}ZI=WC,MI.Enumerated=ZI,WC.NAME="ENUMERATED";class GC extends(OI(LI)){constructor({valueDec:e=-1,isFirstSid:t=!1,...r}={}){super(r),this.valueDec=e,this.isFirstSid=t}fromBER(e,t,r){if(!r)return t;const n=fI.vJ.toUint8Array(e);if(!EI(this,n,t,r))return-1;const i=n.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&i[e],this.blockLength++,0!=(128&i[e]));e++);const s=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)s[e]=this.valueHexView[e];return this.valueHexView=s,0!=(128&i[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=pI(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}set valueBigInt(e){bI();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;const r=new Uint8Array(t.length/7);for(let e=0;e<r.length;e++)r[e]=parseInt(t.slice(7*e,7*e+7),2)+(e+1<r.length?128:0);this.fromBER(r.buffer,0,r.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}const t=gI(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",RI;const r=new Uint8Array(t.byteLength);if(!e){const e=new Uint8Array(t),n=t.byteLength-1;for(let t=0;t<n;t++)r[t]=128|e[t];r[n]=e[n]}return r}toString(){let e="";if(this.isHexOnly)e=fI.ep.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}GC.NAME="sidBlock";class qC extends LI{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let n=t;for(;r>0;){const t=new GC;if(n=t.fromBER(e,n,r),-1===n)return this.blockLength=0,this.error=t.error,n;0===this.value.length&&(t.isFirstSid=!0),this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return n}toBER(e){const t=[];for(let r=0;r<this.value.length;r++){const n=this.value[r].toBER(e);if(0===n.byteLength)return this.error=this.value[r].error,RI;t.push(n)}return AI(t)}fromString(e){this.value=[];let t=0,r=0,n="",i=!1;do{if(r=e.indexOf(".",t),n=-1===r?e.substring(t):e.substring(t,r),t=r+1,i){const e=this.value[0];let t=0;switch(e.valueDec){case 0:break;case 1:t=40;break;case 2:t=80;break;default:return void(this.value=[])}const r=parseInt(n,10);if(isNaN(r))return;e.valueDec=r+t,i=!1}else{const e=new GC;if(n>Number.MAX_SAFE_INTEGER){bI();const t=BigInt(n);e.valueBigInt=t}else if(e.valueDec=parseInt(n,10),isNaN(e.valueDec))return;this.value.length||(e.isFirstSid=!0,i=!0),this.value.push(e)}}while(-1!==r)}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let n=this.value[r].toString();0!==r&&(e=`${e}.`),t?(n=`{${n}}`,this.value[r].isFirstSid?e=`2.{${n} - 80}`:e+=n):e+=n}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}qC.NAME="ObjectIdentifierValueBlock";class QC extends FI{constructor(e={}){super(e,qC),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}$I=QC,MI.ObjectIdentifier=$I,QC.NAME="OBJECT IDENTIFIER";class VC extends(OI(DI)){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,t,r){if(0===r)return t;const n=fI.vJ.toUint8Array(e);if(!EI(this,n,t,r))return-1;const i=n.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&i[e],this.blockLength++,0!=(128&i[e]));e++);const s=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)s[e]=this.valueHexView[e];return this.valueHexView=s,0!=(128&i[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=pI(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}const t=gI(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",RI;const r=new Uint8Array(t.byteLength);if(!e){const e=new Uint8Array(t),n=t.byteLength-1;for(let t=0;t<n;t++)r[t]=128|e[t];r[n]=e[n]}return r.buffer}toString(){let e="";return e=this.isHexOnly?fI.ep.ToHex(this.valueHexView):this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}VC.NAME="relativeSidBlock";class KC extends LI{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let n=t;for(;r>0;){const t=new VC;if(n=t.fromBER(e,n,r),-1===n)return this.blockLength=0,this.error=t.error,n;this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return n}toBER(e,t){const r=[];for(let t=0;t<this.value.length;t++){const n=this.value[t].toBER(e);if(0===n.byteLength)return this.error=this.value[t].error,RI;r.push(n)}return AI(r)}fromString(e){this.value=[];let t=0,r=0,n="";do{r=e.indexOf(".",t),n=-1===r?e.substring(t):e.substring(t,r),t=r+1;const i=new VC;if(i.valueDec=parseInt(n,10),isNaN(i.valueDec))return!0;this.value.push(i)}while(-1!==r);return!0}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let n=this.value[r].toString();0!==r&&(e=`${e}.`),t?(n=`{${n}}`,e+=n):e+=n}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}KC.NAME="RelativeObjectIdentifierValueBlock";class YC extends FI{constructor(e={}){super(e,KC),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}eC=YC,MI.RelativeObjectIdentifier=eC,YC.NAME="RelativeObjectIdentifier";class JC extends RC{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}tC=JC,MI.Sequence=tC,JC.NAME="SEQUENCE";class XC extends RC{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}rC=XC,MI.Set=rC,XC.NAME="SET";class ZC extends(OI(LI)){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=CI}toJSON(){return{...super.toJSON(),value:this.value}}}ZC.NAME="StringValueBlock";class $C extends ZC{}$C.NAME="SimpleStringValueBlock";class eR extends jI{constructor({...e}={}){super(e,$C)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,fI.vJ.toUint8Array(e))}fromString(e){const t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);this.valueBlock.value=e}}eR.NAME="SIMPLE STRING";class tR extends eR{fromBuffer(e){this.valueBlock.valueHexView=fI.vJ.toUint8Array(e);try{this.valueBlock.value=fI.ep.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=fI.ep.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(fI.ep.FromUtf8String(e)),this.valueBlock.value=e}}tR.NAME="Utf8StringValueBlock";class rR extends tR{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}nC=rR,MI.Utf8String=nC,rR.NAME="UTF8String";class nR extends eR{fromBuffer(e){this.valueBlock.value=fI.ep.ToUtf16String(e),this.valueBlock.valueHexView=fI.vJ.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(fI.ep.FromUtf16String(e))}}nR.NAME="BmpStringValueBlock";class iR extends nR{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}iC=iR,MI.BmpString=iC,iR.NAME="BMPString";class sR extends eR{fromBuffer(e){const t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),r=new Uint8Array(t);for(let e=0;e<r.length;e+=4)r[e]=r[e+3],r[e+1]=r[e+2],r[e+2]=0,r[e+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){const t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(4*t);for(let n=0;n<t;n++){const t=gI(e.charCodeAt(n),8),i=new Uint8Array(t);if(i.length>4)continue;const s=4-i.length;for(let e=i.length-1;e>=0;e--)r[4*n+e+s]=i[e]}this.valueBlock.value=e}}sR.NAME="UniversalStringValueBlock";class oR extends sR{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}sC=oR,MI.UniversalString=sC,oR.NAME="UniversalString";class aR extends eR{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}oC=aR,MI.NumericString=oC,aR.NAME="NumericString";class cR extends eR{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}aC=cR,MI.PrintableString=aC,cR.NAME="PrintableString";class lR extends eR{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}cC=lR,MI.TeletexString=cC,lR.NAME="TeletexString";class uR extends eR{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}lC=uR,MI.VideotexString=lC,uR.NAME="VideotexString";class hR extends eR{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}uC=hR,MI.IA5String=uC,hR.NAME="IA5String";class dR extends eR{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}hC=dR,MI.GraphicString=hC,dR.NAME="GraphicString";class fR extends eR{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}dC=fR,MI.VisibleString=dC,fR.NAME="VisibleString";class pR extends eR{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}fC=pR,MI.GeneralString=fC,pR.NAME="GeneralString";class gR extends eR{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}pC=gR,MI.CharacterString=pC,gR.NAME="CharacterString";class yR extends fR{constructor({value:e,valueDate:t,...r}={}){if(super(r),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let t=0;t<e.length;t++)this.valueBlock.valueHexView[t]=e.charCodeAt(t)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,fI.vJ.toUint8Array(e)))}toBuffer(){const e=this.toString(),t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){const t=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(e);if(null===t)return void(this.error="Wrong input string for conversion");const r=parseInt(t[1],10);this.year=r>=50?1900+r:2e3+r,this.month=parseInt(t[2],10),this.day=parseInt(t[3],10),this.hour=parseInt(t[4],10),this.minute=parseInt(t[5],10),this.second=parseInt(t[6],10)}toString(e="iso"){if("iso"===e){const e=new Array(7);return e[0]=mI(this.year<2e3?this.year-1900:this.year-2e3,2),e[1]=mI(this.month,2),e[2]=mI(this.day,2),e[3]=mI(this.hour,2),e[4]=mI(this.minute,2),e[5]=mI(this.second,2),e[6]="Z",e.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}gC=yR,MI.UTCTime=gC,yR.NAME="UTCTime";class wR extends yR{constructor(e={}){var t;super(e),null!==(t=this.millisecond)&&void 0!==t||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t,r=!1,n="",i="",s=0,o=0,a=0;if("Z"===e[e.length-1])n=e.substring(0,e.length-1),r=!0;else{const t=new Number(e[e.length-1]);if(isNaN(t.valueOf()))throw new Error("Wrong input string for conversion");n=e}if(r){if(-1!==n.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==n.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let e=1,t=n.indexOf("+"),r="";if(-1===t&&(t=n.indexOf("-"),e=-1),-1!==t){if(r=n.substring(t+1),n=n.substring(0,t),2!==r.length&&4!==r.length)throw new Error("Wrong input string for conversion");let i=parseInt(r.substring(0,2),10);if(isNaN(i.valueOf()))throw new Error("Wrong input string for conversion");if(o=e*i,4===r.length){if(i=parseInt(r.substring(2,4),10),isNaN(i.valueOf()))throw new Error("Wrong input string for conversion");a=e*i}}}let c=n.indexOf(".");if(-1===c&&(c=n.indexOf(",")),-1!==c){const e=new Number(`0${n.substring(c)}`);if(isNaN(e.valueOf()))throw new Error("Wrong input string for conversion");s=e.valueOf(),i=n.substring(0,c)}else i=n;switch(!0){case 8===i.length:if(t=/(\d{4})(\d{2})(\d{2})/gi,-1!==c)throw new Error("Wrong input string for conversion");break;case 10===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==c){let e=60*s;this.minute=Math.floor(e),e=60*(e-this.minute),this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 12===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==c){let e=60*s;this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 14===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==c){const e=1e3*s;this.millisecond=Math.floor(e)}break;default:throw new Error("Wrong input string for conversion")}const l=t.exec(i);if(null===l)throw new Error("Wrong input string for conversion");for(let e=1;e<l.length;e++)switch(e){case 1:this.year=parseInt(l[e],10);break;case 2:this.month=parseInt(l[e],10);break;case 3:this.day=parseInt(l[e],10);break;case 4:this.hour=parseInt(l[e],10)+o;break;case 5:this.minute=parseInt(l[e],10)+a;break;case 6:this.second=parseInt(l[e],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===r){const e=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=e.getUTCFullYear(),this.month=e.getUTCMonth(),this.day=e.getUTCDay(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}}toString(e="iso"){if("iso"===e){const e=[];return e.push(mI(this.year,4)),e.push(mI(this.month,2)),e.push(mI(this.day,2)),e.push(mI(this.hour,2)),e.push(mI(this.minute,2)),e.push(mI(this.second,2)),0!==this.millisecond&&(e.push("."),e.push(mI(this.millisecond,3))),e.push("Z"),e.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}yC=wR,MI.GeneralizedTime=yC,wR.NAME="GeneralizedTime";class mR extends rR{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}wC=mR,MI.DATE=wC,mR.NAME="DATE";class bR extends rR{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}mC=bR,MI.TimeOfDay=mC,bR.NAME="TimeOfDay";class AR extends rR{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}bC=AR,MI.DateTime=bC,AR.NAME="DateTime";class ER extends rR{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}AC=ER,MI.Duration=AC,ER.NAME="Duration";class vR extends rR{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}EC=vR,MI.TIME=EC,vR.NAME="TIME";class _R{constructor({name:e="",optional:t=!1}={}){this.name=e,this.optional=t}}class TR extends _R{constructor({value:e=[],...t}={}){super(t),this.value=e}}class SR extends _R{constructor({value:e=new _R,local:t=!1,...r}={}){super(r),this.value=e,this.local=t}}class IR{constructor({data:e=xI}={}){this.dataView=fI.vJ.toUint8Array(e)}get data(){return this.dataView.slice().buffer}set data(e){this.dataView=fI.vJ.toUint8Array(e)}fromBER(e,t,r){const n=t+r;return this.dataView=fI.vJ.toUint8Array(e).subarray(t,n),n}toBER(e){return this.dataView.slice().buffer}}function CR(e,t,r){if(r instanceof TR){for(let n=0;n<r.value.length;n++){if(CR(e,t,r.value[n]).verified)return{verified:!0,result:e}}{const e={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(SI)&&(e.name=r.name),e}}if(r instanceof _R)return r.hasOwnProperty(SI)&&(e[r.name]=t),{verified:!0,result:e};if(e instanceof Object==!1)return{verified:!1,result:{error:"Wrong root object"}};if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(r instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("idBlock"in r==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("fromBER"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("toBER"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const n=r.idBlock.toBER(!1);if(0===n.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===r.idBlock.fromBER(n,0,n.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===r.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if(!("isHexOnly"in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(r.idBlock.isHexOnly){if(II in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const n=r.idBlock.valueHexView,i=t.idBlock.valueHexView;if(n.length!==i.length)return{verified:!1,result:e};for(let t=0;t<n.length;t++)if(n[t]!==i[1])return{verified:!1,result:e}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,CI),r.name&&(e[r.name]=t)),r instanceof MI.Constructed){let n=0,i={verified:!1,result:{error:"Unknown error"}},s=r.valueBlock.value.length;if(s>0&&r.valueBlock.value[0]instanceof SR&&(s=t.valueBlock.value.length),0===s)return{verified:!0,result:e};if(0===t.valueBlock.value.length&&0!==r.valueBlock.value.length){let t=!0;for(let e=0;e<r.valueBlock.value.length;e++)t=t&&(r.valueBlock.value[e].optional||!1);return t?{verified:!0,result:e}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,CI),r.name&&delete e[r.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(let o=0;o<s;o++)if(o-n>=t.valueBlock.value.length){if(!1===r.valueBlock.value[o].optional){const t={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,CI),r.name&&(delete e[r.name],t.name=r.name)),t}}else if(r.valueBlock.value[0]instanceof SR){if(i=CR(e,t.valueBlock.value[o],r.valueBlock.value[0].value),!1===i.verified){if(!r.valueBlock.value[0].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,CI),r.name&&delete e[r.name]),i;n++}if(SI in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let n={};n="local"in r.valueBlock.value[0]&&r.valueBlock.value[0].local?t:e,void 0===n[r.valueBlock.value[0].name]&&(n[r.valueBlock.value[0].name]=[]),n[r.valueBlock.value[0].name].push(t.valueBlock.value[o])}}else if(i=CR(e,t.valueBlock.value[o-n],r.valueBlock.value[o]),!1===i.verified){if(!r.valueBlock.value[o].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,CI),r.name&&delete e[r.name]),i;n++}if(!1===i.verified){const t={verified:!1,result:e};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,CI),r.name&&(delete e[r.name],t.name=r.name)),t}return{verified:!0,result:e}}if(r.primitiveSchema&&II in t.valueBlock){const n=SC(t.valueBlock.valueHexView);if(-1===n.offset){const t={verified:!1,result:n.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,CI),r.name&&(delete e[r.name],t.name=r.name)),t}return CR(e,n.result,r.primitiveSchema)}return{verified:!0,result:e}}function RR(e,t){if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};const r=SC(fI.vJ.toUint8Array(e));return-1===r.offset?{verified:!1,result:r.result}:CR(r.result,r.result,t)}!function(e){e[e.Sequence=0]="Sequence",e[e.Set=1]="Set",e[e.Choice=2]="Choice"}(vC||(vC={})),function(e){e[e.Any=1]="Any",e[e.Boolean=2]="Boolean",e[e.OctetString=3]="OctetString",e[e.BitString=4]="BitString",e[e.Integer=5]="Integer",e[e.Enumerated=6]="Enumerated",e[e.ObjectIdentifier=7]="ObjectIdentifier",e[e.Utf8String=8]="Utf8String",e[e.BmpString=9]="BmpString",e[e.UniversalString=10]="UniversalString",e[e.NumericString=11]="NumericString",e[e.PrintableString=12]="PrintableString",e[e.TeletexString=13]="TeletexString",e[e.VideotexString=14]="VideotexString",e[e.IA5String=15]="IA5String",e[e.GraphicString=16]="GraphicString",e[e.VisibleString=17]="VisibleString",e[e.GeneralString=18]="GeneralString",e[e.CharacterString=19]="CharacterString",e[e.UTCTime=20]="UTCTime",e[e.GeneralizedTime=21]="GeneralizedTime",e[e.DATE=22]="DATE",e[e.TimeOfDay=23]="TimeOfDay",e[e.DateTime=24]="DateTime",e[e.Duration=25]="Duration",e[e.TIME=26]="TIME",e[e.Null=27]="Null"}(_C||(_C={}));class xR{constructor(e,t=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),e)if("number"==typeof e)this.fromNumber(e);else{if(!fI.vJ.isBufferSource(e))throw TypeError("Unsupported type of 'params' argument for BitString");this.unusedBits=t,this.value=fI.vJ.toArrayBuffer(e)}}fromASN(e){if(!(e instanceof UC))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=e.valueBlock.unusedBits,this.value=e.valueBlock.valueHex,this}toASN(){return new UC({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new UC({name:e})}toNumber(){let e="";const t=new Uint8Array(this.value);for(const r of t)e+=r.toString(2).padStart(8,"0");return e=e.split("").reverse().join(""),this.unusedBits&&(e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(e,2)}fromNumber(e){let t=e.toString(2);const r=t.length+7>>3;this.unusedBits=(r<<3)-t.length;const n=new Uint8Array(r);t=t.padStart(r<<3,"0").split("").reverse().join("");let i=0;for(;i<r;)n[i]=parseInt(t.slice(i<<3,8+(i<<3)),2),i++;this.value=n.buffer}}class kR{constructor(e){"number"==typeof e?this.buffer=new ArrayBuffer(e):fI.vJ.isBufferSource(e)?this.buffer=fI.vJ.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}fromASN(e){if(!(e instanceof LC))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new LC({valueHex:this.buffer})}toSchema(e){return new LC({name:e})}}const NR={fromASN:e=>e instanceof NC?null:e.valueBeforeDecodeView,toASN:e=>{if(null===e)return new NC;const t=IC(e);if(t.result.error)throw new Error(t.result.error);return t.result}},BR={fromASN:e=>e.valueBlock.valueHexView.byteLength>=4?e.valueBlock.toString():e.valueBlock.valueDec,toASN:e=>new zC({value:+e})},OR={fromASN:e=>e.valueBlock.valueDec,toASN:e=>new WC({value:e})},DR={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new zC({valueHex:e})},LR={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new UC({valueHex:e})},PR={fromASN:e=>e.valueBlock.toString(),toASN:e=>new QC({value:e})},UR={fromASN:e=>e.valueBlock.value,toASN:e=>new OC({value:e})},MR={fromASN:e=>e.valueBlock.valueHexView,toASN:e=>new LC({valueHex:e})},FR={fromASN:e=>new kR(e.getValue()),toASN:e=>e.toASN()};function HR(e){return{fromASN:e=>e.valueBlock.value,toASN:t=>new e({value:t})}}const jR=HR(rR),zR=HR(iR),WR=HR(oR),GR=HR(aR),qR=HR(cR),QR=HR(lR),VR=HR(uR),KR=HR(hR),YR=HR(dR),JR=HR(fR),XR=HR(pR),ZR=HR(gR),$R={fromASN:e=>e.toDate(),toASN:e=>new yR({valueDate:e})},ex={fromASN:e=>e.toDate(),toASN:e=>new wR({valueDate:e})},tx={fromASN:()=>null,toASN:()=>new NC};function rx(e){switch(e){case _C.Any:return NR;case _C.BitString:return LR;case _C.BmpString:return zR;case _C.Boolean:return UR;case _C.CharacterString:return ZR;case _C.Enumerated:return OR;case _C.GeneralString:return XR;case _C.GeneralizedTime:return ex;case _C.GraphicString:return YR;case _C.IA5String:return KR;case _C.Integer:return BR;case _C.Null:return tx;case _C.NumericString:return GR;case _C.ObjectIdentifier:return PR;case _C.OctetString:return MR;case _C.PrintableString:return qR;case _C.TeletexString:return QR;case _C.UTCTime:return $R;case _C.UniversalString:return WR;case _C.Utf8String:return jR;case _C.VideotexString:return VR;case _C.VisibleString:return JR;default:return null}}function nx(e){return"function"==typeof e&&e.prototype?!(!e.prototype.toASN||!e.prototype.fromASN)||nx(e.prototype):!!(e&&"object"==typeof e&&"toASN"in e&&"fromASN"in e)}function ix(e){var t;if(e){const r=Object.getPrototypeOf(e);return(null===(t=null==r?void 0:r.prototype)||void 0===t?void 0:t.constructor)===Array||ix(r)}return!1}function sx(e,t){if(!e||!t)return!1;if(e.byteLength!==t.byteLength)return!1;const r=new Uint8Array(e),n=new Uint8Array(t);for(let t=0;t<e.byteLength;t++)if(r[t]!==n[t])return!1;return!0}const ox=new class{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,t=!1){const r=this.items.get(e);if(!r)throw new Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(t&&!r.schema)throw new Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return r}cache(e){const t=this.get(e);t.schema||(t.schema=this.create(e,!0))}createDefault(e){const t={type:vC.Sequence,items:{}},r=this.findParentSchema(e);return r&&(Object.assign(t,r),t.items=Object.assign({},t.items,r.items)),t}create(e,r){const n=this.items.get(e)||this.createDefault(e),i=[];for(const e in n.items){const s=n.items[e],o=r?e:"";let a;if("number"==typeof s.type){const e=_C[s.type],r=t[e];if(!r)throw new Error(`Cannot get ASN1 class by name '${e}'`);a=new r({name:o})}else if(nx(s.type)){a=(new s.type).toSchema(o)}else if(s.optional){this.get(s.type).type===vC.Choice?a=new _R({name:o}):(a=this.create(s.type,!1),a.name=o)}else a=new _R({name:o});const c=!!s.optional||void 0!==s.defaultValue;if(s.repeated){a.name="";a=new("set"===s.repeated?XC:JC)({name:"",value:[new SR({name:o,value:a})]})}if(null!==s.context&&void 0!==s.context)if(s.implicit)if("number"==typeof s.type||nx(s.type)){const e=s.repeated?RC:TC;i.push(new e({name:o,optional:c,idBlock:{tagClass:3,tagNumber:s.context}}))}else{this.cache(s.type);const e=!!s.repeated;let t=e?a:this.get(s.type,!0).schema;t="valueBlock"in t?t.valueBlock.value:t.value,i.push(new RC({name:e?"":o,optional:c,idBlock:{tagClass:3,tagNumber:s.context},value:t}))}else i.push(new RC({optional:c,idBlock:{tagClass:3,tagNumber:s.context},value:[a]}));else a.optional=c,i.push(a)}switch(n.type){case vC.Sequence:return new JC({value:i,name:""});case vC.Set:return new XC({value:i,name:""});case vC.Choice:return new TR({value:i,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(e,t){return this.items.set(e,t),this}findParentSchema(e){const t=Object.getPrototypeOf(e);if(t){return this.items.get(t)||this.findParentSchema(t)}return null}},ax=e=>t=>{let r;ox.has(t)?r=ox.get(t):(r=ox.createDefault(t),ox.set(t,r)),Object.assign(r,e)},cx=e=>(t,r)=>{let n;ox.has(t.constructor)?n=ox.get(t.constructor):(n=ox.createDefault(t.constructor),ox.set(t.constructor,n));const i=Object.assign({},e);if("number"==typeof i.type&&!i.converter){const n=rx(e.type);if(!n)throw new Error(`Cannot get default converter for property '${r}' of ${t.constructor.name}`);i.converter=n}n.items[r]=i};class lx extends Error{constructor(){super(...arguments),this.schemas=[]}}class ux{static parse(e,t){const r=IC(e);if(r.result.error)throw new Error(r.result.error);return this.fromASN(r.result,t)}static fromASN(e,r){var n;try{if(nx(r)){return(new r).fromASN(e)}const i=ox.get(r);ox.cache(r);let s=i.schema;if(e.constructor===RC&&i.type!==vC.Choice){s=new RC({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:i.schema.valueBlock.value});for(const t in i.items)delete e[t]}const o=CR({},e,s);if(!o.verified)throw new lx(`Data does not match to ${r.name} ASN1 schema. ${o.result.error}`);const a=new r;if(ix(r)){if(!("value"in e.valueBlock)||!Array.isArray(e.valueBlock.value))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const t=i.itemType;if("number"==typeof t){const n=rx(t);if(!n)throw new Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);return r.from(e.valueBlock.value,(e=>n.fromASN(e)))}return r.from(e.valueBlock.value,(e=>this.fromASN(e,t)))}for(const e in i.items){const r=o.result[e];if(!r)continue;const s=i.items[e],c=s.type;if("number"==typeof c||nx(c)){const i=null!==(n=s.converter)&&void 0!==n?n:nx(c)?new c:null;if(!i)throw new Error("Converter is empty");if(s.repeated)if(s.implicit){const t=new("sequence"===s.repeated?JC:XC);t.valueBlock=r.valueBlock;const n=IC(t.toBER(!1));if(-1===n.offset)throw new Error(`Cannot parse the child item. ${n.result.error}`);if(!("value"in n.result.valueBlock)||!Array.isArray(n.result.valueBlock.value))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");const o=n.result.valueBlock.value;a[e]=Array.from(o,(e=>i.fromASN(e)))}else a[e]=Array.from(r,(e=>i.fromASN(e)));else{let n=r;if(s.implicit){let e;if(nx(c))e=(new c).toSchema("");else{const r=_C[c],n=t[r];if(!n)throw new Error(`Cannot get '${r}' class from asn1js module`);e=new n}e.valueBlock=n.valueBlock,n=IC(e.toBER(!1)).result}a[e]=i.fromASN(n)}}else if(s.repeated){if(!Array.isArray(r))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");a[e]=Array.from(r,(e=>this.fromASN(e,c)))}else a[e]=this.fromASN(r,c)}return a}catch(e){throw e instanceof lx&&e.schemas.push(r.name),e}}}class hx{static serialize(e){return e instanceof FI?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){if(e&&"object"==typeof e&&nx(e))return e.toASN();if(!e||"object"!=typeof e)throw new TypeError("Parameter 1 should be type of Object.");const t=e.constructor,r=ox.get(t);ox.cache(t);let n,i=[];if(r.itemType){if(!Array.isArray(e))throw new TypeError("Parameter 1 should be type of Array.");if("number"==typeof r.itemType){const n=rx(r.itemType);if(!n)throw new Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);i=e.map((e=>n.toASN(e)))}else i=e.map((e=>this.toAsnItem({type:r.itemType},"[]",t,e)))}else for(const n in r.items){const s=r.items[n],o=e[n];if(void 0===o||s.defaultValue===o||"object"==typeof s.defaultValue&&"object"==typeof o&&sx(this.serialize(s.defaultValue),this.serialize(o)))continue;const a=hx.toAsnItem(s,n,t,o);if("number"==typeof s.context)if(s.implicit)if(s.repeated||"number"!=typeof s.type&&!nx(s.type))i.push(new RC({optional:s.optional,idBlock:{tagClass:3,tagNumber:s.context},value:a.valueBlock.value}));else{const e={};e.valueHex=a instanceof NC?a.valueBeforeDecodeView:a.valueBlock.toBER(),i.push(new TC({optional:s.optional,idBlock:{tagClass:3,tagNumber:s.context},...e}))}else i.push(new RC({optional:s.optional,idBlock:{tagClass:3,tagNumber:s.context},value:[a]}));else s.repeated?i=i.concat(a):i.push(a)}switch(r.type){case vC.Sequence:n=new JC({value:i});break;case vC.Set:n=new XC({value:i});break;case vC.Choice:if(!i[0])throw new Error(`Schema '${t.name}' has wrong data. Choice cannot be empty.`);n=i[0]}return n}static toAsnItem(e,t,r,n){let i;if("number"==typeof e.type){const s=e.converter;if(!s)throw new Error(`Property '${t}' doesn't have converter for type ${_C[e.type]} in schema '${r.name}'`);if(e.repeated){if(!Array.isArray(n))throw new TypeError("Parameter 'objProp' should be type of Array.");const t=Array.from(n,(e=>s.toASN(e)));i=new("sequence"===e.repeated?JC:XC)({value:t})}else i=s.toASN(n)}else if(e.repeated){if(!Array.isArray(n))throw new TypeError("Parameter 'objProp' should be type of Array.");const t=Array.from(n,(e=>this.toASN(e)));i=new("sequence"===e.repeated?JC:XC)({value:t})}else i=this.toASN(n);return i}}class dx extends Array{constructor(e=[]){if("number"==typeof e)super(e);else{super();for(const t of e)this.push(t)}}}class fx{static serialize(e){return hx.serialize(e)}static parse(e,t){return ux.parse(e,t)}static toString(e){const t=IC(fI.vJ.isBufferSource(e)?fI.vJ.toArrayBuffer(e):fx.serialize(e));if(-1===t.offset)throw new Error(`Cannot decode ASN.1 data. ${t.result.error}`);return t.result.toString()}}function px(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}Object.create;Object.create;var gx,yx,wx,mx=__webpack_require__(1381);class bx{static decodeIP(e){if(64===e.length&&0===parseInt(e,16))return"::/0";if(16!==e.length)return e;const t=parseInt(e.slice(8),16).toString(2).split("").reduce(((e,t)=>e+ +t),0);let r=e.slice(0,8).replace(/(.{2})/g,(e=>`${parseInt(e,16)}.`));return r=r.slice(0,-1),`${r}/${t}`}static toString(e){if(4===e.byteLength||16===e.byteLength){const t=new Uint8Array(e);return mx.fromByteArray(Array.from(t)).toString()}return this.decodeIP(fI.ep.ToHex(e))}static fromString(e){const t=mx.parse(e);return new Uint8Array(t.toByteArray()).buffer}}let Ax=class{constructor(e={}){Object.assign(this,e)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};px([cx({type:_C.TeletexString})],Ax.prototype,"teletexString",void 0),px([cx({type:_C.PrintableString})],Ax.prototype,"printableString",void 0),px([cx({type:_C.UniversalString})],Ax.prototype,"universalString",void 0),px([cx({type:_C.Utf8String})],Ax.prototype,"utf8String",void 0),px([cx({type:_C.BmpString})],Ax.prototype,"bmpString",void 0),Ax=px([ax({type:vC.Choice})],Ax);let Ex=class extends Ax{constructor(e={}){super(e),Object.assign(this,e)}toString(){return this.ia5String||(this.anyValue?fI.ep.ToHex(this.anyValue):super.toString())}};px([cx({type:_C.IA5String})],Ex.prototype,"ia5String",void 0),px([cx({type:_C.Any})],Ex.prototype,"anyValue",void 0),Ex=px([ax({type:vC.Choice})],Ex);class vx{constructor(e={}){this.type="",this.value=new Ex,Object.assign(this,e)}}px([cx({type:_C.ObjectIdentifier})],vx.prototype,"type",void 0),px([cx({type:Ex})],vx.prototype,"value",void 0);let _x=gx=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,gx.prototype)}};_x=gx=px([ax({type:vC.Set,itemType:vx})],_x);let Tx=yx=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,yx.prototype)}};Tx=yx=px([ax({type:vC.Sequence,itemType:_x})],Tx);let Sx=wx=class extends Tx{constructor(e){super(e),Object.setPrototypeOf(this,wx.prototype)}};Sx=wx=px([ax({type:vC.Sequence})],Sx);const Ix={fromASN:e=>bx.toString(MR.fromASN(e)),toASN:e=>MR.toASN(bx.fromString(e))};class Cx{constructor(e={}){this.typeId="",this.value=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:_C.ObjectIdentifier})],Cx.prototype,"typeId",void 0),px([cx({type:_C.Any,context:0})],Cx.prototype,"value",void 0);class Rx{constructor(e={}){this.partyName=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:Ax,optional:!0,context:0,implicit:!0})],Rx.prototype,"nameAssigner",void 0),px([cx({type:Ax,context:1,implicit:!0})],Rx.prototype,"partyName",void 0);let xx=class{constructor(e={}){Object.assign(this,e)}};px([cx({type:Cx,context:0,implicit:!0})],xx.prototype,"otherName",void 0),px([cx({type:_C.IA5String,context:1,implicit:!0})],xx.prototype,"rfc822Name",void 0),px([cx({type:_C.IA5String,context:2,implicit:!0})],xx.prototype,"dNSName",void 0),px([cx({type:_C.Any,context:3,implicit:!0})],xx.prototype,"x400Address",void 0),px([cx({type:Sx,context:4,implicit:!1})],xx.prototype,"directoryName",void 0),px([cx({type:Rx,context:5})],xx.prototype,"ediPartyName",void 0),px([cx({type:_C.IA5String,context:6,implicit:!0})],xx.prototype,"uniformResourceIdentifier",void 0),px([cx({type:_C.OctetString,context:7,implicit:!0,converter:Ix})],xx.prototype,"iPAddress",void 0),px([cx({type:_C.ObjectIdentifier,context:8,implicit:!0})],xx.prototype,"registeredID",void 0),xx=px([ax({type:vC.Choice})],xx);var kx;class Nx{constructor(e={}){this.accessMethod="",this.accessLocation=new xx,Object.assign(this,e)}}px([cx({type:_C.ObjectIdentifier})],Nx.prototype,"accessMethod",void 0),px([cx({type:xx})],Nx.prototype,"accessLocation",void 0);let Bx=kx=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,kx.prototype)}};Bx=kx=px([ax({type:vC.Sequence,itemType:Nx})],Bx);const Ox="2.5.29.35";class Dx extends kR{}class Lx{constructor(e={}){e&&Object.assign(this,e)}}px([cx({type:Dx,context:0,optional:!0,implicit:!0})],Lx.prototype,"keyIdentifier",void 0),px([cx({type:xx,context:1,optional:!0,implicit:!0,repeated:"sequence"})],Lx.prototype,"authorityCertIssuer",void 0),px([cx({type:_C.Integer,context:2,optional:!0,implicit:!0,converter:DR})],Lx.prototype,"authorityCertSerialNumber",void 0);const Px="2.5.29.19";class Ux{constructor(e={}){this.cA=!1,Object.assign(this,e)}}var Mx;px([cx({type:_C.Boolean,defaultValue:!1})],Ux.prototype,"cA",void 0),px([cx({type:_C.Integer,optional:!0})],Ux.prototype,"pathLenConstraint",void 0);let Fx=Mx=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,Mx.prototype)}};var Hx;Fx=Mx=px([ax({type:vC.Sequence,itemType:xx})],Fx);let jx=Hx=class extends Fx{constructor(e){super(e),Object.setPrototypeOf(this,Hx.prototype)}};var zx;jx=Hx=px([ax({type:vC.Sequence})],jx);const Wx="2.5.29.32";let Gx=class{constructor(e={}){Object.assign(this,e)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""}};px([cx({type:_C.IA5String})],Gx.prototype,"ia5String",void 0),px([cx({type:_C.VisibleString})],Gx.prototype,"visibleString",void 0),px([cx({type:_C.BmpString})],Gx.prototype,"bmpString",void 0),px([cx({type:_C.Utf8String})],Gx.prototype,"utf8String",void 0),Gx=px([ax({type:vC.Choice})],Gx);class qx{constructor(e={}){this.organization=new Gx,this.noticeNumbers=[],Object.assign(this,e)}}px([cx({type:Gx})],qx.prototype,"organization",void 0),px([cx({type:_C.Integer,repeated:"sequence"})],qx.prototype,"noticeNumbers",void 0);class Qx{constructor(e={}){Object.assign(this,e)}}px([cx({type:qx,optional:!0})],Qx.prototype,"noticeRef",void 0),px([cx({type:Gx,optional:!0})],Qx.prototype,"explicitText",void 0);let Vx=class{constructor(e={}){Object.assign(this,e)}};px([cx({type:_C.IA5String})],Vx.prototype,"cPSuri",void 0),px([cx({type:Qx})],Vx.prototype,"userNotice",void 0),Vx=px([ax({type:vC.Choice})],Vx);class Kx{constructor(e={}){this.policyQualifierId="",this.qualifier=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:_C.ObjectIdentifier})],Kx.prototype,"policyQualifierId",void 0),px([cx({type:_C.Any})],Kx.prototype,"qualifier",void 0);class Yx{constructor(e={}){this.policyIdentifier="",Object.assign(this,e)}}px([cx({type:_C.ObjectIdentifier})],Yx.prototype,"policyIdentifier",void 0),px([cx({type:Kx,repeated:"sequence",optional:!0})],Yx.prototype,"policyQualifiers",void 0);let Jx=zx=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,zx.prototype)}};Jx=zx=px([ax({type:vC.Sequence,itemType:Yx})],Jx);let Xx=class{constructor(e=0){this.value=e}};px([cx({type:_C.Integer})],Xx.prototype,"value",void 0),Xx=px([ax({type:vC.Choice})],Xx);let Zx=class extends Xx{};var $x;Zx=px([ax({type:vC.Choice})],Zx);var ek;!function(e){e[e.unused=1]="unused",e[e.keyCompromise=2]="keyCompromise",e[e.cACompromise=4]="cACompromise",e[e.affiliationChanged=8]="affiliationChanged",e[e.superseded=16]="superseded",e[e.cessationOfOperation=32]="cessationOfOperation",e[e.certificateHold=64]="certificateHold",e[e.privilegeWithdrawn=128]="privilegeWithdrawn",e[e.aACompromise=256]="aACompromise"}(ek||(ek={}));class tk extends xR{toJSON(){const e=[],t=this.toNumber();return t&ek.aACompromise&&e.push("aACompromise"),t&ek.affiliationChanged&&e.push("affiliationChanged"),t&ek.cACompromise&&e.push("cACompromise"),t&ek.certificateHold&&e.push("certificateHold"),t&ek.cessationOfOperation&&e.push("cessationOfOperation"),t&ek.keyCompromise&&e.push("keyCompromise"),t&ek.privilegeWithdrawn&&e.push("privilegeWithdrawn"),t&ek.superseded&&e.push("superseded"),t&ek.unused&&e.push("unused"),e}toString(){return`[${this.toJSON().join(", ")}]`}}let rk=class{constructor(e={}){Object.assign(this,e)}};px([cx({type:xx,context:0,repeated:"sequence",implicit:!0})],rk.prototype,"fullName",void 0),px([cx({type:_x,context:1,implicit:!0})],rk.prototype,"nameRelativeToCRLIssuer",void 0),rk=px([ax({type:vC.Choice})],rk);class nk{constructor(e={}){Object.assign(this,e)}}px([cx({type:rk,context:0,optional:!0})],nk.prototype,"distributionPoint",void 0),px([cx({type:tk,context:1,optional:!0,implicit:!0})],nk.prototype,"reasons",void 0),px([cx({type:xx,context:2,optional:!0,repeated:"sequence",implicit:!0})],nk.prototype,"cRLIssuer",void 0);let ik=$x=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,$x.prototype)}};var sk;ik=$x=px([ax({type:vC.Sequence,itemType:nk})],ik);let ok=sk=class extends ik{constructor(e){super(e),Object.setPrototypeOf(this,sk.prototype)}};ok=sk=px([ax({type:vC.Sequence,itemType:nk})],ok);class ak{constructor(e={}){this.onlyContainsUserCerts=ak.ONLY,this.onlyContainsCACerts=ak.ONLY,this.indirectCRL=ak.ONLY,this.onlyContainsAttributeCerts=ak.ONLY,Object.assign(this,e)}}ak.ONLY=!1,px([cx({type:rk,context:0,optional:!0})],ak.prototype,"distributionPoint",void 0),px([cx({type:_C.Boolean,context:1,defaultValue:ak.ONLY,implicit:!0})],ak.prototype,"onlyContainsUserCerts",void 0),px([cx({type:_C.Boolean,context:2,defaultValue:ak.ONLY,implicit:!0})],ak.prototype,"onlyContainsCACerts",void 0),px([cx({type:tk,context:3,optional:!0,implicit:!0})],ak.prototype,"onlySomeReasons",void 0),px([cx({type:_C.Boolean,context:4,defaultValue:ak.ONLY,implicit:!0})],ak.prototype,"indirectCRL",void 0),px([cx({type:_C.Boolean,context:5,defaultValue:ak.ONLY,implicit:!0})],ak.prototype,"onlyContainsAttributeCerts",void 0);var ck;!function(e){e[e.unspecified=0]="unspecified",e[e.keyCompromise=1]="keyCompromise",e[e.cACompromise=2]="cACompromise",e[e.affiliationChanged=3]="affiliationChanged",e[e.superseded=4]="superseded",e[e.cessationOfOperation=5]="cessationOfOperation",e[e.certificateHold=6]="certificateHold",e[e.removeFromCRL=8]="removeFromCRL",e[e.privilegeWithdrawn=9]="privilegeWithdrawn",e[e.aACompromise=10]="aACompromise"}(ck||(ck={}));let lk=class{constructor(e=ck.unspecified){this.reason=ck.unspecified,this.reason=e}toJSON(){return ck[this.reason]}toString(){return this.toJSON()}};var uk;px([cx({type:_C.Enumerated})],lk.prototype,"reason",void 0),lk=px([ax({type:vC.Choice})],lk);const hk="2.5.29.37";let dk=uk=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,uk.prototype)}};dk=uk=px([ax({type:vC.Sequence,itemType:_C.ObjectIdentifier})],dk);let fk=class{constructor(e=new ArrayBuffer(0)){this.value=e}};px([cx({type:_C.Integer,converter:DR})],fk.prototype,"value",void 0),fk=px([ax({type:vC.Choice})],fk);let pk=class{constructor(e){this.value=new Date,e&&(this.value=e)}};var gk;px([cx({type:_C.GeneralizedTime})],pk.prototype,"value",void 0),pk=px([ax({type:vC.Choice})],pk);let yk=gk=class extends Fx{constructor(e){super(e),Object.setPrototypeOf(this,gk.prototype)}};yk=gk=px([ax({type:vC.Sequence})],yk);const wk="2.5.29.15";var mk,bk;!function(e){e[e.digitalSignature=1]="digitalSignature",e[e.nonRepudiation=2]="nonRepudiation",e[e.keyEncipherment=4]="keyEncipherment",e[e.dataEncipherment=8]="dataEncipherment",e[e.keyAgreement=16]="keyAgreement",e[e.keyCertSign=32]="keyCertSign",e[e.cRLSign=64]="cRLSign",e[e.encipherOnly=128]="encipherOnly",e[e.decipherOnly=256]="decipherOnly"}(mk||(mk={}));class Ak extends xR{toJSON(){const e=this.toNumber(),t=[];return e&mk.cRLSign&&t.push("crlSign"),e&mk.dataEncipherment&&t.push("dataEncipherment"),e&mk.decipherOnly&&t.push("decipherOnly"),e&mk.digitalSignature&&t.push("digitalSignature"),e&mk.encipherOnly&&t.push("encipherOnly"),e&mk.keyAgreement&&t.push("keyAgreement"),e&mk.keyCertSign&&t.push("keyCertSign"),e&mk.keyEncipherment&&t.push("keyEncipherment"),e&mk.nonRepudiation&&t.push("nonRepudiation"),t}toString(){return`[${this.toJSON().join(", ")}]`}}class Ek{constructor(e={}){this.base=new xx,this.minimum=0,Object.assign(this,e)}}px([cx({type:xx})],Ek.prototype,"base",void 0),px([cx({type:_C.Integer,context:0,defaultValue:0,implicit:!0})],Ek.prototype,"minimum",void 0),px([cx({type:_C.Integer,context:1,optional:!0,implicit:!0})],Ek.prototype,"maximum",void 0);let vk=bk=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,bk.prototype)}};vk=bk=px([ax({type:vC.Sequence,itemType:Ek})],vk);class _k{constructor(e={}){Object.assign(this,e)}}px([cx({type:vk,context:0,optional:!0,implicit:!0})],_k.prototype,"permittedSubtrees",void 0),px([cx({type:vk,context:1,optional:!0,implicit:!0})],_k.prototype,"excludedSubtrees",void 0);class Tk{constructor(e={}){Object.assign(this,e)}}var Sk;px([cx({type:_C.Integer,context:0,implicit:!0,optional:!0,converter:DR})],Tk.prototype,"requireExplicitPolicy",void 0),px([cx({type:_C.Integer,context:1,implicit:!0,optional:!0,converter:DR})],Tk.prototype,"inhibitPolicyMapping",void 0);class Ik{constructor(e={}){this.issuerDomainPolicy="",this.subjectDomainPolicy="",Object.assign(this,e)}}px([cx({type:_C.ObjectIdentifier})],Ik.prototype,"issuerDomainPolicy",void 0),px([cx({type:_C.ObjectIdentifier})],Ik.prototype,"subjectDomainPolicy",void 0);let Ck=Sk=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,Sk.prototype)}};var Rk;Ck=Sk=px([ax({type:vC.Sequence,itemType:Ik})],Ck);const xk="2.5.29.17";let kk=Rk=class extends Fx{constructor(e){super(e),Object.setPrototypeOf(this,Rk.prototype)}};kk=Rk=px([ax({type:vC.Sequence})],kk);class Nk{constructor(e={}){this.type="",this.values=[],Object.assign(this,e)}}var Bk;px([cx({type:_C.ObjectIdentifier})],Nk.prototype,"type",void 0),px([cx({type:_C.Any,repeated:"set"})],Nk.prototype,"values",void 0);let Ok=Bk=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,Bk.prototype)}};Ok=Bk=px([ax({type:vC.Sequence,itemType:Nk})],Ok);const Dk="2.5.29.14";class Lk extends Dx{}class Pk{constructor(e={}){Object.assign(this,e)}}px([cx({type:_C.GeneralizedTime,context:0,implicit:!0,optional:!0})],Pk.prototype,"notBefore",void 0),px([cx({type:_C.GeneralizedTime,context:1,implicit:!0,optional:!0})],Pk.prototype,"notAfter",void 0);var Uk,Mk;!function(e){e[e.keyUpdateAllowed=1]="keyUpdateAllowed",e[e.newExtensions=2]="newExtensions",e[e.pKIXCertificate=4]="pKIXCertificate"}(Uk||(Uk={}));class Fk extends xR{toJSON(){const e=[],t=this.toNumber();return t&Uk.pKIXCertificate&&e.push("pKIXCertificate"),t&Uk.newExtensions&&e.push("newExtensions"),t&Uk.keyUpdateAllowed&&e.push("keyUpdateAllowed"),e}toString(){return`[${this.toJSON().join(", ")}]`}}class Hk{constructor(e={}){this.entrustVers="",this.entrustInfoFlags=new Fk,Object.assign(this,e)}}px([cx({type:_C.GeneralString})],Hk.prototype,"entrustVers",void 0),px([cx({type:Fk})],Hk.prototype,"entrustInfoFlags",void 0);let jk=Mk=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,Mk.prototype)}};jk=Mk=px([ax({type:vC.Sequence,itemType:Nx})],jk);class zk{constructor(e={}){this.algorithm="",Object.assign(this,e)}isEqual(e){return e instanceof zk&&e.algorithm==this.algorithm&&(e.parameters&&this.parameters&&fI.Xy(e.parameters,this.parameters)||e.parameters===this.parameters)}}px([cx({type:_C.ObjectIdentifier})],zk.prototype,"algorithm",void 0),px([cx({type:_C.Any,optional:!0})],zk.prototype,"parameters",void 0);class Wk{constructor(e={}){this.algorithm=new zk,this.subjectPublicKey=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:zk})],Wk.prototype,"algorithm",void 0),px([cx({type:_C.BitString})],Wk.prototype,"subjectPublicKey",void 0);let Gk=class{constructor(e){if(e)if("string"==typeof e||"number"==typeof e||e instanceof Date){const t=new Date(e);t.getUTCFullYear()>2049?this.generalTime=t:this.utcTime=t}else Object.assign(this,e)}getTime(){const e=this.utcTime||this.generalTime;if(!e)throw new Error("Cannot get time from CHOICE object");return e}};px([cx({type:_C.UTCTime})],Gk.prototype,"utcTime",void 0),px([cx({type:_C.GeneralizedTime})],Gk.prototype,"generalTime",void 0),Gk=px([ax({type:vC.Choice})],Gk);class qk{constructor(e){this.notBefore=new Gk(new Date),this.notAfter=new Gk(new Date),e&&(this.notBefore=new Gk(e.notBefore),this.notAfter=new Gk(e.notAfter))}}var Qk;px([cx({type:Gk})],qk.prototype,"notBefore",void 0),px([cx({type:Gk})],qk.prototype,"notAfter",void 0);class Vk{constructor(e={}){this.extnID="",this.critical=Vk.CRITICAL,this.extnValue=new kR,Object.assign(this,e)}}Vk.CRITICAL=!1,px([cx({type:_C.ObjectIdentifier})],Vk.prototype,"extnID",void 0),px([cx({type:_C.Boolean,defaultValue:Vk.CRITICAL})],Vk.prototype,"critical",void 0),px([cx({type:kR})],Vk.prototype,"extnValue",void 0);let Kk=Qk=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,Qk.prototype)}};var Yk,Jk;Kk=Qk=px([ax({type:vC.Sequence,itemType:Vk})],Kk),function(e){e[e.v1=0]="v1",e[e.v2=1]="v2",e[e.v3=2]="v3"}(Yk||(Yk={}));class Xk{constructor(e={}){this.version=Yk.v1,this.serialNumber=new ArrayBuffer(0),this.signature=new zk,this.issuer=new Sx,this.validity=new qk,this.subject=new Sx,this.subjectPublicKeyInfo=new Wk,Object.assign(this,e)}}px([cx({type:_C.Integer,context:0,defaultValue:Yk.v1})],Xk.prototype,"version",void 0),px([cx({type:_C.Integer,converter:DR})],Xk.prototype,"serialNumber",void 0),px([cx({type:zk})],Xk.prototype,"signature",void 0),px([cx({type:Sx})],Xk.prototype,"issuer",void 0),px([cx({type:qk})],Xk.prototype,"validity",void 0),px([cx({type:Sx})],Xk.prototype,"subject",void 0),px([cx({type:Wk})],Xk.prototype,"subjectPublicKeyInfo",void 0),px([cx({type:_C.BitString,context:1,implicit:!0,optional:!0})],Xk.prototype,"issuerUniqueID",void 0),px([cx({type:_C.BitString,context:2,implicit:!0,optional:!0})],Xk.prototype,"subjectUniqueID",void 0),px([cx({type:Kk,context:3,optional:!0})],Xk.prototype,"extensions",void 0);class Zk{constructor(e={}){this.tbsCertificate=new Xk,this.signatureAlgorithm=new zk,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:Xk})],Zk.prototype,"tbsCertificate",void 0),px([cx({type:zk})],Zk.prototype,"signatureAlgorithm",void 0),px([cx({type:_C.BitString})],Zk.prototype,"signatureValue",void 0);class $k{constructor(e={}){this.userCertificate=new ArrayBuffer(0),this.revocationDate=new Gk,Object.assign(this,e)}}px([cx({type:_C.Integer,converter:DR})],$k.prototype,"userCertificate",void 0),px([cx({type:Gk})],$k.prototype,"revocationDate",void 0),px([cx({type:Vk,optional:!0,repeated:"sequence"})],$k.prototype,"crlEntryExtensions",void 0);class eN{constructor(e={}){this.signature=new zk,this.issuer=new Sx,this.thisUpdate=new Gk,Object.assign(this,e)}}px([cx({type:_C.Integer,optional:!0})],eN.prototype,"version",void 0),px([cx({type:zk})],eN.prototype,"signature",void 0),px([cx({type:Sx})],eN.prototype,"issuer",void 0),px([cx({type:Gk})],eN.prototype,"thisUpdate",void 0),px([cx({type:Gk,optional:!0})],eN.prototype,"nextUpdate",void 0),px([cx({type:$k,repeated:"sequence",optional:!0})],eN.prototype,"revokedCertificates",void 0),px([cx({type:Vk,optional:!0,context:0,repeated:"sequence"})],eN.prototype,"crlExtensions",void 0);class tN{constructor(e={}){this.tbsCertList=new eN,this.signatureAlgorithm=new zk,this.signature=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:eN})],tN.prototype,"tbsCertList",void 0),px([cx({type:zk})],tN.prototype,"signatureAlgorithm",void 0),px([cx({type:_C.BitString})],tN.prototype,"signature",void 0);class rN{constructor(e={}){this.attrType="",this.attrValues=[],Object.assign(this,e)}}px([cx({type:_C.ObjectIdentifier})],rN.prototype,"attrType",void 0),px([cx({type:_C.Any,repeated:"set"})],rN.prototype,"attrValues",void 0);class nN{constructor(e={}){this.acIssuer=new xx,this.acSerial=0,this.attrs=[],Object.assign(this,e)}}px([cx({type:xx})],nN.prototype,"acIssuer",void 0),px([cx({type:_C.Integer})],nN.prototype,"acSerial",void 0),px([cx({type:Nk,repeated:"sequence"})],nN.prototype,"attrs",void 0);let iN=Jk=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,Jk.prototype)}};iN=Jk=px([ax({type:vC.Sequence,itemType:_C.ObjectIdentifier})],iN);class sN{constructor(e={}){this.permitUnSpecified=!0,Object.assign(this,e)}}px([cx({type:_C.Integer,optional:!0})],sN.prototype,"pathLenConstraint",void 0),px([cx({type:iN,implicit:!0,context:0,optional:!0})],sN.prototype,"permittedAttrs",void 0),px([cx({type:iN,implicit:!0,context:1,optional:!0})],sN.prototype,"excludedAttrs",void 0),px([cx({type:_C.Boolean,defaultValue:!0})],sN.prototype,"permitUnSpecified",void 0);class oN{constructor(e={}){this.issuer=new Fx,this.serial=new ArrayBuffer(0),this.issuerUID=new ArrayBuffer(0),Object.assign(this,e)}}var aN;px([cx({type:Fx})],oN.prototype,"issuer",void 0),px([cx({type:_C.Integer,converter:DR})],oN.prototype,"serial",void 0),px([cx({type:_C.BitString,optional:!0})],oN.prototype,"issuerUID",void 0),function(e){e[e.publicKey=0]="publicKey",e[e.publicKeyCert=1]="publicKeyCert",e[e.otherObjectTypes=2]="otherObjectTypes"}(aN||(aN={}));class cN{constructor(e={}){this.digestedObjectType=aN.publicKey,this.digestAlgorithm=new zk,this.objectDigest=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:_C.Enumerated})],cN.prototype,"digestedObjectType",void 0),px([cx({type:_C.ObjectIdentifier,optional:!0})],cN.prototype,"otherObjectTypeID",void 0),px([cx({type:zk})],cN.prototype,"digestAlgorithm",void 0),px([cx({type:_C.BitString})],cN.prototype,"objectDigest",void 0);class lN{constructor(e={}){Object.assign(this,e)}}px([cx({type:Fx,optional:!0})],lN.prototype,"issuerName",void 0),px([cx({type:oN,context:0,implicit:!0,optional:!0})],lN.prototype,"baseCertificateID",void 0),px([cx({type:cN,context:1,implicit:!0,optional:!0})],lN.prototype,"objectDigestInfo",void 0);let uN=class{constructor(e={}){Object.assign(this,e)}};px([cx({type:xx,repeated:"sequence"})],uN.prototype,"v1Form",void 0),px([cx({type:lN,context:0,implicit:!0})],uN.prototype,"v2Form",void 0),uN=px([ax({type:vC.Choice})],uN);class hN{constructor(e={}){this.notBeforeTime=new Date,this.notAfterTime=new Date,Object.assign(this,e)}}px([cx({type:_C.GeneralizedTime})],hN.prototype,"notBeforeTime",void 0),px([cx({type:_C.GeneralizedTime})],hN.prototype,"notAfterTime",void 0);class dN{constructor(e={}){Object.assign(this,e)}}var fN,pN;px([cx({type:oN,implicit:!0,context:0,optional:!0})],dN.prototype,"baseCertificateID",void 0),px([cx({type:Fx,implicit:!0,context:1,optional:!0})],dN.prototype,"entityName",void 0),px([cx({type:cN,implicit:!0,context:2,optional:!0})],dN.prototype,"objectDigestInfo",void 0),function(e){e[e.v2=1]="v2"}(fN||(fN={}));class gN{constructor(e={}){this.version=fN.v2,this.holder=new dN,this.issuer=new uN,this.signature=new zk,this.serialNumber=new ArrayBuffer(0),this.attrCertValidityPeriod=new hN,this.attributes=[],Object.assign(this,e)}}px([cx({type:_C.Integer})],gN.prototype,"version",void 0),px([cx({type:dN})],gN.prototype,"holder",void 0),px([cx({type:uN})],gN.prototype,"issuer",void 0),px([cx({type:zk})],gN.prototype,"signature",void 0),px([cx({type:_C.Integer,converter:DR})],gN.prototype,"serialNumber",void 0),px([cx({type:hN})],gN.prototype,"attrCertValidityPeriod",void 0),px([cx({type:Nk,repeated:"sequence"})],gN.prototype,"attributes",void 0),px([cx({type:_C.BitString,optional:!0})],gN.prototype,"issuerUniqueID",void 0),px([cx({type:Kk,optional:!0})],gN.prototype,"extensions",void 0);class yN{constructor(e={}){this.acinfo=new gN,this.signatureAlgorithm=new zk,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:gN})],yN.prototype,"acinfo",void 0),px([cx({type:zk})],yN.prototype,"signatureAlgorithm",void 0),px([cx({type:_C.BitString})],yN.prototype,"signatureValue",void 0),function(e){e[e.unmarked=1]="unmarked",e[e.unclassified=2]="unclassified",e[e.restricted=4]="restricted",e[e.confidential=8]="confidential",e[e.secret=16]="secret",e[e.topSecret=32]="topSecret"}(pN||(pN={}));class wN extends xR{}class mN{constructor(e={}){this.type="",this.value=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:_C.ObjectIdentifier,implicit:!0,context:0})],mN.prototype,"type",void 0),px([cx({type:_C.Any,implicit:!0,context:1})],mN.prototype,"value",void 0);class bN{constructor(e={}){this.policyId="",this.classList=new wN(pN.unclassified),Object.assign(this,e)}}px([cx({type:_C.ObjectIdentifier})],bN.prototype,"policyId",void 0),px([cx({type:wN,defaultValue:new wN(pN.unclassified)})],bN.prototype,"classList",void 0),px([cx({type:mN,repeated:"set"})],bN.prototype,"securityCategories",void 0);class AN{constructor(e={}){Object.assign(this,e)}}px([cx({type:kR})],AN.prototype,"cotets",void 0),px([cx({type:_C.ObjectIdentifier})],AN.prototype,"oid",void 0),px([cx({type:_C.Utf8String})],AN.prototype,"string",void 0);class EN{constructor(e={}){this.values=[],Object.assign(this,e)}}px([cx({type:Fx,implicit:!0,context:0,optional:!0})],EN.prototype,"policyAuthority",void 0),px([cx({type:AN,repeated:"sequence"})],EN.prototype,"values",void 0);var vN;class _N{constructor(e={}){this.targetCertificate=new oN,Object.assign(this,e)}}px([cx({type:oN})],_N.prototype,"targetCertificate",void 0),px([cx({type:xx,optional:!0})],_N.prototype,"targetName",void 0),px([cx({type:cN,optional:!0})],_N.prototype,"certDigestInfo",void 0);let TN=class{constructor(e={}){Object.assign(this,e)}};px([cx({type:xx,context:0,implicit:!0})],TN.prototype,"targetName",void 0),px([cx({type:xx,context:1,implicit:!0})],TN.prototype,"targetGroup",void 0),px([cx({type:_N,context:2,implicit:!0})],TN.prototype,"targetCert",void 0),TN=px([ax({type:vC.Choice})],TN);let SN=vN=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,vN.prototype)}};var IN;SN=vN=px([ax({type:vC.Sequence,itemType:TN})],SN);let CN=IN=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,IN.prototype)}};CN=IN=px([ax({type:vC.Sequence,itemType:SN})],CN);class RN{constructor(e={}){Object.assign(this,e)}}px([cx({type:Fx,implicit:!0,context:0,optional:!0})],RN.prototype,"roleAuthority",void 0),px([cx({type:xx,implicit:!0,context:1})],RN.prototype,"roleName",void 0);class xN{constructor(e={}){this.service=new xx,this.ident=new xx,Object.assign(this,e)}}var kN;px([cx({type:xx})],xN.prototype,"service",void 0),px([cx({type:xx})],xN.prototype,"ident",void 0),px([cx({type:kR,optional:!0})],xN.prototype,"authInfo",void 0);class NN{constructor(e={}){this.otherCertFormat="",this.otherCert=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:_C.ObjectIdentifier})],NN.prototype,"otherCertFormat",void 0),px([cx({type:_C.Any})],NN.prototype,"otherCert",void 0);let BN=class{constructor(e={}){Object.assign(this,e)}};px([cx({type:Zk})],BN.prototype,"certificate",void 0),px([cx({type:yN,context:2,implicit:!0})],BN.prototype,"v2AttrCert",void 0),px([cx({type:NN,context:3,implicit:!0})],BN.prototype,"other",void 0),BN=px([ax({type:vC.Choice})],BN);let ON=kN=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,kN.prototype)}};ON=kN=px([ax({type:vC.Set,itemType:BN})],ON);class DN{constructor(e={}){this.contentType="",this.content=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:_C.ObjectIdentifier})],DN.prototype,"contentType",void 0),px([cx({type:_C.Any,context:0})],DN.prototype,"content",void 0);let LN=class{constructor(e={}){Object.assign(this,e)}};px([cx({type:kR})],LN.prototype,"single",void 0),px([cx({type:_C.Any})],LN.prototype,"any",void 0),LN=px([ax({type:vC.Choice})],LN);class PN{constructor(e={}){this.eContentType="",Object.assign(this,e)}}var UN;px([cx({type:_C.ObjectIdentifier})],PN.prototype,"eContentType",void 0),px([cx({type:LN,context:0,optional:!0})],PN.prototype,"eContent",void 0),function(e){e[e.v0=0]="v0",e[e.v1=1]="v1",e[e.v2=2]="v2",e[e.v3=3]="v3",e[e.v4=4]="v4",e[e.v5=5]="v5"}(UN||(UN={}));let MN=class extends zk{};MN=px([ax({type:vC.Sequence})],MN);let FN=class extends zk{};FN=px([ax({type:vC.Sequence})],FN);let HN=class extends zk{};HN=px([ax({type:vC.Sequence})],HN);let jN=class extends zk{};jN=px([ax({type:vC.Sequence})],jN);let zN=class extends zk{};zN=px([ax({type:vC.Sequence})],zN);let WN=class extends zk{};WN=px([ax({type:vC.Sequence})],WN);let GN=class{constructor(e={}){Object.assign(this,e)}};px([cx({type:kR,context:0,implicit:!0,optional:!0})],GN.prototype,"value",void 0),px([cx({type:kR,converter:FR,context:0,implicit:!0,optional:!0,repeated:"sequence"})],GN.prototype,"constructedValue",void 0),GN=px([ax({type:vC.Choice})],GN);class qN{constructor(e={}){this.contentType="",this.contentEncryptionAlgorithm=new jN,Object.assign(this,e)}}px([cx({type:_C.ObjectIdentifier})],qN.prototype,"contentType",void 0),px([cx({type:jN})],qN.prototype,"contentEncryptionAlgorithm",void 0),px([cx({type:GN,optional:!0})],qN.prototype,"encryptedContent",void 0);class QN{constructor(e={}){this.issuer=new Sx,this.serialNumber=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:Sx})],QN.prototype,"issuer",void 0),px([cx({type:_C.Integer,converter:DR})],QN.prototype,"serialNumber",void 0);class VN{constructor(e={}){this.keyAttrId="",Object.assign(this,e)}}var KN;px([cx({type:_C.ObjectIdentifier})],VN.prototype,"keyAttrId",void 0),px([cx({type:_C.Any,optional:!0})],VN.prototype,"keyAttr",void 0);class YN{constructor(e={}){this.subjectKeyIdentifier=new Lk,Object.assign(this,e)}}px([cx({type:Lk})],YN.prototype,"subjectKeyIdentifier",void 0),px([cx({type:_C.GeneralizedTime,optional:!0})],YN.prototype,"date",void 0),px([cx({type:VN,optional:!0})],YN.prototype,"other",void 0);let JN=class{constructor(e={}){Object.assign(this,e)}};px([cx({type:YN,context:0,implicit:!0,optional:!0})],JN.prototype,"rKeyId",void 0),px([cx({type:QN,optional:!0})],JN.prototype,"issuerAndSerialNumber",void 0),JN=px([ax({type:vC.Choice})],JN);class XN{constructor(e={}){this.rid=new JN,this.encryptedKey=new kR,Object.assign(this,e)}}px([cx({type:JN})],XN.prototype,"rid",void 0),px([cx({type:kR})],XN.prototype,"encryptedKey",void 0);let ZN=KN=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,KN.prototype)}};ZN=KN=px([ax({type:vC.Sequence,itemType:XN})],ZN);class $N{constructor(e={}){this.algorithm=new zk,this.publicKey=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:zk})],$N.prototype,"algorithm",void 0),px([cx({type:_C.BitString})],$N.prototype,"publicKey",void 0);let eB=class{constructor(e={}){Object.assign(this,e)}};px([cx({type:Lk,context:0,implicit:!0,optional:!0})],eB.prototype,"subjectKeyIdentifier",void 0),px([cx({type:$N,context:1,implicit:!0,optional:!0})],eB.prototype,"originatorKey",void 0),px([cx({type:QN,optional:!0})],eB.prototype,"issuerAndSerialNumber",void 0),eB=px([ax({type:vC.Choice})],eB);class tB{constructor(e={}){this.version=UN.v3,this.originator=new eB,this.keyEncryptionAlgorithm=new HN,this.recipientEncryptedKeys=new ZN,Object.assign(this,e)}}px([cx({type:_C.Integer})],tB.prototype,"version",void 0),px([cx({type:eB,context:0})],tB.prototype,"originator",void 0),px([cx({type:kR,context:1,optional:!0})],tB.prototype,"ukm",void 0),px([cx({type:HN})],tB.prototype,"keyEncryptionAlgorithm",void 0),px([cx({type:ZN})],tB.prototype,"recipientEncryptedKeys",void 0);let rB=class{constructor(e={}){Object.assign(this,e)}};px([cx({type:Lk,context:0,implicit:!0})],rB.prototype,"subjectKeyIdentifier",void 0),px([cx({type:QN})],rB.prototype,"issuerAndSerialNumber",void 0),rB=px([ax({type:vC.Choice})],rB);class nB{constructor(e={}){this.version=UN.v0,this.rid=new rB,this.keyEncryptionAlgorithm=new HN,this.encryptedKey=new kR,Object.assign(this,e)}}px([cx({type:_C.Integer})],nB.prototype,"version",void 0),px([cx({type:rB})],nB.prototype,"rid",void 0),px([cx({type:HN})],nB.prototype,"keyEncryptionAlgorithm",void 0),px([cx({type:kR})],nB.prototype,"encryptedKey",void 0);class iB{constructor(e={}){this.keyIdentifier=new kR,Object.assign(this,e)}}px([cx({type:kR})],iB.prototype,"keyIdentifier",void 0),px([cx({type:_C.GeneralizedTime,optional:!0})],iB.prototype,"date",void 0),px([cx({type:VN,optional:!0})],iB.prototype,"other",void 0);class sB{constructor(e={}){this.version=UN.v4,this.kekid=new iB,this.keyEncryptionAlgorithm=new HN,this.encryptedKey=new kR,Object.assign(this,e)}}px([cx({type:_C.Integer})],sB.prototype,"version",void 0),px([cx({type:iB})],sB.prototype,"kekid",void 0),px([cx({type:HN})],sB.prototype,"keyEncryptionAlgorithm",void 0),px([cx({type:kR})],sB.prototype,"encryptedKey",void 0);class oB{constructor(e={}){this.version=UN.v0,this.keyEncryptionAlgorithm=new HN,this.encryptedKey=new kR,Object.assign(this,e)}}px([cx({type:_C.Integer})],oB.prototype,"version",void 0),px([cx({type:WN,context:0,optional:!0})],oB.prototype,"keyDerivationAlgorithm",void 0),px([cx({type:HN})],oB.prototype,"keyEncryptionAlgorithm",void 0),px([cx({type:kR})],oB.prototype,"encryptedKey",void 0);class aB{constructor(e={}){this.oriType="",this.oriValue=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:_C.ObjectIdentifier})],aB.prototype,"oriType",void 0),px([cx({type:_C.Any})],aB.prototype,"oriValue",void 0);let cB=class{constructor(e={}){Object.assign(this,e)}};var lB;px([cx({type:nB,optional:!0})],cB.prototype,"ktri",void 0),px([cx({type:tB,context:1,implicit:!0,optional:!0})],cB.prototype,"kari",void 0),px([cx({type:sB,context:2,implicit:!0,optional:!0})],cB.prototype,"kekri",void 0),px([cx({type:oB,context:3,implicit:!0,optional:!0})],cB.prototype,"pwri",void 0),px([cx({type:aB,context:4,implicit:!0,optional:!0})],cB.prototype,"ori",void 0),cB=px([ax({type:vC.Choice})],cB);let uB=lB=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,lB.prototype)}};var hB;uB=lB=px([ax({type:vC.Set,itemType:cB})],uB);class dB{constructor(e={}){this.otherRevInfoFormat="",this.otherRevInfo=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:_C.ObjectIdentifier})],dB.prototype,"otherRevInfoFormat",void 0),px([cx({type:_C.Any})],dB.prototype,"otherRevInfo",void 0);let fB=class{constructor(e={}){this.other=new dB,Object.assign(this,e)}};px([cx({type:dB,context:1,implicit:!0})],fB.prototype,"other",void 0),fB=px([ax({type:vC.Choice})],fB);let pB=hB=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,hB.prototype)}};pB=hB=px([ax({type:vC.Set,itemType:fB})],pB);class gB{constructor(e={}){Object.assign(this,e)}}var yB;px([cx({type:ON,context:0,implicit:!0,optional:!0})],gB.prototype,"certs",void 0),px([cx({type:pB,context:1,implicit:!0,optional:!0})],gB.prototype,"crls",void 0);let wB=yB=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,yB.prototype)}};wB=yB=px([ax({type:vC.Set,itemType:rN})],wB);class mB{constructor(e={}){this.version=UN.v0,this.recipientInfos=new uB,this.encryptedContentInfo=new qN,Object.assign(this,e)}}px([cx({type:_C.Integer})],mB.prototype,"version",void 0),px([cx({type:gB,context:0,implicit:!0,optional:!0})],mB.prototype,"originatorInfo",void 0),px([cx({type:uB})],mB.prototype,"recipientInfos",void 0),px([cx({type:qN})],mB.prototype,"encryptedContentInfo",void 0),px([cx({type:wB,context:1,implicit:!0,optional:!0})],mB.prototype,"unprotectedAttrs",void 0);let bB=class{constructor(e={}){Object.assign(this,e)}};var AB;px([cx({type:Lk,context:0,implicit:!0})],bB.prototype,"subjectKeyIdentifier",void 0),px([cx({type:QN})],bB.prototype,"issuerAndSerialNumber",void 0),bB=px([ax({type:vC.Choice})],bB);class EB{constructor(e={}){this.version=UN.v0,this.sid=new bB,this.digestAlgorithm=new MN,this.signatureAlgorithm=new FN,this.signature=new kR,Object.assign(this,e)}}px([cx({type:_C.Integer})],EB.prototype,"version",void 0),px([cx({type:bB})],EB.prototype,"sid",void 0),px([cx({type:MN})],EB.prototype,"digestAlgorithm",void 0),px([cx({type:rN,repeated:"set",context:0,implicit:!0,optional:!0})],EB.prototype,"signedAttrs",void 0),px([cx({type:FN})],EB.prototype,"signatureAlgorithm",void 0),px([cx({type:kR})],EB.prototype,"signature",void 0),px([cx({type:rN,repeated:"set",context:1,implicit:!0,optional:!0})],EB.prototype,"unsignedAttrs",void 0);let vB=AB=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,AB.prototype)}};var _B;vB=AB=px([ax({type:vC.Set,itemType:EB})],vB);let TB=_B=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,_B.prototype)}};TB=_B=px([ax({type:vC.Set,itemType:MN})],TB);class SB{constructor(e={}){this.version=UN.v0,this.digestAlgorithms=new TB,this.encapContentInfo=new PN,this.signerInfos=new vB,Object.assign(this,e)}}px([cx({type:_C.Integer})],SB.prototype,"version",void 0),px([cx({type:TB})],SB.prototype,"digestAlgorithms",void 0),px([cx({type:PN})],SB.prototype,"encapContentInfo",void 0),px([cx({type:ON,context:0,implicit:!0,optional:!0})],SB.prototype,"certificates",void 0),px([cx({type:fB,context:1,implicit:!0,optional:!0})],SB.prototype,"crls",void 0),px([cx({type:vB})],SB.prototype,"signerInfos",void 0);const IB="1.2.840.10045.2.1",CB="1.2.840.10045.4.1",RB="1.2.840.10045.4.3.1",xB="1.2.840.10045.4.3.2",kB="1.2.840.10045.4.3.3",NB="1.2.840.10045.4.3.4",BB="1.2.840.10045.3.1.7",OB="1.3.132.0.34",DB="1.3.132.0.35";function LB(e){return new zk({algorithm:e})}const PB=LB(CB),UB=(LB(RB),LB(xB)),MB=LB(kB),FB=LB(NB);let HB=class{constructor(e={}){Object.assign(this,e)}};px([cx({type:_C.ObjectIdentifier})],HB.prototype,"namedCurve",void 0),HB=px([ax({type:vC.Choice})],HB);class jB{constructor(e={}){this.version=1,this.privateKey=new kR,Object.assign(this,e)}}px([cx({type:_C.Integer})],jB.prototype,"version",void 0),px([cx({type:kR})],jB.prototype,"privateKey",void 0),px([cx({type:HB,context:0,optional:!0})],jB.prototype,"parameters",void 0),px([cx({type:_C.BitString,context:1,optional:!0})],jB.prototype,"publicKey",void 0);class zB{constructor(e={}){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:_C.Integer,converter:DR})],zB.prototype,"r",void 0),px([cx({type:_C.Integer,converter:DR})],zB.prototype,"s",void 0);const WB="1.2.840.113549.1.1.1",GB="1.2.840.113549.1.1.5",qB="1.2.840.113549.1.1.14",QB="1.2.840.113549.1.1.11",VB="1.2.840.113549.1.1.12",KB="1.2.840.113549.1.1.13",YB="1.2.840.113549.1.1.15",JB="1.2.840.113549.1.1.16",XB="1.3.14.3.2.26",ZB="2.16.840.1.101.3.4.2.4",$B="2.16.840.1.101.3.4.2.1",eO="2.16.840.1.101.3.4.2.2",tO="2.16.840.1.101.3.4.2.3",rO="1.2.840.113549.1.1.8";function nO(e){return new zk({algorithm:e,parameters:null})}nO("1.2.840.113549.2.2"),nO("1.2.840.113549.2.5");const iO=nO(XB),sO=(nO(ZB),nO($B),nO(eO),nO(tO),nO("2.16.840.1.101.3.4.2.5"),nO("2.16.840.1.101.3.4.2.6"),new zk({algorithm:rO,parameters:fx.serialize(iO)})),oO=new zk({algorithm:"1.2.840.113549.1.1.9",parameters:fx.serialize(MR.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))});nO(WB),nO("1.2.840.113549.1.1.2"),nO("1.2.840.113549.1.1.4"),nO(GB),nO(YB),nO(JB),nO(VB),nO(KB),nO(YB),nO(JB);class aO{constructor(e={}){this.hashAlgorithm=new zk(iO),this.maskGenAlgorithm=new zk({algorithm:rO,parameters:fx.serialize(iO)}),this.pSourceAlgorithm=new zk(oO),Object.assign(this,e)}}px([cx({type:zk,context:0,defaultValue:iO})],aO.prototype,"hashAlgorithm",void 0),px([cx({type:zk,context:1,defaultValue:sO})],aO.prototype,"maskGenAlgorithm",void 0),px([cx({type:zk,context:2,defaultValue:oO})],aO.prototype,"pSourceAlgorithm",void 0);new zk({algorithm:"1.2.840.113549.1.1.7",parameters:fx.serialize(new aO)});class cO{constructor(e={}){this.hashAlgorithm=new zk(iO),this.maskGenAlgorithm=new zk({algorithm:rO,parameters:fx.serialize(iO)}),this.saltLength=20,this.trailerField=1,Object.assign(this,e)}}px([cx({type:zk,context:0,defaultValue:iO})],cO.prototype,"hashAlgorithm",void 0),px([cx({type:zk,context:1,defaultValue:sO})],cO.prototype,"maskGenAlgorithm",void 0),px([cx({type:_C.Integer,context:2,defaultValue:20})],cO.prototype,"saltLength",void 0),px([cx({type:_C.Integer,context:3,defaultValue:1})],cO.prototype,"trailerField",void 0);new zk({algorithm:"1.2.840.113549.1.1.10",parameters:fx.serialize(new cO)});class lO{constructor(e={}){this.digestAlgorithm=new zk,this.digest=new kR,Object.assign(this,e)}}var uO;px([cx({type:zk})],lO.prototype,"digestAlgorithm",void 0),px([cx({type:kR})],lO.prototype,"digest",void 0);class hO{constructor(e={}){this.prime=new ArrayBuffer(0),this.exponent=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:_C.Integer,converter:DR})],hO.prototype,"prime",void 0),px([cx({type:_C.Integer,converter:DR})],hO.prototype,"exponent",void 0),px([cx({type:_C.Integer,converter:DR})],hO.prototype,"coefficient",void 0);let dO=uO=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,uO.prototype)}};dO=uO=px([ax({type:vC.Sequence,itemType:hO})],dO);class fO{constructor(e={}){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:_C.Integer})],fO.prototype,"version",void 0),px([cx({type:_C.Integer,converter:DR})],fO.prototype,"modulus",void 0),px([cx({type:_C.Integer,converter:DR})],fO.prototype,"publicExponent",void 0),px([cx({type:_C.Integer,converter:DR})],fO.prototype,"privateExponent",void 0),px([cx({type:_C.Integer,converter:DR})],fO.prototype,"prime1",void 0),px([cx({type:_C.Integer,converter:DR})],fO.prototype,"prime2",void 0),px([cx({type:_C.Integer,converter:DR})],fO.prototype,"exponent1",void 0),px([cx({type:_C.Integer,converter:DR})],fO.prototype,"exponent2",void 0),px([cx({type:_C.Integer,converter:DR})],fO.prototype,"coefficient",void 0),px([cx({type:dO,optional:!0})],fO.prototype,"otherPrimeInfos",void 0);class pO{constructor(e={}){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),Object.assign(this,e)}}var gO;px([cx({type:_C.Integer,converter:DR})],pO.prototype,"modulus",void 0),px([cx({type:_C.Integer,converter:DR})],pO.prototype,"publicExponent",void 0),function(e){e[e.Transient=0]="Transient",e[e.Singleton=1]="Singleton",e[e.ResolutionScoped=2]="ResolutionScoped",e[e.ContainerScoped=3]="ContainerScoped"}(gO||(gO={}));const yO=gO;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var wO=function(e,t){return wO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},wO(e,t)};function mO(e,t){function r(){this.constructor=e}wO(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function bO(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))}function AO(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function EO(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vO(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function _O(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(vO(arguments[t]));return e}function TO(e){return!!e.useClass}function SO(e){return!!e.useFactory}var IO=function(){function e(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return e.prototype.createProxy=function(e){var t,r=this,n=!1;return new Proxy({},this.createHandler((function(){return n||(t=e(r.wrap()),n=!0),t})))},e.prototype.createHandler=function(e){var t={};return this.reflectMethods.forEach((function(r){t[r]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t[0]=e();var i=Reflect[r];return i.apply(void 0,_O(t))}})),t},e}();function CO(e){return"string"==typeof e||"symbol"==typeof e}function RO(e){return"object"==typeof e&&"token"in e&&"transform"in e}function xO(e){return!!e.useToken}function kO(e){return null!=e.useValue}var NO=function(){function e(){this._registryMap=new Map}return e.prototype.entries=function(){return this._registryMap.entries()},e.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},e.prototype.get=function(e){this.ensure(e);var t=this._registryMap.get(e);return t[t.length-1]||null},e.prototype.set=function(e,t){this.ensure(e),this._registryMap.get(e).push(t)},e.prototype.setAll=function(e,t){this._registryMap.set(e,t)},e.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},e.prototype.clear=function(){this._registryMap.clear()},e.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},e}();const BO=NO;var OO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mO(t,e),t}(BO);const DO=OO;const LO=function(){this.scopedResolutions=new Map};function PO(e,t,r){var n=vO(e.toString().match(/constructor\(([\w, ]+)\)/)||[],2)[1],i=function(e,t){return null===e?"at position #"+t:'"'+e.split(",")[t].trim()+'" at position #'+t}(void 0===n?null:n,t);return function(e,t,r){return void 0===r&&(r="    "),_O([e],t.message.split("\n").map((function(e){return r+e}))).join("\n")}("Cannot inject the dependency "+i+' of "'+e.name+'" constructor. Reason:',r)}var UO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mO(t,e),t}(BO),MO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mO(t,e),t}(BO);const FO=function(){this.preResolution=new UO,this.postResolution=new MO};var HO=new Map,jO=function(){function e(e){this.parent=e,this._registry=new DO,this.interceptors=new FO,this.disposed=!1,this.disposables=new Set}return e.prototype.register=function(e,t,r){var n;if(void 0===r&&(r={lifecycle:yO.Transient}),this.ensureNotDisposed(),n=function(e){return TO(e)||kO(e)||xO(e)||SO(e)}(t)?t:{useClass:t},xO(n))for(var i=[e],s=n;null!=s;){var o=s.useToken;if(i.includes(o))throw new Error("Token registration cycle detected! "+_O(i,[o]).join(" -> "));i.push(o);var a=this._registry.get(o);s=a&&xO(a.provider)?a.provider:null}if((r.lifecycle===yO.Singleton||r.lifecycle==yO.ContainerScoped||r.lifecycle==yO.ResolutionScoped)&&(kO(n)||SO(n)))throw new Error('Cannot use lifecycle "'+yO[r.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:n,options:r}),this},e.prototype.registerType=function(e,t){return this.ensureNotDisposed(),CO(t)?this.register(e,{useToken:t}):this.register(e,{useClass:t})},e.prototype.registerInstance=function(e,t){return this.ensureNotDisposed(),this.register(e,{useValue:t})},e.prototype.registerSingleton=function(e,t){if(this.ensureNotDisposed(),CO(e)){if(CO(t))return this.register(e,{useToken:t},{lifecycle:yO.Singleton});if(t)return this.register(e,{useClass:t},{lifecycle:yO.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var r=e;return t&&!CO(t)&&(r=t),this.register(e,{useClass:r},{lifecycle:yO.Singleton})},e.prototype.resolve=function(e,t){void 0===t&&(t=new LO),this.ensureNotDisposed();var r=this.getRegistration(e);if(!r&&CO(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"Single"),r){var n=this.resolveRegistration(r,t);return this.executePostResolutionInterceptor(e,n,"Single"),n}if(function(e){return"function"==typeof e||e instanceof IO}(e)){n=this.construct(e,t);return this.executePostResolutionInterceptor(e,n,"Single"),n}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},e.prototype.executePreResolutionInterceptor=function(e,t){var r,n;if(this.interceptors.preResolution.has(e)){var i=[];try{for(var s=EO(this.interceptors.preResolution.getAll(e)),o=s.next();!o.done;o=s.next()){var a=o.value;"Once"!=a.options.frequency&&i.push(a),a.callback(e,t)}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}this.interceptors.preResolution.setAll(e,i)}},e.prototype.executePostResolutionInterceptor=function(e,t,r){var n,i;if(this.interceptors.postResolution.has(e)){var s=[];try{for(var o=EO(this.interceptors.postResolution.getAll(e)),a=o.next();!a.done;a=o.next()){var c=a.value;"Once"!=c.options.frequency&&s.push(c),c.callback(e,t,r)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}this.interceptors.postResolution.setAll(e,s)}},e.prototype.resolveRegistration=function(e,t){if(this.ensureNotDisposed(),e.options.lifecycle===yO.ResolutionScoped&&t.scopedResolutions.has(e))return t.scopedResolutions.get(e);var r,n=e.options.lifecycle===yO.Singleton,i=e.options.lifecycle===yO.ContainerScoped,s=n||i;return r=kO(e.provider)?e.provider.useValue:xO(e.provider)?s?e.instance||(e.instance=this.resolve(e.provider.useToken,t)):this.resolve(e.provider.useToken,t):TO(e.provider)?s?e.instance||(e.instance=this.construct(e.provider.useClass,t)):this.construct(e.provider.useClass,t):SO(e.provider)?e.provider.useFactory(this):this.construct(e.provider,t),e.options.lifecycle===yO.ResolutionScoped&&t.scopedResolutions.set(e,r),r},e.prototype.resolveAll=function(e,t){var r=this;void 0===t&&(t=new LO),this.ensureNotDisposed();var n=this.getAllRegistrations(e);if(!n&&CO(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"All"),n){var i=n.map((function(e){return r.resolveRegistration(e,t)}));return this.executePostResolutionInterceptor(e,i,"All"),i}var s=[this.construct(e,t)];return this.executePostResolutionInterceptor(e,s,"All"),s},e.prototype.isRegistered=function(e,t){return void 0===t&&(t=!1),this.ensureNotDisposed(),this._registry.has(e)||t&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},e.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},e.prototype.clearInstances=function(){var e,t;this.ensureNotDisposed();try{for(var r=EO(this._registry.entries()),n=r.next();!n.done;n=r.next()){var i=vO(n.value,2),s=i[0],o=i[1];this._registry.setAll(s,o.filter((function(e){return!kO(e.provider)})).map((function(e){return e.instance=void 0,e})))}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},e.prototype.createChildContainer=function(){var t,r;this.ensureNotDisposed();var n=new e(this);try{for(var i=EO(this._registry.entries()),s=i.next();!s.done;s=i.next()){var o=vO(s.value,2),a=o[0],c=o[1];c.some((function(e){return e.options.lifecycle===yO.ContainerScoped}))&&n._registry.setAll(a,c.map((function(e){return e.options.lifecycle===yO.ContainerScoped?{provider:e.provider,options:e.options}:e})))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},e.prototype.beforeResolution=function(e,t,r){void 0===r&&(r={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:t,options:r})},e.prototype.afterResolution=function(e,t,r){void 0===r&&(r={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:t,options:r})},e.prototype.dispose=function(){return bO(this,void 0,void 0,(function(){var e;return AO(this,(function(t){switch(t.label){case 0:return this.disposed=!0,e=[],this.disposables.forEach((function(t){var r=t.dispose();r&&e.push(r)})),[4,Promise.all(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},e.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},e.prototype.construct=function(e,t){var r=this;if(e instanceof IO)return e.createProxy((function(e){return r.resolve(e,t)}));var n,i=function(){var n=HO.get(e);if(!n||0===n.length){if(0===e.length)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var i=n.map(r.resolveParams(t,e));return new(e.bind.apply(e,_O([void 0],i)))}();return"function"!=typeof(n=i).dispose||n.dispose.length>0||this.disposables.add(i),i},e.prototype.resolveParams=function(e,t){var r=this;return function(n,i){var s,o,a,c;try{return"object"==typeof(c=n)&&"token"in c&&"multiple"in c?RO(n)?n.multiple?(s=r.resolve(n.transform)).transform.apply(s,_O([r.resolveAll(n.token)],n.transformArgs)):(o=r.resolve(n.transform)).transform.apply(o,_O([r.resolve(n.token,e)],n.transformArgs)):n.multiple?r.resolveAll(n.token):r.resolve(n.token,e):RO(n)?(a=r.resolve(n.transform,e)).transform.apply(a,_O([r.resolve(n.token,e)],n.transformArgs)):r.resolve(n,e)}catch(e){throw new Error(PO(t,i,e))}}},e.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},e}(),zO=new jO;var WO="injectionTokens";const GO=function(){return function(e){HO.set(e,function(e){var t=Reflect.getMetadata("design:paramtypes",e)||[],r=Reflect.getOwnMetadata(WO,e)||{};return Object.keys(r).forEach((function(e){t[+e]=r[e]})),t}(e))}};if("undefined"==typeof Reflect||!Reflect.getMetadata)throw new Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.");var qO;class QO{constructor(e={}){this.attrId="",this.attrValues=[],Object.assign(e)}}px([cx({type:_C.ObjectIdentifier})],QO.prototype,"attrId",void 0),px([cx({type:_C.Any,repeated:"set"})],QO.prototype,"attrValues",void 0);let VO=qO=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,qO.prototype)}};var KO;VO=qO=px([ax({type:vC.Sequence,itemType:QO})],VO);let YO=KO=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,KO.prototype)}};YO=KO=px([ax({type:vC.Sequence,itemType:DN})],YO);class JO{constructor(e={}){this.certId="",this.certValue=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:_C.ObjectIdentifier})],JO.prototype,"certId",void 0),px([cx({type:_C.Any,context:0})],JO.prototype,"certValue",void 0);class XO{constructor(e={}){this.crlId="",this.crltValue=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:_C.ObjectIdentifier})],XO.prototype,"crlId",void 0),px([cx({type:_C.Any,context:0})],XO.prototype,"crltValue",void 0);class ZO extends kR{}class $O{constructor(e={}){this.encryptionAlgorithm=new zk,this.encryptedData=new ZO,Object.assign(this,e)}}var eD,tD;px([cx({type:zk})],$O.prototype,"encryptionAlgorithm",void 0),px([cx({type:ZO})],$O.prototype,"encryptedData",void 0),function(e){e[e.v1=0]="v1"}(tD||(tD={}));class rD extends kR{}let nD=eD=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,eD.prototype)}};nD=eD=px([ax({type:vC.Sequence,itemType:Nk})],nD);class iD{constructor(e={}){this.version=tD.v1,this.privateKeyAlgorithm=new zk,this.privateKey=new rD,Object.assign(this,e)}}px([cx({type:_C.Integer})],iD.prototype,"version",void 0),px([cx({type:zk})],iD.prototype,"privateKeyAlgorithm",void 0),px([cx({type:rD})],iD.prototype,"privateKey",void 0),px([cx({type:nD,implicit:!0,context:0,optional:!0})],iD.prototype,"attributes",void 0);let sD=class extends iD{};sD=px([ax({type:vC.Sequence})],sD);let oD=class extends $O{};oD=px([ax({type:vC.Sequence})],oD);class aD{constructor(e={}){this.secretTypeId="",this.secretValue=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:_C.ObjectIdentifier})],aD.prototype,"secretTypeId",void 0),px([cx({type:_C.Any,context:0})],aD.prototype,"secretValue",void 0);class cD{constructor(e={}){this.mac=new lO,this.macSalt=new kR,this.iterations=1,Object.assign(this,e)}}px([cx({type:lO})],cD.prototype,"mac",void 0),px([cx({type:kR})],cD.prototype,"macSalt",void 0),px([cx({type:_C.Integer,defaultValue:1})],cD.prototype,"iterations",void 0);class lD{constructor(e={}){this.version=3,this.authSafe=new DN,this.macData=new cD,Object.assign(this,e)}}var uD;px([cx({type:_C.Integer})],lD.prototype,"version",void 0),px([cx({type:DN})],lD.prototype,"authSafe",void 0),px([cx({type:cD,optional:!0})],lD.prototype,"macData",void 0);class hD{constructor(e={}){this.bagId="",this.bagValue=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:_C.ObjectIdentifier})],hD.prototype,"bagId",void 0),px([cx({type:_C.Any,context:0})],hD.prototype,"bagValue",void 0),px([cx({type:QO,repeated:"set",optional:!0})],hD.prototype,"bagAttributes",void 0);let dD=uD=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,uD.prototype)}};var fD,pD,gD;dD=uD=px([ax({type:vC.Sequence,itemType:hD})],dD);const yD="1.2.840.113549.1.9.7",wD="1.2.840.113549.1.9.14";let mD=class extends Ax{constructor(e={}){super(e)}toString(){return{}.toString(),this.ia5String||super.toString()}};px([cx({type:_C.IA5String})],mD.prototype,"ia5String",void 0),mD=px([ax({type:vC.Choice})],mD);let bD=class extends DN{};bD=px([ax({type:vC.Sequence})],bD);let AD=class extends lD{};AD=px([ax({type:vC.Sequence})],AD);let ED=class extends $O{};ED=px([ax({type:vC.Sequence})],ED);let vD=class{constructor(e=""){this.value=e}toString(){return this.value}};px([cx({type:_C.IA5String})],vD.prototype,"value",void 0),vD=px([ax({type:vC.Choice})],vD);let _D=class extends mD{};_D=px([ax({type:vC.Choice})],_D);let TD=class extends Ax{};TD=px([ax({type:vC.Choice})],TD);let SD=class{constructor(e=new Date){this.value=e}};px([cx({type:_C.GeneralizedTime})],SD.prototype,"value",void 0),SD=px([ax({type:vC.Choice})],SD);let ID=class extends Ax{};ID=px([ax({type:vC.Choice})],ID);let CD=class{constructor(e="M"){this.value=e}toString(){return this.value}};px([cx({type:_C.PrintableString})],CD.prototype,"value",void 0),CD=px([ax({type:vC.Choice})],CD);let RD=class{constructor(e=""){this.value=e}toString(){return this.value}};px([cx({type:_C.PrintableString})],RD.prototype,"value",void 0),RD=px([ax({type:vC.Choice})],RD);let xD=class extends RD{};xD=px([ax({type:vC.Choice})],xD);let kD=class extends Ax{};kD=px([ax({type:vC.Choice})],kD);let ND=class{constructor(e=""){this.value=e}toString(){return this.value}};px([cx({type:_C.ObjectIdentifier})],ND.prototype,"value",void 0),ND=px([ax({type:vC.Choice})],ND);let BD=class extends Gk{};BD=px([ax({type:vC.Choice})],BD);let OD=class{constructor(e=0){this.value=e}toString(){return this.value.toString()}};px([cx({type:_C.Integer})],OD.prototype,"value",void 0),OD=px([ax({type:vC.Choice})],OD);let DD=class extends EB{};DD=px([ax({type:vC.Sequence})],DD);let LD=class extends Ax{};LD=px([ax({type:vC.Choice})],LD);let PD=fD=class extends Kk{constructor(e){super(e),Object.setPrototypeOf(this,fD.prototype)}};PD=fD=px([ax({type:vC.Sequence})],PD);let UD=pD=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,pD.prototype)}};UD=pD=px([ax({type:vC.Set,itemType:rN})],UD);let MD=class{constructor(e=""){this.value=e}toString(){return this.value}};px([cx({type:_C.BmpString})],MD.prototype,"value",void 0),MD=px([ax({type:vC.Choice})],MD);let FD=class extends zk{};FD=px([ax({type:vC.Sequence})],FD);let HD=gD=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,gD.prototype)}};var jD;HD=gD=px([ax({type:vC.Sequence,itemType:FD})],HD);let zD=jD=class extends dx{constructor(e){super(e),Object.setPrototypeOf(this,jD.prototype)}};zD=jD=px([ax({type:vC.Sequence,itemType:Nk})],zD);class WD{constructor(e={}){this.version=0,this.subject=new Sx,this.subjectPKInfo=new Wk,this.attributes=new zD,Object.assign(this,e)}}px([cx({type:_C.Integer})],WD.prototype,"version",void 0),px([cx({type:Sx})],WD.prototype,"subject",void 0),px([cx({type:Wk})],WD.prototype,"subjectPKInfo",void 0),px([cx({type:zD,implicit:!0,context:0})],WD.prototype,"attributes",void 0);class GD{constructor(e={}){this.certificationRequestInfo=new WD,this.signatureAlgorithm=new zk,this.signature=new ArrayBuffer(0),Object.assign(this,e)}}px([cx({type:WD})],GD.prototype,"certificationRequestInfo",void 0),px([cx({type:zk})],GD.prototype,"signatureAlgorithm",void 0),px([cx({type:_C.BitString})],GD.prototype,"signature",void 0);
/*!
 * MIT License
 * 
 * Copyright (c) Peculiar Ventures. All rights reserved.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */
const qD="crypto.algorithm";const QD="crypto.algorithmProvider";var VD;zO.registerSingleton(QD,class{getAlgorithms(){return zO.resolveAll(qD)}toAsnAlgorithm(e){for(const t of this.getAlgorithms()){const r=t.toAsnAlgorithm(e);if(r)return r}if(/[0-9.]+/.test(e.name)){const t=new zk({algorithm:e.name});if("parameters"in e){const r=e;t.parameters=r.parameters}return t}throw new Error("Cannot convert WebCrypto algorithm to ASN.1 algorithm")}toWebAlgorithm(e){for(const t of this.getAlgorithms()){const r=t.toWebAlgorithm(e);if(r)return r}return{name:e.algorithm,parameters:e.parameters}}});const KD="1.3.36.3.3.2.8.1.1.1",YD="1.3.36.3.3.2.8.1.1.2",JD="1.3.36.3.3.2.8.1.1.3",XD="1.3.36.3.3.2.8.1.1.4",ZD="1.3.36.3.3.2.8.1.1.5",$D="1.3.36.3.3.2.8.1.1.6",eL="1.3.36.3.3.2.8.1.1.7",tL="1.3.36.3.3.2.8.1.1.8",rL="1.3.36.3.3.2.8.1.1.9",nL="1.3.36.3.3.2.8.1.1.10",iL="1.3.36.3.3.2.8.1.1.11",sL="1.3.36.3.3.2.8.1.1.12",oL="1.3.36.3.3.2.8.1.1.13",aL="1.3.36.3.3.2.8.1.1.14",cL="brainpoolP160r1",lL="brainpoolP160t1",uL="brainpoolP192r1",hL="brainpoolP192t1",dL="brainpoolP224r1",fL="brainpoolP224t1",pL="brainpoolP256r1",gL="brainpoolP256t1",yL="brainpoolP320r1",wL="brainpoolP320t1",mL="brainpoolP384r1",bL="brainpoolP384t1",AL="brainpoolP512r1",EL="brainpoolP512t1",vL="ECDSA";let _L=VD=class{toAsnAlgorithm(e){if(e.name.toLowerCase()===vL.toLowerCase())if("hash"in e){switch(("string"==typeof e.hash?e.hash:e.hash.name).toLowerCase()){case"sha-1":return PB;case"sha-256":return UB;case"sha-384":return MB;case"sha-512":return FB}}else if("namedCurve"in e){let t="";switch(e.namedCurve){case"P-256":t=BB;break;case"K-256":t=VD.SECP256K1;break;case"P-384":t=OB;break;case"P-521":t=DB;break;case cL:t=KD;break;case lL:t=YD;break;case uL:t=JD;break;case hL:t=XD;break;case dL:t=ZD;break;case fL:t=$D;break;case pL:t=eL;break;case gL:t=tL;break;case yL:t=rL;break;case wL:t=nL;break;case mL:t=iL;break;case bL:t=sL;break;case AL:t=oL;break;case EL:t=aL}if(t)return new zk({algorithm:IB,parameters:fx.serialize(new HB({namedCurve:t}))})}return null}toWebAlgorithm(e){switch(e.algorithm){case CB:return{name:vL,hash:{name:"SHA-1"}};case xB:return{name:vL,hash:{name:"SHA-256"}};case kB:return{name:vL,hash:{name:"SHA-384"}};case NB:return{name:vL,hash:{name:"SHA-512"}};case IB:if(!e.parameters)throw new TypeError("Cannot get required parameters from EC algorithm");switch(fx.parse(e.parameters,HB).namedCurve){case BB:return{name:vL,namedCurve:"P-256"};case VD.SECP256K1:return{name:vL,namedCurve:"K-256"};case OB:return{name:vL,namedCurve:"P-384"};case DB:return{name:vL,namedCurve:"P-521"};case KD:return{name:vL,namedCurve:cL};case YD:return{name:vL,namedCurve:lL};case JD:return{name:vL,namedCurve:uL};case XD:return{name:vL,namedCurve:hL};case ZD:return{name:vL,namedCurve:dL};case $D:return{name:vL,namedCurve:fL};case eL:return{name:vL,namedCurve:pL};case tL:return{name:vL,namedCurve:gL};case rL:return{name:vL,namedCurve:yL};case nL:return{name:vL,namedCurve:wL};case iL:return{name:vL,namedCurve:mL};case sL:return{name:vL,namedCurve:bL};case oL:return{name:vL,namedCurve:AL};case aL:return{name:vL,namedCurve:EL}}}return null}};_L.SECP256K1="1.3.132.0.10",_L=VD=px([GO()],_L),zO.registerSingleton(qD,_L);const TL=Symbol("name"),SL=Symbol("value");class IL{constructor(e,t={},r=""){this[TL]=e,this[SL]=r;for(const e in t)this[e]=t[e]}}IL.NAME=TL,IL.VALUE=SL;class CL{static toString(e){const t=this.items[e];return t||e}}CL.items={[XB]:"sha1",[ZB]:"sha224",[$B]:"sha256",[eO]:"sha384",[tO]:"sha512",[WB]:"rsaEncryption",[GB]:"sha1WithRSAEncryption",[qB]:"sha224WithRSAEncryption",[QB]:"sha256WithRSAEncryption",[VB]:"sha384WithRSAEncryption",[KB]:"sha512WithRSAEncryption",[IB]:"ecPublicKey",[CB]:"ecdsaWithSHA1",[RB]:"ecdsaWithSHA224",[xB]:"ecdsaWithSHA256",[kB]:"ecdsaWithSHA384",[NB]:"ecdsaWithSHA512","1.3.6.1.5.5.7.3.1":"TLS WWW server authentication","1.3.6.1.5.5.7.3.2":"TLS WWW client authentication","1.3.6.1.5.5.7.3.3":"Code Signing","1.3.6.1.5.5.7.3.4":"E-mail Protection","1.3.6.1.5.5.7.3.8":"Time Stamping","1.3.6.1.5.5.7.3.9":"OCSP Signing","1.2.840.113549.1.7.2":"Signed Data"};class RL{static serialize(e){return this.serializeObj(e).join("\n")}static pad(e=0){return"".padStart(2*e," ")}static serializeObj(e,t=0){const r=[];let n=this.pad(t++),i="";const s=e[IL.VALUE];s&&(i=` ${s}`),r.push(`${n}${e[IL.NAME]}:${i}`),n=this.pad(t);for(const i in e){if("symbol"==typeof i)continue;const s=e[i],o=i?`${i}: `:"";if("string"==typeof s||"number"==typeof s||"boolean"==typeof s)r.push(`${n}${o}${s}`);else if(s instanceof Date)r.push(`${n}${o}${s.toUTCString()}`);else if(Array.isArray(s))for(const e of s)e[IL.NAME]=i,r.push(...this.serializeObj(e,t));else if(s instanceof IL)s[IL.NAME]=i,r.push(...this.serializeObj(s,t));else if(fI.vJ.isBufferSource(s))i?(r.push(`${n}${o}`),r.push(...this.serializeBufferSource(s,t+1))):r.push(...this.serializeBufferSource(s,t));else{if(!("toTextObject"in s))throw new TypeError("Cannot serialize data in text format. Unsupported type.");{const e=s.toTextObject();e[IL.NAME]=i,r.push(...this.serializeObj(e,t))}}}return r}static serializeBufferSource(e,t=0){const r=this.pad(t),n=fI.vJ.toUint8Array(e),i=[];for(let e=0;e<n.length;){const t=[];for(let r=0;r<16&&e<n.length;r++){8===r&&t.push("");const i=n[e++].toString(16).padStart(2,"0");t.push(i)}i.push(`${r}${t.join(" ")}`)}return i}static serializeAlgorithm(e){return this.algorithmSerializer.toTextObject(e)}}RL.oidSerializer=CL,RL.algorithmSerializer=class{static toTextObject(e){const t=new IL("Algorithm Identifier",{},CL.toString(e.algorithm));if(e.parameters)switch(e.algorithm){case IB:{const r=(new _L).toWebAlgorithm(e);r&&"namedCurve"in r?t["Named Curve"]=r.namedCurve:t.Parameters=e.parameters;break}default:t.Parameters=e.parameters}return t}};class xL{constructor(...e){if(1===e.length){const t=e[0];this.rawData=fx.serialize(t),this.onInit(t)}else{const t=fx.parse(e[0],e[1]);this.rawData=fI.vJ.toArrayBuffer(e[0]),this.onInit(t)}}equal(e){return e instanceof xL&&(0,fI.Xy)(e.rawData,this.rawData)}toString(e="text"){switch(e){case"asn":return fx.toString(this.rawData);case"text":return RL.serialize(this.toTextObject());case"hex":return fI.ep.ToHex(this.rawData);case"base64":return fI.ep.ToBase64(this.rawData);case"base64url":return fI.ep.ToBase64Url(this.rawData);default:throw TypeError("Argument 'format' is unsupported value")}}getTextName(){return this.constructor.NAME}toTextObject(){const e=this.toTextObjectEmpty();return e[""]=this.rawData,e}toTextObjectEmpty(e){return new IL(this.getTextName(),{},e)}}xL.NAME="ASN";class kL extends xL{constructor(...e){let t;t=fI.vJ.isBufferSource(e[0])?fI.vJ.toArrayBuffer(e[0]):fx.serialize(new Vk({extnID:e[0],critical:e[1],extnValue:new kR(fI.vJ.toArrayBuffer(e[2]))})),super(t,Vk)}onInit(e){this.type=e.extnID,this.critical=e.critical,this.value=e.extnValue.buffer}toTextObject(){const e=this.toTextObjectWithoutValue();return e[""]=this.value,e}toTextObjectWithoutValue(){const e=this.toTextObjectEmpty(this.critical?"critical":void 0);return e[IL.NAME]===kL.NAME&&(e[IL.NAME]=CL.toString(this.type)),e}}var NL;class BL{constructor(){this.items=new Map,this[NL]="CryptoProvider","undefined"!=typeof self&&"undefined"!=typeof crypto&&this.set(BL.DEFAULT,crypto)}static isCryptoKeyPair(e){return e&&e.privateKey&&e.publicKey}static isCryptoKey(e){return e&&e.usages&&e.type&&e.algorithm&&void 0!==e.extractable}clear(){this.items.clear()}delete(e){return this.items.delete(e)}forEach(e,t){return this.items.forEach(e,t)}has(e){return this.items.has(e)}get size(){return this.items.size}entries(){return this.items.entries()}keys(){return this.items.keys()}values(){return this.items.values()}[Symbol.iterator](){return this.items[Symbol.iterator]()}get(e=BL.DEFAULT){const t=this.items.get(e.toLowerCase());if(!t)throw new Error(`Cannot get Crypto by name '${e}'`);return t}set(e,t){if("string"==typeof e){if(!t)throw new TypeError("Argument 'value' is required");this.items.set(e.toLowerCase(),t)}else this.items.set(BL.DEFAULT,e);return this}}NL=Symbol.toStringTag,BL.DEFAULT="default";const OL=new BL,DL=/^[0-2](?:\.[1-9][0-9]*)+$/;class LL{constructor(e={}){this.items={};for(const t in e)this.register(t,e[t])}get(e){return this.items[e]||null}findId(e){return t=e,new RegExp(DL).test(t)?e:this.get(e);var t}register(e,t){this.items[e]=t,this.items[t]=e}}const PL=new LL;function UL(e,t){return`\\${fI.ep.ToHex(fI.ep.FromUtf8String(t)).toUpperCase()}`}PL.register("CN","2.5.4.3"),PL.register("L","2.5.4.7"),PL.register("ST","2.5.4.8"),PL.register("O","2.5.4.10"),PL.register("OU","2.5.4.11"),PL.register("C","2.5.4.6"),PL.register("DC","0.9.2342.19200300.100.1.25"),PL.register("E","1.2.840.113549.1.9.1"),PL.register("G","2.5.4.42"),PL.register("I","2.5.4.43"),PL.register("SN","2.5.4.4"),PL.register("T","2.5.4.12");class ML{constructor(e,t={}){this.extraNames=new LL,this.asn=new Sx;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const r=t[e];this.extraNames.register(e,r)}"string"==typeof e?this.asn=this.fromString(e):e instanceof Sx?this.asn=e:fI.vJ.isBufferSource(e)?this.asn=fx.parse(e,Sx):this.asn=this.fromJSON(e)}static isASCII(e){for(let t=0;t<e.length;t++){if(e.charCodeAt(t)>255)return!1}return!0}getField(e){const t=this.extraNames.findId(e)||PL.findId(e),r=[];for(const e of this.asn)for(const n of e)n.type===t&&r.push(n.value.toString());return r}getName(e){return this.extraNames.get(e)||PL.get(e)}toString(){return this.asn.map((e=>e.map((e=>{const t=this.getName(e.type)||e.type,r=e.value.anyValue?`#${fI.ep.ToHex(e.value.anyValue)}`:function(e){return e.replace(/([,+"\\<>;])/g,"\\$1").replace(/^([ #])/,"\\$1").replace(/([ ]$)/,"\\$1").replace(/([\r\n\t])/,UL)}(e.value.toString());return`${t}=${r}`})).join("+"))).join(", ")}toJSON(){var e;const t=[];for(const r of this.asn){const n={};for(const t of r){const r=this.getName(t.type)||t.type;null!==(e=n[r])&&void 0!==e||(n[r]=[]),n[r].push(t.value.anyValue?`#${fI.ep.ToHex(t.value.anyValue)}`:t.value.toString())}t.push(n)}return t}fromString(e){const t=new Sx,r=/(\d\.[\d.]*\d|[A-Za-z]+)=((?:"")|(?:".*?[^\\]")|(?:[^,+].*?(?:[^\\][,+]))|(?:))([,+])?/g;let n=null,i=",";for(;n=r.exec(`${e},`);){let[,e,r]=n;const s=r[r.length-1];","!==s&&"+"!==s||(r=r.slice(0,r.length-1),n[3]=s);const o=n[3];if(/[\d.]+/.test(e)||(e=this.getName(e)||""),!e)throw new Error(`Cannot get OID for name type '${e}'`);const a=new vx({type:e});if("#"===r.charAt(0))a.value.anyValue=fI.ep.FromHex(r.slice(1));else{const t=/"(.*?[^\\])?"/.exec(r);t&&(r=t[1]),r=r.replace(/\\0a/gi,"\n").replace(/\\0d/gi,"\r").replace(/\\0g/gi,"\t").replace(/\\(.)/g,"$1"),e===this.getName("E")||e===this.getName("DC")?a.value.ia5String=r:ML.isASCII(r)?a.value.printableString=r:a.value.utf8String=r}"+"===i?t[t.length-1].push(a):t.push(new _x([a])),i=o}return t}fromJSON(e){const t=new Sx;for(const r of e){const e=new _x;for(const t in r){let n=t;if(/[\d.]+/.test(t)||(n=this.getName(t)||""),!n)throw new Error(`Cannot get OID for name type '${t}'`);const i=r[t];for(const t of i){const r=new vx({type:n});if("object"==typeof t)for(const e in t)switch(e){case"ia5String":r.value.ia5String=t[e];break;case"utf8String":r.value.utf8String=t[e];break;case"universalString":r.value.universalString=t[e];break;case"bmpString":r.value.bmpString=t[e];break;case"printableString":r.value.printableString=t[e]}else"#"===t[0]?r.value.anyValue=fI.ep.FromHex(t.slice(1)):n===this.getName("E")||n===this.getName("DC")?r.value.ia5String=t:r.value.printableString=t;e.push(r)}}t.push(e)}return t}toArrayBuffer(){return fx.serialize(this.asn)}async getThumbprint(...e){var t;let r,n="SHA-1";return e.length>=1&&!(null===(t=e[0])||void 0===t?void 0:t.subtle)?(n=e[0]||n,r=e[1]||OL.get()):r=e[0]||OL.get(),await r.subtle.digest(n,this.toArrayBuffer())}}const FL="Cannot initialize GeneralName from ASN.1 data.",HL=`${FL} Unsupported string format in use.`,jL=`${FL} Value doesn't match to GUID regular expression.`,zL=/^([0-9a-f]{8})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{12})$/i,WL="1.3.6.1.4.1.311.25.1",GL="1.3.6.1.4.1.311.20.2.3",qL="dns",QL="dn",VL="email",KL="ip",YL="url",JL="guid",XL="upn",ZL="id";class $L extends xL{constructor(...e){let t;if(2===e.length)switch(e[0]){case QL:{const r=new ML(e[1]).toArrayBuffer(),n=fx.parse(r,Sx);t=new xx({directoryName:n});break}case qL:t=new xx({dNSName:e[1]});break;case VL:t=new xx({rfc822Name:e[1]});break;case JL:{const r=new RegExp(zL,"i").exec(e[1]);if(!r)throw new Error("Cannot parse GUID value. Value doesn't match to regular expression");const n=r.slice(1).map(((e,t)=>t<3?fI.ep.ToHex(new Uint8Array(fI.ep.FromHex(e)).reverse()):e)).join("");t=new xx({otherName:new Cx({typeId:WL,value:fx.serialize(new kR(fI.ep.FromHex(n)))})});break}case KL:t=new xx({iPAddress:e[1]});break;case ZL:t=new xx({registeredID:e[1]});break;case XL:t=new xx({otherName:new Cx({typeId:GL,value:fx.serialize(jR.toASN(e[1]))})});break;case YL:t=new xx({uniformResourceIdentifier:e[1]});break;default:throw new Error("Cannot create GeneralName. Unsupported type of the name")}else t=fI.vJ.isBufferSource(e[0])?fx.parse(e[0],xx):e[0];super(t)}onInit(e){if(null!=e.dNSName)this.type=qL,this.value=e.dNSName;else if(null!=e.rfc822Name)this.type=VL,this.value=e.rfc822Name;else if(null!=e.iPAddress)this.type=KL,this.value=e.iPAddress;else if(null!=e.uniformResourceIdentifier)this.type=YL,this.value=e.uniformResourceIdentifier;else if(null!=e.registeredID)this.type=ZL,this.value=e.registeredID;else if(null!=e.directoryName)this.type=QL,this.value=new ML(e.directoryName).toString();else{if(null==e.otherName)throw new Error(HL);if(e.otherName.typeId===WL){this.type=JL;const t=fx.parse(e.otherName.value,kR),r=new RegExp(zL,"i").exec(fI.ep.ToHex(t));if(!r)throw new Error(jL);this.value=r.slice(1).map(((e,t)=>t<3?fI.ep.ToHex(new Uint8Array(fI.ep.FromHex(e)).reverse()):e)).join("-")}else{if(e.otherName.typeId!==GL)throw new Error(HL);this.type=XL,this.value=fx.parse(e.otherName.value,Ax).toString()}}}toJSON(){return{type:this.type,value:this.value}}toTextObject(){let e;switch(this.type){case QL:case qL:case JL:case KL:case ZL:case XL:case YL:e=this.type.toUpperCase();break;case VL:e="Email";break;default:throw new Error("Unsupported GeneralName type")}let t=this.value;return this.type===ZL&&(t=CL.toString(t)),new IL(e,void 0,t)}}class eP extends xL{constructor(e){let t;if(e instanceof Fx)t=e;else if(Array.isArray(e)){const r=[];for(const t of e)if(t instanceof xx)r.push(t);else{const e=fx.parse(new $L(t.type,t.value).rawData,xx);r.push(e)}t=new Fx(r)}else{if(!fI.vJ.isBufferSource(e))throw new Error("Cannot initialize GeneralNames. Incorrect incoming arguments");t=fx.parse(e,Fx)}super(t)}onInit(e){const t=[];for(const r of e){let e=null;try{e=new $L(r)}catch{continue}t.push(e)}this.items=t}toJSON(){return this.items.map((e=>e.toJSON()))}toTextObject(){const e=super.toTextObjectEmpty();for(const t of this.items){const r=t.toTextObject();let n=e[r[IL.NAME]];Array.isArray(n)||(n=[],e[r[IL.NAME]]=n),n.push(r)}return e}}eP.NAME="GeneralNames";const tP="\\n",rP="-{5}BEGIN ([^\\n]+(?=-{5}))-{5}\\n(?:((?:[^:\\n]+: (?:[^\\n]+\\n(?: +[^\\n]+\\n)*))+))?\\n?((?:[a-zA-Z0-9=+/]+\\n)+)-{5}END \\1-{5}";class nP{static isPem(e){return"string"==typeof e&&new RegExp(rP,"g").test(e)}static decodeWithHeaders(e){e=e.replace(/\r/g,"");const t=new RegExp(rP,"g"),r=[];let n=null;for(;n=t.exec(e);){const e=n[3].replace(new RegExp("[\\n]+","g"),""),t={type:n[1],headers:[],rawData:fI.ep.FromBase64(e)},i=n[2];if(i){const e=i.split(new RegExp(tP,"g"));let r=null;for(const n of e){const[e,i]=n.split(/:(.*)/);if(void 0===i){if(!r)throw new Error("Cannot parse PEM string. Incorrect header value");r.value+=e.trim()}else r&&t.headers.push(r),r={key:e,value:i.trim()}}r&&t.headers.push(r)}r.push(t)}return r}static decode(e){return this.decodeWithHeaders(e).map((e=>e.rawData))}static decodeFirst(e){const t=this.decode(e);if(!t.length)throw new RangeError("PEM string doesn't contain any objects");return t[0]}static encode(e,t){if(Array.isArray(e)){const r=new Array;return t?e.forEach((e=>{if(!fI.vJ.isBufferSource(e))throw new TypeError("Cannot encode array of BufferSource in PEM format. Not all items of the array are BufferSource");r.push(this.encodeStruct({type:t,rawData:fI.vJ.toArrayBuffer(e)}))})):e.forEach((e=>{if(!("type"in e))throw new TypeError("Cannot encode array of PemStruct in PEM format. Not all items of the array are PemStrut");r.push(this.encodeStruct(e))})),r.join("\n")}if(!t)throw new Error("Required argument 'tag' is missed");return this.encodeStruct({type:t,rawData:fI.vJ.toArrayBuffer(e)})}static encodeStruct(e){var t;const r=e.type.toLocaleUpperCase(),n=[];if(n.push(`-----BEGIN ${r}-----`),null===(t=e.headers)||void 0===t?void 0:t.length){for(const t of e.headers)n.push(`${t.key}: ${t.value}`);n.push("")}const i=fI.ep.ToBase64(e.rawData);let s,o=0;const a=Array();for(;o<i.length&&(i.length-o<64?s=i.substring(o):(s=i.substring(o,o+64),o+=64),0!==s.length)&&(a.push(s),!(s.length<64)););return n.push(...a),n.push(`-----END ${r}-----`),n.join("\n")}}nP.CertificateTag="CERTIFICATE",nP.CrlTag="CRL",nP.CertificateRequestTag="CERTIFICATE REQUEST",nP.PublicKeyTag="PUBLIC KEY",nP.PrivateKeyTag="PRIVATE KEY";class iP extends xL{static isAsnEncoded(e){return fI.vJ.isBufferSource(e)||"string"==typeof e}static toArrayBuffer(e){if("string"==typeof e){if(nP.isPem(e))return nP.decode(e)[0];if(fI.ep.isHex(e))return fI.ep.FromHex(e);if(fI.ep.isBase64(e))return fI.ep.FromBase64(e);if(fI.ep.isBase64Url(e))return fI.ep.FromBase64Url(e);throw new TypeError("Unsupported format of 'raw' argument. Must be one of DER, PEM, HEX, Base64, or Base4Url")}{const t=fI.ep.ToBinary(e);return nP.isPem(t)?nP.decode(t)[0]:fI.ep.isHex(t)?fI.ep.FromHex(t):fI.ep.isBase64(t)?fI.ep.FromBase64(t):fI.ep.isBase64Url(t)?fI.ep.FromBase64Url(t):fI.vJ.toArrayBuffer(e)}}constructor(...e){iP.isAsnEncoded(e[0])?super(iP.toArrayBuffer(e[0]),e[1]):super(e[0])}toString(e="pem"){return"pem"===e?nP.encode(this.rawData,this.tag):super.toString(e)}}class sP extends iP{constructor(e){iP.isAsnEncoded(e)?super(e,Wk):super(e),this.tag=nP.PublicKeyTag}async export(...e){let t,r=["verify"],n={hash:"SHA-256",...this.algorithm};return e.length>1?(n=e[0]||n,r=e[1]||r,t=e[2]||OL.get()):t=e[0]||OL.get(),t.subtle.importKey("spki",this.rawData,n,!0,r)}onInit(e){const t=zO.resolve(QD),r=this.algorithm=t.toWebAlgorithm(e.algorithm);switch(e.algorithm.algorithm){case WB:{const t=fx.parse(e.subjectPublicKey,pO),n=fI.vJ.toUint8Array(t.modulus);r.publicExponent=fI.vJ.toUint8Array(t.publicExponent),r.modulusLength=(n[0]?n:n.slice(1)).byteLength<<3;break}}}async getThumbprint(...e){var t;let r,n="SHA-1";return e.length>=1&&!(null===(t=e[0])||void 0===t?void 0:t.subtle)?(n=e[0]||n,r=e[1]||OL.get()):r=e[0]||OL.get(),await r.subtle.digest(n,this.rawData)}async getKeyIdentifier(e){e||(e=OL.get());const t=fx.parse(this.rawData,Wk);return await e.subtle.digest("SHA-1",t.subjectPublicKey)}toTextObject(){const e=this.toTextObjectEmpty(),t=fx.parse(this.rawData,Wk);if(e.Algorithm=RL.serializeAlgorithm(t.algorithm),t.algorithm.algorithm===IB)e["EC Point"]=t.subjectPublicKey;else e["Raw Data"]=t.subjectPublicKey;return e}}class oP{static register(e,t){this.items.set(e,t)}static create(e){const t=new kL(e),r=this.items.get(t.type);return r?new r(e):t}}oP.items=new Map;const aP="crypto.signatureFormatter";class cP extends iP{constructor(e){iP.isAsnEncoded(e)?super(e,Zk):super(e),this.tag=nP.CertificateTag}onInit(e){const t=e.tbsCertificate;this.tbs=fx.serialize(t),this.serialNumber=fI.ep.ToHex(t.serialNumber),this.subjectName=new ML(t.subject),this.subject=new ML(t.subject).toString(),this.issuerName=new ML(t.issuer),this.issuer=this.issuerName.toString();const r=zO.resolve(QD);this.signatureAlgorithm=r.toWebAlgorithm(e.signatureAlgorithm),this.signature=e.signatureValue;const n=t.validity.notBefore.utcTime||t.validity.notBefore.generalTime;if(!n)throw new Error("Cannot get 'notBefore' value");this.notBefore=n;const i=t.validity.notAfter.utcTime||t.validity.notAfter.generalTime;if(!i)throw new Error("Cannot get 'notAfter' value");this.notAfter=i,this.extensions=[],t.extensions&&(this.extensions=t.extensions.map((e=>oP.create(fx.serialize(e))))),this.publicKey=new sP(t.subjectPublicKeyInfo)}getExtension(e){for(const t of this.extensions)if("string"==typeof e){if(t.type===e)return t}else if(t instanceof e)return t;return null}getExtensions(e){return this.extensions.filter((t=>"string"==typeof e?t.type===e:t instanceof e))}async verify(e={},t=OL.get()){let r,n;const i=e.publicKey;try{if(i)if("publicKey"in i)r={...i.publicKey.algorithm,...this.signatureAlgorithm},n=await i.publicKey.export(r,["verify"]);else if(i instanceof sP)r={...i.algorithm,...this.signatureAlgorithm},n=await i.export(r,["verify"]);else if(fI.vJ.isBufferSource(i)){const e=new sP(i);r={...e.algorithm,...this.signatureAlgorithm},n=await e.export(r,["verify"])}else r={...i.algorithm,...this.signatureAlgorithm},n=i;else r={...this.publicKey.algorithm,...this.signatureAlgorithm},n=await this.publicKey.export(r,["verify"],t)}catch(e){return!1}const s=zO.resolveAll(aP).reverse();let o=null;for(const e of s)if(o=e.toWebSignature(r,this.signature),o)break;if(!o)throw Error("Cannot convert ASN.1 signature value to WebCrypto format");const a=await t.subtle.verify(this.signatureAlgorithm,n,o,this.tbs);if(e.signatureOnly)return a;{const t=(e.date||new Date).getTime();return a&&this.notBefore.getTime()<t&&t<this.notAfter.getTime()}}async getThumbprint(...e){let t,r="SHA-1";return e[0]&&(e[0].subtle?t=e[0]:(r=e[0]||r,t=e[1])),null!=t||(t=OL.get()),await t.subtle.digest(r,this.rawData)}async isSelfSigned(e=OL.get()){return this.subject===this.issuer&&await this.verify({signatureOnly:!0},e)}toTextObject(){const e=this.toTextObjectEmpty(),t=fx.parse(this.rawData,Zk),r=t.tbsCertificate,n=new IL("",{Version:`${Yk[r.version]} (${r.version})`,"Serial Number":r.serialNumber,"Signature Algorithm":RL.serializeAlgorithm(r.signature),Issuer:this.issuer,Validity:new IL("",{"Not Before":r.validity.notBefore.getTime(),"Not After":r.validity.notAfter.getTime()}),Subject:this.subject,"Subject Public Key Info":this.publicKey});if(r.issuerUniqueID&&(n["Issuer Unique ID"]=r.issuerUniqueID),r.subjectUniqueID&&(n["Subject Unique ID"]=r.subjectUniqueID),this.extensions.length){const e=new IL("");for(const t of this.extensions){const r=t.toTextObject();e[r[IL.NAME]]=r}n.Extensions=e}return e.Data=n,e.Signature=new IL("",{Algorithm:RL.serializeAlgorithm(t.signatureAlgorithm),"":t.signatureValue}),e}}cP.NAME="Certificate";class lP extends kL{constructor(...e){if(fI.vJ.isBufferSource(e[0]))super(e[0]);else if("string"==typeof e[0]){const t=new Lx({keyIdentifier:new Dx(fI.ep.FromHex(e[0]))});super(Ox,e[1],fx.serialize(t))}else{const t=e[0],r=t.name instanceof eP?fx.parse(t.name.rawData,Fx):t.name,n=new Lx({authorityCertIssuer:r,authorityCertSerialNumber:fI.ep.FromHex(t.serialNumber)});super(Ox,e[1],fx.serialize(n))}}static async create(e,t=!1,r=OL.get()){if(e instanceof cP||BL.isCryptoKey(e)){const n=e instanceof cP?await e.publicKey.export(r):e,i=await r.subtle.exportKey("spki",n),s=new sP(i),o=await s.getKeyIdentifier(r);return new lP(fI.ep.ToHex(o),t)}return new lP(e,t)}onInit(e){super.onInit(e);const t=fx.parse(e.extnValue,Lx);t.keyIdentifier&&(this.keyId=fI.ep.ToHex(t.keyIdentifier)),t.authorityCertIssuer&&t.authorityCertSerialNumber&&(this.certId={name:t.authorityCertIssuer,serialNumber:fI.ep.ToHex(t.authorityCertSerialNumber)})}toTextObject(){const e=this.toTextObjectWithoutValue(),t=fx.parse(this.value,Lx);return t.authorityCertIssuer&&(e["Authority Issuer"]=new eP(t.authorityCertIssuer).toTextObject()),t.authorityCertSerialNumber&&(e["Authority Serial Number"]=t.authorityCertSerialNumber),t.keyIdentifier&&(e[""]=t.keyIdentifier),e}}lP.NAME="Authority Key Identifier";class uP extends kL{constructor(...e){if(fI.vJ.isBufferSource(e[0])){super(e[0]);const t=fx.parse(this.value,Ux);this.ca=t.cA,this.pathLength=t.pathLenConstraint}else{const t=new Ux({cA:e[0],pathLenConstraint:e[1]});super(Px,e[2],fx.serialize(t)),this.ca=e[0],this.pathLength=e[1]}}toTextObject(){const e=this.toTextObjectWithoutValue();return this.ca&&(e.CA=this.ca),void 0!==this.pathLength&&(e["Path Length"]=this.pathLength),e}}var hP,dP;uP.NAME="Basic Constraints",function(e){e.serverAuth="1.3.6.1.5.5.7.3.1",e.clientAuth="1.3.6.1.5.5.7.3.2",e.codeSigning="1.3.6.1.5.5.7.3.3",e.emailProtection="1.3.6.1.5.5.7.3.4",e.timeStamping="1.3.6.1.5.5.7.3.8",e.ocspSigning="1.3.6.1.5.5.7.3.9"}(hP||(hP={}));class fP extends kL{constructor(...e){if(fI.vJ.isBufferSource(e[0])){super(e[0]);const t=fx.parse(this.value,dk);this.usages=t.map((e=>e))}else{const t=new dk(e[0]);super(hk,e[1],fx.serialize(t)),this.usages=e[0]}}toTextObject(){const e=this.toTextObjectWithoutValue();return e[""]=this.usages.map((e=>CL.toString(e))).join(", "),e}}fP.NAME="Extended Key Usages",function(e){e[e.digitalSignature=1]="digitalSignature",e[e.nonRepudiation=2]="nonRepudiation",e[e.keyEncipherment=4]="keyEncipherment",e[e.dataEncipherment=8]="dataEncipherment",e[e.keyAgreement=16]="keyAgreement",e[e.keyCertSign=32]="keyCertSign",e[e.cRLSign=64]="cRLSign",e[e.encipherOnly=128]="encipherOnly",e[e.decipherOnly=256]="decipherOnly"}(dP||(dP={}));class pP extends kL{constructor(...e){if(fI.vJ.isBufferSource(e[0])){super(e[0]);const t=fx.parse(this.value,Ak);this.usages=t.toNumber()}else{const t=new Ak(e[0]);super(wk,e[1],fx.serialize(t)),this.usages=e[0]}}toTextObject(){const e=this.toTextObjectWithoutValue(),t=fx.parse(this.value,Ak);return e[""]=t.toJSON().join(", "),e}}pP.NAME="Key Usages";class gP extends kL{constructor(...e){if(fI.vJ.isBufferSource(e[0])){super(e[0]);const t=fx.parse(this.value,Lk);this.keyId=fI.ep.ToHex(t)}else{const t="string"==typeof e[0]?fI.ep.FromHex(e[0]):e[0],r=new Lk(t);super(Dk,e[1],fx.serialize(r)),this.keyId=fI.ep.ToHex(t)}}static async create(e,t=!1,r=OL.get()){let n;n=e instanceof sP?e.rawData:"publicKey"in e?e.publicKey.rawData:fI.vJ.isBufferSource(e)?e:await r.subtle.exportKey("spki",e);const i=new sP(n),s=await i.getKeyIdentifier(r);return new gP(fI.ep.ToHex(s),t)}toTextObject(){const e=this.toTextObjectWithoutValue(),t=fx.parse(this.value,Lk);return e[""]=t,e}}gP.NAME="Subject Key Identifier";class yP extends kL{constructor(...e){fI.vJ.isBufferSource(e[0])?super(e[0]):super(xk,e[1],new eP(e[0]||[]).rawData)}onInit(e){super.onInit(e);const t=fx.parse(e.extnValue,kk);this.names=new eP(t)}toTextObject(){const e=this.toTextObjectWithoutValue(),t=this.names.toTextObject();for(const r in t)e[r]=t[r];return e}}yP.NAME="Subject Alternative Name";class wP extends kL{constructor(...e){var t;if(fI.vJ.isBufferSource(e[0])){super(e[0]);const t=fx.parse(this.value,Jx);this.policies=t.map((e=>e.policyIdentifier))}else{const r=e[0],n=null!==(t=e[1])&&void 0!==t&&t,i=new Jx(r.map((e=>new Yx({policyIdentifier:e}))));super(Wx,n,fx.serialize(i)),this.policies=r}}toTextObject(){const e=this.toTextObjectWithoutValue();return e.Policy=this.policies.map((e=>new IL("",{},CL.toString(e)))),e}}wP.NAME="Certificate Policies",oP.register(Wx,wP);class mP extends xL{constructor(...e){let t;if(fI.vJ.isBufferSource(e[0]))t=fI.vJ.toArrayBuffer(e[0]);else{const r=e[0],n=Array.isArray(e[1])?e[1].map((e=>fI.vJ.toArrayBuffer(e))):[];t=fx.serialize(new Nk({type:r,values:n}))}super(t,Nk)}onInit(e){this.type=e.type,this.values=e.values}toTextObject(){const e=this.toTextObjectWithoutValue();return e.Value=this.values.map((e=>new IL("",{"":e}))),e}toTextObjectWithoutValue(){const e=this.toTextObjectEmpty();return e[IL.NAME]===mP.NAME&&(e[IL.NAME]=CL.toString(this.type)),e}}mP.NAME="Attribute";class bP extends mP{constructor(...e){var t;if(fI.vJ.isBufferSource(e[0]))super(e[0]);else{const t=new LD({printableString:e[0]});super(yD,[fx.serialize(t)])}null!==(t=this.password)&&void 0!==t||(this.password="")}onInit(e){if(super.onInit(e),this.values[0]){const e=fx.parse(this.values[0],LD);this.password=e.toString()}}toTextObject(){const e=this.toTextObjectWithoutValue();return e[IL.VALUE]=this.password,e}}bP.NAME="Challenge Password";class AP extends mP{constructor(...e){var t;if(fI.vJ.isBufferSource(e[0]))super(e[0]);else{const t=e[0],r=new Kk;for(const e of t)r.push(fx.parse(e.rawData,Vk));super(wD,[fx.serialize(r)])}null!==(t=this.items)&&void 0!==t||(this.items=[])}onInit(e){if(super.onInit(e),this.values[0]){const e=fx.parse(this.values[0],Kk);this.items=e.map((e=>oP.create(fx.serialize(e))))}}toTextObject(){const e=this.toTextObjectWithoutValue(),t=this.items.map((e=>e.toTextObject()));for(const r of t)e[r[IL.NAME]]=r;return e}}AP.NAME="Extensions";class EP{static register(e,t){this.items.set(e,t)}static create(e){const t=new mP(e),r=this.items.get(t.type);return r?new r(e):t}}EP.items=new Map;let vP=class{toAsnAlgorithm(e){if("rsassa-pkcs1-v1_5"===e.name.toLowerCase()){if(!e.hash)return new zk({algorithm:WB,parameters:null});switch(e.hash.name.toLowerCase()){case"sha-1":return new zk({algorithm:GB,parameters:null});case"sha-256":return new zk({algorithm:QB,parameters:null});case"sha-384":return new zk({algorithm:VB,parameters:null});case"sha-512":return new zk({algorithm:KB,parameters:null})}}return null}toWebAlgorithm(e){switch(e.algorithm){case WB:return{name:"RSASSA-PKCS1-v1_5"};case GB:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case QB:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case VB:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case KB:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}}}return null}};vP=px([GO()],vP),zO.registerSingleton(qD,vP);class _P{addPadding(e,t){const r=fI.vJ.toUint8Array(t),n=new Uint8Array(e);return n.set(r,e-r.length),n}removePadding(e,t=!1){let r=fI.vJ.toUint8Array(e);for(let e=0;e<r.length;e++)if(r[e]){r=r.slice(e);break}if(t&&r[0]>127){const e=new Uint8Array(r.length+1);return e.set(r,1),e.buffer}return r.buffer}toAsnSignature(e,t){if("ECDSA"===e.name){const r=e.namedCurve,n=_P.namedCurveSize.get(r)||_P.defaultNamedCurveSize,i=new zB,s=fI.vJ.toUint8Array(t);return i.r=this.removePadding(s.slice(0,n),!0),i.s=this.removePadding(s.slice(n,n+n),!0),fx.serialize(i)}return null}toWebSignature(e,t){if("ECDSA"===e.name){const r=fx.parse(t,zB),n=e.namedCurve,i=_P.namedCurveSize.get(n)||_P.defaultNamedCurveSize,s=this.addPadding(i,this.removePadding(r.r)),o=this.addPadding(i,this.removePadding(r.s));return(0,fI.$e)(s,o)}return null}}_P.namedCurveSize=new Map,_P.defaultNamedCurveSize=32;const TP="1.3.101.110",SP="1.3.101.111",IP="1.3.101.112",CP="1.3.101.113";let RP=class{toAsnAlgorithm(e){let t=null;switch(e.name.toLowerCase()){case"eddsa":switch(e.namedCurve.toLowerCase()){case"ed25519":t=IP;break;case"ed448":t=CP}break;case"ecdh-es":switch(e.namedCurve.toLowerCase()){case"x25519":t=TP;break;case"x448":t=SP}}return t?new zk({algorithm:t}):null}toWebAlgorithm(e){switch(e.algorithm){case IP:return{name:"EdDSA",namedCurve:"Ed25519"};case CP:return{name:"EdDSA",namedCurve:"Ed448"};case TP:return{name:"ECDH-ES",namedCurve:"X25519"};case SP:return{name:"ECDH-ES",namedCurve:"X448"}}return null}};RP=px([GO()],RP),zO.registerSingleton(qD,RP);class xP extends iP{constructor(e){iP.isAsnEncoded(e)?super(e,GD):super(e),this.tag=nP.CertificateRequestTag}onInit(e){this.tbs=fx.serialize(e.certificationRequestInfo),this.publicKey=new sP(e.certificationRequestInfo.subjectPKInfo);const t=zO.resolve(QD);this.signatureAlgorithm=t.toWebAlgorithm(e.signatureAlgorithm),this.signature=e.signature,this.attributes=e.certificationRequestInfo.attributes.map((e=>EP.create(fx.serialize(e))));const r=this.getAttribute(wD);this.extensions=[],r instanceof AP&&(this.extensions=r.items),this.subjectName=new ML(e.certificationRequestInfo.subject),this.subject=this.subjectName.toString()}getAttribute(e){for(const t of this.attributes)if(t.type===e)return t;return null}getAttributes(e){return this.attributes.filter((t=>t.type===e))}getExtension(e){for(const t of this.extensions)if(t.type===e)return t;return null}getExtensions(e){return this.extensions.filter((t=>t.type===e))}async verify(e=OL.get()){const t={...this.publicKey.algorithm,...this.signatureAlgorithm},r=await this.publicKey.export(t,["verify"],e),n=zO.resolveAll(aP).reverse();let i=null;for(const e of n)if(i=e.toWebSignature(t,this.signature),i)break;if(!i)throw Error("Cannot convert WebCrypto signature value to ASN.1 format");return await e.subtle.verify(this.signatureAlgorithm,r,i,this.tbs)}toTextObject(){const e=this.toTextObjectEmpty(),t=fx.parse(this.rawData,GD),r=t.certificationRequestInfo,n=new IL("",{Version:`${Yk[r.version]} (${r.version})`,Subject:this.subject,"Subject Public Key Info":this.publicKey});if(this.attributes.length){const e=new IL("");for(const t of this.attributes){const r=t.toTextObject();e[r[IL.NAME]]=r}n.Attributes=e}return e.Data=n,e.Signature=new IL("",{Algorithm:RL.serializeAlgorithm(t.signatureAlgorithm),"":t.signature}),e}}xP.NAME="PKCS#10 Certificate Request";var kP;!function(e){e[e.unspecified=0]="unspecified",e[e.keyCompromise=1]="keyCompromise",e[e.cACompromise=2]="cACompromise",e[e.affiliationChanged=3]="affiliationChanged",e[e.superseded=4]="superseded",e[e.cessationOfOperation=5]="cessationOfOperation",e[e.certificateHold=6]="certificateHold",e[e.removeFromCRL=8]="removeFromCRL",e[e.privilegeWithdrawn=9]="privilegeWithdrawn",e[e.aACompromise=10]="aACompromise"}(kP||(kP={}));oP.register(Px,uP),oP.register(hk,fP),oP.register(wk,pP),oP.register(Dk,gP),oP.register(Ox,lP),oP.register(xk,yP),EP.register(yD,bP),EP.register(wD,AP),zO.registerSingleton(aP,class{toAsnSignature(e,t){return fI.vJ.toArrayBuffer(t)}toWebSignature(e,t){return fI.vJ.toArrayBuffer(t)}}),zO.registerSingleton(aP,_P),_P.namedCurveSize.set("P-256",32),_P.namedCurveSize.set("K-256",32),_P.namedCurveSize.set("P-384",48),_P.namedCurveSize.set("P-521",66);const NP=/-{5}(BEGIN|END) .*-{5}/gm;async function BP({hash:e,signature:t,publicKey:r,domain:n,domainCert:i,created:s,software:o}={}){let a;const c=[];if(t=(0,$m.toByteArray)(t),i&&n&&!r){const e=i.split("\n\n"),n=(0,$m.toByteArray)(e[0].replace(NP,"").replace(/\s/gm,"")),s=db(await crypto.subtle.digest("SHA-256",n));c.push({id:"certFingerprint",expected:s,matched:null});const o=new cP(n);r=await o.publicKey.export();const l=(0,$m.fromByteArray)(new Uint8Array(o.publicKey.rawData));c.push({id:"publicKey",expected:l,matched:null}),o.subject&&o.subject.startsWith("CN=")&&(a=o.subject.split(3)),t=function(e){try{const t=ux.parse(e,zB),r=0===t.r[0]?t.r.slice(1):t.r,n=0===t.s[0]?t.s.slice(1):t.s;e=Hb([r,n],r.length+n.length)}catch(e){console.log(e)}return e}(t)}else{const e={name:"ECDSA",namedCurve:"P-384"};c.push({id:"publicKey",expected:r,matched:null}),r=await crypto.subtle.importKey("spki",(0,$m.toByteArray)(r),e,!0,["verify"])}const l=new TextEncoder,u=await crypto.subtle.verify({name:"ECDSA",hash:"SHA-256"},r,t,l.encode(e));return c.push({id:"signature",expected:!0,matched:u}),s&&c.push({id:"created",expected:s,matched:null}),o&&c.push({id:"software",expected:o,matched:null}),n&&c.push({id:"domain",expected:n,matched:a}),c}const OP="pages/pages.jsonl",DP="pages/extraPages.jsonl",LP="datapackage.json",PP="datapackage-digest.json",UP="webarchive.yaml";class MP{constructor(e,t,r=!0){this.file=t,this.waczname=t.waczname,this.store=e,this.isRoot=r}async loadFileFromWACZ(e,t){return this.store.loadFileFromWACZ?await this.store.loadFileFromWACZ(this.file,e,t):await this.file.loadFile(e,t)}async load(){let e,t=null;return this.file.containsFile(PP)&&(t=await this.loadDigestData(PP)),this.file.containsFile(LP)?e=await this.loadPackage(LP,t):this.file.containsFile(UP)&&(e=await this.loadOldPackageYAML(UP)),e||{}}async loadTextFileFromWACZ(e,t=!1){const{reader:r,hasher:n}=await this.loadFileFromWACZ(e,{computeHash:!!t}),i=(new TextDecoder).decode(await r.readFully());return t&&n&&await this.store.addVerifyData(this.waczname,e,t,n.getHash()),i}async loadDigestData(e){try{const t=JSON.parse(await this.loadTextFileFromWACZ(e));let r;t.path===LP&&t.hash&&(r=t.hash);const n=this.store,i=this.isRoot?"":this.waczname+":";if(!t.signedData||t.signedData.hash!==r)return void await n.addVerifyData(i,"signature");await n.addVerifyData(i,"datapackageHash",r);const s=await BP(t.signedData);return await n.addVerifyDataList(i,s),r}catch(e){console.warn(e)}}async loadPackage(e,t){const r=await this.loadTextFileFromWACZ(e,t),n=JSON.parse(r);switch(this.isRoot&&void 0!==n.config&&this.store.initConfig(n.config),n.profile){case"data-package":case"wacz-package":case void 0:case null:return await this.loadLeafWACZPackage(n);case"multi-wacz-package":return await this.loadMultiWACZPackage(n);default:throw new Error(`Unknown package profile: ${n.profile}`)}}async loadMultiWACZPackage(e){return this.file.markAsMultiWACZ(),await this.store.loadWACZFiles(e,this.file),e}async loadLeafWACZPackage(e){const t=e.metadata||{};let r=null;for(const t of e.resources)t.path===OP?(r=t.hash,await this.store.addVerifyData(this.waczname,t.path,t.hash)):(t.path.endsWith(".idx")||t.path.endsWith(".cdx"))&&await this.store.addVerifyData(this.waczname,t.path,t.hash);if(this.file.containsFile(OP)){(await this.loadPages(OP,r)).hasText&&(this.store.textIndex=t.textIndex=OP)}return this.file.containsFile(DP)&&(this.store.textIndex=t.textIndex=DP),t}async loadOldPackageYAML(e){const t=await this.loadTextFileFromWACZ(e),r=dI.load(t),n={desc:r.desc,title:r.title};r.textIndex&&(n.textIndex=r.textIndex,r.config||(r.config={}),r.config.textIndex=r.textIndex),this.isRoot&&void 0!==r.config&&this.store.initConfig(r.config),n.title||(n.title=this.store.config.sourceName);const i=r.pages||[];i&&i.length&&await this.store.addPages(i);const s=r.pageLists||[];return s&&s.length&&await this.store.addCuratedPageLists(s,"pages","show"),n}async loadPages(e="pages/pages.jsonl",t=null){const{reader:r,hasher:n}=await this.loadFileFromWACZ(e,{unzip:!0,computeHash:!0});let i=null,s=[];for await(const e of r.iterLines()){const t=JSON.parse(e);this.waczname&&(t.wacz=this.waczname),i?(s.push(t),500===s.length&&(await this.store.addPages(s),s=[])):i=t}return s.length&&await this.store.addPages(s),n&&t&&await this.store.addVerifyData(this.waczname,e,t,n.getHash()),i}}class FP{constructor(e,t,r=null){this.loader=e,this.loadId=r,this.loadUrl=t.loadUrl}async load(e){e.fullConfig&&this.loader.arrayBuffer&&this.loader.arrayBuffer.byteLength<=ib&&(e.fullConfig.extra||(e.fullConfig.extra={}),e.fullConfig.extra.arrayBuffer=this.loader.arrayBuffer);const t=this.loadUrl,r=this.loader;return await e.addNewWACZ({name:"default",path:t,loader:r})}}class HP{constructor(e,t,r=null){this.config=t,this.loadId=r,this.loader=e}async load(e,t=null,r=0){const n=new hT({loader:this.loader});await n.init();const i=n.zipreader,s=new MP(e,n),o=await s.load();let a=0;const c=(e,n,i)=>{i+=a,t&&r&&t(Math.round(100*i/r),null,i,r)};for(const t of n.iterContainedFiles()){const r=i.getCompressedSize(t);(t.endsWith(".warc.gz")||t.endsWith(".warc"))&&await this.loadWARC(e,i,t,c,r),a+=r}return o||{}}async loadWARC(e,t,r,n,i){const{reader:s}=await t.loadFile(r,{unzip:!0}),o=new Nv(s,null,r);return o.detectPages=!1,await o.load(e,n,i)}}class jP{constructor(e){this.response=e}async load(e){return await e.loadFromJSON(this.response)}}const zP=/^([\w-]+,)*[\w-]+(:\d+)?,?\)\//;class WP extends I_{constructor(e,t,r="wacz"){super(e.dbname,e.noCache),this.config=e,this.waczfiles={},this.waczNameForHash={},this.ziploadercache={},this.updating=null,this.rootSourceType=r,this.sourceLoader=t,this.externalSource=null,this.fuzzyUrlRules=[],this.textIndex=e&&e.metadata&&e.metadata.textIndex||DP,e.extraConfig&&this.initConfig(e.extraConfig)}initConfig(e){if(void 0!==e.decodeResponses&&(this.config.decode=e.decodeResponses),e.hostProxy&&(this.externalSource=new SA(e,{hostProxyOnly:!0})),e.fuzzy)for(const[t,r]of e.fuzzy){const e=new RegExp(t);this.fuzzyUrlRules.push({match:e,replace:r})}e.textIndex&&(this.textIndex=e.textIndex)}updateHeaders(e){this.sourceLoader&&(this.sourceLoader.headers=e)}_initDB(e,t,r,n){super._initDB(e,t,r,n),t||(e.createObjectStore("ziplines",{keyPath:["waczname","prefix"]}),e.createObjectStore("waczfiles",{keyPath:"waczname"}),e.createObjectStore("verification",{keyPath:"id"})),2===t&&this.convertV2WACZDB(e,n),3===t&&e.createObjectStore("verification",{keyPath:"id"})}async convertV2WACZDB(e,t){try{const r=await t.objectStore("ziplines").getAll(),n=await t.objectStore("zipEntries").getAll();e.deleteObjectStore("ziplines"),e.deleteObjectStore("zipEntries"),e.createObjectStore("ziplines",{keyPath:["waczname","prefix"]}),e.createObjectStore("waczfiles",{keyPath:"waczname"}),e.createObjectStore("verification",{keyPath:"id"});const i=this.config.loadUrl;for(const e of r)e.waczname=i,t.objectStore("ziplines").put(e);const s=r.length>0?2:1,o=await this.computeHash(i),a=new hT({waczname:i,hash:o,url:i,entries:n,indexType:s});t.objectStore("waczfiles").put(a.serialize()),await t.done}catch(e){console.warn(e)}}addWACZFile(e){return this.waczfiles[e.waczname]=new hT(e),this.waczNameForHash[e.hash]=e.waczname,this.waczfiles[e.waczname]}async init(){await super.init();const e=await this.db.getAll("waczfiles")||[];for(const t of e)this.addWACZFile({...t,parent:this});for(const[e,t]of Object.entries(this.waczfiles)){t.path=t.path||e;const r=t.path.lastIndexOf("#!/");if(r>0){const e=t.path.slice(0,r),n=this.waczfiles[e];t.parent=n}else"json"!==this.rootSourceType&&(t.loader=this.sourceLoader)}await this.checkUpdates()}async close(){super.close(),caches.delete("cache:"+this.name.slice("db:".length))}async clearZipData(){const e=["waczfiles","ziplines"];for(const t of e)await this.db.clear(t)}async addVerifyData(e="",t,r,n,i=!1){let s=null;e&&(t=e+t),n&&(s=r===n,i&&console.log(`verify ${t}: ${s}`)),await this.db.put("verification",{id:t,expected:r,matched:s})}async addVerifyDataList(e,t){const r=this.db.transaction("verification","readwrite");for(const n of t)e&&(n.id=e+n.id),r.store.put(n);try{await r.done}catch(e){console.warn(e)}}async getVerifyInfo(){const e=await this.db.getAll("verification");let t=0,r=0,n={};const i=["domain","created","certFingerprint","software","datapackageHash","publicKey"];for(const s of e)i.includes(s.id)?n[s.id]=s.expected:"signature"===s.id||!0===s.matched?t++:!1===s.matched&&r++;return n.numInvalid=r,n.numValid=t,n}async getVerifyExpected(e){const t=await this.db.get("verification",e);return t&&t.expected}async clearAll(){await super.clearAll(),await this.clearZipData()}async loadRecordFromSource(e){const{start:t,length:r,path:n,wacz:i}=e.source,s={offset:t,length:r,unzip:!0,computeHash:!0},o=i,{reader:a,hasher:c}=await this.loadFileFromNamedWACZ(o,"archive/"+n,s),l=new Bv(a,c);await this.waczfiles[o].save(this.db);const u=await l.load();return e["req.http:cookie"]&&(u.respHeaders["x-wabac-preset-cookie"]=e["req.http:cookie"]),{remote:u,hasher:c}}async loadIndex(e){if(!this.waczfiles[e])throw new Error("unknown waczfile: "+e);if(this.waczfiles[e].indexType)return{indexType:this.waczfiles[e].indexType,isNew:!1};let t=0;for(const r of this.waczfiles[e].iterContainedFiles())r.endsWith(".cdx")||r.endsWith(".cdxj")?(console.log(`Loading CDX for ${e}`),await this.loadCDX(r,e),t=1):r.endsWith(".idx")&&(console.log(`Loading IDX for ${e}`),await this.loadIDX(r,e),t=2);return this.waczfiles[e].indexType=t,await this.waczfiles[e].save(this.db,!0),{indexType:t,isNew:!0}}async loadCDX(e,t,r,n){const{reader:i,hasher:s}=await this.loadFileFromNamedWACZ(t,e,{computeHash:!0}),o=new D_(i,null,t,{wacz:t}),a=await o.load(this,r,n);if(s){const r=await this.getVerifyExpected(e);r&&this.addVerifyData(t,e,r,s.getHash())}return a}async loadIDX(e,t,r,n){const{reader:i,hasher:s}=await this.loadFileFromNamedWACZ(t,e,{computeHash:!0});let o=[],a="",c=!0,l=0;for await(const e of i.iterLines()){if(l+=e.length,l===e.length&&e.startsWith("!meta")){const t=e.indexOf(" {");if(t<0){console.warn("Invalid Meta Line: "+e);continue}const r=JSON.parse(e.slice(t));r.filename&&(a=r.filename),"cdxj-gzip-1.0"!==r.format&&console.log(`Unknown CDXJ format "${r.format}", archive may not parse correctly`);continue}let i;if(e.indexOf("\t")>0){let[r,n,s,o]=e.split("\t");s=Number(s),o=Number(o),i={waczname:t,prefix:r,filename:n,offset:s,length:o,loaded:!1},c=!1}else{const r=e.indexOf(" {");if(r<0){console.log("Invalid Index Line: "+e);continue}const n=e.slice(0,r);let{offset:s,length:o,filename:l,digest:u}=JSON.parse(e.slice(r));c=c&&!zP.test(n),l=l||a,i={waczname:t,prefix:n,filename:l,offset:s,length:o,digest:u,loaded:!1}}r&&r(l/n,l,n),o.push(i)}if(s){const r=await this.getVerifyExpected(e);r&&this.addVerifyData(t,e,r,s.getHash())}const u=this.db.transaction("ziplines","readwrite");for(const e of o)u.store.put(e);try{await u.done}catch(e){console.log("Error loading ziplines index: ",e)}c&&c!==this.waczfiles[t].nonSurt&&(this.waczfiles[t].nonSurt=c,await this.waczfiles[t].save(this.db,!0))}async loadCDXFromIDX(e,t,r=0,n=!1){const i=this.waczfiles[e].nonSurt?t:Lb(t),s=n?this.prefixUpperBound(i):i+" 9999",o=IDBKeyRange.upperBound([e,s],!0),a=this.db.transaction("ziplines","readonly"),c=[];for await(const t of a.store.iterate(o,"prev")){if(t.value.waczname!==e)break;if(c.unshift(t.value),!t.value.prefix.split(" ")[0].startsWith(i))break}await a.done;const l=[];c.length>3&&r&&c.sort(((e,t)=>{const n=e.prefix.split(" ")[1],i=t.prefix.split(" ")[1];if(!n||!i)return 0;const s=Math.abs(hb(n).getTime()-r),o=Math.abs(hb(i).getTime()-r);return s===o?0:s<o?-1:1}));let u=0;for(const t of c){if(t.loaded)continue;const r=e+":"+t.filename+":"+t.offset;let n=this.ziploadercache[r];if(n||(n=this.doCDXLoad(r,t,e),this.ziploadercache[r]=n),l.push(n),++u>3)break}return l.length&&await Promise.allSettled(l),await this.waczfiles[e].save(this.db),l.length>0}async doCDXLoad(e,t,r){try{const n="indexes/"+t.filename,i={offset:t.offset,length:t.length,unzip:!0,computeHash:!!t.digest},{reader:s,hasher:o}=await this.loadFileFromNamedWACZ(r,n,i),a=new D_(s,null,null,{wacz:r});if(await a.load(this),o){const e=o.getHash(),i=`${n}:${t.offset}-${t.length}`;await this.addVerifyData(r,i,t.digest,e)}t.loaded=!0,await this.db.put("ziplines",t)}catch(e){await Eb(e,this.config)||console.warn(e)}finally{delete this.ziploadercache[e]}}async findPageAtUrl(e,t){const r=await this.db.getAllFromIndex("pages","url",e);let n=null,i=Number.MAX_SAFE_INTEGER;for(const e of r){const r=Math.abs(e.ts-t);if(r<1e3)return e;r<i&&(n=e,i=r)}return n}async lookupUrl(e,t,r={}){try{let n=await super.lookupUrl(e,t,r);if(n&&(!r.noRevisits||"warc/revisit"!==n.mime))return n;const{waczname:i}=r;return i&&"local"!==i&&(n=await this.lookupUrlForWACZ(i,e,t,r)),n}catch(e){return console.warn(e),null}}async lookupUrlForWACZ(e,t,r,n){const{indexType:i,isNew:s}=await this.loadIndex(e);switch(i){case 2:if(!await this.loadCDXFromIDX(e,t,r,!1))return null;break;case 1:if(!s)return null;break;default:return null}return await super.lookupUrl(t,r,n)}async resourcesByUrlAndMime(e,...t){let r=await super.resourcesByUrlAndMime(e,...t);if(r.length>0)return r;for(const n of Object.keys(this.waczfiles))if(n&&"local"!==n){const{indexType:i,isNew:s}=await this.loadIndex(n);switch(i){case 2:if(!await this.loadCDXFromIDX(n,e,0,!0))continue;break;case 1:if(!s)continue;break;default:continue}const o=await super.resourcesByUrlAndMime(e,...t);o&&o.length&&(r=r.concat(o))}return r}async loadFileFromWACZ(e,t,r){try{return await e.loadFile(t,r)}catch(n){if(await this.retryLoad(n))return await e.loadFile(t,r);throw n}}async loadFileFromNamedWACZ(e,t,r){const n=this.waczfiles[e];if(!n)throw new Error("No WACZ Found for: "+e);return await this.loadFileFromWACZ(n,t,r)}async addNewWACZ({name:e,hash:t,path:r,parent:n=null,loader:i=null}={}){const s=e||r;t?t.indexOf(":")>0&&(t=t.split(":")[1]):t=await fb(s,"sha-256","");const o=this.addWACZFile({waczname:s,hash:t,path:r,parent:n,loader:i},!0);await o.init(),await o.save(this.db,!0);const a=new MP(this,o,!n);return await a.load()}async loadWACZFiles(e,t=this){const r=[],n=async(e,t)=>{await this.waczfiles[e].init(t),await this.waczfiles[e].save(this.db,!0)},i=e.resources.map((e=>{const r=t.getLoadPath(e.path);return{name:t.getName(e.name),hash:e.hash,path:r}}));for(const{name:e,hash:s,path:o}of i)this.waczfiles[e]?this.waczfiles[e].path!==o&&r.push(n(e,o)):r.push(this.addNewWACZ({name:e,hash:s,path:o,parent:t}));r.length&&await Promise.allSettled(r)}async getTextIndex(){const e={"Content-Type":"application/ndjson"},t=Object.keys(this.waczfiles);if(!this.textIndex||!t.length)return new Response("",{headers:e});if(1===t.length){const r=t[0];let n;try{n=await this.loadFileFromNamedWACZ(r,this.textIndex,{unzip:!0})}catch(t){return new Response("",{headers:e})}const{reader:i}=n,s=this.waczfiles[r].getSizeOf(this.textIndex);return s>0&&(e["Content-Length"]=""+s),new Response(i.getReadableStream(),{headers:e})}{const r=[];for(const e of t)try{const{reader:t}=await this.loadFileFromNamedWACZ(e,this.textIndex,{unzip:!0});t&&r.push(t)}catch(e){continue}const n=new ReadableStream({async pull(e){for(const t of r)for await(const r of t)e.enqueue(r);e.close()}});return new Response(n,{headers:e})}}async getResource(e,t,r,{pageId:n}={}){if(await this.initing,this.externalSource){const n=await this.externalSource.getResource(e,t,r);if(n)return n}const i="navigate"===r.request.mode;let s=n,o=null,a=null;if(s){if(o=this.waczNameForHash[s],!o)return null;a=await super.getResource(e,t,r,{waczname:o})}if(a||!i)return a;let c=null;for(const[n,i]of Object.entries(this.waczfiles))if(i.fileType===lT&&(a=await super.getResource(e,t,r,{waczname:n,noFuzzyCheck:!0}),a)){o=n,c=i.hash;break}if(o)return Response.redirect(`${t}:${c}/${e.timestamp}mp_/${e.url}`);if(this.fuzzyUrlRules.length)for(const{match:n,replace:i}of this.fuzzyUrlRules){const s=decodeURIComponent(e.url.replace(n,i));if(s&&s!==e.url){e.url=s;const n=await super.getResource(e,t,r);if(n)return n}}return null}async retryLoad(e){return"json"===this.rootSourceType&&(e instanceof Ib?(this.updating||(this.updating=this.checkUpdates()),await this.updating,this.updating=null,!0):await Eb(e,this.config))}async checkUpdates(){"json"===this.rootSourceType&&await this.loadFromJSON()}async loadFromJSON(e=null){if(!e){e=(await this.sourceLoader.doInitialFetch(!1)).response}if(206!==e.status&&200!==e.status)return console.warn("WACZ update failed from: "+this.config.loadUrl),{};const t=await e.json();return t.profile,await this.loadWACZFiles(t),t}getLoadPath(e){return new URL(e,this.config.loadUrl).href}getName(e){return e}async createLoader(e){return await w_(e)}}class GP{constructor(e){const t=e.extraConfig||{};this.sourceUrl=t.prefix,this.type=t.sourceType||"kiwix",this.notFoundPageUrl=t.notFoundPageUrl}async getAllPages(){return[]}async getResource(e,t){const{url:r,headers:n}=e.prepareProxyRequest(t);let i=n;if("kiwix"===this.type){let t=await this.resolveHeaders(r);if(!t)for(const e of wA.getFuzzyCanonsWithArgs(r))if(e!==r&&(t=await this.resolveHeaders(e),t))break;if(!t){if(this.notFoundPageUrl&&"navigate"===e.mode){const e=await fetch(this.notFoundPageUrl);if(200===e.status){const t={"Content-Type":"text/html"},n=await e.text();return new Response(n.replace("$URL",r),{status:404,headers:t})}}return null}let{headers:n,encodedUrl:s,date:o,status:a,statusText:c,hasPayload:l}=t;if(i.has("Range")){const e=i.get("Range");i={Range:e}}let u=null,h=null;l&&(h=await fetch(this.sourceUrl+"A/"+s,{headers:i}),h.body&&(u=new qb(h.body.getReader(),!1)),206===h.status&&(a=206,c="Partial Content",n.set("Content-Length",h.headers.get("Content-Length")),n.set("Content-Range",h.headers.get("Content-Range")),n.set("Accept-Ranges","bytes"))),u||(u=new Uint8Array([])),o||(o=new Date),n||(n=new Headers);return new AA({payload:u,status:a,statusText:c,headers:n,url:r,date:o,noRW:!1,isLive:!1})}}async resolveHeaders(e){const t=e.slice(e.indexOf("//")+2);let r=encodeURI(t);r=encodeURIComponent(t);let n=await fetch(this.sourceUrl+"H/"+r);if(200!==n.status)return null;let i=null,s=null,o=null,a=null,c=!1;try{const t=await sA.parse(n.body);if("revisit"===t.warcType){const r=t.warcHeaders.headers.get("WARC-Refers-To-Target-URI");if(r&&r!==e)return await this.resolveHeaders(r)}s=new Date(t.warcDate),t.httpHeaders?(i=t.httpHeaders.headers,o=Number(t.httpHeaders.statusCode),a=t.httpHeaders.statusText,c="0"!==t.httpHeaders.headers.get("Content-Length")):"resource"===t.warcType&&(i=new Headers,i.set("Content-Type",t.warcContentType),i.set("Content-Length",t.warcContentLength),o=200,a="OK",c=t.warcContentLength>0),o||(o=200)}catch(t){console.warn(t),console.warn("Ignoring headers, error parsing headers response for: "+e)}return{encodedUrl:r,headers:i,date:s,status:o,statusText:a,hasPayload:c}}}const qP=KP([80,75,3,4]),QP=KP([31,139,8]),VP=KP([87,65,82,67]);function KP(e){return t=>{for(const[r,n]of e.entries())if(n!==t[r])return!1;return!0}}async function YP(e){const t=e.body.getReader();let r="";const{value:n,done:i}=await t.read();var s;return!i&&n.length>=4&&(s=n.slice(0,4),r=qP(s)?".wacz":VP(s)?".warc":QP(s)?".warc.gz":void 0,r||(r=function(e){try{const t=(new TextDecoder).decode(e).split("\n");if(t>1&&t.indexOf(" {"))return".cdxj"}catch(e){return""}}(n))),i||t.cancel(),r}globalThis.self||(globalThis.self=globalThis),self.interruptLoads={};class JP{constructor(){this.colldb=null,this.root=null,this.checkIpfs=!0,this._init_db=this._initDB()}async _initDB(){this.colldb=await Hm("collDB",1,{upgrade:e=>{e.createObjectStore("colls",{keyPath:"name"}).createIndex("type","type")}})}async loadAll(e){if(await this._init_db,e)for(const t of e.split(",")){const e=t.split(":");if(2===e.length){const t={dbname:e[1],sourceName:e[1],decode:!1},r={name:e[0],type:"archive",config:t};console.log("Adding Coll: "+JSON.stringify(r)),await this.colldb.put("colls",r)}}try{const e=(await this.listAll()).map((e=>this._initColl(e)));await Promise.all(e)}catch(e){console.warn(e.toString())}return!0}async listAll(){return await this._init_db,await this.colldb.getAll("colls")}async loadColl(e){await this._init_db;const t=await this.colldb.get("colls",e);return t?await this._initColl(t):null}async reload(e){return this.loadColl(e)}async deleteColl(e){await this._init_db;const t=await this.colldb.get("colls",e);if(!t)return!1;if(t.config.dbname)try{await jm(t.config.dbname,{blocked(e,r){console.log(`Unable to delete ${t.config.dbname}, blocked: ${r}`)}})}catch(e){return console.warn(e),!1}return await this.colldb.delete("colls",e),!0}async updateAuth(e,t){await this._init_db;const r=await this.colldb.get("colls",e);return!!r&&(r.config.headers=t,await this.colldb.put("colls",r),!0)}async updateMetadata(e,t){await this._init_db;const r=await this.colldb.get("colls",e);return!!r&&(r.config.metadata={...r.config.metadata,...t},await this.colldb.put("colls",r),r.config.metadata)}async updateSize(e,t,r,n){await this._init_db;const i=await this.colldb.get("colls",e);if(!i)return!1;const s=i.config.metadata;return s.fullSize=(s.fullSize||0)+t,s.size=(s.size||0)+r,s.mtime=(new Date).getTime(),void 0!==n&&(i.config.decode=n),await this.colldb.put("colls",i),s}async initNewColl(e,t={},r="archive"){await this._init_db;const n=yb(),i="local://"+n,s={name:n,type:r,config:{dbname:"db:"+n,ctime:(new Date).getTime(),decode:!1,metadata:e,sourceUrl:i,extraConfig:t}},o=await this._initColl(s);return await this.colldb.put("colls",s),o}async _initColl(e){const t=await this._initStore(e.type,e.config),r=e.name,n=e.config;return e.config.root&&!this.root&&(this.root=r),this._createCollection({name:r,store:t,config:n})}async _initStore(e,t){let r=null,n=null;switch(e){case"archive":n=new _A(t.dbname);break;case"remotesource":r=await w_({url:t.loadUrl,headers:t.headers,size:t.size,extra:t.extra}),n=new C_(t.dbname,r,t.noCache);break;case"remoteprefix":n=new R_(t.dbname,t.remotePrefix,t.headers,t.noCache);break;case"wacz":case"remotezip":case"multiwacz":r=await w_({url:t.loadUrl||t.sourceUrl,headers:t.headers,extra:t.extra}),n=new WP(t,r,"multiwacz"===e?"json":"wacz");break;case"remotewarcproxy":n=new GP(t);break;case"live":n=new SA(t.extraConfig)}return n?(n.initing&&await n.initing,n):(console.log("no store found: "+e),null)}_createCollection(e){return e}}class XP extends JP{constructor(e){super(),this.registerListener(e)}async hasCollection(e){return await this._init_db,null!=await this.colldb.getKey("colls",e)}registerListener(e){e.addEventListener("message",(e=>{e.waitUntil?e.waitUntil(this._handleMessage(e)):this._handleMessage(e)}))}async _handleMessage(e){await this._init_db;const t=e.source||self;switch(e.data.msg_type){case"addColl":{const r=e.data.name,n=(e,n,i,s,o=null,a=null)=>{t.postMessage({msg_type:"collProgress",name:r,percent:e,error:n,currentSize:i,totalSize:s,fileHandle:o,extraMsg:a})};let i;try{if(i=await this.colldb.get("colls",r),i?e.data.skipExisting||(await this.deleteColl(r),i=await this.addCollection(e.data,n)):i=await this.addCollection(e.data,n),!i){if(e.data.name)try{await jm("db:"+e.data.name,{blocked(t,r){console.log(`Load failed and unable to delete ${e.data.name}: ${r}`)}})}catch(e){console.warn(e)}return}}catch(e){if(e instanceof Sb)return console.warn(e),void n(0,"permission_needed",null,null,e.info&&e.info.fileHandle);if("ConstraintError"!==e.name)return console.warn(e),void n(0,"An unexpected error occured: "+e.toString());console.log("already being added, just continue..."),i=await this.colldb.get("colls",r)}t.postMessage({msg_type:"collAdded",name:r,sourceUrl:i.config.sourceUrl});break}case"cancelLoad":{const t=e.data.name,r=new Promise((e=>self.interruptLoads[t]=e));await r,await this.deleteColl(t),delete self.interruptLoads[t];break}case"removeColl":{const r=e.data.name;await this.hasCollection(r)&&(await this.deleteColl(r),this.doListAll(t));break}case"listAll":this.doListAll(t);break;case"reload":this.reload(e.data.name)}}async doListAll(e){const t=[],r=await this.listAll();for(const e of r)t.push({name:e.name,prefix:e.name,pageList:[],sourceName:e.config.sourceName});e.postMessage({msg_type:"listAll",colls:t})}async addCollection(e,t){let r=e.name,n=null,i={root:e.root||!1},s=null,o=null;const a=e.file;if(!a||!a.sourceUrl)return t(0,"Invalid Load Request"),!1;if(i.dbname="db:"+r,a.sourceUrl.startsWith("proxy:"))i.sourceUrl=a.sourceUrl.slice("proxy:".length),i.extraConfig=e.extraConfig,i.extraConfig.prefix||(i.extraConfig.prefix=i.sourceUrl),i.topTemplateUrl=e.topTemplateUrl,i.metadata={},n=e.type||i.extraConfig.type||"remotewarcproxy",s=await this._initStore(n,i);else{let c=null;if(a.newFullImport&&(r=yb(),a.loadUrl=a.loadUrl||a.sourceUrl,a.name=a.name||a.sourceUrl,a.sourceUrl="local://"+r),n="archive",a.newFullImport&&a.importCollId){const e=await this.colldb.get("colls",a.importCollId);if(!e||"archive"!==e.type)return void t(0,"Invalid Existing Collection: "+a.importCollId);i.dbname=e.config.dbname,o=e.config,o.decode=!0}let l=a.loadUrl||a.sourceUrl;l.match(/[\w]+:\/\//)||(l=new URL(l,self.location.href).href),i.decode=!0,i.onDemand=!1,i.loadUrl=l,i.sourceUrl=a.sourceUrl,i.sourceName=a.name||a.sourceUrl;try{if(i.sourceName.match(/https?:\/\//)){const e=new URL(i.sourceName);i.sourceName=e.pathname+e.hash}}catch(e){}if(i.sourceName=i.sourceName.slice(i.sourceName.lastIndexOf("/")+1),i.size="number"==typeof a.size?a.size:null,i.extra=a.extra,i.loadUrl.startsWith("file://")&&!a.blob&&!i.extra){if(!this._fileHandles||!this._fileHandles[i.sourceUrl])return void t(0,"missing_local_file");i.extra={fileHandle:this._fileHandles[i.sourceUrl]}}i.extraConfig=e.extraConfig,i.headers=a.headers||i.extraConfig&&i.extraConfig.headers,i.noCache=a.noCache;let u=await w_({url:l,headers:i.headers,size:a.size,extra:i.extra,blob:a.blob});if(a.loadEager){const{response:e}=await u.doInitialFetch(!1,!0),t={arrayBuffer:new Uint8Array(await e.arrayBuffer())};a.newFullImport=!0,u=await w_({url:l,headers:i.headers,size:a.size,extra:t})}let h=function(e){const t=[".warc",".warc.gz",".cdx",".cdxj",".har",".json",".wacz",".zip"];for(const r of t)if(e.endsWith(r))return r;return""}(i.sourceName),{abort:d,response:f}=await u.doInitialFetch(".wacz"===h);h||(h=await YP(await f.clone()));const p=f.body;if(i.onDemand=u.canLoadOnDemand&&!a.newFullImport,!u.isValid){const e=u.length<=1e3?await f.text():"";return t(0,`Sorry, this URL could not be loaded.\nMake sure this is a valid URL and you have access to this file.\nStatus: ${f.status} ${f.statusText}\nError Details:\n${e}`),d&&d.abort(),!1}if(!u.length)return t(0,"Sorry, this URL could not be loaded because the size of the file is not accessible.\nMake sure this is a valid URL and you have access to this file."),d&&d.abort(),!1;const g=u.length;if(".wacz"===h)if(i.onDemand)c=new FP(u,i,r),s=new WP(i,u,"wacz"),n="wacz";else{if(!u.canLoadOnDemand||!a.newFullImport)return t(0,"Sorry, can't load this WACZ file due to lack of range request support on the server"),d&&d.abort(),!1;c=new HP(u,i,r),s=null,delete i.extra}else".warc"===h||".warc.gz"===h?i.noCache||!(g<ib)&&i.onDemand?(c=new O_(p,d,r),n="remotesource",s=new C_(i.dbname,u,i.noCache)):c=new Nv(p,d,r):".cdx"===h||".cdxj"===h?(i.remotePrefix=e.remotePrefix||l.slice(0,l.lastIndexOf("/")+1),c=new D_(p,d,r),n="remoteprefix",s=new R_(i.dbname,i.remotePrefix,i.headers,i.noCache)):".har"===h?(c=new B_(await f.json()),i.decode=!1):".json"===h&&(s=new WP(i,u,"json"),c=new jP(f),n="multiwacz");if(!c)return t(0,`The ${i.sourceName} is not a known archive format that could be loaded.`),d&&d.abort(),!1;s||(s=new _A(i.dbname)),await s.initing;try{i.metadata=await c.load(s,t,g)}catch(e){return e instanceof Cb||(t(0,`Unexpected Loading Error: ${e.toString()}`),console.warn(e)),!1}if(o)return await this.updateSize(a.importCollId,g,g,o.decode),{config:o};i.metadata.size||(i.metadata.size=g),i.metadata.title||(i.metadata.title=i.sourceName)}i.ctime=(new Date).getTime(),this._fileHandles&&i.extra&&i.extra.fileHandle&&delete this._fileHandles[i.sourceUrl];const c={name:r,type:n,config:i};return await this.colldb.add("colls",c),c.store=s,c}}class ZP extends XP{constructor(e,t=null,r={}){super(self),this.prefixes=e,this.colls={},this.inited=null,this.root=t,this.defaultConfig=r,this._fileHandles={}}_createCollection(e){return new Rv(e,this.prefixes,this.defaultConfig)}loadAll(e){return this.colls={},this.inited=super.loadAll(e),this.inited}async getColl(e){return this.colls[e]||(this.colls[e]=await this.loadColl(e)),this.colls[e]}async reload(e){delete this.colls[e],await this.getColl(e)}async addCollection(e,t){const r=await super.addCollection(e,t);return r&&r.name&&(this.colls[r.name]=this._createCollection(r)),r}async deleteColl(e,t=!1){return this.colls[e]&&(this.colls[e].store&&this.colls[e].store.delete&&await this.colls[e].store.delete(),t&&this.colls[e].config&&this.colls[e].config.extra&&this.colls[e].config.extra.fileHandle&&(this._fileHandles[this.colls[e].config.sourceUrl]=this.colls[e].config.extra.fileHandle)),!!await super.deleteColl(e)&&(delete this.colls[e],!0)}async initNewColl(e,t={},r="archive"){const n=await super.initNewColl(e,t,r);return n&&(this.colls[n.name]=n),n}async updateAuth(e,t){this.colls[e]&&this.colls[e].store.updateHeaders&&this.colls[e].store.updateHeaders(t),await super.updateAuth(e,t)}async updateMetadata(e,t){const r=await super.updateMetadata(e,t);return this.colls[e]&&r&&(this.colls[e].config.metadata=r,this.colls[e].metadata=r),r}async updateSize(e,t,r,n){const i=await super.updateSize(e,t,r,n);return this.colls[e]&&i&&(this.colls[e].config.metadata=i,this.colls[e].metadata=i),void 0!==n&&this.colls[e]&&(this.colls[e].config.decode=n),i}}class $P extends _A{constructor(e,t){super(e.dbname),this.name=e.dbname.slice(3),this.collLoader=t,this.recordProxied=e.extraConfig.recordProxied||!1,this.liveProxy=new SA(e.extraConfig,{cloneResponse:!0,allowBody:!0}),this.pageId=yb(),this.isNew=!0,this.firstPageOnly=e.extraConfig.firstPageOnly||!1,this.counter=0}_initDB(e,t,r,n){super._initDB(e,t,r,n),e.createObjectStore("rec")}async decCounter(){this.counter--,await this.db.put("rec",this.counter,"numPending")}async getCounter(){return await this.db.get("rec","numPending")}async getResource(e,t){let r;r="POST"===e.method||"PUT"===e.method?e.request.clone():e.request;let n=null;try{this.counter++,n=await this.liveProxy.getResource(e,t)}catch(e){return await this.decCounter(),null}if(!this.recordProxied&&this.liveProxy.hostProxy){const t=new URL(e.url);if(this.liveProxy.hostProxy[t.host])return await this.decCounter(),n}return this.doRecord(n,r).finally((()=>this.decCounter())),n}async doRecord(e,t){let r=e.url;const n=e.date.getTime(),i=(e.headers.get("content-type")||"").split(";")[0],s=e.headers.get("content-range");if(s&&!s.startsWith("bytes 0-"))return void console.log("skip range request: "+s);const o=e.status,a=e.statusText,c=Object.fromEntries(e.headers.entries()),l=Object.fromEntries(t.headers.entries()),u=new Uint8Array(await e.clonedResponse.arrayBuffer());if(s){if(s!==`bytes 0-${u.length-1}/${u.length}`)return void console.log("skip range request: "+s)}"navigate"===t.mode&&(this.pageId=yb(),this.firstPageOnly||(this.isNew=!0));const h=this.pageId,d=t.referrer;if("POST"===t.method||"PUT"===t.method){const e={method:t.method,postData:await t.text(),headers:t.headers,url:r};Pb(e)&&(r=new URL(e.url).href)}const f={url:r,ts:n,status:o,statusText:a,pageId:h,payload:u,mime:i,respHeaders:c,reqHeaders:l,referrer:d};await this.addResource(f),await this.collLoader.updateSize(this.name,u.length,u.length),this.isNew&&(o<301||o>=400)&&"navigate"===t.mode&&(await this.addPages([{id:h,url:r,ts:n}]),this.isNew=!1)}}class eU extends ZP{async _initStore(e,t){let r;return"recordingproxy"===e?(r=new $P(t,this),r.initing&&await r.initing,r):await super._initStore(e,t)}}"stream"in Blob.prototype||Object.defineProperty(Blob.prototype,"stream",{value(){return new Response(this).body}}),"setBigUint64"in DataView.prototype||Object.defineProperty(DataView.prototype,"setBigUint64",{value(e,t,r){const n=Number(0xffffffffn&t),i=Number(t>>32n);this.setUint32(e+(r?0:4),n,r),this.setUint32(e+(r?4:0),i,r)}});var tU=e=>new DataView(new ArrayBuffer(e)),rU=e=>new Uint8Array(e.buffer||e),nU=e=>(new TextEncoder).encode(String(e)),iU=e=>Math.min(4294967295,Number(e)),sU=e=>Math.min(65535,Number(e));function oU(e,t){if(void 0===t||t instanceof Date||(t=new Date(t)),e instanceof File)return{isFile:1,t:t||new Date(e.lastModified),i:e.stream()};if(e instanceof Response)return{isFile:1,t:t||new Date(e.headers.get("Last-Modified")||Date.now()),i:e.body};if(void 0===t)t=new Date;else if(isNaN(t))throw new Error("Invalid modification date.");if(void 0===e)return{isFile:0,t};if("string"==typeof e)return{isFile:1,t,i:nU(e)};if(e instanceof Blob)return{isFile:1,t,i:e.stream()};if(e instanceof Uint8Array||e instanceof ReadableStream)return{isFile:1,t,i:e};if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return{isFile:1,t,i:rU(e)};if(Symbol.asyncIterator in e)return{isFile:1,t,i:aU(e)};throw new TypeError("Unsupported input format.")}function aU(e){const t="next"in e?e:e[Symbol.asyncIterator]();return new ReadableStream({async pull(e){let r=0;for(;e.desiredSize>r;){const n=await t.next();if(!n.value){e.close();break}{const t=cU(n.value);e.enqueue(t),r+=t.byteLength}}}})}function cU(e){return"string"==typeof e?nU(e):e instanceof Uint8Array?e:rU(e)}function lU(e,t,r){if(void 0===t||t instanceof Uint8Array||(t=nU(t)),e instanceof File)return{o:hU(t||nU(e.name)),A:BigInt(e.size)};if(e instanceof Response){const n=e.headers.get("content-disposition"),i=n&&n.match(/;\s*filename\*?=["']?(.*?)["']?$/i),s=i&&i[1]||e.url&&new URL(e.url).pathname.split("/").findLast(Boolean),o=s&&decodeURIComponent(s),a=r||+e.headers.get("content-length");return{o:hU(t||nU(o)),A:BigInt(a)}}return t=hU(t,void 0!==e||void 0!==r),"string"==typeof e?{o:t,A:BigInt(nU(e).length)}:e instanceof Blob?{o:t,A:BigInt(e.size)}:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?{o:t,A:BigInt(e.byteLength)}:{o:t,A:uU(e,r)}}function uU(e,t){return t>-1?BigInt(t):e?void 0:0n}function hU(e,t=1){if(!e||e.every((e=>47===e)))throw new Error("The file must have a name.");if(t)for(;47===e[e.length-1];)e=e.subarray(0,-1);else 47!==e[e.length-1]&&(e=new Uint8Array([...e,47]));return e}var dU=new WebAssembly.Instance(new WebAssembly.Module(Uint8Array.from(atob("AGFzbQEAAAABCgJgAABgAn9/AXwDAwIAAQUDAQACBwkCAW0CAAFjAAEIAQAKlQECSQEDfwNAIAEhAEEAIQIDQCAAQQF2IABBAXFBoIbi7X5scyEAIAJBAWoiAkEIRw0ACyABQQJ0IAA2AgAgAUEBaiIBQYACRw0ACwtJAQF/IAFBf3MhAUGAgAQhAkGAgAQgAGohAANAIAFB/wFxIAItAABzQQJ0KAIAIAFBCHZzIQEgAkEBaiICIABJDQALIAFBf3O4Cw"),(e=>e.charCodeAt(0))))),{c:fU,m:pU}=dU.exports,gU=rU(pU).subarray(65536);function yU(e,t=0){for(const r of function*(e){for(;e.length>65536;)yield e.subarray(0,65536),e=e.subarray(65536);e.length&&(yield e)}(e))gU.set(r),t=fU(r.length,t);return t}function wU(e,t,r=0){const n=e.getSeconds()>>1|e.getMinutes()<<5|e.getHours()<<11,i=e.getDate()|e.getMonth()+1<<5|e.getFullYear()-1980<<9;t.setUint16(r,n,1),t.setUint16(r+2,i,1)}function mU(e){const t=tU(30);return t.setUint32(0,1347093252),t.setUint32(4,754976768),wU(e.t,t,10),t.setUint16(26,e.o.length,1),rU(t)}async function*bU(e){let{i:t}=e;if("then"in t&&(t=await t),t instanceof Uint8Array)yield t,e.u=yU(t,0),e.A=BigInt(t.length);else{e.A=0n;const r=t.getReader();for(;;){const{value:t,done:n}=await r.read();if(n)break;e.u=yU(t,e.u),e.A+=BigInt(t.length),yield t}}}function AU(e,t){const r=tU(16+(t?8:0));return r.setUint32(0,1347094280),r.setUint32(4,e.isFile?e.u:0,1),t?(r.setBigUint64(8,e.A,1),r.setBigUint64(16,e.A,1)):(r.setUint32(8,iU(e.A),1),r.setUint32(12,iU(e.A),1)),rU(r)}function EU(e,t,r=0){const n=tU(46);return n.setUint32(0,1347092738),n.setUint32(4,755182848),n.setUint16(8,2048),wU(e.t,n,12),n.setUint32(16,e.isFile?e.u:0,1),n.setUint32(20,iU(e.A),1),n.setUint32(24,iU(e.A),1),n.setUint16(28,e.o.length,1),n.setUint16(30,r,1),n.setUint16(40,e.isFile?33204:16893,1),n.setUint32(42,iU(t),1),rU(n)}function vU(e,t,r){const n=tU(r);return n.setUint16(0,1,1),n.setUint16(2,r-4,1),16&r&&(n.setBigUint64(4,e.A,1),n.setBigUint64(12,e.A,1)),n.setBigUint64(r-8,t,1),rU(n)}function _U(e){return e instanceof File||e instanceof Response?[[e],[e]]:[[e.input,e.name,e.size],[e.input,e.lastModified]]}function TU(e){return aU(async function*(e){const t=[];let r=0n,n=0n,i=0;for await(const s of e){yield mU(s),yield s.o,s.isFile&&(yield*bU(s));const e=s.A>=0xffffffffn,o=12*(r>=0xffffffffn)|28*e;yield AU(s,e),t.push(EU(s,r,o)),t.push(s.o),o&&t.push(vU(s,r,o)),e&&(r+=8n),n++,r+=BigInt(46+s.o.length)+s.A,i||(i=e)}let s=0n;for(const e of t)yield e,s+=BigInt(e.length);if(i||r>=0xffffffffn){const e=tU(76);e.setUint32(0,1347094022),e.setBigUint64(4,BigInt(44),1),e.setUint32(12,755182848),e.setBigUint64(24,n,1),e.setBigUint64(32,n,1),e.setBigUint64(40,s,1),e.setBigUint64(48,r,1),e.setUint32(56,1347094023),e.setBigUint64(64,r+s,1),e.setUint32(72,1,1),yield rU(e)}const o=tU(22);o.setUint32(0,1347093766),o.setUint16(8,sU(n),1),o.setUint16(10,sU(n),1),o.setUint32(12,iU(s),1),o.setUint32(16,iU(r),1),yield rU(o)}(async function*(e){for await(const t of e){const[e,r]=_U(t);yield Object.assign(oU(...r),lU(...e))}}(e)))}const SU=[];for(let e=0;e<256;++e)SU.push((e+256).toString(16).slice(1));function IU(e,t=0){return(SU[e[t+0]]+SU[e[t+1]]+SU[e[t+2]]+SU[e[t+3]]+"-"+SU[e[t+4]]+SU[e[t+5]]+"-"+SU[e[t+6]]+SU[e[t+7]]+"-"+SU[e[t+8]]+SU[e[t+9]]+"-"+SU[e[t+10]]+SU[e[t+11]]+SU[e[t+12]]+SU[e[t+13]]+SU[e[t+14]]+SU[e[t+15]]).toLowerCase()}const CU=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const RU=function(e){return"string"==typeof e&&CU.test(e)};const xU=function(e){if(!RU(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function kU(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function NU(e,t){return e<<t|e>>>32-t}const BU=function(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const n=e.length/4+2,i=Math.ceil(n/16),s=new Array(i);for(let t=0;t<i;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];s[t]=r}s[i-1][14]=8*(e.length-1)/Math.pow(2,32),s[i-1][14]=Math.floor(s[i-1][14]),s[i-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<i;++e){const n=new Uint32Array(80);for(let t=0;t<16;++t)n[t]=s[e][t];for(let e=16;e<80;++e)n[e]=NU(n[e-3]^n[e-8]^n[e-14]^n[e-16],1);let i=r[0],o=r[1],a=r[2],c=r[3],l=r[4];for(let e=0;e<80;++e){const r=Math.floor(e/20),s=NU(i,5)+kU(r,o,a,c)+l+t[r]+n[e]>>>0;l=c,c=a,a=NU(o,30)>>>0,o=i,i=s}r[0]=r[0]+i>>>0,r[1]=r[1]+o>>>0,r[2]=r[2]+a>>>0,r[3]=r[3]+c>>>0,r[4]=r[4]+l>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]},OU=function(e,t,r){function n(e,n,i,s){var o;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=xU(n)),16!==(null===(o=n)||void 0===o?void 0:o.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+e.length);if(a.set(n),a.set(e,n.length),a=r(a),a[6]=15&a[6]|t,a[8]=63&a[8]|128,i){s=s||0;for(let e=0;e<16;++e)i[s+e]=a[e];return i}return IU(a)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}("v5",80,BU),DU=OU,LU=/(.*?)[?&](?:__wb_method=|__wb_post=)[^&]+&(.*)/,PU=1024,UU="datapackage.json",MU="datapackage-digest.json",FU=new TextEncoder,HU=new Uint8Array([]);async function*jU(e){yield e}async function*zU(e,t,r,n,i){t.size=0,r.init(),i&&(yield i);for await(let i of e)"string"==typeof i&&(i=FU.encode(i)),yield i,t.size+=i.byteLength,n&&n(i.byteLength),r.update(i);i&&(yield i),t.hash=r.digest("hex")}class WU{constructor({coll:e,format:t="wacz",filename:r=null,pageList:n=null,signer:i=null,softwareString:s=null,gzip:o=!0,uuidNamespace:a=null,markers:c=null}){this.db=e.store,this.pageList=n,this.collId=e.name,this.metadata=e.config.metadata,this.gzip=o,this.markers=c||{},this.warcName=this.gzip?"data.warc.gz":"data.warc",this.alreadyDecoded=!e.config.decode&&!e.config.loadUrl,this.softwareString=s||"ArchiveWeb.page",this.uuidNamespace=a||"f9ec3936-7f66-4461-bec4-34f4495ea242",this.createdDateDt=new Date(e.config.ctime),this.createdDate=this.createdDateDt.toISOString(),this.modifiedDate=e.config.metadata.mtime?new Date(e.config.metadata.mtime).toISOString():null,this.format=t,this.warcVersion="warc1.0"===t?"WARC/1.0":"WARC/1.1",this.digestOpts="warc1.0"===t?{algo:"sha-1",prefix:"sha1:",base32:!0}:{algo:"sha-256",prefix:"sha256:"},this.filename=r,!this.filename&&e.config.metadata.title&&(this.filename=encodeURIComponent(e.config.metadata.title.toLowerCase().replace(/\s/g,"-"))),this.filename||(this.filename="webarchive"),this.offset=0,this.firstResources=[],this.textResources=[],this.cdxjLines=[],this.indexLines=[],this.digestsVisted={},this.fileHasher=null,this.recordHasher=null,this.datapackageDigest=null,this.signer=i,this.fileStats=[]}download(e=null){switch(this.format){case"wacz":return this.downloadWACZ(this.filename,e);case"warc":case"warc1.0":return this.downloadWARC(this.filename,e);default:return{error:"invalid 'format': must be wacz or warc"}}}downloadWARC(e,t=null){e=(e||"webarchive").split(".")[0]+".warc";const r=this,n=new ReadableStream({start(n){r.queueWARC(n,e,t)}}),i=new Response(n,{headers:{"Content-Disposition":`attachment; filename="${e}"`,"Content-Type":"application/octet-stream"}});return i.filename=e,i}async loadResourcesBlock(e=[]){return await this.db.db.getAll("resources",IDBKeyRange.lowerBound(e,!0),8192)}async*iterResources(e){let t=[];for(;e.length;){const r=e[e.length-1];this.pageList&&(e=e.filter((e=>this.pageList.includes(e.pageId)))),yield*e,t=[r.url,r.ts],e=await this.loadResourcesBlock(t)}}async queueWARC(e,t,r){this.firstResources=await this.loadResourcesBlock();for await(const n of this.generateWARC(t))e.enqueue(n),r&&r(n.length);for await(const n of this.generateTextWARC(t))e.enqueue(n),r&&r(n.length);e.close()}addFile(e,t,r,n){const i={filename:t,size:0};t!==UU&&t!==MU&&this.fileStats.push(i),e.push({name:t,lastModified:this.createdDateDt,input:zU(r,i,this.fileHasher,n,this.markers.ZIP)})}recordDigest(e){return this.recordHasher.init(),this.recordHasher.update(e),this.hashType+":"+this.recordHasher.digest("hex")}getWARCRecordUUID(e){return`<urn:uuid:${DU(e,this.uuidNamespace)}>`}async downloadWACZ(e,t){e=(e||"webarchive").split(".")[0]+".wacz",this.fileHasher=await rT(),this.recordHasher=await rT(),this.hashType="sha256";const r=[];this.firstResources=await this.loadResourcesBlock(),this.addFile(r,"pages/pages.jsonl",this.generatePages(),t,!0),this.addFile(r,`archive/${this.warcName}`,this.generateWARC(e+`#/archive/${this.warcName}`,!0),t,!1),this.firstResources.length<2048?this.addFile(r,"indexes/index.cdx",this.generateCDX(),t,!0):(this.addFile(r,"indexes/index.cdx.gz",this.generateCompressedCDX("index.cdx.gz"),t,!1),this.addFile(r,"indexes/index.idx",this.generateIDX(),t,!0)),this.addFile(r,UU,this.generateDataPackage(),t),this.addFile(r,MU,this.generateDataManifest(),t);const n={"Content-Disposition":`attachment; filename="${e}"`,"Content-Type":"application/zip"};let i=TU(r);const s=new Response(i,{headers:n});return s.filename=e,s}async*generateWARC(e,t=!1){try{let r=0;if(e){const t=await this.createWARCInfo(e);yield t,r+=t.length}this.markers.WARC_GROUP&&(yield this.markers.WARC_GROUP);for await(const e of this.iterResources(this.firstResources)){e.offset=r;const n=await this.createWARCRecord(e);if(!n){e.skipped=!0;continue}const i={length:0};if(yield*this.emitRecord(n[0],t,i),r+=i.length,e.length=i.length,t&&!e.recordDigest&&(e.recordDigest=i.digest),n.length>1){const e={length:0};yield*this.emitRecord(n[1],!1,e),r+=e.length}t&&this.cdxjLines.push(this.getCDXJ(e,this.warcName)),this.markers.WARC_GROUP&&(yield this.markers.WARC_GROUP)}}catch(e){console.warn(e)}}async*emitRecord(e,t,r){const n={gzip:this.gzip,digest:this.digestOpts},i=new aA(e,n),s=[];t&&this.recordHasher.init();for await(const e of i)t&&this.recordHasher.update(e),s.push(e),r.length+=e.length;if(t&&(r.digest=this.hashType+":"+this.recordHasher.digest("hex")),this.gzip||!this.markers.WARC_PAYLOAD||"request"===e.warcType||5!==s.length&&4!==s.length)for(const e of s)yield e;else 5===s.length?(yield s[0],yield s[1],yield s[2],yield this.markers.WARC_PAYLOAD,s[3].length&&(yield s[3],yield this.markers.WARC_PAYLOAD),yield s[4]):(yield s[0],yield s[1],yield this.markers.WARC_PAYLOAD,s[2].length&&(yield s[2],yield this.markers.WARC_PAYLOAD),yield s[3])}async*generateTextWARC(e){try{let t=0;if(e){const r=await this.createWARCInfo(e);yield r,t+=r.length}for(const e of this.textResources){e.offset=t;const r=await this.createTextWARCRecord(e);yield r,t+=r.length,e.length=r.length}}catch(e){console.warn(e)}}getCDXJ(e,t){const r={url:e.url,digest:e.digest,mime:e.mime,offset:e.offset,length:e.length,recordDigest:e.recordDigest,status:e.status};if(t&&(r.filename=t),e.method&&"GET"!==e.method){const t=e.url.match(LU);t&&(r.url=t[1],r.requestBody=t[2]),r.method=e.method}return`${Lb(e.url)} ${e.timestamp} ${JSON.stringify(r)}\n`}*generateCDX(){this.cdxjLines.sort(),yield*this.cdxjLines}*generateCompressedCDX(e){let t=0,r=null,n=0,i=null;const s=this,o=()=>{const o=r.result,a=o.length,c=s.recordDigest(o),l=i+" "+JSON.stringify({offset:t,length:a,digest:c,filename:e});return s.indexLines.push(l),t+=a,r=null,n=0,i=null,o};for(const e of this.generateCDX())r||(r=new kb.Deflate({gzip:!0})),i||(i=e.split(" {",1)[0]),++n===PU?(r.push(e,!0),yield o()):r.push(e);r&&(r.push(HU,!0),yield o())}async*generateDataManifest(){const e=this.datapackageDigest,t={path:"datapackage.json",hash:e};if(this.signer)try{t.signedData=await this.signer.sign(e,this.createdDate),this.signer.close(),this.signer=null}catch(e){console.log(e)}const r=JSON.stringify(t,null,2);yield r}async*generateDataPackage(){const e={profile:"data-package"};e.resources=this.fileStats.map((e=>{const t=e.filename;return{name:t.slice(t.lastIndexOf("/")+1),path:t,hash:this.hashType+":"+e.hash,bytes:e.size}})),e.wacz_version="1.1.1",this.metadata.title&&(e.title=this.metadata.title),this.metadata.desc&&(e.description=this.metadata.desc),e.software=this.softwareString,e.created=this.createdDate,this.modifiedDate&&(e.modified=this.modifiedDate);const t=JSON.stringify(e,null,2);this.datapackageDigest=this.recordDigest(t),yield t}async*generatePages(){const e=this.pageList?await this.db.getPages(this.pageList):await this.db.getAllPages();yield JSON.stringify({format:"json-pages-1.0",id:"pages",title:"All Pages",hasText:!0});for(const t of e){const e=new Date(t.ts).toISOString(),r={title:t.title,url:t.url,id:t.id,size:t.size,ts:e};t.favIconUrl&&(r.favIconUrl=t.favIconUrl),t.text&&(r.text=t.text),yield"\n"+JSON.stringify(r),t.text&&this.textResources.push({url:t.url,ts:t.ts,text:t.text})}}async*generateIDX(){yield this.indexLines.join("\n")}async createWARCInfo(e){const t=this.warcVersion,r={software:this.softwareString,format:"WARC/1.0"===t?"WARC File Format 1.0":"WARC File Format 1.1",isPartOf:this.metadata.title||this.collId},n={"WARC-Record-ID":this.getWARCRecordUUID(JSON.stringify(r))},i=this.createdDate,s=await rA.createWARCInfo({filename:e,type:"warcinfo",date:i,warcHeaders:n,warcVersion:t},r);return await aA.serialize(s,{gzip:this.gzip,digest:this.digestOpts})}fixupHttpHeaders(e,t){const r=this.alreadyDecoded?3:1;let n=0;for(const[i]of Object.entries(e)){switch(i.toLowerCase()){case"content-encoding":case"transfer-encoding":this.alreadyDecoded&&(e["x-orig-"+i]=e[i],delete e[i],++n);break;case"content-length":e[i]=""+t,++n}if(n===r)break}}async createWARCRecord(e){let t=e.url;const r=new Date(e.ts).toISOString();e.timestamp=ub(r);const n=e.respHeaders||{},i=this.warcVersion,s=e.pageId;let o,a,c,l,u=e.payload,h=null,d=null,f="GET";e.method&&"GET"!==e.method&&e.requestBody&&e.requestUrl?(l="string"==typeof e.requestBody?FU.encode(e.requestBody):e.requestBody,f=e.method,t=e.requestUrl):l=new Uint8Array([]),!e.digest&&e.payload&&(e.digest=await fb(e.payload,"sha-256"));const p=this.digestsVisted[e.digest];if(e.digest&&p){if(t===this.lastUrl&&"GET"===f&&s===this.lastPageId)return null;h="revisit",e.mime="warc/revisit",u=HU,o=p.url,a=p.date,c=p.payloadDigest||e.digest}else if(e.origURL&&e.origTS){if(!e.digest||!p)return null;h="revisit",e.mime="warc/revisit",u=HU,o=e.origURL,a=new Date(e.origTS).toISOString(),c=p.payloadDigest||e.digest}else{if(h="response",u||(u=await this.db.loadPayload(e)),!u)return null;"GET"===f&&(d={url:t,date:r},this.digestsVisted[e.digest]=d)}const g=e.status||200,y=`HTTP/1.1 ${g} ${e.statusText||Ab(g)}`,w={"WARC-Record-ID":this.getWARCRecordUUID(h+":"+e.timestamp+"/"+e.url)};s&&(w["WARC-Page-ID"]=s),e.extraOpts&&Object.keys(e.extraOpts).length&&(w["WARC-JSON-Metadata"]=JSON.stringify(e.extraOpts)),c&&(w["WARC-Payload-Digest"]=c),this.fixupHttpHeaders(n,u.length);const m=await rA.create({url:t,date:r,type:h,warcVersion:i,warcHeaders:w,statusline:y,httpHeaders:n,refersToUrl:o,refersToDate:a},jU(u));e.digest||(e.digest=m.warcPayloadDigest),d&&(d.payloadDigest=m.warcPayloadDigest),this.lastPageId=s,this.lastUrl=t;const b=[m];if(e.reqHeaders){const n="request",o={"WARC-Record-ID":this.getWARCRecordUUID(n+":"+e.timestamp+"/"+e.url),"WARC-Page-ID":s,"WARC-Concurrent-To":m.warcHeader("WARC-Record-ID")},a=new URL(t),c=`${f} ${t.slice(a.origin.length)} HTTP/1.1`,u=await rA.create({url:t,date:r,warcVersion:i,type:n,warcHeaders:o,httpHeaders:e.reqHeaders,statusline:c},jU(l));b.push(u)}return b}async createTextWARCRecord(e){const t=new Date(e.ts).toISOString(),r=ub(t);e.timestamp=r;const n=`urn:text:${r}/${e.url}`;e.url=n;const i=this.warcVersion,s=jU(FU.encode(e.text)),o=await rA.create({url:n,date:t,warcHeaders:{"Content-Type":'text/plain; charset="UTF-8"'},warcVersion:i,type:"resource"},s),a=await aA.serialize(o,{gzip:this.gzip,digest:this.digestOpts});return e.digest||(e.digest=o.warcPayloadDigest),a}}var GU=function(){return GU=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},GU.apply(this,arguments)};var qU=function(e){return void 0===e&&(e={}),{arrayFormat:e.arrayFormat||"none",booleanFormat:e.booleanFormat||"none",nullFormat:e.nullFormat||"default"}},QU=function(e){return encodeURIComponent(e)},VU=function(e){return decodeURIComponent(e)},KU=function(e,t,r){return null===t?function(e,t){return"hidden"===t.nullFormat?"":"string"===t.nullFormat?e+"=null":e}(e,r):"boolean"==typeof t?function(e,t,r){return"empty-true"===r.booleanFormat&&t?e:e+"="+("unicode"===r.booleanFormat?t?"":"":t.toString())}(e,t,r):Array.isArray(t)?function(e,t,r){var n=function(e){return"index"===e.arrayFormat?function(e,t){return e+"["+t+"]"}:"brackets"===e.arrayFormat?function(e){return e+"[]"}:function(e){return e}}(r);return t.map((function(t,r){return n(e,r)+"="+QU(t)})).join("&")}(e,t,r):e+"="+QU(t)},YU=function(e){var t=e.indexOf("?");return-1===t?e:e.slice(t+1)},JU=function(e){var t=e.indexOf("["),r=-1!==t;return{hasBrackets:r,name:r?e.slice(0,t):e}},XU=function(e,t){var r=qU(t);return YU(e).split("&").reduce((function(e,t){var n=t.split("="),i=n[0],s=n[1],o=JU(i),a=o.hasBrackets,c=o.name,l=e[c],u=function(e,t){if(void 0===e)return"empty-true"===t.booleanFormat||null;if("string"===t.booleanFormat){if("true"===e)return!0;if("false"===e)return!1}if("unicode"===t.booleanFormat){if(""===VU(e))return!0;if(""===VU(e))return!1}return"string"===t.nullFormat&&"null"===e?null:VU(e)}(s,r);return e[c]=void 0===l?a?[u]:u:(Array.isArray(l)?l:[l]).concat(u),e}),{})},ZU=/[^!$'()*+,;|:]/g,$U=function(e){return e.replace(ZU,(function(e){return encodeURIComponent(e)}))},eM={default:$U,uri:encodeURI,uriComponent:encodeURIComponent,none:function(e){return e},legacy:encodeURI},tM={default:decodeURIComponent,uri:decodeURI,uriComponent:decodeURIComponent,none:function(e){return e},legacy:decodeURIComponent},rM=function(e,t,r){var n=eM[t]||$U;return r?String(e).split("/").map(n).join("/"):n(String(e))},nM=function(e){return"("+(e?e.replace(/(^<|>$)/g,""):"[a-zA-Z0-9-_.~%':|=+\\*@$]+")+")"},iM=[{name:"url-parameter",pattern:/^:([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})(<(.+?)>)?/,regex:function(e){return new RegExp(nM(e[2]))}},{name:"url-parameter-splat",pattern:/^\*([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})/,regex:/([^?]*)/},{name:"url-parameter-matrix",pattern:/^;([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})(<(.+?)>)?/,regex:function(e){return new RegExp(";"+e[1]+"="+nM(e[2]))}},{name:"query-parameter",pattern:/^(?:\?|&)(?::)?([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})/},{name:"delimiter",pattern:/^(\/|\?)/,regex:function(e){return new RegExp("\\"+e[0])}},{name:"sub-delimiter",pattern:/^(!|&|-|_|\.|;)/,regex:function(e){return new RegExp(e[0])}},{name:"fragment",pattern:/^([0-9a-zA-Z]+)/,regex:function(e){return new RegExp(e[0])}}],sM=function e(t,r){if(void 0===r&&(r=[]),!iM.some((function(n){var i=t.match(n.pattern);return!!i&&(r.push({type:n.name,match:i[0],val:i.slice(1,2),otherVal:i.slice(2),regex:n.regex instanceof Function?n.regex(i):n.regex}),i[0].length<t.length&&(r=e(t.substr(i[0].length),r)),!0)})))throw new Error("Could not parse path '"+t+"'");return r},oM=function(e){return null!=e},aM={urlParamsEncoding:"default"},cM=function(){function e(e,t){if(!e)throw new Error("Missing path in Path constructor");this.path=e,this.options=GU(GU({},aM),t),this.tokens=sM(e),this.hasUrlParams=this.tokens.filter((function(e){return/^url-parameter/.test(e.type)})).length>0,this.hasSpatParam=this.tokens.filter((function(e){return/splat$/.test(e.type)})).length>0,this.hasMatrixParams=this.tokens.filter((function(e){return/matrix$/.test(e.type)})).length>0,this.hasQueryParams=this.tokens.filter((function(e){return/^query-parameter/.test(e.type)})).length>0,this.spatParams=this.getParams("url-parameter-splat"),this.urlParams=this.getParams(/^url-parameter/),this.queryParams=this.getParams("query-parameter"),this.params=this.urlParams.concat(this.queryParams),this.source=this.tokens.filter((function(e){return void 0!==e.regex})).map((function(e){return e.regex.source})).join("")}return e.createPath=function(t,r){return new e(t,r)},e.prototype.isQueryParam=function(e){return-1!==this.queryParams.indexOf(e)},e.prototype.isSpatParam=function(e){return-1!==this.spatParams.indexOf(e)},e.prototype.test=function(e,t){var r=this,n=GU(GU({caseSensitive:!1,strictTrailingSlash:!1},this.options),t),i=function(e,t){return t||"\\/"===e?e:e.replace(/\\\/$/,"")+"(?:\\/)?"}(this.source,n.strictTrailingSlash),s=this.urlTest(e,i+(this.hasQueryParams?"(\\?.*$|$)":"$"),n.caseSensitive,n.urlParamsEncoding);if(!s||!this.hasQueryParams)return s;var o=XU(e,n.queryParams),a=Object.keys(o).filter((function(e){return!r.isQueryParam(e)}));return 0===a.length?(Object.keys(o).forEach((function(e){return s[e]=o[e]})),s):null},e.prototype.partialTest=function(e,t){var r=this,n=GU(GU({caseSensitive:!1,delimited:!0},this.options),t),i=function(e,t){return t?/(\/)$/.test(e)?e:e+"(\\/|\\?|\\.|;|$)":e}(this.source,n.delimited),s=this.urlTest(e,i,n.caseSensitive,n.urlParamsEncoding);if(!s)return s;if(!this.hasQueryParams)return s;var o=XU(e,n.queryParams);return Object.keys(o).filter((function(e){return r.isQueryParam(e)})).forEach((function(e){return function(e,t,r){void 0===r&&(r="");var n=e[t];return e[t]=void 0===n?r:Array.isArray(n)?n.concat(r):[n,r],e}(s,e,o[e])})),s},e.prototype.build=function(e,t){var r=this;void 0===e&&(e={});var n=GU(GU({ignoreConstraints:!1,ignoreSearch:!1,queryParams:{}},this.options),t),i=Object.keys(e).filter((function(e){return!r.isQueryParam(e)})).reduce((function(t,i){if(!oM(e[i]))return t;var s=e[i],o=r.isSpatParam(i);return"boolean"==typeof s?t[i]=s:Array.isArray(s)?t[i]=s.map((function(e){return rM(e,n.urlParamsEncoding,o)})):t[i]=rM(s,n.urlParamsEncoding,o),t}),{});if(this.urlParams.some((function(t){return!oM(e[t])}))){var s=this.urlParams.filter((function(t){return!oM(e[t])}));throw new Error("Cannot build path: '"+this.path+"' requires missing parameters { "+s.join(", ")+" }")}if(!n.ignoreConstraints){var o=this.tokens.filter((function(e){return/^url-parameter/.test(e.type)&&!/-splat$/.test(e.type)})).every((function(e){return new RegExp("^"+nM(e.otherVal[0])+"$").test(i[e.val])}));if(!o)throw new Error("Some parameters of '"+this.path+"' are of invalid format")}var a=this.tokens.filter((function(e){return!1===/^query-parameter/.test(e.type)})).map((function(e){return"url-parameter-matrix"===e.type?";"+e.val+"="+i[e.val[0]]:/^url-parameter/.test(e.type)?i[e.val[0]]:e.match})).join("");if(n.ignoreSearch)return a;var c=this.queryParams.filter((function(t){return-1!==Object.keys(e).indexOf(t)})).reduce((function(t,r){return t[r]=e[r],t}),{}),l=function(e,t){var r=qU(t);return Object.keys(e).filter((function(t){return function(e){return void 0!==e}(e[t])})).map((function(t){return KU(t,e[t],r)})).filter(Boolean).join("&")}(c,n.queryParams);return l?a+"?"+l:a},e.prototype.getParams=function(e){var t=e instanceof RegExp?function(t){return e.test(t.type)}:function(t){return t.type===e};return this.tokens.filter(t).map((function(e){return e.val[0]}))},e.prototype.urlTest=function(e,t,r,n){var i=this,s=new RegExp("^"+t,r?"":"i"),o=e.match(s);return o?this.urlParams.length?o.slice(1,this.urlParams.length+1).reduce((function(e,t,r){return e[i.urlParams[r]]=(tM[n]||decodeURIComponent)(t),e}),{}):{}:null},e}();class lM{constructor(e){this.routes={};for(const[t,r]of Object.entries(e)){let e,n;r instanceof Array?(e=r[0],n=r[1]||"GET"):(e=r,n="GET"),this.routes[n]=this.routes[n]||{},this.routes[n][t]=new cM(e)}}match(e,t="GET"){for(const[r,n]of Object.entries(this.routes[t]||[])){const t=e.split("?",2),i=t[0],s=n.test(i);if(s)return s._route=r,s._query=new URLSearchParams(2===t.length?t[1]:""),s}return{_route:null}}}class uM{constructor(e){this.router=new lM(this.routes),this.collections=e}get routes(){return{index:"coll-index",coll:"c/:coll",urls:"c/:coll/urls",createColl:["c/create","POST"],deleteColl:["c/:coll","DELETE"],updateAuth:["c/:coll/updateAuth","POST"],updateMetadata:["c/:coll/metadata","POST"],curated:"c/:coll/curated/:list",pages:"c/:coll/pages",textIndex:"c/:coll/textIndex",deletePage:["c/:coll/page/:page","DELETE"]}}async apiResponse(e,t,r){const n=this.router.match(e,t.method),i=await this.handleApi(t,n,r);if(i instanceof Response)return i;const s=i.error?404:200;return this.makeResponse(i,s)}async handleApi(e,t){switch(t._route){case"index":return await this.listAll(t._query.get("filter"));case"createColl":{const t=await e.json();return _b(await this.collections.initNewColl(t.metadata||{},t.extraConfig||{}))}case"coll":{const e=await this.collections.getColl(t.coll);if(!e)return{error:"collection_not_found"};const r=_b(e);return"1"===t._query.get("all")?(e.store.db?(r.pages=await e.store.getAllPages(),r.lists=await e.store.db.getAll("pageLists"),r.curatedPages=await e.store.db.getAll("curatedPages")):(r.pages=[],r.lists=[],r.curatedPages=[]),r.verify=await e.store.getVerifyInfo()):(r.numLists=await e.store.db.count("pageLists"),r.numPages=await e.store.db.count("pages")),e.config.metadata.ipfsPins&&(r.ipfsPins=e.config.metadata.ipfsPins),r}case"deleteColl":{const e="1"===t._query.get("reload");return await this.collections.deleteColl(t.coll,e)?await this.listAll():{error:"collection_not_found"}}case"updateAuth":{const r=await e.json();return{success:await this.collections.updateAuth(t.coll,r.headers)}}case"updateMetadata":{const r=await e.json();return{metadata:await this.collections.updateMetadata(t.coll,r)}}case"urls":{const e=await this.collections.getColl(t.coll);if(!e)return{error:"collection_not_found"};const r=t._query.get("url"),n=Number(t._query.get("count")||100),i=t._query.get("mime"),s="1"===t._query.get("prefix"),o=t._query.get("fromUrl"),a=t._query.get("fromTs"),c=t._query.get("fromMime"),l=Number(t._query.get("fromStatus")||0);if(!e.store.resourcesByMime)return{urls:[]};let u;return u=r?await e.store.resourcesByUrlAndMime(r,i,n,s,o,a):await e.store.resourcesByMime(i,n,c,o,l),u=u||[],{urls:u}}case"pages":{const e=await this.collections.getColl(t.coll);if(!e)return{error:"collection_not_found"};return{pages:await e.store.getAllPages()}}case"textIndex":{const e=await this.collections.getColl(t.coll);return e?e.store.getTextIndex?await e.store.getTextIndex():{}:{error:"collection_not_found"}}case"curated":{const e=await this.collections.getColl(t.coll);if(!e)return{error:"collection_not_found"};const r=Number(t.list);return{curated:await e.store.db.getAllFromIndex("curatedPages","listPages",IDBKeyRange.bound([r],[r+1]))}}case"deletePage":{const e=await this.collections.getColl(t.coll);if(!e)return{error:"collection_not_found"};const{pageSize:r,deleteSize:n}=e.store.deletePage(t.page);return this.collections.updateSize(t.coll,r,n),{pageSize:r,deleteSize:n}}default:return{error:"not_found"}}}async listAll(e){const t=await this.collections.listAll(),r=[];return t.forEach((t=>{"live"!==t.type&&"remoteproxy"!==t.type&&(e&&0!==t.type.indexOf(e)||r.push(_b(t)))})),{colls:r}}makeResponse(e,t=200){return new Response(JSON.stringify(e),{status:t,headers:{"Content-Type":"application/json"}})}}const hM="https://w3s.link/";function dM(e){const{hostname:t,protocol:r,pathname:n}=new URL(e),i=r.slice(0,-1);if(!t){const[e,...t]=n.slice(2).split("/");return{type:i,cid:e,path:"/"+t.join("/")}}return{type:i,cid:t,path:n}}async function fM(e){return bM(e)?e:AM(e)?yM(e):e}async function pM(e){return new Response(e).blob()}async function*gM(e){const t=await e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)return;yield r}}finally{t.releaseLock()}}function yM(e){let t=e;t.next||(t=e[Symbol.asyncIterator]());const r=new TextEncoder;return new ReadableStream({async pull(e){const{value:n,done:i}=await t.next();if(i)await e.close();else{let t=n;"string"==typeof t&&(t=r.encode(t)),await e.enqueue(t)}}})}async function wM(e){if(!e.ok){const t=await e.text(),r=e.status;throw new Error(`HTTP Error ${r}: ${t}`)}}async function mM({url:e,file:t,fileName:r="",parameterName:n="file",fetch:i=globalThis.fetch,signal:s}){const o=new FormData,a=new Headers;EM(e,a);const c=await async function(e){if(bM(e))return await pM(e);if(AM(e)){const t=yM(e);return await pM(t)}return e instanceof Blob?e:new Blob([e])}(t);r?o.append(n,c,r):o.append(n,c);const l=await i(e,{method:"POST",body:o,headers:a,signal:s});return await wM(l),l}function bM(e){return"function"==typeof e.getReader}function AM(e){return e[Symbol.asyncIterator]}function EM(e,t){if(e.password)if(e.username){const r=`Basic ${btoa(`${unescape(e.username)}:${unescape(e.password)}`)}`;t.append("Authorization",unescape(r)),e.username="",e.password=""}else{const r=`Bearer ${e.password}`;t.append("Authorization",unescape(r)),e.password=""}}async function vM({url:e,fetch:t=globalThis.fetch,signal:r}){const n=await t(e,{method:"HEAD",signal:r});await wM(n);const i=n.headers.get("x-ipfs-datasize")||n.headers.get("Content-Length");return parseInt(i,10)}async function*_M({url:e,start:t,end:r,format:n,signal:i,fetch:s=globalThis.fetch}){const o=new Headers;Number.isInteger(t)&&(Number.isInteger(r)?o.set("Range",`bytes=${t}-${r}`):o.set("Range",`bytes=${t}-`));const a=new URL(e);n&&(o.set("Accept",`application/vnd.ipld.${n}`),o.set("cache-control","no-cache"));const c=await s(a.href,{headers:o,signal:i});await wM(c),yield*gM(c.body)}async function*TM({url:e,start:t,end:r,format:n,signal:i,gatewayURL:s=SM()}){const o=function(e,t=SM()){const{cid:r,path:n,type:i}=dM(e);return new URL(`/${i}/${r}${n}`,t)}(e,s);yield*_M({url:o,start:t,end:r,format:n,signal:i})}function SM(){if(!globalThis.location)return hM;const{pathname:e,hostname:t,protocol:r}=globalThis.location;if(e.startsWith("/ipfs/")||e.startsWith("/ipns/"))return`${r}//${t}/`;const[n,...i]=t.split(".");return 59===n.length&&i.length>=2?`${r}//${i.join(".")}/`:hM}let IM=!1;const CM=[5001,45001,45002,45003,45004,45005],RM="agregore",xM="daemon",kM="daemon:preferred",NM="web3.storage",BM="estuary",OM="readonly",DM=[kM,RM,xM,NM,BM,OM];class LM{get type(){return"invalid"}async*get(e,{start:t,end:r,signal:n=null,format:i=null}={}){throw new Error("Not Implemented")}async getSize(e,t=null){throw new Error("Not Implemented")}async uploadCAR(e,t=null){throw new Error("Not Implemented")}async uploadFile(e,t,r=null){throw new Error("Not Implemented")}async clear(e,t=null){throw new Error("Not Implemented")}}async function PM({daemonURL:e,web3StorageToken:t,web3StorageURL:r="https://api.web3.storage/",estuaryToken:n,estuaryURL:i="https://api.estuary.tech/",publicGatewayURL:s=SM(),readonly:o=!0,timeout:a=1e3,fetch:c=globalThis.fetch}={}){const l=[],u=[];if(u.push(async function(e=globalThis.fetch){try{return await e("ipfs://localhost/"),!0}catch(e){return IM&&console.warn("Unable to detect Agregore",e),!1}}(c).then((e=>e&&l.push({type:RM,fetch:c})))),u.push(async function(){const e=CM.map((e=>`http://localhost:${e}`));try{const r=await Promise.any(e.map((e=>qM(e).then((t=>{if(t)return e;throw new Error("Not found")})))));return!!r&&(GM&&!WM&&(t=r,WM=!0,globalThis.chrome.webRequest.onBeforeSendHeaders.addListener((e=>{const{requestHeaders:r}=e;for(const e of r)if("origin"===e.name.toLowerCase())return e.value=t,{requestHeaders:r};return e.requestHeaders.push({name:"Origin",value:t}),{requestHeaders:r}}),{urls:[t+"/*"]},["blocking","requestHeaders","extraHeaders"])),r)}catch{return!1}var t}().then((e=>e&&l.push({type:xM,url:e,fetch:c})))),e&&u.push(qM(e,a,c).then((t=>t&&l.push({type:kM,url:e,fetch:c})))),n){const e=i,t=n;l.push({type:BM,url:e,authorization:t,fetch:c,publicGatewayURL:s})}if(t){const e=r,n=t;l.push({type:NM,url:e,authorization:n,fetch:c,publicGatewayURL:s})}return o&&s&&l.push({type:OM,fetch:c,publicGatewayURL:s}),await Promise.allSettled(u),l}async function UM({chooseOrder:e=DM,...t}={}){const r=function(e,t=DM){const r=e.filter((({type:e})=>t.includes(e))).sort((({type:e},{type:r})=>t.indexOf(e)-t.indexOf(r))),n=r[0];if(!n)throw new Error("Unable to find valid type");return n}(await PM(t),e);return async function(e){const{type:t}=e;let r=null;if(t===RM)r=new HM(e.fetch||globalThis.fetch);else if(t.startsWith(xM))r=new zM(e.url);else if(t===NM)r=new jM(e.authorization,e.url,e.publicGatewayURL);else if(t===BM)r=new FM(e.authorization,e.url,e.publicGatewayURL);else{if(t!==OM)throw new TypeError(`Unknown API type: ${t}.`);r=new MM(e.publicGatewayURL)}return r}(r)}class MM extends LM{constructor(e=SM()){super(),this.gatewayURL=e}get type(){return OM}async*get(e,{start:t,end:r,signal:n=null,format:i=null}={}){yield*TM({url:e,start:t,end:r,format:i,gatewayURL:this.gatewayURL,signal:n})}async getSize(e,t=null){const{cid:r,path:n,type:i}=dM(e);return vM({url:new URL(`/${i}/${r}${n}`,this.gatewayURL),signal:t})}}class FM extends MM{constructor(e,t="https://api.estuary.tech/",r=SM()){super(r),this.authorization=e,this.url=t}get type(){return BM}async uploadCAR(e,t=null){throw new Error("Not Implemented")}async uploadFile(e,t,r=null){const n=new URL("/content/add",this.url);n.password=this.authorization;const i=await mM({url:n,file:e,fileName:t,parameterName:"data",signal:r}),{cid:s}=await i.json();return`ipfs://${s}/`}}class HM extends LM{constructor(e=globalThis.fetch){super(),this.fetch=e}get type(){return RM}async*get(e,{start:t,end:r,signal:n=null,format:i=null}={}){const{fetch:s}=this;yield*_M({url:e,start:t,end:r,format:i,fetch:s,signal:n})}async getSize(e,t=null){const{fetch:r}=this;return vM({url:e,fetch:r,signal:t})}async uploadCAR(e,t=null){const r=await fM(e),{fetch:n}=this,i=await n("ipfs://localhost",{method:"POST",headers:{"Content-Type":"application/vnd.ipld.car"},signal:t,body:r});await wM(i);return(await i.text()).split("\n")}async uploadFile(e,t=null){const r=await fM(e),{fetch:n}=this,i=await n("ipfs://localhost",{method:"POST",headers:{"Content-Type":"application/octet-stream"},signal:t,body:r});return await wM(i),i.headers.get("Location")}}class jM extends MM{constructor(e,t="https://api.web3.storage/",r=SM()){super(r),this.authorization=e,this.url=t}get type(){return NM}async uploadCAR(e,t=null){const r=new URL("/car",this.url);r.password=this.authorization;const n=await async function({url:e,fileIterator:t,signal:r}){const n=new Headers;n.set("Content-Type","application/octet-stream"),EM(e,n);const i=await fM(t),s=await fetch(e,{method:"POST",signal:r,body:i,headers:n,duplex:"half"});return await wM(s),s}({url:r,fileIterator:e,signal:t});return(await n.text()).split("\n").filter((e=>e)).map((e=>{const{cid:t}=JSON.parse(e);return`ipfs://${t}/`}))}async uploadFile(e,{fileName:t="",signal:r=null}={}){const n=new URL("/upload",this.url);n.password=this.authorization;const i=await mM({url:n,file:e,fileName:t,signal:r}),{cid:s}=await i.json();return`ipfs://${s}/`}}class zM extends LM{constructor(e="http://localhost:5001/"){super(),this.url=e}get type(){return xM}async*getFile(e,{start:t,end:r,signal:n=null,format:i=null}={}){const{cid:s,path:o,type:a}=dM(e),c=new URL(`/api/v0/cat?arg=/${a}/${s}${o}`,this.url);if(t&&c.searchParams.set("offset",t),r&&c.searchParams.set("length",r-(t||0)+1),i)throw new Error("Format is unsupported on Kubo Daemons for now");const l=await fetch(c,{method:"POST",signal:n});await wM(l),yield*gM(l.body)}async*getRaw(e,{signal:t=null}={}){const{cid:r,path:n,type:i}=dM(e),s=new URL(`/api/v0/block/get?arg=/${i}/${r}${n}`,this.url),o=await fetch(s,{method:"POST",signal:t});await wM(o),yield*gM(o.body)}async*getCar(e,{signal:t=null}={}){const{cid:r,path:n,type:i}=dM(e),s=new URL(`/api/v0/dag/export?arg=/${i}/${r}${n}`,this.url),o=await fetch(s,{method:"POST",signal:t});await wM(o),yield*gM(o.body)}async*get(e,{start:t,end:r,signal:n=null,format:i=null}={}){if(i)if("raw"===i)yield*this.getRaw(e,{start:t,end:r,signal:n});else{if("car"!==i)throw new Error(`Invalid format type, must be car or 'raw', got ${i}`);yield*this.getCar(e,{start:t,end:r,signal:n})}yield*this.getFile(e,{start:t,end:r,signal:n})}async getSize(e,t=null){try{const{cid:r,path:n,type:i}=dM(e),s=`/api/v0/file/ls?arg=/${i}/${r}${n}&size=true`,o=new URL(s,this.url),a=await fetch(o,{method:"POST",signal:t});await wM(a);const{Objects:c}=await a.json(),[{Size:l}]=Object.values(c);return l}catch(r){return IM&&console.warn(r),this._getSizeWithDag(e,t)}}async _getSizeWithDag(e,t=null){const{cid:r,path:n,type:i}=dM(e),s=new URL(`/api/v0/dag/stat?arg=/${i}/${r}${n}`,this.url),o=await fetch(s,{method:"POST",signal:t});await wM(o);const{Size:a}=await o.json();return parseInt(a,10)}async _pin(e,t=null){const{cid:r,path:n,type:i}=dM(e),s=new URL(`/api/v0/pin/add?arg=/${i}/${r}${n}`,this.url),o=await fetch(s,{method:"POST",signal:t});await wM(o)}async _unpin(e,t=null){const{cid:r,path:n,type:i}=dM(e),s=new URL(`/api/v0/pin/rm?arg=/${i}/${r}${n}`,this.url),o=await fetch(s,{method:"POST",signal:t});await wM(o)}async clear(e,t=null){return this._unpin(e,t)}async uploadCAR(e,t=null){const r=new URL("/api/v0/dag/import?allow-big-block=true&pin-roots=true",this.url),n=await mM({url:r,file:e,signal:t});return(await n.text()).split("\n").filter((e=>e)).map((e=>{const{Root:t}=JSON.parse(e);return`ipfs://${t.Cid["/"]}/`}))}async uploadFile(e,t="",r=null){const n=new URL("/api/v0/add?pin=true&cid-version=1&inline=false&raw-leaves=true",this.url),i=e.name&&e instanceof Blob;(t||i)&&n.searchParams.set("wrap-with-directory","true");const s=await mM({url:n,file:e,fileName:t,signal:r}),o=await s.text(),[a]=o.split("\n"),{Hash:c}=JSON.parse(a),l=`ipfs://${c}/`;return await this._pin(l,r),l}}let WM=!1;const GM=!!(globalThis&&globalThis.chrome&&globalThis.chrome.webRequest&&globalThis.chrome.webRequest.onBeforeSendHeaders&&globalThis.chrome.webRequest.onBeforeSendHeaders.addListener);async function qM(e="http://localhost:5001/",t=1e3,r=globalThis.fetch){try{const n=new AbortController,{signal:i}=n;setTimeout((()=>n.abort()),t);const s=await r(new URL("/api/v0/version",e),{method:"POST",signal:i});return!!s.ok||!(!s.status||404===s.status)}catch(t){return IM&&console.warn("Unable to detect Kubo Daemon",t,e),!1}}var QM=function e(t,r,n){r=r||[];var i=n=n||0;for(;t>=VM;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},VM=Math.pow(2,31);var KM=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=s<28?(127&n)<<s:(127&n)*Math.pow(2,s),s+=7}while(n>=128);return e.bytes=o-r,i};var YM=Math.pow(2,7),JM=Math.pow(2,14),XM=Math.pow(2,21),ZM=Math.pow(2,28),$M=Math.pow(2,35),eF=Math.pow(2,42),tF=Math.pow(2,49),rF=Math.pow(2,56),nF=Math.pow(2,63);const iF={encode:QM,decode:KM,encodingLength:function(e){return e<YM?1:e<JM?2:e<XM?3:e<ZM?4:e<$M?5:e<eF?6:e<tF?7:e<rF?8:e<nF?9:10}},sF=(e,t=0)=>[iF.decode(e,t),iF.decode.bytes],oF=(e,t,r=0)=>(iF.encode(e,t,r),t),aF=e=>iF.encodingLength(e),cF=new Uint8Array(0),lF=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map((e=>parseInt(e,16)))):cF},uF=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},hF=(e,t)=>{const r=t.byteLength,n=aF(e),i=n+aF(r),s=new Uint8Array(i+r);return oF(e,s,0),oF(r,s,n),s.set(t,i),new dF(e,r,t,s)};class dF{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}var fF=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(n+(s-f)),g=n;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=o-n;p!==o&&0===l[p];)p++;for(var g=c.repeat(r);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error(`Non-${t} character`)}}};const pF=fF;class gF{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class yF{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return mF(this,e)}}class wF{constructor(e){this.decoders=e}or(e){return mF(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const mF=(e,t)=>new wF({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class bF{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new gF(e,t,r),this.decoder=new yF(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const AF=({name:e,prefix:t,encode:r,decode:n})=>new bF(e,t,r,n),EF=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=pF(r,t);return AF({prefix:e,name:t,encode:n,decode:e=>uF(i(e))})},vF=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>AF({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let s="",o=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let t=0;t<s;++t){const s=i[e[t]];if(void 0===s)throw new SyntaxError(`Non-${n} character`);c=c<<r|s,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(t,n,r,e)}),_F=EF({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),TF=(EF({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),vF({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5})),SF=(vF({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),vF({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),vF({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),vF({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),vF({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vF({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),vF({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),vF({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),(e,t)=>{const{bytes:r,version:n}=e;return 0===n?kF(r,CF(e),t||_F.encoder):NF(r,CF(e),t||TF.encoder)}),IF=new WeakMap,CF=e=>{const t=IF.get(e);if(null==t){const t=new Map;return IF.set(e,t),t}return t};class RF{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==BF)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==OF)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return RF.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=hF(e,t);return RF.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return RF.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&((e,t)=>{if(e===t)return!0;{const r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(e.bytes,r.bytes)}})(e.multihash,r.multihash)}toString(e){return SF(this,e)}toJSON(){return{"/":SF(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof RF)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:n,bytes:i}=t;return new RF(e,r,n,i||DF(e,r,n.bytes))}if(!0===t[LF]){const{version:e,multihash:r,code:n}=t,i=(e=>{const t=uF(e),[r,n]=sF(t),[i,s]=sF(t.subarray(n)),o=t.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new dF(r,i,o,t)})(r);return RF.create(e,n,i)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==BF)throw new Error(`Version 0 CID must use dag-pb (code: ${BF}) block encoding`);return new RF(e,t,r,r.bytes);case 1:{const n=DF(e,t,r.bytes);return new RF(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return RF.create(0,BF,e)}static createV1(e,t){return RF.create(1,e,t)}static decode(e){const[t,r]=RF.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=RF.inspectBytes(e),r=t.size-t.multihashSize,n=uF(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=n.subarray(t.multihashSize-t.digestSize),s=new dF(t.multihashCode,t.digestSize,i,n);return[0===t.version?RF.createV0(s):RF.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=sF(e.subarray(t));return t+=n,r};let n=r(),i=BF;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const s=t,o=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:o,digestSize:a,multihashSize:c-s,size:c}}static parse(e,t){const[r,n]=xF(e,t),i=RF.decode(n);return CF(i).set(r,e),i}}const xF=(e,t)=>{switch(e[0]){case"Q":{const r=t||_F;return[_F.prefix,r.decode(`${_F.prefix}${e}`)]}case _F.prefix:{const r=t||_F;return[_F.prefix,r.decode(e)]}case TF.prefix:{const r=t||TF;return[TF.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},kF=(e,t,r)=>{const{prefix:n}=r;if(n!==_F.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=t.get(n);if(null==i){const i=r.encode(e).slice(1);return t.set(n,i),i}return i},NF=(e,t,r)=>{const{prefix:n}=r,i=t.get(n);if(null==i){const i=r.encode(e);return t.set(n,i),i}return i},BF=112,OF=18,DF=(e,t,r)=>{const n=aF(e),i=n+aF(t),s=new Uint8Array(i+r.byteLength);return oF(e,s,0),oF(t,s,n),s.set(r,i),s},LF=Symbol.for("@ipld/js-cid/CID"),PF=new TextDecoder;function UF(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");const i=e[t++];if(r+=n<28?(127&i)<<n:(127&i)*2**n,i<128)break}return[r,t]}function MF(e,t){let r;[r,t]=UF(e,t);const n=t+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function FF(e,t){let r;return[r,t]=UF(e,t),[7&r,r>>3,t]}function HF(e){const t={},r=e.length;let n=0;for(;n<r;){let r,i;if([r,i,n]=FF(e,n),1===i){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==r)throw new Error(`protobuf: (PBLink) wrong wireType (${r}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=MF(e,n)}else if(2===i){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==r)throw new Error(`protobuf: (PBLink) wrong wireType (${r}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let i;[i,n]=MF(e,n),t.Name=PF.decode(i)}else{if(3!==i)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${i}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==r)throw new Error(`protobuf: (PBLink) wrong wireType (${r}) for Tsize`);[t.Tsize,n]=UF(e,n)}}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}const jF=new TextEncoder,zF=2**32;function WF(e,t){let r=t.length;if("number"==typeof e.Tsize){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");r=QF(t,r,e.Tsize)-1,t[r]=24}if("string"==typeof e.Name){const n=jF.encode(e.Name);r-=n.length,t.set(n,r),r=QF(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=QF(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function GF(e){const t=function(e){let t=0;if(e.Data){const r=e.Data.length;t+=1+r+VF(r)}if(e.Links)for(const r of e.Links){const e=qF(r);t+=1+e+VF(e)}return t}(e),r=new Uint8Array(t);let n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=QF(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let t=e.Links.length-1;t>=0;t--){const i=WF(e.Links[t],r.subarray(0,n));n-=i,n=QF(r,n,i)-1,r[n]=18}return r}function qF(e){let t=0;if(e.Hash){const r=e.Hash.length;t+=1+r+VF(r)}if("string"==typeof e.Name){const r=jF.encode(e.Name).length;t+=1+r+VF(r)}return"number"==typeof e.Tsize&&(t+=1+VF(e.Tsize)),t}function QF(e,t,r){const n=t-=VF(r);for(;r>=2147483648;)e[t++]=127&r|128,r/=128;for(;r>=128;)e[t++]=127&r|128,r>>>=7;return e[t]=r,n}function VF(e){return e%2==0&&e++,Math.floor((function(e){let t=0;e>=zF&&(e=Math.floor(e/zF),t=32);e>=65536&&(e>>>=16,t+=16);e>=256&&(e>>>=8,t+=8);return t+KF[e]}(e)+6)/7)}const KF=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],YF=["Data","Links"],JF=["Hash","Name","Tsize"],XF=new TextEncoder;function ZF(e,t){if(e===t)return 0;const r=e.Name?XF.encode(e.Name):[],n=t.Name?XF.encode(t.Name):[];let i=r.length,s=n.length;for(let e=0,t=Math.min(i,s);e<t;++e)if(r[e]!==n[e]){i=r[e],s=n[e];break}return i<s?-1:s<i?1:0}function $F(e,t){return!Object.keys(e).some((e=>!t.includes(e)))}function eH(e){if("object"==typeof e.asCID){const t=RF.asCID(e);if(!t)throw new TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!=typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(e.Hash){let r=RF.asCID(e.Hash);try{r||("string"==typeof e.Hash?r=RF.parse(e.Hash):e.Hash instanceof Uint8Array&&(r=RF.decode(e.Hash)))}catch(e){throw new TypeError(`Invalid DAG-PB form: ${e.message}`)}r&&(t.Hash=r)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof e.Name&&(t.Name=e.Name),"number"==typeof e.Tsize&&(t.Tsize=e.Tsize),t}function tH(e){if((e instanceof Uint8Array||"string"==typeof e)&&(e={Data:e}),"object"!=typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==e.Data)if("string"==typeof e.Data)t.Data=XF.encode(e.Data);else{if(!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=e.Data}if(void 0!==e.Links){if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form");t.Links=e.Links.map(eH),t.Links.sort(ZF)}else t.Links=[];return t}function rH(e){!function(e){if(!e||"object"!=typeof e||Array.isArray(e)||e instanceof Uint8Array||e["/"]&&e["/"]===e.bytes)throw new TypeError("Invalid DAG-PB form");if(!$F(e,YF))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<e.Links.length;t++){const r=e.Links[t];if(!r||"object"!=typeof r||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!$F(r,JF))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==r.Hash||!r.Hash["/"]||r.Hash["/"]!==r.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==r.Name&&"string"!=typeof r.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==r.Tsize){if("number"!=typeof r.Tsize||r.Tsize%1!=0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(r.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===ZF(r,e.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}(e);const t={};return e.Links&&(t.Links=e.Links.map((e=>{const t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),e.Data&&(t.Data=e.Data),GF(t)}function nH(e){const t=function(e){const t=e.length;let r,n,i=0,s=!1;for(;i<t;){let t,o;if([t,o,i]=FF(e,i),2!==t)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${t}`);if(1===o){if(n)throw new Error("protobuf: (PBNode) duplicate Data section");[n,i]=MF(e,i),r&&(s=!0)}else{if(2!==o)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${o}`);{if(s)throw new Error("protobuf: (PBNode) duplicate Links section");let t;r||(r=[]),[t,i]=MF(e,i),r.push(HF(t))}}}if(i>t)throw new Error("protobuf: (PBNode) unexpected end of data");const o={};return n&&(o.Data=n),o.Links=r||[],o}(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map((e=>{const t={};try{t.Hash=RF.decode(e.Hash)}catch(e){}if(!t.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),r}var iH=__webpack_require__(67);const sH=iH.Reader,oH=iH.Writer,aH=iH.util,cH=iH.roots.unixfs||(iH.roots.unixfs={}),lH=cH.Data=(()=>{function e(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Type=0,e.prototype.Data=aH.newBuffer([]),e.prototype.filesize=aH.Long?aH.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=aH.emptyArray,e.prototype.hashType=aH.Long?aH.Long.fromBits(0,0,!0):0,e.prototype.fanout=aH.Long?aH.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(e,t){if(t||(t=oH.create()),t.uint32(8).int32(e.Type),null!=e.Data&&Object.hasOwnProperty.call(e,"Data")&&t.uint32(18).bytes(e.Data),null!=e.filesize&&Object.hasOwnProperty.call(e,"filesize")&&t.uint32(24).uint64(e.filesize),null!=e.blocksizes&&e.blocksizes.length)for(var r=0;r<e.blocksizes.length;++r)t.uint32(32).uint64(e.blocksizes[r]);return null!=e.hashType&&Object.hasOwnProperty.call(e,"hashType")&&t.uint32(40).uint64(e.hashType),null!=e.fanout&&Object.hasOwnProperty.call(e,"fanout")&&t.uint32(48).uint64(e.fanout),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(56).uint32(e.mode),null!=e.mtime&&Object.hasOwnProperty.call(e,"mtime")&&cH.UnixTime.encode(e.mtime,t.uint32(66).fork()).ldelim(),t},e.decode=function(e,t){e instanceof sH||(e=sH.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new cH.Data;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;case 3:n.filesize=e.uint64();break;case 4:if(n.blocksizes&&n.blocksizes.length||(n.blocksizes=[]),2==(7&i))for(var s=e.uint32()+e.pos;e.pos<s;)n.blocksizes.push(e.uint64());else n.blocksizes.push(e.uint64());break;case 5:n.hashType=e.uint64();break;case 6:n.fanout=e.uint64();break;case 7:n.mode=e.uint32();break;case 8:n.mtime=cH.UnixTime.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw aH.ProtocolError("missing required 'Type'",{instance:n});return n},e.fromObject=function(e){if(e instanceof cH.Data)return e;var t=new cH.Data;switch(e.Type){case"Raw":case 0:t.Type=0;break;case"Directory":case 1:t.Type=1;break;case"File":case 2:t.Type=2;break;case"Metadata":case 3:t.Type=3;break;case"Symlink":case 4:t.Type=4;break;case"HAMTShard":case 5:t.Type=5}if(null!=e.Data&&("string"==typeof e.Data?aH.base64.decode(e.Data,t.Data=aH.newBuffer(aH.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),null!=e.filesize&&(aH.Long?(t.filesize=aH.Long.fromValue(e.filesize)).unsigned=!0:"string"==typeof e.filesize?t.filesize=parseInt(e.filesize,10):"number"==typeof e.filesize?t.filesize=e.filesize:"object"==typeof e.filesize&&(t.filesize=new aH.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");t.blocksizes=[];for(var r=0;r<e.blocksizes.length;++r)aH.Long?(t.blocksizes[r]=aH.Long.fromValue(e.blocksizes[r])).unsigned=!0:"string"==typeof e.blocksizes[r]?t.blocksizes[r]=parseInt(e.blocksizes[r],10):"number"==typeof e.blocksizes[r]?t.blocksizes[r]=e.blocksizes[r]:"object"==typeof e.blocksizes[r]&&(t.blocksizes[r]=new aH.LongBits(e.blocksizes[r].low>>>0,e.blocksizes[r].high>>>0).toNumber(!0))}if(null!=e.hashType&&(aH.Long?(t.hashType=aH.Long.fromValue(e.hashType)).unsigned=!0:"string"==typeof e.hashType?t.hashType=parseInt(e.hashType,10):"number"==typeof e.hashType?t.hashType=e.hashType:"object"==typeof e.hashType&&(t.hashType=new aH.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),null!=e.fanout&&(aH.Long?(t.fanout=aH.Long.fromValue(e.fanout)).unsigned=!0:"string"==typeof e.fanout?t.fanout=parseInt(e.fanout,10):"number"==typeof e.fanout?t.fanout=e.fanout:"object"==typeof e.fanout&&(t.fanout=new aH.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),null!=e.mode&&(t.mode=e.mode>>>0),null!=e.mtime){if("object"!=typeof e.mtime)throw TypeError(".Data.mtime: object expected");t.mtime=cH.UnixTime.fromObject(e.mtime)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.blocksizes=[]),t.defaults){if(r.Type=t.enums===String?"Raw":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=aH.newBuffer(r.Data))),aH.Long){var n=new aH.Long(0,0,!0);r.filesize=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.filesize=t.longs===String?"0":0;if(aH.Long){n=new aH.Long(0,0,!0);r.hashType=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.hashType=t.longs===String?"0":0;if(aH.Long){n=new aH.Long(0,0,!0);r.fanout=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.fanout=t.longs===String?"0":0;r.mode=0,r.mtime=null}if(null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?cH.Data.DataType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?aH.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),null!=e.filesize&&e.hasOwnProperty("filesize")&&("number"==typeof e.filesize?r.filesize=t.longs===String?String(e.filesize):e.filesize:r.filesize=t.longs===String?aH.Long.prototype.toString.call(e.filesize):t.longs===Number?new aH.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){r.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)"number"==typeof e.blocksizes[i]?r.blocksizes[i]=t.longs===String?String(e.blocksizes[i]):e.blocksizes[i]:r.blocksizes[i]=t.longs===String?aH.Long.prototype.toString.call(e.blocksizes[i]):t.longs===Number?new aH.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0):e.blocksizes[i]}return null!=e.hashType&&e.hasOwnProperty("hashType")&&("number"==typeof e.hashType?r.hashType=t.longs===String?String(e.hashType):e.hashType:r.hashType=t.longs===String?aH.Long.prototype.toString.call(e.hashType):t.longs===Number?new aH.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),null!=e.fanout&&e.hasOwnProperty("fanout")&&("number"==typeof e.fanout?r.fanout=t.longs===String?String(e.fanout):e.fanout:r.fanout=t.longs===String?aH.Long.prototype.toString.call(e.fanout):t.longs===Number?new aH.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),null!=e.mode&&e.hasOwnProperty("mode")&&(r.mode=e.mode),null!=e.mtime&&e.hasOwnProperty("mtime")&&(r.mtime=cH.UnixTime.toObject(e.mtime,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,iH.util.toJSONOptions)},e.DataType=function(){const e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),e})(),uH=(cH.UnixTime=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Seconds=aH.Long?aH.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(e,t){return t||(t=oH.create()),t.uint32(8).int64(e.Seconds),null!=e.FractionalNanoseconds&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&t.uint32(21).fixed32(e.FractionalNanoseconds),t},e.decode=function(e,t){e instanceof sH||(e=sH.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new cH.UnixTime;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Seconds=e.int64();break;case 2:n.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Seconds"))throw aH.ProtocolError("missing required 'Seconds'",{instance:n});return n},e.fromObject=function(e){if(e instanceof cH.UnixTime)return e;var t=new cH.UnixTime;return null!=e.Seconds&&(aH.Long?(t.Seconds=aH.Long.fromValue(e.Seconds)).unsigned=!1:"string"==typeof e.Seconds?t.Seconds=parseInt(e.Seconds,10):"number"==typeof e.Seconds?t.Seconds=e.Seconds:"object"==typeof e.Seconds&&(t.Seconds=new aH.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),null!=e.FractionalNanoseconds&&(t.FractionalNanoseconds=e.FractionalNanoseconds>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(aH.Long){var n=new aH.Long(0,0,!1);r.Seconds=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.Seconds=t.longs===String?"0":0;r.FractionalNanoseconds=0}return null!=e.Seconds&&e.hasOwnProperty("Seconds")&&("number"==typeof e.Seconds?r.Seconds=t.longs===String?String(e.Seconds):e.Seconds:r.Seconds=t.longs===String?aH.Long.prototype.toString.call(e.Seconds):t.longs===Number?new aH.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),null!=e.FractionalNanoseconds&&e.hasOwnProperty("FractionalNanoseconds")&&(r.FractionalNanoseconds=e.FractionalNanoseconds),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,iH.util.toJSONOptions)},e})(),cH.Metadata=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.MimeType="",e.encode=function(e,t){return t||(t=oH.create()),null!=e.MimeType&&Object.hasOwnProperty.call(e,"MimeType")&&t.uint32(10).string(e.MimeType),t},e.decode=function(e,t){e instanceof sH||(e=sH.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new cH.Metadata;e.pos<r;){var i=e.uint32();if(i>>>3==1)n.MimeType=e.string();else e.skipType(7&i)}return n},e.fromObject=function(e){if(e instanceof cH.Metadata)return e;var t=new cH.Metadata;return null!=e.MimeType&&(t.MimeType=String(e.MimeType)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.MimeType=""),null!=e.MimeType&&e.hasOwnProperty("MimeType")&&(r.MimeType=e.MimeType),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,iH.util.toJSONOptions)},e})(),lH.DataType),hH=Object.freeze([]),dH=new Uint8Array(0),fH=Object.freeze({}),pH=parseInt("0644",8),gH=parseInt("0755",8),yH=112,wH="UnixFS",mH=(e,t)=>(Object(globalThis).debug&&console.log({data:e,links:t}),rH(tH({Data:lH.encode(e).finish(),Links:t}))),bH=e=>({type:uH.Raw,content:e}),AH=e=>EH(dH,e),EH=(e,t)=>({type:uH.File,layout:"simple",content:e,metadata:ej(t)}),vH=e=>({type:uH.File,layout:"simple",content:e}),_H=(e,t)=>({type:uH.File,layout:"advanced",parts:e,metadata:ej(t)}),TH=e=>({type:uH.File,layout:"advanced",parts:e}),SH=(e,t,r)=>({type:uH.File,layout:"complex",content:e,parts:t,metadata:ej(r)}),IH=(e,t)=>({type:uH.Directory,metadata:ej(t),entries:e}),CH=(e,t,r,n,i=fH)=>({type:uH.HAMTShard,bitfield:t,fanout:FH(r),hashType:HH(n),entries:e,metadata:ej(i)}),RH=(e,t,r,n)=>({type:uH.HAMTShard,bitfield:t,fanout:FH(r),hashType:HH(n),entries:e}),xH=e=>mH({Type:uH.Raw,Data:e.byteLength>0?e:void 0,filesize:e.byteLength,blocksizes:hH},[]),kH=(e,t=!1)=>{const r=t?fH:Object(e).metadata;switch(e.layout){case"simple":return LH(e.content,r);case"advanced":return OH(e.parts,r);case"complex":return PH(e.content,e.parts,r);default:throw new TypeError(`File with unknown layout "${Object(e).layout}" was passed`)}},NH=e=>LH(e,fH),BH=e=>mH({Type:uH.File,blocksizes:e.map(JH),filesize:KH(e)},e.map(DH)),OH=(e,t=fH)=>mH({Type:uH.File,blocksizes:e.map(JH),filesize:KH(e),...$H(t)},e.map(DH)),DH=e=>({Name:"",Tsize:e.dagByteLength,Hash:e.cid}),LH=(e,t=fH)=>mH({Type:uH.File,Data:e.byteLength>0?e:void 0,filesize:e.byteLength,blocksizes:[],...$H(t)},[]),PH=(e,t,r=fH)=>mH({Type:uH.File,Data:e,filesize:e.byteLength+KH(t),blocksizes:t.map(JH)},t.map(DH)),UH=e=>mH({Type:e.type,...ZH(e.metadata||fH)},e.entries.map(XH)),MH=({bitfield:e,fanout:t,hashType:r,entries:n,metadata:i=fH})=>mH({Type:uH.HAMTShard,Data:e.byteLength>0?e:void 0,fanout:FH(t),hashType:HH(r),...ZH(i)},n.map(XH)),FH=e=>{if(Math.log2(e)%1==0)return e;throw new TypeError(`Expected hamt size to be a power of two instead got ${e}`)},HH=e=>{if(Number.isInteger(e))return e;throw new TypeError(`Expected an integer value instead got ${e}`)},jH=(e,t=fH)=>({type:uH.Symlink,content:e,metadata:ej(t)}),zH=(e,t=!1)=>{const r=t?fH:Object(e).metadata;return mH({Type:uH.Symlink,Data:e.content,...$H(r||fH)},[])},WH=(e,t=!0)=>{switch(e.type){case uH.Raw:return xH(e.content);case uH.File:return kH(e);case uH.Directory:return UH(e);case uH.HAMTShard:return MH(e);case uH.Symlink:return zH(e);default:throw new Error(`Unknown node type ${Object(e).type}`)}},GH=e=>{const t=nH(e),r=lH.decode(t.Data),{Type:n,Data:i,mtime:s,mode:o,blocksizes:a,...c}=lH.toObject(r,{defaults:!1,arrays:!0,longs:Number,objects:!1}),l={...o&&{mode:o},...qH(s)},u=t.Links;switch(r.Type){case uH.Raw:return bH(i);case uH.File:return 0===u.length?new sj(i,l):0===i.byteLength?new oj(QH(c.blocksizes,u),l):new aj(i,QH(c.blocksizes,u),l);case uH.Directory:return IH(VH(u),l);case uH.HAMTShard:return CH(VH(u),i||dH,c.fanout,c.hashType,l);case uH.Symlink:return jH(i,l);default:throw new TypeError(`Unsupported node type ${r.Type}`)}},qH=e=>null==e?void 0:{mtime:{secs:e.Seconds,nsecs:e.FractionalNanoseconds||0}},QH=(e,t)=>{const r=[],n=e.length;for(;0<n;)r.push({cid:t[0].Hash,dagByteLength:t[0].Tsize||0,contentByteLength:e[0]});return r},VH=e=>e.map((e=>({cid:e.Hash,name:e.Name||"",dagByteLength:e.Tsize||0}))),KH=e=>e.reduce(((e,t)=>e+t.contentByteLength),0),YH=(e,t)=>t.reduce(((e,t)=>e+t.dagByteLength),e.byteLength),JH=e=>e.contentByteLength,XH=({name:e,dagByteLength:t,cid:r})=>({Name:e,Tsize:t,Hash:r}),ZH=e=>$H(e,gH),$H=({mode:e,mtime:t},r=pH)=>({mode:null!=e?rj(e,r):void 0,mtime:null!=t?tj(t):void 0}),ej=e=>null==e?fH:{...null==e.mode?void 0:{mode:nj(e.mode)},...null==e.mtime?void 0:{mtime:e.mtime}},tj=e=>null==e?void 0:0!==e.nsecs?{Seconds:e.secs,FractionalNanoseconds:e.nsecs}:{Seconds:e.secs},rj=(e,t)=>{const r=null==e?void 0:nj(e);return r===t||null==r?void 0:r},nj=e=>4095&e|4294963200&e,ij=({content:e=dH,parts:t=hH,metadata:r=fH,...n})=>0===t.length?new sj(e,r):0===e.byteLength?new oj(t,r):new aj(e,t,r);class sj{constructor(e,t){this.content=e,this.metadata=t,this.layout="simple",this.type=uH.File}get filesize(){return this.content.byteLength}encode(){return LH(this.content,this.metadata)}}class oj{constructor(e,t){this.parts=e,this.metadata=t}get layout(){return"advanced"}get type(){return uH.File}get fileSize(){return KH(this.parts)}get blockSizes(){return this.parts.map(JH)}encode(){return OH(this.parts,this.metadata)}}class aj{constructor(e,t,r){this.content=e,this.parts=t,this.metadata=r}get layout(){return"complex"}get type(){return uH.File}get fileSize(){return this.content.byteLength+KH(this.parts)}get blockSizes(){return this.parts.map(JH)}encode(){return PH(this.content,this.parts,this.metadata)}}const cj=e=>{switch(e.type){case uH.Raw:case uH.Symlink:return e.content.byteLength;case uH.File:switch(e.layout){case"simple":return e.content.byteLength;case"advanced":return KH(e.parts);case"complex":return e.content.byteLength+KH(e.parts)}default:return 0}},lj=function*(e){const t=yield*e;yield*pj(t)};function*uj(){return yield Ej}const hj=function*(){yield vj};const dj=function*(e){const t=yield*uj();if(fj(e)){let r,n=!1;if(e.then((e=>{n=!1,r=e,Ij(t)}),(e=>{n=!0,r=e,Ij(t)})),yield*hj(),n)throw r;return r}return Sj(function*(e){Ij(e)}(t)),yield*hj(),e};const fj=e=>null!=e&&"function"==typeof e.then,pj=function*(e){yield e},gj=function*(e){const t=[];for(const r of Object.entries(e)){const[e,n]=r;n!==zj&&t.push(yield*Rj(wj(n,e)))}yield*Nj(t)},yj=e=>e.length>0?function*(e){const t=[];for(const r of e)t.push(yield*Rj(r));yield*Nj(t)}(e.map(lj)):zj;const wj=(e,t)=>e===zj?zj:e instanceof mj?new mj([...e.tags,t],e.source):new mj([t],e);class mj{constructor(e,t){this.tags=e,this.source=t,this.controller}[Symbol.iterator](){return this.controller||(this.controller=this.source[Symbol.iterator]()),this}box(e){if(e.done)return e;switch(e.value){case vj:case Ej:return e;default:{const t=e;let{value:r}=t;for(const e of this.tags)r=Aj(e,r);return t.value=r,t}}}next(e){return this.box(this.controller.next(e))}throw(e){return this.box(this.controller.throw(e))}return(e){return this.box(this.controller.return(e))}get[Symbol.toStringTag](){return"TaggedEffect"}}const bj=()=>zj,Aj=(e,t)=>({type:e,[e]:t});const Ej=Symbol("current"),vj=Symbol("suspend");class _j{static of(e){return e.group||Wj}static enqueue(e,t){e.group=t,t.stack.active.push(e)}constructor(e,t=[],r=new Set,n=new Tj(t,r)){this.driver=e,this.parent=_j.of(e),this.stack=n,this.id=++Pj}}class Tj{constructor(e=[],t=new Set){this.active=e,this.idle=t}static size({active:e,idle:t}){return e.length+t.size}}const Sj=e=>Ij(e[Symbol.iterator]()),Ij=e=>{let t=_j.of(e);for(t.stack.active.push(e),t.stack.idle.delete(e);t.parent;){const{idle:e,active:r}=t.parent.stack;if(!e.has(t.driver))break;e.delete(t.driver),r.push(t.driver),t=t.parent}if(Wj.status===Uj)for(Wj.status=Mj;;)try{for(const e of Cj(Wj));Wj.status=Uj;break}catch(e){Wj.stack.active.shift()}},Cj=function*(e){const{active:t}=e.stack;let r=t[0];for(e.stack.idle.delete(r);r;){let n=Hj;e:for(;!n.done&&r===t[0];){const t=n.value;switch(t){case vj:e.stack.idle.add(r);break e;case Ej:n=r.next(r);break;default:n=r.next(yield t)}}t.shift(),r=t[0],e.stack.idle.delete(r)}};const Rj=(e,t)=>new Lj(e,t),xj=(e,t)=>kj(e,{ok:!1,error:t});function*kj(e,t){try{const r=e,n=t.ok?r.return(t.value):r.throw(t.error);if(!n.done)if(n.value===vj){const{idle:e}=_j.of(r).stack;e.add(r)}else Ij(r)}catch(e){}}function*Nj(e){if(0===e.length)return;const t=yield*uj(),r=new _j(t);let n=null;for(const t of e){const{result:e}=t;e?e.ok||n||(n=e):Bj(t,r)}try{if(n)throw n.error;for(;yield*Cj(r),Tj.size(r.stack)>0;)yield*hj()}catch(e){for(const t of r.stack.active)yield*xj(t,e);for(const t of r.stack.idle)yield*xj(t,e),Ij(t);throw e}}const Bj=(e,t)=>{const r=_j.of(e);if(r!==t){const{active:n,idle:i}=r.stack,s=t.stack;if(e.group=t,i.has(e))i.delete(e),s.idle.add(e);else{const t=n.indexOf(e);t>=0&&(n.splice(t,1),s.active.push(e))}}};function*Oj(e){e.status===Uj&&(yield*e),e.result||(yield*Nj([e]));const t=e.result;if(t.ok)return t.value;throw t.error}class Dj{constructor(e){this.handler=e,this.result}get promise(){const{result:e}=this,t=null==e?new Promise(((e,t)=>{this.handler.onsuccess=e,this.handler.onfailure=t})):e.ok?Promise.resolve(e.value):Promise.reject(e.error);return Object.defineProperty(this,"promise",{value:t}),t}then(e,t){return this.activate().promise.then(e,t)}catch(e){return this.activate().promise.catch(e)}finally(e){return this.activate().promise.finally(e)}activate(){return this}}class Lj extends Dj{constructor(e,t=jj,r={},n=Hj){super(r),this.id=++Pj,this.name=t.name||"",this.task=e,this.state=n,this.status=Uj,this.result,this.handler=r,this.controller}*resume(){Ij(this)}join(){return Oj(this)}abort(e){return xj(this,e)}exit(e){return((e,t)=>kj(e,{ok:!0,value:t}))(this,e)}get[Symbol.toStringTag](){return"Fork"}*[Symbol.iterator](){return this.activate()}activate(){return this.controller=this.task[Symbol.iterator](),this.status=Mj,Ij(this),this}panic(e){this.result={ok:!1,error:e},this.status=Fj;const{handler:t}=this;throw t.onfailure&&t.onfailure(e),e}step(e){if(this.state=e,e.done){this.result={ok:!0,value:e.value},this.status=Fj;const{handler:t}=this;t.onsuccess&&t.onsuccess(e.value)}return e}next(e){try{return this.step(this.controller.next(e))}catch(e){return this.panic(e)}}return(e){try{return this.step(this.controller.return(e))}catch(e){return this.panic(e)}}throw(e){try{return this.step(this.controller.throw(e))}catch(e){return this.panic(e)}}}let Pj=0;const Uj="idle",Mj="active",Fj="finished",Hj={done:!1,value:Ej},jj={},zj=function*(){}(),Wj=new class{constructor(){this.status=Uj,this.stack=new Tj,this.id=0}};function Gj(){}Object.defineProperties(Gj,{prototype:{value:new Proxy(Object.prototype,{get:(e,t,r)=>"symbol"==typeof t?Reflect.get(e,t,r):r.get(t)})}});const qj=()=>new Vj,Qj=(e,t=0,r=e.byteLength)=>{const n=[],i=t<0?e.byteLength-t:t,s=r<0?e.byteLength-r:r;if(0===i&&s>=e.byteLength)return e;if(i>s||i>e.byteLength||s<=0)return qj();let o=0,a=0;for(const t of e.segments){const e=a+t.byteLength;if(0===o){if(s<=e){const e=t.subarray(i-a,s-a);n.push(e),o=e.byteLength;break}if(i<e){const e=i===a?t:t.subarray(i-a);n.push(e),o=e.byteLength}}else{if(s<=e){const r=s===e?t:t.subarray(0,s-a);n.push(r),o+=r.byteLength;break}n.push(t),o+=t.byteLength}a=e}return new Vj(n,e.byteOffset+i,o)};class Vj extends Gj{constructor(e=[],t=0,r=0){super(),this.segments=e,this.byteLength=r,this.length=r,this.byteOffset=t}[Symbol.iterator](){return function*(e){for(const t of e.segments)yield*t}(this)}slice(e,t){return Qj(this,e,t)}subarray(e,t){return Qj(this,e,t)}push(e){return((e,t)=>t.byteLength>0?(e.segments.push(t),new Vj(e.segments,e.byteOffset,e.byteLength+t.byteLength)):e)(this,e)}get(e){return((e,t)=>{if(t<e.byteLength){let r=0;for(const n of e.segments){if(t<r+n.byteLength)return n[t-r];r+=n.byteLength}}})(this,e)}copyTo(e,t){return((e,t,r)=>{let n=r;for(const r of e.segments)t.set(r,n),n+=r.byteLength;return t})(this,e,t)}}const Kj=e=>{throw new Error(e)},Yj=(e,t,...r)=>Kj(String.raw(e,JSON.stringify(t),...r)),Jj=new Uint8Array(0),Xj=[],Zj=e=>({config:e,buffer:qj()}),$j=(e,t,r)=>{const n=e.chunker,i=[];let s=0;for(const e of n.cut(n.context,t,r))if(e>0){const r=t.subarray(s,s+e);i.push(r),s+=e}return{config:e,chunks:i,buffer:t.subarray(s)}},ez=(e,t)=>{let r=rz(t,{});for(const t of e){const{ready:e,has:n,wants:i}=oz(t.children,r.links);r=0===i.length?rz(r,{links:nz(void 0,n),linked:[{id:t.id,links:e}]}):rz(r,{needs:nz(t.id,i),nodes:{[t.id]:{children:t.children,count:i.length}}})}return r},tz=(e,t,r)=>{const n=r.needs[e],i=r.nodes[n];if(null!=i){if(1===i.count){const{ready:s,has:o}=oz(i.children,{...r.links,[e]:t});return rz(r,{needs:{[e]:void 0},links:nz(void 0,o),nodes:{[n]:void 0},linked:[{id:n,links:s}]})}return rz(r,{needs:{[e]:void 0},links:{[e]:t},nodes:{[n]:{...i,count:i.count-1}}})}return rz(r,{links:{[e]:t}})},rz=(e,{needs:t,nodes:r,links:n,linked:i})=>{const s=e.mutable?e:{...e},o=e.mutable?cz:void 0;return t&&(s.needs=iz(e.needs,t,o)),r&&(s.nodes=iz(e.nodes,r,o)),n&&(s.links=iz(e.links,n,o)),s.linked=i?sz(e.linked||az,i,az):e.linked||[],s},nz=(e,t)=>{const r={};for(const n of t)r[n]=e;return r},iz=(e,t,r=e)=>{const n=e===r?{...e}:e;for(const e of Object.entries(t)){const[t,r]=e;null==r?delete n[t]:n[t]=r}return n},sz=(e,t,r=e)=>{if(e===r)return[...e,...t];for(const r of t)e.push(r);return e},oz=(e,t)=>{const r=[],n=[],i=[];for(const s of e){const e=t[s];e?(r.push(s),i.push(e)):n.push(s)}return{has:r,wants:n,ready:i}},az=Object.freeze([]),cz=Object.freeze({}),lz=(e,t)=>{switch(e.type){case"write":return uz(t,e.bytes);case"link":return hz(t,e.link);case"block":case"end":return{state:t,effect:bj()};case"close":return dz(t);default:return Yj`File Writer got unknown message ${e}`}},uz=(e,t)=>{if("open"===e.status){const{chunks:r,...n}=((e,t)=>t.byteLength>0?$j(e.config,e.buffer.push(t),!1):{...e,chunks:Xj})(e.chunker,t),{nodes:i,leaves:s,layout:o}=e.config.fileLayout.write(e.layout,r),{linked:a,...c}=ez(i,e.nodeQueue),l=[...fz(s,e.config),...gz(a,e.config)];return{state:{...e,chunker:n,layout:o,nodeQueue:c},effect:gj({link:yj(l)})}}return Kj("Unable to perform write on closed file")},hz=(e,{id:t,link:r,block:n})=>{let{linked:i,...s}=tz(t,r,e.nodeQueue);const o=gz(i,e.config),a="closed"===e.status&&t===e.rootID?{...e,status:"linked",link:r,nodeQueue:s}:{...e,nodeQueue:s},c="closed"===e.status&&t===e.rootID&&e.end?e.end.resume():bj();return{state:a,effect:gj({link:yj(o),block:wz(e.writer,n),end:c})}},dz=e=>{if("open"===e.status){const{chunks:t}=(e=>$j(e.config,e.buffer,!0))(e.chunker),{layout:r,...n}=e.config.fileLayout.write(e.layout,t),{root:i,...s}=e.config.fileLayout.close(r,e.metadata),[o,a]=bz(i)?[[...n.nodes,...s.nodes],[...n.leaves,...s.leaves,i]]:[[...n.nodes,...s.nodes,i],[...n.leaves,...s.leaves]],{linked:c,...l}=ez(o,e.nodeQueue),u=[...fz(a,e.config),...gz(c,e.config)],h=Rj(hj());return{state:{...e,chunker:null,layout:null,rootID:i.id,status:"closed",end:h,nodeQueue:l},effect:gj({link:yj(u),end:Oj(h)})}}return{state:e,effect:bj()}},fz=(e,t)=>e.map((e=>pz(t,e,t.fileChunkEncoder))),pz=function*({hasher:e,linker:t},{id:r,content:n},i){const s=i.encode(n?mz(n):Jj),o=yield*dj(e.digest(s)),a=t.createLink(i.code,o);return{id:r,block:{cid:a,bytes:s},link:{cid:a,contentByteLength:n?n.byteLength:0,dagByteLength:s.byteLength}}},gz=(e,t)=>e.map((e=>yz(t,e))),yz=function*(e,{id:t,links:r},n){const i=e.fileEncoder.encode({type:uH.File,layout:"advanced",parts:r,metadata:n}),s=yield*dj(Promise.resolve(e.hasher.digest(i))),o=e.linker.createLink(e.fileEncoder.code,s);return{id:t,block:{bytes:i,cid:o},link:{cid:o,contentByteLength:KH(r),dagByteLength:YH(i,r)}}},wz=function*(e,t){(e.desiredSize||0)<=0&&(yield*dj(e.ready)),e.write(t)},mz=e=>e instanceof Uint8Array?e:e.copyTo(new Uint8Array(e.byteLength),0),bz=e=>null==e.children,Az="fixed",Ez={maxChunkSize:262144},vz="Stateless",_z=e=>({type:"Stateless",context:{maxChunkSize:e},name:Az,cut:Tz}),Tz=({maxChunkSize:e},{byteLength:t},r)=>{const n=t/e|0,i=new Array(n).fill(e),s=r?t-n*e:0;return s>0&&i.push(s),i},Sz=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});var Iz=function e(t,r,n){r=r||[];var i=n=n||0;for(;t>=Cz;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},Cz=Math.pow(2,31);var Rz=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=s<28?(127&n)<<s:(127&n)*Math.pow(2,s),s+=7}while(n>=128);return e.bytes=o-r,i};var xz=Math.pow(2,7),kz=Math.pow(2,14),Nz=Math.pow(2,21),Bz=Math.pow(2,28),Oz=Math.pow(2,35),Dz=Math.pow(2,42),Lz=Math.pow(2,49),Pz=Math.pow(2,56),Uz=Math.pow(2,63);const Mz={encode:Iz,decode:Rz,encodingLength:function(e){return e<xz?1:e<kz?2:e<Nz?3:e<Bz?4:e<Oz?5:e<Dz?6:e<Lz?7:e<Pz?8:e<Uz?9:10}},Fz=(e,t=0)=>[Mz.decode(e,t),Mz.decode.bytes],Hz=(e,t,r=0)=>(Mz.encode(e,t,r),t),jz=e=>Mz.encodingLength(e),zz=(e,t)=>{const r=t.byteLength,n=jz(e),i=n+jz(r),s=new Uint8Array(i+r);return Hz(e,s,0),Hz(r,s,n),s.set(t,i),new Wz(e,r,t,s)};class Wz{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}const Gz=({name:e,code:t,encode:r})=>new qz(e,t,r);class qz{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?zz(this.code,t):t.then((e=>zz(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Qz=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Vz=Gz({name:"sha2-256",code:18,encode:Qz("SHA-256")});Gz({name:"sha2-512",code:19,encode:Qz("SHA-512")});var Kz=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var u=r[e.charCodeAt(t)];if(255===u)return;for(var h=0,d=s-1;(0!==u||h<i)&&-1!==d;d--,h++)u+=a*o[d]>>>0,o[d]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var f=s-i;f!==s&&0===o[f];)f++;for(var p=new Uint8Array(n+(s-f)),g=n;f!==s;)p[g++]=o[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var o=(s-i)*u+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],d=0,f=o-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=o-n;p!==o&&0===l[p];)p++;for(var g=c.repeat(r);p<o;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error(`Non-${t} character`)}}};const Yz=Kz;class Jz{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Xz{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return $z(this,e)}}class Zz{constructor(e){this.decoders=e}or(e){return $z(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const $z=(e,t)=>new Zz({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class eW{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new Jz(e,t,r),this.decoder=new Xz(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const tW=({name:e,prefix:t,encode:r,decode:n})=>new eW(e,t,r,n),rW=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=Yz(r,t);return tW({prefix:e,name:t,encode:n,decode:e=>Sz(i(e))})},nW=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>tW({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let s="",o=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let t=0;t<s;++t){const s=i[e[t]];if(void 0===s)throw new SyntaxError(`Non-${n} character`);c=c<<r|s,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(t,n,r,e)}),iW=rW({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),sW=(rW({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),nW({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5})),oW=(nW({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),nW({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),nW({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),nW({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),nW({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),nW({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),nW({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),nW({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),(e,t)=>{const{bytes:r,version:n}=e;return 0===n?hW(r,cW(e),t||iW.encoder):dW(r,cW(e),t||sW.encoder)}),aW=new WeakMap,cW=e=>{const t=aW.get(e);if(null==t){const t=new Map;return aW.set(e,t),t}return t};class lW{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==fW)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==pW)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return lW.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=zz(e,t);return lW.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return lW.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&((e,t)=>{if(e===t)return!0;{const r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(e.bytes,r.bytes)}})(e.multihash,r.multihash)}toString(e){return oW(this,e)}toJSON(){return{"/":oW(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof lW)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:n,bytes:i}=t;return new lW(e,r,n,i||gW(e,r,n.bytes))}if(!0===t[yW]){const{version:e,multihash:r,code:n}=t,i=(e=>{const t=Sz(e),[r,n]=Fz(t),[i,s]=Fz(t.subarray(n)),o=t.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new Wz(r,i,o,t)})(r);return lW.create(e,n,i)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==fW)throw new Error(`Version 0 CID must use dag-pb (code: ${fW}) block encoding`);return new lW(e,t,r,r.bytes);case 1:{const n=gW(e,t,r.bytes);return new lW(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return lW.create(0,fW,e)}static createV1(e,t){return lW.create(1,e,t)}static decode(e){const[t,r]=lW.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=lW.inspectBytes(e),r=t.size-t.multihashSize,n=Sz(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=n.subarray(t.multihashSize-t.digestSize),s=new Wz(t.multihashCode,t.digestSize,i,n);return[0===t.version?lW.createV0(s):lW.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=Fz(e.subarray(t));return t+=n,r};let n=r(),i=fW;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const s=t,o=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:o,digestSize:a,multihashSize:c-s,size:c}}static parse(e,t){const[r,n]=uW(e,t),i=lW.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return cW(i).set(r,e),i}}const uW=(e,t)=>{switch(e[0]){case"Q":{const r=t||iW;return[iW.prefix,r.decode(`${iW.prefix}${e}`)]}case iW.prefix:{const r=t||iW;return[iW.prefix,r.decode(e)]}case sW.prefix:{const r=t||sW;return[sW.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},hW=(e,t,r)=>{const{prefix:n}=r;if(n!==iW.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=t.get(n);if(null==i){const i=r.encode(e).slice(1);return t.set(n,i),i}return i},dW=(e,t,r)=>{const{prefix:n}=r,i=t.get(n);if(null==i){const i=r.encode(e);return t.set(n,i),i}return i},fW=112,pW=18,gW=(e,t,r)=>{const n=jz(e),i=n+jz(t),s=new Uint8Array(i+r.byteLength);return Hz(e,s,0),Hz(t,s,n),s.set(r,i),s},yW=Symbol.for("@ipld/js-cid/CID");class wW{constructor(e,t,r){this.id=e,this.children=t,this.metadata=r}}const mW={width:174},bW=({width:e}=mW)=>({width:e,head:null,leafIndex:[],nodeIndex:[],lastID:0}),AW=(e,t)=>{if(0===t.length)return{layout:e,nodes:TW,leaves:TW};{let{lastID:r}=e;const[n,i]=e.head?[null,(t.unshift(e.head),t)]:1===t.length&&0===e.leafIndex.length?[t[0],TW]:[null,t];if(0===i.length)return{layout:{...e,head:n},nodes:TW,leaves:TW};{const t=[...e.leafIndex],s=[];for(const e of i){const n={id:++r,content:e};s.push(n),t.push(n.id)}return t.length>=e.width?EW({...e,leafIndex:t,head:n,lastID:r},s):{layout:{...e,head:n,leafIndex:t,lastID:r},leaves:s,nodes:TW}}}},EW=(e,t=TW,r=[],n=!1)=>{let{lastID:i}=e;const s=e.nodeIndex.map((e=>[...e])),o=[...e.leafIndex],{width:a}=e;for(;o.length>=a||o.length>0&&n;){_W(s,1);const e=new wW(++i,o.splice(0,a));s[0].push(e.id),r.push(e)}let c=0;for(;c<s.length;){const e=s[c];for(c++;e.length>=a||e.length>0&&n&&c<s.length;){const t=new wW(++i,e.splice(0,a));_W(s,c+1),s[c].push(t.id),r.push(t)}}return{layout:{...e,lastID:i,leafIndex:o,nodeIndex:s},leaves:t,nodes:r}},vW=(e,t)=>{const r=e;if(e.head)return{root:{id:1,content:e.head,metadata:t},leaves:TW,nodes:TW};if(0===e.leafIndex.length)return{root:{id:1,metadata:t},leaves:TW,nodes:TW};{const{nodes:e,layout:n}=EW(r,TW,[],!0),{nodeIndex:i}=n,s=i[i.length-1];if(1===s.length){const t=e[e.length-1];return e.length=e.length-1,{root:t,nodes:e,leaves:TW}}return{root:new wW(n.lastID+1,s,t),nodes:e,leaves:TW}}},_W=(e,t)=>{for(;e.length<t;)e.push([]);return e},TW=[],SW=()=>{return{chunker:n,fileChunkEncoder:CW,smallFileEncoder:CW,fileEncoder:r,fileLayout:(e=174,{open:()=>bW({width:e}),write:AW,close:vW}),hasher:Vz,linker:{createLink:lW.createV1}};var e},IW=e=>({...SW(),...e}),CW={code:yH,name:wH,encode:NH},RW=({writer:e,metadata:t={},settings:r=SW()})=>new kW(((e,t,r)=>({status:"open",metadata:t,config:r,writer:e,chunker:Zj({chunker:r.chunker}),layout:r.fileLayout.open(),nodeQueue:{mutable:!0,needs:{},nodes:{},links:{},linked:az}}))(e,t,IW(r))),xW=(e,t)=>Rj(function*(e,t){const r=yield*uj(),n=new _j(r);for(_j.enqueue(e[Symbol.iterator](),n);;){for(const e of Cj(n))_j.enqueue(t(e)[Symbol.iterator](),n);if(!(Tj.size(n.stack)>0))break;yield*hj()}}(t,(t=>{const{state:r,effect:n}=lz(t,e.state);return e.state=r,n})));class kW{constructor(e){this.state=e}get writer(){return this.state.writer}get settings(){return this.state.config}write(e){return(async(e,t)=>(await xW(e,pj({type:"write",bytes:t})),e))(this,e)}close(e){return(async(e,{releaseLock:t=!1,closeWriter:r=!1}={})=>{await xW(e,pj({type:"close"}));const{state:n}=e;if("linked"===n.status)return r?await e.state.writer.close():t&&e.state.writer.releaseLock(),n.link;Kj(`Expected writer to be in 'linked' state after close, but it is in "${n.status}" instead`)})(this,e)}}const NW=SW,BW=({writer:e,settings:t=NW(),metadata:r={}})=>new LW({writer:e,metadata:r,settings:t,entries:new Map,closed:!1}),OW=e=>{if(e.closed)throw new Error("Can not change written directory, but you can .fork() and make changes to it");return e},DW=function*({state:e}){for(const[t,{dagByteLength:r,cid:n}]of e.entries)yield{name:t,dagByteLength:r,cid:n}};class LW{constructor(e){this.state=e}get writer(){return this.state.writer}get settings(){return this.state.settings}links(){return DW(this)}set(e,t,r){return((e,t,r,{overwrite:n=!1}={})=>{const i=OW(e.state);if(t.includes("/"))throw new Error(`Directory entry name "${t}" contains forbidden "/" character`);if(!n&&i.entries.has(t))throw new Error(`Directory already contains entry with name "${t}"`);return i.entries.set(t,r),e})(this,e,t,r)}remove(e){return((e,t)=>(OW(e.state).entries.delete(t),e))(this,e)}fork(e){return(({state:e},{writer:t=e.writer,metadata:r=e.metadata,settings:n=e.settings}={})=>new LW({writer:t,metadata:r,settings:n,entries:new Map(e.entries.entries()),closed:!1}))(this,e)}close(e){return(async(e,{closeWriter:t=!1,releaseLock:r=!1}={})=>{const{writer:n,settings:i,metadata:s}=OW(e.state);e.state.closed=!0;const o=[...DW(e)],a=IH(o,s),c=UH(a),l=await i.hasher.digest(c),u=i.linker.createLink(yH,l);return(n.desiredSize||0)<=0&&await n.ready,n.write({cid:u,bytes:c}),t?await n.close():r&&n.releaseLock(),{cid:u,dagByteLength:YH(c,o)}})(this,e)}entries(){return this.state.entries.entries()}has(e){return this.state.entries.has(e)}get size(){return this.state.entries.size}}const PW=(e=32)=>{if(32!==e)throw new Error(`Uint32 BitField does not support size: ${e}`);return 0},UW=(e,t)=>{let r=PW(t);for(const t of e)r=HW(r,t);return r},MW=e=>32,FW=(e,t=31)=>WW(e&((e,t)=>1<<((e,t)=>e>>>t&31)(e,t))(t,0)-1),HW=(e,t)=>e|1<<t,jW=(e,t)=>e&(255^1<<t),zW=(e,t)=>0!=(e>>t&1),WW=e=>{const t=e-(e>>1&1431655765),r=(858993459&t)+(t>>2&858993459);return 16843009*(r+(r>>4)&252645135)>>24},GW=(e,t)=>e&t,qW=(e,t)=>e|t,QW=e=>Uint8Array.of(e>>24&255,e>>16&255,e>>8&255,255&e),VW=e=>{if(4!==e.length)throw new Error(`Expected 4 bytes instead got ${e.length}`);return(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3]};var KW=__webpack_require__(6652);const YW=new TextEncoder,JW=KW.x64.hash126,XW=({bitWidth:e=5,hash:t=JW})=>{if(e>32)throw new RangeError(`Can not use bitWidth ${e} which exceeds the hashSize 4`);const r=4294967295>>>32-e;return{at:(t,n)=>t>>>n*e&r,from:e=>t(YW.encode(e)),size:Math.ceil(32/e)}};const ZW=({name:e,code:t,encode:r})=>new $W(e,t,r);class $W{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?hF(this.code,t):t.then((e=>hF(this.code,e)))}throw Error("Unknown type, must be binary type")}}ZW({name:"murmur3-32",code:35,encode:e=>function(e){const t=new Array(4);for(let r=0;r<4;r++)t[r]=255&e,e>>=8;return new Uint8Array(t)}(KW.x86.hash32(e))}),ZW({name:"murmur3-128",code:34,encode:e=>lF(KW.x64.hash128(e))});const eG=ZW({name:"murmur3-x64-64",code:34,encode:e=>lF(KW.x64.hash128(e)).subarray(0,8)}),tG=(new TextEncoder,(e,t,r)=>{let n=t/8|0,i=t%8,s=r,o=0;for(;s>0&&n<e.byteLength;){const t=8-i,r=t<s?t:s;o=(o<<r)+((255>>i&e[n])>>8-i-r),s-=r,n++,i=0}return o});new RangeError("Not Found");class rG{constructor(e=0,t,r){this.count=e,this.root=t,this.config=r}get size(){return this.count}clone(){return new rG(this.count,this.root,this.config)}empty(){return new rG(0,createBitmapIndexedNode(this.config,null),this.config)}has(e){return((e,t)=>Node.get(e.root,t,NOT_FOUND)!==NOT_FOUND)(this,e)}get(e){return Node.get(this.root,e,void 0)}set(e,t){const r={value:!1},n=Node.set(this.root,null,e,t,r);return n===this.root?this:new rG(r.value?this.count+1:this.count,n,this.config)}delete(e){const t=Node.delete(this.root,null,e,{value:!1});return t===this.root?this:new rG(this.count-1,t,this.config)}get bitField(){return this.config.BitField.or(this.root.datamap,this.root.nodemap)}[Symbol.iterator](){return this.entries()}entries(){return this.root.entries()}keys(){return this.root.keys()}values(){return this.root.values()}createBuilder(){return new HashMapBuilder({},this.count,this.root,this.config)}}const nG=new TextEncoder,iG=e=>eG.encode(e),sG=(e,t=0,{bitWidth:r=8,hash:n,hashSize:i})=>{const s=8*i;let o=0,a=r,c=r*t;for(;a>0;){const t=c/s>>0,r=n(0===t?e:oG(e,t)),i=s<=c?c%s:c,l=s-i,u=l<a?l:a;o=(o<<u)+tG(r,i,u),a-=u,c+=u}return o},oG=(e,t)=>{const r=new Uint8Array(e.byteLength+1).fill(t,e.byteLength);return r.set(e),r};(({bitWidth:e=8,hash:t=iG})=>{const r=t(new Uint8Array).byteLength,n={bitWidth:e,hash:t,hashSize:r}})({bitWidth:8});class aG extends Map{constructor(e=UnixFSPermaMap.builder()){super(),this.builder=e}clear(){this.builder=UnixFSPermaMap.builder()}delete(e){const{root:t}=this.builder;return this.builder.delete(e),this.builder.root!==t}forEach(e,t=this){for(const[r,n]of this.builder.root.entries())e.call(t,n,r,this)}get(e){return PermaMap.get(this.builder,e)}has(e){return PermaMap.has(this.builder,e)}set(e,t){return this.builder.set(e,t),this}get size(){return this.builder.size}[Symbol.iterator](){return this.builder.root.entries()}entries(){return this.builder.root.entries()}keys(){return this.builder.root.keys()}values(){return this.builder.root.values()}}class cG{constructor({writer:e,settings:t}){this.writer=e,this.settings=IW(t)}createFileWriter({settings:e=this.settings,metadata:t}={}){return RW({writer:this.writer,settings:e,metadata:t})}createDirectoryWriter({settings:e=this.settings,metadata:t}={}){return BW({writer:this.writer,settings:e,metadata:t})}close(e){return(async(e,{releaseLock:t=!0,closeWriter:r=!0}={})=>(r?await e.writer.close():t&&e.writer.releaseLock(),e))(this,e)}}const lG=["string","number","bigint","symbol"],uG=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function hG(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(lG.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const r=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(uG.includes(t))return t;return}(e);return r||"Object"}class dG{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}dG.uint=new dG(0,"uint",!0),dG.negint=new dG(1,"negint",!0),dG.bytes=new dG(2,"bytes",!0),dG.string=new dG(3,"string",!0),dG.array=new dG(4,"array",!1),dG.map=new dG(5,"map",!1),dG.tag=new dG(6,"tag",!1),dG.float=new dG(7,"float",!0),dG.false=new dG(7,"false",!0),dG.true=new dG(7,"true",!0),dG.null=new dG(7,"null",!0),dG.undefined=new dG(7,"undefined",!0),dG.break=new dG(7,"break",!0);class fG{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const pG=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,gG=new TextDecoder,yG=new TextEncoder;function wG(e){return pG&&globalThis.Buffer.isBuffer(e)}function mG(e){return e instanceof Uint8Array?wG(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const bG=pG?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):IG(e,t,r):(e,t,r)=>r-t>64?gG.decode(e.subarray(t,r)):IG(e,t,r),AG=pG?e=>e.length>64?globalThis.Buffer.from(e):SG(e):e=>e.length>64?yG.encode(e):SG(e),EG=e=>Uint8Array.from(e),vG=pG?(e,t,r)=>wG(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),_G=pG?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),mG(globalThis.Buffer.concat(e,t))):(e,t)=>{const r=new Uint8Array(t);let n=0;for(let t of e)n+t.length>r.length&&(t=t.subarray(0,r.length-n)),r.set(t,n),n+=t.length;return r},TG=pG?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function SG(e,t=1/0){let r;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function IG(e,t,r){const n=[];for(;t<r;){const i=e[t];let s=null,o=i>239?4:i>223?3:i>191?2:1;if(t+o<=r){let r,n,a,c;switch(o){case 1:i<128&&(s=i);break;case 2:r=e[t+1],128==(192&r)&&(c=(31&i)<<6|63&r,c>127&&(s=c));break;case 3:r=e[t+1],n=e[t+2],128==(192&r)&&128==(192&n)&&(c=(15&i)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:r=e[t+1],n=e[t+2],a=e[t+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&i)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),t+=o}return function(e){const t=e.length;if(t<=CG)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=CG));return r}(n)}const CG=4096;class RG{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=TG(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=vG(r,0,this.cursor)}else t=_G(this.chunks,this.cursor);return e&&this.reset(),t}}const xG=[];function kG(e,t,r){if(e.length-t<r)throw new Error("CBOR decode error: not enough data for type")}xG[23]=1,xG[24]=2,xG[25]=3,xG[26]=5,xG[27]=9;const NG=[24,256,65536,4294967296,BigInt("18446744073709551616")];function BG(e,t,r){kG(e,t,1);const n=e[t];if(!0===r.strict&&n<NG[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function OG(e,t,r){kG(e,t,2);const n=e[t]<<8|e[t+1];if(!0===r.strict&&n<NG[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function DG(e,t,r){kG(e,t,4);const n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&n<NG[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function LG(e,t,r){kG(e,t,8);const n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],s=(BigInt(n)<<BigInt(32))+BigInt(i);if(!0===r.strict&&s<NG[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(!0===r.allowBigInt)return s;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function PG(e,t){return UG(e,0,t.value)}function UG(e,t,r){if(r<NG[0]){const n=Number(r);e.push([t|n])}else if(r<NG[1]){const n=Number(r);e.push([24|t,n])}else if(r<NG[2]){const n=Number(r);e.push([25|t,n>>>8,255&n])}else if(r<NG[3]){const n=Number(r);e.push([26|t,n>>>24&255,n>>>16&255,n>>>8&255,255&n])}else{const n=BigInt(r);if(!(n<NG[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const r=[27|t,0,0,0,0,0,0,0];let i=Number(n&BigInt(4294967295)),s=Number(n>>BigInt(32)&BigInt(4294967295));r[8]=255&i,i>>=8,r[7]=255&i,i>>=8,r[6]=255&i,i>>=8,r[5]=255&i,r[4]=255&s,s>>=8,r[3]=255&s,s>>=8,r[2]=255&s,s>>=8,r[1]=255&s,e.push(r)}}}PG.encodedSize=function(e){return UG.encodedSize(e.value)},UG.encodedSize=function(e){return e<NG[0]?1:e<NG[1]?2:e<NG[2]?3:e<NG[3]?5:9},PG.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const MG=BigInt(-1),FG=BigInt(1);function HG(e,t){const r=t.value,n="bigint"==typeof r?r*MG-FG:-1*r-1;UG(e,t.type.majorEncoded,n)}function jG(e,t,r,n){kG(e,t,r+n);const i=vG(e,t+r,t+r+n);return new fG(dG.bytes,i,r+n)}function zG(e,t,r,n){return jG(e,t,1,r)}function WG(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===dG.string?AG(e.value):e.value),e.encodedBytes}function GG(e,t){const r=WG(t);UG(e,t.type.majorEncoded,r.length),e.push(r)}function qG(e,t,r,n,i){const s=r+n;kG(e,t,s);const o=new fG(dG.string,bG(e,t+r,t+s),s);return!0===i.retainStringBytes&&(o.byteValue=vG(e,t+r,t+s)),o}function QG(e,t,r,n){return qG(e,t,1,r,n)}HG.encodedSize=function(e){const t=e.value,r="bigint"==typeof t?t*MG-FG:-1*t-1;return r<NG[0]?1:r<NG[1]?2:r<NG[2]?3:r<NG[3]?5:9},HG.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},GG.encodedSize=function(e){const t=WG(e);return UG.encodedSize(t.length)+t.length},GG.compareTokens=function(e,t){return r=WG(e),n=WG(t),r.length<n.length?-1:r.length>n.length?1:function(e,t){if(wG(e)&&wG(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}(r,n);var r,n};const VG=GG;function KG(e,t,r,n){return new fG(dG.array,n,r)}function YG(e,t,r,n){return KG(0,0,1,r)}function JG(e,t){UG(e,dG.array.majorEncoded,t.value)}function XG(e,t,r,n){return new fG(dG.map,n,r)}function ZG(e,t,r,n){return XG(0,0,1,r)}function $G(e,t){UG(e,dG.map.majorEncoded,t.value)}function eq(e,t,r,n){return new fG(dG.tag,r,1)}function tq(e,t){UG(e,dG.tag.majorEncoded,t.value)}JG.compareTokens=PG.compareTokens,JG.encodedSize=function(e){return UG.encodedSize(e.value)},$G.compareTokens=PG.compareTokens,$G.encodedSize=function(e){return UG.encodedSize(e.value)},tq.compareTokens=PG.compareTokens,tq.encodedSize=function(e){return UG.encodedSize(e.value)};function rq(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new fG(dG.float,e,t)}function nq(e,t,r){const n=t.value;if(!1===n)e.push([20|dG.float.majorEncoded]);else if(!0===n)e.push([21|dG.float.majorEncoded]);else if(null===n)e.push([22|dG.float.majorEncoded]);else if(void 0===n)e.push([23|dG.float.majorEncoded]);else{let t,s=!1;r&&!0===r.float64||(aq(n),t=cq(oq,1),n===t||Number.isNaN(n)?(oq[0]=249,e.push(oq.slice(0,3)),s=!0):(lq(n),t=uq(oq,1),n===t&&(oq[0]=250,e.push(oq.slice(0,5)),s=!0))),s||(i=n,sq.setFloat64(0,i,!1),t=hq(oq,1),oq[0]=251,e.push(oq.slice(0,9)))}var i}nq.encodedSize=function(e,t){const r=e.value;if(!1===r||!0===r||null==r)return 1;if(!t||!0!==t.float64){aq(r);let e=cq(oq,1);if(r===e||Number.isNaN(r))return 3;if(lq(r),e=uq(oq,1),r===e)return 5}return 9};const iq=new ArrayBuffer(9),sq=new DataView(iq,1),oq=new Uint8Array(iq,0);function aq(e){if(e===1/0)sq.setUint16(0,31744,!1);else if(e===-1/0)sq.setUint16(0,64512,!1);else if(Number.isNaN(e))sq.setUint16(0,32256,!1);else{sq.setFloat32(0,e);const t=sq.getUint32(0),r=(2139095040&t)>>23,n=8388607&t;if(255===r)sq.setUint16(0,31744,!1);else if(0===r)sq.setUint16(0,(2147483648&e)>>16|n>>13,!1);else{const e=r-127;e<-24?sq.setUint16(0,0):e<-14?sq.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):sq.setUint16(0,(2147483648&t)>>16|e+15<<10|n>>13,!1)}}}function cq(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const r=(e[t]<<8)+e[t+1];if(31744===r)return 1/0;if(64512===r)return-1/0;if(32256===r)return NaN;const n=r>>10&31,i=1023&r;let s;return s=0===n?i*2**-24:31!==n?(i+1024)*2**(n-25):0===i?1/0:NaN,32768&r?-s:s}function lq(e){sq.setFloat32(0,e,!1)}function uq(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function hq(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function dq(e,t,r){throw new Error(`CBOR decode error: encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function fq(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}nq.compareTokens=PG.compareTokens;const pq=[];for(let e=0;e<=23;e++)pq[e]=dq;pq[24]=function(e,t,r,n){return new fG(dG.uint,BG(e,t+1,n),2)},pq[25]=function(e,t,r,n){return new fG(dG.uint,OG(e,t+1,n),3)},pq[26]=function(e,t,r,n){return new fG(dG.uint,DG(e,t+1,n),5)},pq[27]=function(e,t,r,n){return new fG(dG.uint,LG(e,t+1,n),9)},pq[28]=dq,pq[29]=dq,pq[30]=dq,pq[31]=dq;for(let e=32;e<=55;e++)pq[e]=dq;pq[56]=function(e,t,r,n){return new fG(dG.negint,-1-BG(e,t+1,n),2)},pq[57]=function(e,t,r,n){return new fG(dG.negint,-1-OG(e,t+1,n),3)},pq[58]=function(e,t,r,n){return new fG(dG.negint,-1-DG(e,t+1,n),5)},pq[59]=function(e,t,r,n){const i=LG(e,t+1,n);if("bigint"!=typeof i){const e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new fG(dG.negint,e,9)}if(!0!==n.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new fG(dG.negint,MG-BigInt(i),9)},pq[60]=dq,pq[61]=dq,pq[62]=dq,pq[63]=dq;for(let e=64;e<=87;e++)pq[e]=zG;pq[88]=function(e,t,r,n){return jG(e,t,2,BG(e,t+1,n))},pq[89]=function(e,t,r,n){return jG(e,t,3,OG(e,t+1,n))},pq[90]=function(e,t,r,n){return jG(e,t,5,DG(e,t+1,n))},pq[91]=function(e,t,r,n){const i=LG(e,t+1,n);if("bigint"==typeof i)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return jG(e,t,9,i)},pq[92]=dq,pq[93]=dq,pq[94]=dq,pq[95]=fq("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)pq[e]=QG;pq[120]=function(e,t,r,n){return qG(e,t,2,BG(e,t+1,n),n)},pq[121]=function(e,t,r,n){return qG(e,t,3,OG(e,t+1,n),n)},pq[122]=function(e,t,r,n){return qG(e,t,5,DG(e,t+1,n),n)},pq[123]=function(e,t,r,n){const i=LG(e,t+1,n);if("bigint"==typeof i)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return qG(e,t,9,i,n)},pq[124]=dq,pq[125]=dq,pq[126]=dq,pq[127]=fq("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)pq[e]=YG;pq[152]=function(e,t,r,n){return KG(0,0,2,BG(e,t+1,n))},pq[153]=function(e,t,r,n){return KG(0,0,3,OG(e,t+1,n))},pq[154]=function(e,t,r,n){return KG(0,0,5,DG(e,t+1,n))},pq[155]=function(e,t,r,n){const i=LG(e,t+1,n);if("bigint"==typeof i)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return KG(0,0,9,i)},pq[156]=dq,pq[157]=dq,pq[158]=dq,pq[159]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return KG(0,0,1,1/0)};for(let e=160;e<=183;e++)pq[e]=ZG;pq[184]=function(e,t,r,n){return XG(0,0,2,BG(e,t+1,n))},pq[185]=function(e,t,r,n){return XG(0,0,3,OG(e,t+1,n))},pq[186]=function(e,t,r,n){return XG(0,0,5,DG(e,t+1,n))},pq[187]=function(e,t,r,n){const i=LG(e,t+1,n);if("bigint"==typeof i)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return XG(0,0,9,i)},pq[188]=dq,pq[189]=dq,pq[190]=dq,pq[191]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return XG(0,0,1,1/0)};for(let e=192;e<=215;e++)pq[e]=eq;pq[216]=function(e,t,r,n){return new fG(dG.tag,BG(e,t+1,n),2)},pq[217]=function(e,t,r,n){return new fG(dG.tag,OG(e,t+1,n),3)},pq[218]=function(e,t,r,n){return new fG(dG.tag,DG(e,t+1,n),5)},pq[219]=function(e,t,r,n){return new fG(dG.tag,LG(e,t+1,n),9)},pq[220]=dq,pq[221]=dq,pq[222]=dq,pq[223]=dq;for(let e=224;e<=243;e++)pq[e]=fq("simple values are not supported");pq[244]=dq,pq[245]=dq,pq[246]=dq,pq[247]=function(e,t,r,n){if(!1===n.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===n.coerceUndefinedToNull?new fG(dG.null,null,1):new fG(dG.undefined,void 0,1)},pq[248]=fq("simple values are not supported"),pq[249]=function(e,t,r,n){return rq(cq(e,t+1),3,n)},pq[250]=function(e,t,r,n){return rq(uq(e,t+1),5,n)},pq[251]=function(e,t,r,n){return rq(hq(e,t+1),9,n)},pq[252]=dq,pq[253]=dq,pq[254]=dq,pq[255]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new fG(dG.break,void 0,1)};const gq=[];for(let e=0;e<24;e++)gq[e]=new fG(dG.uint,e,1);for(let e=-1;e>=-24;e--)gq[31-e]=new fG(dG.negint,e,1);gq[64]=new fG(dG.bytes,new Uint8Array(0),1),gq[96]=new fG(dG.string,"",1),gq[128]=new fG(dG.array,0,1),gq[160]=new fG(dG.map,0,1),gq[244]=new fG(dG.false,!1,1),gq[245]=new fG(dG.true,!0,1),gq[246]=new fG(dG.null,null,1);const yq={float64:!1,mapSorter:function(e,t){const r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);const i=r.type.major,s=wq[i].compareTokens(r,n);0===s&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return s},quickEncodeToken:function(e){switch(e.type){case dG.false:return EG([244]);case dG.true:return EG([245]);case dG.null:return EG([246]);case dG.bytes:return e.value.length?void 0:EG([64]);case dG.string:return""===e.value?EG([96]):void 0;case dG.array:return 0===e.value?EG([128]):void 0;case dG.map:return 0===e.value?EG([160]):void 0;case dG.uint:return e.value<24?EG([Number(e.value)]):void 0;case dG.negint:if(e.value>=-24)return EG([31-Number(e.value)])}}};const wq=function(){const e=[];return e[dG.uint.major]=PG,e[dG.negint.major]=HG,e[dG.bytes.major]=GG,e[dG.string.major]=VG,e[dG.array.major]=JG,e[dG.map.major]=$G,e[dG.tag.major]=tq,e[dG.float.major]=nq,e}(),mq=new RG;class bq{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new bq(t,e)}}const Aq={null:new fG(dG.null,null),undefined:new fG(dG.undefined,void 0),true:new fG(dG.true,!0),false:new fG(dG.false,!1),emptyArray:new fG(dG.array,0),emptyMap:new fG(dG.map,0)},Eq={number:(e,t,r,n)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new fG(e>=0?dG.uint:dG.negint,e):new fG(dG.float,e),bigint:(e,t,r,n)=>e>=BigInt(0)?new fG(dG.uint,e):new fG(dG.negint,e),Uint8Array:(e,t,r,n)=>new fG(dG.bytes,e),string:(e,t,r,n)=>new fG(dG.string,e),boolean:(e,t,r,n)=>e?Aq.true:Aq.false,null:(e,t,r,n)=>Aq.null,undefined:(e,t,r,n)=>Aq.undefined,ArrayBuffer:(e,t,r,n)=>new fG(dG.bytes,new Uint8Array(e)),DataView:(e,t,r,n)=>new fG(dG.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[Aq.emptyArray,new fG(dG.break)]:Aq.emptyArray;n=bq.createCheck(n,e);const i=[];let s=0;for(const t of e)i[s++]=vq(t,r,n);return r.addBreakTokens?[new fG(dG.array,e.length),i,new fG(dG.break)]:[new fG(dG.array,e.length),i]},Object(e,t,r,n){const i="Object"!==t,s=i?e.keys():Object.keys(e),o=i?e.size:s.length;if(!o)return!0===r.addBreakTokens?[Aq.emptyMap,new fG(dG.break)]:Aq.emptyMap;n=bq.createCheck(n,e);const a=[];let c=0;for(const t of s)a[c++]=[vq(t,r,n),vq(i?e.get(t):e[t],r,n)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,r),r.addBreakTokens?[new fG(dG.map,o),a,new fG(dG.break)]:[new fG(dG.map,o),a]}};Eq.Map=Eq.Object,Eq.Buffer=Eq.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Eq[`${e}Array`]=Eq.DataView;function vq(e,t={},r){const n=hG(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||Eq[n];if("function"==typeof i){const s=i(e,n,t,r);if(null!=s)return s}const s=Eq[n];if(!s)throw new Error(`CBOR encode error: unsupported type: ${n}`);return s(e,n,t,r)}function _q(e,t,r,n){if(Array.isArray(t))for(const i of t)_q(e,i,r,n);else r[t.type.major](e,t,n)}function Tq(e,t,r){const n=vq(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){const e=r.quickEncodeToken(n);if(e)return e;const i=t[n.type.major];if(i.encodedSize){const e=i.encodedSize(n,r),t=new RG(e);if(i(t,n,r),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return mG(t.chunks[0])}}return mq.reset(),_q(mq,n,t,r),mq.toBytes(!0)}const Sq={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Iq{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=gq[e];if(void 0===t){const r=pq[e];if(!r)throw new Error(`CBOR decode error: no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const n=31&e;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}}const Cq=Symbol.for("DONE"),Rq=Symbol.for("BREAK");function xq(e,t){if(e.done())return Cq;const r=e.next();if(r.type===dG.break)return Rq;if(r.type.terminal)return r.value;if(r.type===dG.array)return function(e,t,r){const n=[];for(let i=0;i<e.value;i++){const s=xq(t,r);if(s===Rq){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed array")}if(s===Cq)throw new Error(`CBOR decode error: found array but not enough entries (got ${i}, expected ${e.value})`);n[i]=s}return n}(r,e,t);if(r.type===dG.map)return function(e,t,r){const n=!0===r.useMaps,i=n?void 0:{},s=n?new Map:void 0;for(let o=0;o<e.value;o++){const a=xq(t,r);if(a===Rq){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed map")}if(a===Cq)throw new Error(`CBOR decode error: found map but not enough entries (got ${o} [no key], expected ${e.value})`);if(!0!==n&&"string"!=typeof a)throw new Error(`CBOR decode error: non-string keys not supported (got ${typeof a})`);if(!0===r.rejectDuplicateMapKeys&&(n&&s.has(a)||!n&&a in i))throw new Error(`CBOR decode error: found repeat map key "${a}"`);const c=xq(t,r);if(c===Cq)throw new Error(`CBOR decode error: found map but not enough entries (got ${o} [no value], expected ${e.value})`);n?s.set(a,c):i[a]=c}return n?s:i}(r,e,t);if(r.type===dG.tag){if(t.tags&&"function"==typeof t.tags[r.value]){const n=xq(e,t);return t.tags[r.value](n)}throw new Error(`CBOR decode error: tag not supported (${r.value})`)}throw new Error("unsupported")}const kq={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;const t=RF.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new fG(dG.tag,42),new fG(dG.bytes,r)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const Nq={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};Nq.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return RF.decode(e.subarray(1))};const Bq=e=>function(e,t){return t=Object.assign({},yq,t),Tq(e,wq,t)}(e,kq),Oq=e=>function(e,t){if(!(e instanceof Uint8Array))throw new Error("CBOR decode error: data to decode must be a Uint8Array");const r=(t=Object.assign({},Sq,t)).tokenizer||new Iq(e,t),n=xq(r,t);if(n===Cq)throw new Error("CBOR decode error: did not find any content to decode");if(n===Rq)throw new Error("CBOR decode error: got unexpected break");if(!r.done())throw new Error("CBOR decode error: too many terminals, data makes no sense");return n}(e,Nq),Dq={Null:e=>null===e,Int:e=>Number.isInteger(e),Float:e=>"number"==typeof e&&Number.isFinite(e),String:e=>"string"==typeof e,Bool:e=>"boolean"==typeof e,Bytes:e=>e instanceof Uint8Array,Link:e=>!Dq.Null(e)&&"object"==typeof e&&e.asCID===e,List:e=>Array.isArray(e),Map:e=>!Dq.Null(e)&&"object"==typeof e&&e.asCID!==e&&!Dq.List(e)&&!Dq.Bytes(e)},Lq={Int:Dq.Int,"CarHeader > version":e=>Lq.Int(e),"CarHeader > roots (anon) > valueType (anon)":Dq.Link,"CarHeader > roots (anon)":e=>Dq.List(e)&&Array.prototype.every.call(e,Lq["CarHeader > roots (anon) > valueType (anon)"]),"CarHeader > roots":e=>Lq["CarHeader > roots (anon)"](e),CarHeader:e=>{const t=e&&Object.keys(e);return Dq.Map(e)&&["version"].every((e=>t.includes(e)))&&Object.entries(e).every((([e,t])=>Lq["CarHeader > "+e]&&Lq["CarHeader > "+e](t)))}},Pq=Lq.CarHeader;var Uq=__webpack_require__(6523);async function Mq(e,t){const r=function(e,t){if(!e.length)throw new Error("Unexpected end of data");const r=Uq.decode(e);return t.seek(Uq.decode.bytes),r}(await e.upTo(8),e);if(0===r)throw new Error("Invalid CAR header (zero length)");const n=await e.exactly(r,!0),i=Oq(n);if(!Pq(i))throw new Error("Invalid CAR header format");if(1!==i.version&&2!==i.version||void 0!==t&&i.version!==t)throw new Error(`Invalid CAR version: ${i.version}${void 0!==t?` (expected ${t})`:""}`);const s=Array.isArray(i.roots);if(1===i.version&&!s||2===i.version&&s)throw new Error("Invalid CAR header format");if(1===i.version)return i;const o=function(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);let r=0;return{version:2,characteristics:[t.getBigUint64(r,!0),t.getBigUint64(r+=8,!0)],dataOffset:Number(t.getBigUint64(r+=8,!0)),dataSize:Number(t.getBigUint64(r+=8,!0)),indexOffset:Number(t.getBigUint64(r+=8,!0))}}(await e.exactly(40,!0));e.seek(o.dataOffset-e.pos);const a=await Mq(e,1);return Object.assign(a,o)}class Fq{constructor(e,t,r){this._version=e,this._roots=t,this._iterator=r}get version(){return this._version}async getRoots(){return this._roots}[Symbol.asyncIterator](){return this._iterator}static async fromBytes(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeIndexerComplete(bytesReader(e))}static async fromIterable(e){if(!e||"function"!=typeof e[Symbol.asyncIterator])throw new TypeError("fromIterable() requires an async iterable");return decodeIndexerComplete(asyncIterableReader(e))}}class Hq extends(null){[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(e){const{version:t,roots:r,iterator:n}=await iterator_fromBytes(e);return new Hq(t,r,n)}static async fromIterable(e){const{version:t,roots:r,iterator:n}=await fromIterable(e);return new Hq(t,r,n)}}class jq extends(null){[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");this._decoded=!0;const e=this._iterable[Symbol.asyncIterator]();return{async next(){const t=await e.next();return t.done?t:{done:!1,value:t.value.cid}}}}static async fromBytes(e){const{version:t,roots:r,iterator:n}=await iterator_fromBytes(e);return new jq(t,r,n)}static async fromIterable(e){const{version:t,roots:r,iterator:n}=await fromIterable(e);return new jq(t,r,n)}}function zq(e){const t=Bq({version:1,roots:e}),r=Uq.encode(t.length),n=new Uint8Array(r.length+t.length);return n.set(r,0),n.set(t,r.length),n}function Wq(){}class Gq{constructor(e,t){this._encoder=t,this._mutex=t.setRoots(e),this._ended=!1}async put(e){if(!(e.bytes instanceof Uint8Array&&e.cid))throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");const t=RF.asCID(e.cid);if(!t)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then((()=>this._encoder.writeBlock({cid:t,bytes:e.bytes}))),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(e){e=function(e){if(void 0===e)return[];if(!Array.isArray(e)){const t=RF.asCID(e);if(!t)throw new TypeError("roots must be a single CID or an array of CIDs");return[t]}const t=[];for(const r of e){const e=RF.asCID(r);if(!e)throw new TypeError("roots must be a single CID or an array of CIDs");t.push(e)}return t}(e);const{encoder:t,iterator:r}=Qq();return{writer:new Gq(e,t),out:new qq(r)}}static createAppender(){const{encoder:e,iterator:t}=Qq();e.setRoots=()=>Promise.resolve();return{writer:new Gq([],e),out:new qq(t)}}static async updateRootsInBytes(e,t){const r=function(e){let t=0;return{upTo:async r=>e.subarray(t,t+Math.min(r,e.length-t)),async exactly(r,n=!1){if(r>e.length-t)throw new Error("Unexpected end of data");const i=e.subarray(t,t+r);return n&&(t+=r),i},seek(e){t+=e},get pos(){return t}}}(e);await Mq(r);const n=zq(t);if(Number(r.pos)!==n.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${r.pos} bytes, new header is ${n.length} bytes)`);return e.set(n,0),e}}class qq{constructor(e){this._iterator=e}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function Qq(){const e=function(){const e=[];let t=null,r=Wq,n=!1,i=null,s=Wq;const o=()=>(t||(t=new Promise((e=>{r=()=>{t=null,r=Wq,e()}}))),t),a={write(t){e.push(t);const r=o();return s(),r},async end(){n=!0;const e=o();s(),await e}},c={async next(){const t=e.shift();return t?(0===e.length&&r(),{done:!1,value:t}):n?(r(),{done:!0,value:void 0}):(i||(i=new Promise((e=>{s=()=>(i=null,s=Wq,e(c.next()))}))),i)}};return{writer:a,iterator:c}}(),{writer:t,iterator:r}=e,n=function(e){return{async setRoots(t){const r=zq(t);await e.write(r)},async writeBlock(t){const{cid:r,bytes:n}=t;await e.write(new Uint8Array(Uq.encode(r.bytes.length+n.length))),await e.write(r.bytes),n.length&&await e.write(n)},async close(){await e.end()}}}(t);return{encoder:n,iterator:r}}const Vq=["string","number","bigint","symbol"],Kq=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Yq(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(Vq.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const r=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(Kq.includes(t))return t;return}(e);return r||"Object"}class Jq{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}Jq.uint=new Jq(0,"uint",!0),Jq.negint=new Jq(1,"negint",!0),Jq.bytes=new Jq(2,"bytes",!0),Jq.string=new Jq(3,"string",!0),Jq.array=new Jq(4,"array",!1),Jq.map=new Jq(5,"map",!1),Jq.tag=new Jq(6,"tag",!1),Jq.float=new Jq(7,"float",!0),Jq.false=new Jq(7,"false",!0),Jq.true=new Jq(7,"true",!0),Jq.null=new Jq(7,"null",!0),Jq.undefined=new Jq(7,"undefined",!0),Jq.break=new Jq(7,"break",!0);class Xq{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Zq=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,$q=new TextDecoder,eQ=new TextEncoder;function tQ(e){return Zq&&globalThis.Buffer.isBuffer(e)}const rQ=Zq?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):cQ(e,t,r):(e,t,r)=>r-t>64?$q.decode(e.subarray(t,r)):cQ(e,t,r),nQ=Zq?e=>e.length>64?globalThis.Buffer.from(e):aQ(e):e=>e.length>64?eQ.encode(e):aQ(e),iQ=Zq?(e,t,r)=>tQ(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),sQ=Zq?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),function(e){return e instanceof Uint8Array?tQ(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}(globalThis.Buffer.concat(e,t))):(e,t)=>{const r=new Uint8Array(t);let n=0;for(let t of e)n+t.length>r.length&&(t=t.subarray(0,r.length-n)),r.set(t,n),n+=t.length;return r},oQ=Zq?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function aQ(e,t=1/0){let r;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function cQ(e,t,r){const n=[];for(;t<r;){const i=e[t];let s=null,o=i>239?4:i>223?3:i>191?2:1;if(t+o<=r){let r,n,a,c;switch(o){case 1:i<128&&(s=i);break;case 2:r=e[t+1],128==(192&r)&&(c=(31&i)<<6|63&r,c>127&&(s=c));break;case 3:r=e[t+1],n=e[t+2],128==(192&r)&&128==(192&n)&&(c=(15&i)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:r=e[t+1],n=e[t+2],a=e[t+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&i)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),t+=o}return function(e){const t=e.length;if(t<=lQ)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=lQ));return r}(n)}const lQ=4096;const uQ=[];function hQ(e,t,r){if(e.length-t<r)throw new Error("CBOR decode error: not enough data for type")}uQ[23]=1,uQ[24]=2,uQ[25]=3,uQ[26]=5,uQ[27]=9;const dQ=[24,256,65536,4294967296,BigInt("18446744073709551616")];function fQ(e,t,r){hQ(e,t,1);const n=e[t];if(!0===r.strict&&n<dQ[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function pQ(e,t,r){hQ(e,t,2);const n=e[t]<<8|e[t+1];if(!0===r.strict&&n<dQ[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function gQ(e,t,r){hQ(e,t,4);const n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&n<dQ[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function yQ(e,t,r){hQ(e,t,8);const n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],s=(BigInt(n)<<BigInt(32))+BigInt(i);if(!0===r.strict&&s<dQ[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(!0===r.allowBigInt)return s;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function wQ(e,t){return mQ(e,0,t.value)}function mQ(e,t,r){if(r<dQ[0]){const n=Number(r);e.push([t|n])}else if(r<dQ[1]){const n=Number(r);e.push([24|t,n])}else if(r<dQ[2]){const n=Number(r);e.push([25|t,n>>>8,255&n])}else if(r<dQ[3]){const n=Number(r);e.push([26|t,n>>>24&255,n>>>16&255,n>>>8&255,255&n])}else{const n=BigInt(r);if(!(n<dQ[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const r=[27|t,0,0,0,0,0,0,0];let i=Number(n&BigInt(4294967295)),s=Number(n>>BigInt(32)&BigInt(4294967295));r[8]=255&i,i>>=8,r[7]=255&i,i>>=8,r[6]=255&i,i>>=8,r[5]=255&i,r[4]=255&s,s>>=8,r[3]=255&s,s>>=8,r[2]=255&s,s>>=8,r[1]=255&s,e.push(r)}}}wQ.encodedSize=function(e){return mQ.encodedSize(e.value)},mQ.encodedSize=function(e){return e<dQ[0]?1:e<dQ[1]?2:e<dQ[2]?3:e<dQ[3]?5:9},wQ.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const bQ=BigInt(-1),AQ=BigInt(1);function EQ(e,t){const r=t.value,n="bigint"==typeof r?r*bQ-AQ:-1*r-1;mQ(e,t.type.majorEncoded,n)}function vQ(e,t,r,n){hQ(e,t,r+n);const i=iQ(e,t+r,t+r+n);return new Xq(Jq.bytes,i,r+n)}function _Q(e,t,r,n){return vQ(e,t,1,r)}function TQ(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===Jq.string?nQ(e.value):e.value),e.encodedBytes}function SQ(e,t){const r=TQ(t);mQ(e,t.type.majorEncoded,r.length),e.push(r)}function IQ(e,t,r,n,i){const s=r+n;hQ(e,t,s);const o=new Xq(Jq.string,rQ(e,t+r,t+s),s);return!0===i.retainStringBytes&&(o.byteValue=iQ(e,t+r,t+s)),o}function CQ(e,t,r,n){return IQ(e,t,1,r,n)}EQ.encodedSize=function(e){const t=e.value,r="bigint"==typeof t?t*bQ-AQ:-1*t-1;return r<dQ[0]?1:r<dQ[1]?2:r<dQ[2]?3:r<dQ[3]?5:9},EQ.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},SQ.encodedSize=function(e){const t=TQ(e);return mQ.encodedSize(t.length)+t.length},SQ.compareTokens=function(e,t){return r=TQ(e),n=TQ(t),r.length<n.length?-1:r.length>n.length?1:function(e,t){if(tQ(e)&&tQ(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}(r,n);var r,n};const RQ=SQ;function xQ(e,t,r,n){return new Xq(Jq.array,n,r)}function kQ(e,t,r,n){return xQ(0,0,1,r)}function NQ(e,t){mQ(e,Jq.array.majorEncoded,t.value)}function BQ(e,t,r,n){return new Xq(Jq.map,n,r)}function OQ(e,t,r,n){return BQ(0,0,1,r)}function DQ(e,t){mQ(e,Jq.map.majorEncoded,t.value)}function LQ(e,t,r,n){return new Xq(Jq.tag,r,1)}function PQ(e,t){mQ(e,Jq.tag.majorEncoded,t.value)}NQ.compareTokens=wQ.compareTokens,NQ.encodedSize=function(e){return mQ.encodedSize(e.value)},DQ.compareTokens=wQ.compareTokens,DQ.encodedSize=function(e){return mQ.encodedSize(e.value)},PQ.compareTokens=wQ.compareTokens,PQ.encodedSize=function(e){return mQ.encodedSize(e.value)};function UQ(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new Xq(Jq.float,e,t)}function MQ(e,t,r){const n=t.value;if(!1===n)e.push([20|Jq.float.majorEncoded]);else if(!0===n)e.push([21|Jq.float.majorEncoded]);else if(null===n)e.push([22|Jq.float.majorEncoded]);else if(void 0===n)e.push([23|Jq.float.majorEncoded]);else{let t,s=!1;r&&!0===r.float64||(zQ(n),t=WQ(jQ,1),n===t||Number.isNaN(n)?(jQ[0]=249,e.push(jQ.slice(0,3)),s=!0):(GQ(n),t=qQ(jQ,1),n===t&&(jQ[0]=250,e.push(jQ.slice(0,5)),s=!0))),s||(i=n,HQ.setFloat64(0,i,!1),t=QQ(jQ,1),jQ[0]=251,e.push(jQ.slice(0,9)))}var i}MQ.encodedSize=function(e,t){const r=e.value;if(!1===r||!0===r||null==r)return 1;if(!t||!0!==t.float64){zQ(r);let e=WQ(jQ,1);if(r===e||Number.isNaN(r))return 3;if(GQ(r),e=qQ(jQ,1),r===e)return 5}return 9};const FQ=new ArrayBuffer(9),HQ=new DataView(FQ,1),jQ=new Uint8Array(FQ,0);function zQ(e){if(e===1/0)HQ.setUint16(0,31744,!1);else if(e===-1/0)HQ.setUint16(0,64512,!1);else if(Number.isNaN(e))HQ.setUint16(0,32256,!1);else{HQ.setFloat32(0,e);const t=HQ.getUint32(0),r=(2139095040&t)>>23,n=8388607&t;if(255===r)HQ.setUint16(0,31744,!1);else if(0===r)HQ.setUint16(0,(2147483648&e)>>16|n>>13,!1);else{const e=r-127;e<-24?HQ.setUint16(0,0):e<-14?HQ.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):HQ.setUint16(0,(2147483648&t)>>16|e+15<<10|n>>13,!1)}}}function WQ(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const r=(e[t]<<8)+e[t+1];if(31744===r)return 1/0;if(64512===r)return-1/0;if(32256===r)return NaN;const n=r>>10&31,i=1023&r;let s;return s=0===n?i*2**-24:31!==n?(i+1024)*2**(n-25):0===i?1/0:NaN,32768&r?-s:s}function GQ(e){HQ.setFloat32(0,e,!1)}function qQ(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function QQ(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function VQ(e,t,r){throw new Error(`CBOR decode error: encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function KQ(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}MQ.compareTokens=wQ.compareTokens;const YQ=[];for(let e=0;e<=23;e++)YQ[e]=VQ;YQ[24]=function(e,t,r,n){return new Xq(Jq.uint,fQ(e,t+1,n),2)},YQ[25]=function(e,t,r,n){return new Xq(Jq.uint,pQ(e,t+1,n),3)},YQ[26]=function(e,t,r,n){return new Xq(Jq.uint,gQ(e,t+1,n),5)},YQ[27]=function(e,t,r,n){return new Xq(Jq.uint,yQ(e,t+1,n),9)},YQ[28]=VQ,YQ[29]=VQ,YQ[30]=VQ,YQ[31]=VQ;for(let e=32;e<=55;e++)YQ[e]=VQ;YQ[56]=function(e,t,r,n){return new Xq(Jq.negint,-1-fQ(e,t+1,n),2)},YQ[57]=function(e,t,r,n){return new Xq(Jq.negint,-1-pQ(e,t+1,n),3)},YQ[58]=function(e,t,r,n){return new Xq(Jq.negint,-1-gQ(e,t+1,n),5)},YQ[59]=function(e,t,r,n){const i=yQ(e,t+1,n);if("bigint"!=typeof i){const e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new Xq(Jq.negint,e,9)}if(!0!==n.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new Xq(Jq.negint,bQ-BigInt(i),9)},YQ[60]=VQ,YQ[61]=VQ,YQ[62]=VQ,YQ[63]=VQ;for(let e=64;e<=87;e++)YQ[e]=_Q;YQ[88]=function(e,t,r,n){return vQ(e,t,2,fQ(e,t+1,n))},YQ[89]=function(e,t,r,n){return vQ(e,t,3,pQ(e,t+1,n))},YQ[90]=function(e,t,r,n){return vQ(e,t,5,gQ(e,t+1,n))},YQ[91]=function(e,t,r,n){const i=yQ(e,t+1,n);if("bigint"==typeof i)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return vQ(e,t,9,i)},YQ[92]=VQ,YQ[93]=VQ,YQ[94]=VQ,YQ[95]=KQ("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)YQ[e]=CQ;YQ[120]=function(e,t,r,n){return IQ(e,t,2,fQ(e,t+1,n),n)},YQ[121]=function(e,t,r,n){return IQ(e,t,3,pQ(e,t+1,n),n)},YQ[122]=function(e,t,r,n){return IQ(e,t,5,gQ(e,t+1,n),n)},YQ[123]=function(e,t,r,n){const i=yQ(e,t+1,n);if("bigint"==typeof i)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return IQ(e,t,9,i,n)},YQ[124]=VQ,YQ[125]=VQ,YQ[126]=VQ,YQ[127]=KQ("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)YQ[e]=kQ;YQ[152]=function(e,t,r,n){return xQ(0,0,2,fQ(e,t+1,n))},YQ[153]=function(e,t,r,n){return xQ(0,0,3,pQ(e,t+1,n))},YQ[154]=function(e,t,r,n){return xQ(0,0,5,gQ(e,t+1,n))},YQ[155]=function(e,t,r,n){const i=yQ(e,t+1,n);if("bigint"==typeof i)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return xQ(0,0,9,i)},YQ[156]=VQ,YQ[157]=VQ,YQ[158]=VQ,YQ[159]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return xQ(0,0,1,1/0)};for(let e=160;e<=183;e++)YQ[e]=OQ;YQ[184]=function(e,t,r,n){return BQ(0,0,2,fQ(e,t+1,n))},YQ[185]=function(e,t,r,n){return BQ(0,0,3,pQ(e,t+1,n))},YQ[186]=function(e,t,r,n){return BQ(0,0,5,gQ(e,t+1,n))},YQ[187]=function(e,t,r,n){const i=yQ(e,t+1,n);if("bigint"==typeof i)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return BQ(0,0,9,i)},YQ[188]=VQ,YQ[189]=VQ,YQ[190]=VQ,YQ[191]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return BQ(0,0,1,1/0)};for(let e=192;e<=215;e++)YQ[e]=LQ;YQ[216]=function(e,t,r,n){return new Xq(Jq.tag,fQ(e,t+1,n),2)},YQ[217]=function(e,t,r,n){return new Xq(Jq.tag,pQ(e,t+1,n),3)},YQ[218]=function(e,t,r,n){return new Xq(Jq.tag,gQ(e,t+1,n),5)},YQ[219]=function(e,t,r,n){return new Xq(Jq.tag,yQ(e,t+1,n),9)},YQ[220]=VQ,YQ[221]=VQ,YQ[222]=VQ,YQ[223]=VQ;for(let e=224;e<=243;e++)YQ[e]=KQ("simple values are not supported");YQ[244]=VQ,YQ[245]=VQ,YQ[246]=VQ,YQ[247]=function(e,t,r,n){if(!1===n.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===n.coerceUndefinedToNull?new Xq(Jq.null,null,1):new Xq(Jq.undefined,void 0,1)},YQ[248]=KQ("simple values are not supported"),YQ[249]=function(e,t,r,n){return UQ(WQ(e,t+1),3,n)},YQ[250]=function(e,t,r,n){return UQ(qQ(e,t+1),5,n)},YQ[251]=function(e,t,r,n){return UQ(QQ(e,t+1),9,n)},YQ[252]=VQ,YQ[253]=VQ,YQ[254]=VQ,YQ[255]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new Xq(Jq.break,void 0,1)};const JQ=[];for(let e=0;e<24;e++)JQ[e]=new Xq(Jq.uint,e,1);for(let e=-1;e>=-24;e--)JQ[31-e]=new Xq(Jq.negint,e,1);JQ[64]=new Xq(Jq.bytes,new Uint8Array(0),1),JQ[96]=new Xq(Jq.string,"",1),JQ[128]=new Xq(Jq.array,0,1),JQ[160]=new Xq(Jq.map,0,1),JQ[244]=new Xq(Jq.false,!1,1),JQ[245]=new Xq(Jq.true,!0,1),JQ[246]=new Xq(Jq.null,null,1);function XQ(){const e=[];return e[Jq.uint.major]=wQ,e[Jq.negint.major]=EQ,e[Jq.bytes.major]=SQ,e[Jq.string.major]=RQ,e[Jq.array.major]=NQ,e[Jq.map.major]=DQ,e[Jq.tag.major]=PQ,e[Jq.float.major]=MQ,e}XQ(),new class{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=oQ(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=iQ(r,0,this.cursor)}else t=sQ(this.chunks,this.cursor);return e&&this.reset(),t}};class ZQ{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new ZQ(t,e)}}const $Q={null:new Xq(Jq.null,null),undefined:new Xq(Jq.undefined,void 0),true:new Xq(Jq.true,!0),false:new Xq(Jq.false,!1),emptyArray:new Xq(Jq.array,0),emptyMap:new Xq(Jq.map,0)},eV={number:(e,t,r,n)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new Xq(e>=0?Jq.uint:Jq.negint,e):new Xq(Jq.float,e),bigint:(e,t,r,n)=>e>=BigInt(0)?new Xq(Jq.uint,e):new Xq(Jq.negint,e),Uint8Array:(e,t,r,n)=>new Xq(Jq.bytes,e),string:(e,t,r,n)=>new Xq(Jq.string,e),boolean:(e,t,r,n)=>e?$Q.true:$Q.false,null:(e,t,r,n)=>$Q.null,undefined:(e,t,r,n)=>$Q.undefined,ArrayBuffer:(e,t,r,n)=>new Xq(Jq.bytes,new Uint8Array(e)),DataView:(e,t,r,n)=>new Xq(Jq.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[$Q.emptyArray,new Xq(Jq.break)]:$Q.emptyArray;n=ZQ.createCheck(n,e);const i=[];let s=0;for(const t of e)i[s++]=tV(t,r,n);return r.addBreakTokens?[new Xq(Jq.array,e.length),i,new Xq(Jq.break)]:[new Xq(Jq.array,e.length),i]},Object(e,t,r,n){const i="Object"!==t,s=i?e.keys():Object.keys(e),o=i?e.size:s.length;if(!o)return!0===r.addBreakTokens?[$Q.emptyMap,new Xq(Jq.break)]:$Q.emptyMap;n=ZQ.createCheck(n,e);const a=[];let c=0;for(const t of s)a[c++]=[tV(t,r,n),tV(i?e.get(t):e[t],r,n)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,r),r.addBreakTokens?[new Xq(Jq.map,o),a,new Xq(Jq.break)]:[new Xq(Jq.map,o),a]}};eV.Map=eV.Object,eV.Buffer=eV.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))eV[`${e}Array`]=eV.DataView;function tV(e,t={},r){const n=Yq(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||eV[n];if("function"==typeof i){const s=i(e,n,t,r);if(null!=s)return s}const s=eV[n];if(!s)throw new Error(`CBOR encode error: unsupported type: ${n}`);return s(e,n,t,r)}Symbol.for("DONE"),Symbol.for("BREAK");XQ();new Xq(Jq.map,2),new Xq(Jq.string,"version"),new Xq(Jq.uint,1),new Xq(Jq.string,"roots"),new Xq(Jq.tag,42);var rV=__webpack_require__(9396);class nV extends Error{constructor(e){super(e),this.name="TimeoutError"}}class iV extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}const sV=e=>void 0===globalThis.DOMException?new iV(e):new DOMException(e),oV=e=>{const t=void 0===e.reason?sV("This operation was aborted."):e.reason;return t instanceof Error?t:sV(t)};var aV,cV=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class lV{constructor(){aV.set(this,[])}enqueue(e,t){const r={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&cV(this,aV,"f")[this.size-1].priority>=t.priority)return void cV(this,aV,"f").push(r);const n=function(e,t,r){let n=0,i=e.length;for(;i>0;){const s=Math.trunc(i/2);let o=n+s;r(e[o],t)<=0?(n=++o,i-=s+1):i=s}return n}(cV(this,aV,"f"),r,((e,t)=>t.priority-e.priority));cV(this,aV,"f").splice(n,0,r)}dequeue(){const e=cV(this,aV,"f").shift();return null==e?void 0:e.run}filter(e){return cV(this,aV,"f").filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return cV(this,aV,"f").length}}aV=new WeakMap;var uV,hV,dV,fV,pV,gV,yV,wV,mV,bV,AV,EV,vV,_V,TV,SV,IV,CV,RV,xV,kV,NV,BV,OV,DV,LV,PV=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},UV=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class MV extends Error{}class FV extends rV{constructor(e){var t,r,n,i;if(super(),uV.add(this),hV.set(this,void 0),dV.set(this,void 0),fV.set(this,0),pV.set(this,void 0),gV.set(this,void 0),yV.set(this,0),wV.set(this,void 0),mV.set(this,void 0),bV.set(this,void 0),AV.set(this,void 0),EV.set(this,0),vV.set(this,void 0),_V.set(this,void 0),TV.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:lV,...e}).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(r=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==r?r:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(i=null===(n=e.interval)||void 0===n?void 0:n.toString())&&void 0!==i?i:""}\` (${typeof e.interval})`);PV(this,hV,e.carryoverConcurrencyCount,"f"),PV(this,dV,e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,"f"),PV(this,pV,e.intervalCap,"f"),PV(this,gV,e.interval,"f"),PV(this,bV,new e.queueClass,"f"),PV(this,AV,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,PV(this,TV,!0===e.throwOnTimeout,"f"),PV(this,_V,!1===e.autoStart,"f")}get concurrency(){return UV(this,vV,"f")}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);PV(this,vV,e,"f"),UV(this,uV,"m",OV).call(this)}async add(e,t={}){return t={timeout:this.timeout,throwOnTimeout:UV(this,TV,"f"),...t},new Promise(((r,n)=>{UV(this,bV,"f").enqueue((async()=>{var i,s,o;PV(this,EV,(s=UV(this,EV,"f"),++s),"f"),PV(this,fV,(o=UV(this,fV,"f"),++o),"f");try{if(null===(i=t.signal)||void 0===i?void 0:i.aborted)throw new MV("The task was aborted.");let n=e({signal:t.signal});t.timeout&&(n=function(e,t,r,n){let i;const s=new Promise(((s,o)=>{if("number"!=typeof t||1!==Math.sign(t))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t!==Number.POSITIVE_INFINITY){if((n={customTimers:{setTimeout,clearTimeout},...n}).signal){const{signal:e}=n;e.aborted&&o(oV(e)),e.addEventListener("abort",(()=>{o(oV(e))}))}i=n.customTimers.setTimeout.call(void 0,(()=>{if("function"==typeof r){try{s(r())}catch(e){o(e)}return}const n=r instanceof Error?r:new nV("string"==typeof r?r:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),o(n)}),t),(async()=>{try{s(await e)}catch(e){o(e)}finally{n.customTimers.clearTimeout.call(void 0,i)}})()}else s(e)}));return s.clear=()=>{clearTimeout(i),i=void 0},s}(Promise.resolve(n),t.timeout)),t.signal&&(n=Promise.race([n,UV(this,uV,"m",DV).call(this,t.signal)]));const s=await n;r(s),this.emit("completed",s)}catch(e){if(e instanceof nV&&!t.throwOnTimeout)return void r();n(e),this.emit("error",e)}finally{UV(this,uV,"m",CV).call(this)}}),t),this.emit("add"),UV(this,uV,"m",kV).call(this)}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return UV(this,_V,"f")?(PV(this,_V,!1,"f"),UV(this,uV,"m",OV).call(this),this):this}pause(){PV(this,_V,!0,"f")}clear(){PV(this,bV,new(UV(this,AV,"f")),"f")}async onEmpty(){0!==UV(this,bV,"f").size&&await UV(this,uV,"m",LV).call(this,"empty")}async onSizeLessThan(e){UV(this,bV,"f").size<e||await UV(this,uV,"m",LV).call(this,"next",(()=>UV(this,bV,"f").size<e))}async onIdle(){0===UV(this,EV,"f")&&0===UV(this,bV,"f").size||await UV(this,uV,"m",LV).call(this,"idle")}get size(){return UV(this,bV,"f").size}sizeBy(e){return UV(this,bV,"f").filter(e).length}get pending(){return UV(this,EV,"f")}get isPaused(){return UV(this,_V,"f")}}hV=new WeakMap,dV=new WeakMap,fV=new WeakMap,pV=new WeakMap,gV=new WeakMap,yV=new WeakMap,wV=new WeakMap,mV=new WeakMap,bV=new WeakMap,AV=new WeakMap,EV=new WeakMap,vV=new WeakMap,_V=new WeakMap,TV=new WeakMap,uV=new WeakSet,SV=function(){return UV(this,dV,"f")||UV(this,fV,"f")<UV(this,pV,"f")},IV=function(){return UV(this,EV,"f")<UV(this,vV,"f")},CV=function(){var e;PV(this,EV,(e=UV(this,EV,"f"),--e),"f"),UV(this,uV,"m",kV).call(this),this.emit("next")},RV=function(){UV(this,uV,"m",BV).call(this),UV(this,uV,"m",NV).call(this),PV(this,mV,void 0,"f")},xV=function(){const e=Date.now();if(void 0===UV(this,wV,"f")){const t=UV(this,yV,"f")-e;if(!(t<0))return void 0===UV(this,mV,"f")&&PV(this,mV,setTimeout((()=>{UV(this,uV,"m",RV).call(this)}),t),"f"),!0;PV(this,fV,UV(this,hV,"f")?UV(this,EV,"f"):0,"f")}return!1},kV=function(){if(0===UV(this,bV,"f").size)return UV(this,wV,"f")&&clearInterval(UV(this,wV,"f")),PV(this,wV,void 0,"f"),this.emit("empty"),0===UV(this,EV,"f")&&this.emit("idle"),!1;if(!UV(this,_V,"f")){const e=!UV(this,uV,"a",xV);if(UV(this,uV,"a",SV)&&UV(this,uV,"a",IV)){const t=UV(this,bV,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&UV(this,uV,"m",NV).call(this),!0)}}return!1},NV=function(){UV(this,dV,"f")||void 0!==UV(this,wV,"f")||(PV(this,wV,setInterval((()=>{UV(this,uV,"m",BV).call(this)}),UV(this,gV,"f")),"f"),PV(this,yV,Date.now()+UV(this,gV,"f"),"f"))},BV=function(){0===UV(this,fV,"f")&&0===UV(this,EV,"f")&&UV(this,wV,"f")&&(clearInterval(UV(this,wV,"f")),PV(this,wV,void 0,"f")),PV(this,fV,UV(this,hV,"f")?UV(this,EV,"f"):0,"f"),UV(this,uV,"m",OV).call(this)},OV=function(){for(;UV(this,uV,"m",kV).call(this););},DV=async function(e){return new Promise(((t,r)=>{e.addEventListener("abort",(()=>{r(new MV("The task was aborted."))}),{once:!0})}))},LV=async function(e,t){return new Promise((r=>{const n=()=>{t&&!t()||(this.off(e,n),r())};this.on(e,n)}))};const HV={web3StorageToken:""};let jV=null;async function zV(e,t={},r={},n=null){jV||(jV=await UM(HV));const i=r.filename||"webarchive.wacz";if(r.customSplits){const e=new Uint8Array([]),r=new Uint8Array([]),n=new Uint8Array([]);t.markers={ZIP:e,WARC_PAYLOAD:r,WARC_GROUP:n}}const s=void 0===r.gzip||r.gzip,o=new WU({...t,coll:e,filename:i,gzip:s}),a=await o.download();let c,l,u;e.config.metadata.ipfsPins||(e.config.metadata.ipfsPins=[]),"web3.storage"===jV.type?(c=1,l=1048576e4,u=209715200):(c=3,l=5242880,u=209715200);const{readable:h,writable:d}=new TransformStream({},((e=104857600)=>({highWaterMark:e,size:e=>e.bytes.length}))(u)),f=r.replayBaseUrl||self.location.href,p=await WV("sw.js",f),g=await WV("ui.js",f);let y=null;try{y=await WV("icon.png",f)}catch(e){console.warn("Couldn't load favicon")}const w=function(e,t={}){const{showEmbed:r,pageUrl:n,pageTitle:i,deepLink:s,loading:o}=t;return`\n<!doctype html>\n  <html class="no-overflow">\n  <head>\n    <title>${i||"ReplayWeb.page"}</title>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n    <script src="./ui.js"><\/script>\n    <style>\n      html, body, replay-web-page, replay-app-main {\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n        margin: 0px;\n        padding: 0px;\n      }\n    </style>\n  </head>\n  <body>${r?`\n    <replay-web-page ${s?'deepLink="true" ':""} ${n?`url="${n}"`:""} loading="${o||""}" embed="replay-with-info" src="${e}"></replay-web-page>`:`\n    <replay-app-main skipRuffle source="${e}"></replay-app-main>`}\n  </body>\n</html>`}(a.filename,r);let m,b,A=0;e.config&&e.config.metadata&&e.config.metadata.size&&(A=e.config.metadata.size+p.length+g.length+(y?y.length:0)+w.length),n(0,A);let E=null;const v=new Promise(((e,t)=>E=t)),_=h.pipeThrough(new KV(l)).pipeThrough(new YV(jV,c,E)).pipeTo(new WritableStream({write:e=>{e.url&&e.cid&&(m=e.url,b=e.cid),e.size&&n(e.size,A)}}));!async function(e,t,r,n,i,s,o,a,c){const l=(({writable:e,settings:t=SW()})=>new cG({writer:e.getWriter(),settings:t}))({writable:e}),u=BW(l),h=new TextEncoder;if(await GV(l,"ui.js",i,u),o.showEmbed){const e=BW(l);await GV(l,"sw.js",n,e),await u.set("replay",await e.close())}else await GV(l,"sw.js",n,u);c&&await GV(l,"favicon.ico",c,u);await GV(l,"index.html",h.encode(s),u),a?await async function(e,t,r,n,i){let s=[];const o=[];let a=[],c=!1,l=null,u=null;const h=new TextDecoder,d={},{ZIP:f,WARC_PAYLOAD:p,WARC_GROUP:g}=i;let y=RW(e);function w(e){const t=e.split("/"),r=t.pop();return[t.join("/"),r]}const m=BW(e);let b=0;for await(const t of r)if(t!==f||c)if(t===f&&c){let t;if(b&&(s.push(await y.close()),b=0,y=RW(e)),a.length){if(s.length)throw new Error("invalid state, secondaryLinks + links?");t=await qV(e,a),a=[]}else t=await qV(e,s),s=[];o.push(t);const[r,n]=w(u);let i;u=null,r?(d[r]||(d[r]=BW(e)),i=d[r]):i=m,i.set(n,t),c=!1}else if(t===p||t===g){if(!c)throw new Error("invalid state");b&&(s.push(await y.close()),b=0,y=RW(e),t===g&&(a.push(await qV(e,s)),s=[]))}else t.length>0&&(c||(l=t),y.write(t),b++);else l&&(u=h.decode(l)),c=!0,b&&(o.push(await y.close()),b=0,y=RW(e));o.push(await y.close());for(const[e,t]of Object.entries(d))m.set(e,await t.close());n.set("webarchive",await m.close()),n.set(t,await qV(e,o))}(l,t,QV(r),u,a):await GV(l,t,QV(r),u);const{cid:d}=await u.close();l.close()}(d,a.filename,a.body,p,g,w,r,t.markers,y),await Promise.race([_,v]);const T={cid:b.toString(),url:m};return e.config.metadata.ipfsPins.push(T),console.log("ipfs cid added "+m),T}async function WV(e,t){const r=await fetch(new URL(e,t).href);return new Uint8Array(await r.arrayBuffer())}async function GV(e,t,r,n){const i=RW(e);if(r instanceof Uint8Array)i.write(r);else if(r[Symbol.asyncIterator])for await(const e of r)i.write(e);const s=await i.close();n.set(t,s)}async function qV(e,t){const{fileEncoder:r,hasher:n,linker:i}=e.settings,s=r.createAdvancedFile(t),o=r.encode(s),a=await n.digest(o),c=i.createLink(r.code,a),l={bytes:o,cid:c};e.writer.write(l);return{cid:c,contentByteLength:r.cumulativeContentByteLength(t),dagByteLength:r.cumulativeDagByteLength(o,t)}}const QV=async function*(e){const t=e.getReader();for(;;){const e=await t.read();if(e.done)return;yield e.value}};async function VV(e,t){const{writer:r,out:n}=Gq.create(t);let i;(async()=>{try{for await(const t of e)await r.put(t)}catch(e){i=e}finally{await r.close()}})();const s=[];for await(const e of n)s.push(e);if(null!=i)throw i;const o=null!=t?[t]:[];return console.log("chunks",s.length),Object.assign(new Blob(s),{version:1,roots:o})}class KV extends TransformStream{constructor(e){let t=[],r=null,n=0,i=0;super({async transform(s,o){if(null!=r){const e=await VV(r),t=n;o.enqueue({blocks:e,size:t}),r=null}t.length&&i+s.bytes.length>e&&(r=t,n=i,t=[],i=0),t.push(s),i+=s.bytes.length},async flush(e){if(null!=r){const t=await VV(r),i=n;e.enqueue({blocks:t,size:i})}const s=t.at(-1);if(null!=s){const r=await VV(t,s.cid),n=i;e.enqueue({blocks:r,size:n})}}})}}class YV extends TransformStream{constructor(e,t,r){const n=new FV({concurrency:t}),i=new AbortController;super({async transform({blocks:t,size:s},o){n.add((async()=>{try{const r=t.roots[0],n=(await e.uploadCAR(t))[0];o.enqueue({cid:r,url:n,size:s})}catch(e){o.error(e),i.abort(e),HV.daemonURL=null,r(e)}}),{signal:i.signal}),await n.onSizeLessThan(1)},async flush(){await n.onIdle()}})}}class JV extends uM{constructor(e,{softwareString:t="",replaceSoftwareString:r=!1}={}){super(e),this.softwareString=r?t:t+"Webrecorder ArchiveWeb.page 0.10.1, using warcio.js 2.1.0"}get routes(){return{...super.routes,downloadPages:"c/:coll/dl",recPending:"c/:coll/recPending",pageTitle:["c/:coll/pageTitle","POST"],ipfsAdd:["c/:coll/ipfs","POST"],ipfsRemove:["c/:coll/ipfs","DELETE"],ipfsDaemonUrl:["ipfs/daemonUrl","POST"],publicKey:"publicKey"}}downloaderOpts(){const e=this.softwareString;return{softwareString:e,signer:new tb(e,{cacheSig:!0})}}async handleApi(e,t,r){switch(t._route){case"downloadPages":return await this.handleDownload(t);case"recPending":return await this.recordingPending(t);case"pageTitle":return await this.updatePageTitle(t.coll,e);case"publicKey":return await this.getPublicKey();case"ipfsAdd":return await this.startIpfsAdd(r,e,t.coll);case"ipfsRemove":return await this.ipfsRemove(e,t.coll);case"ipfsDaemonUrl":return await this.setIPFSDaemonUrlFromBody(e);default:return await super.handleApi(e,t)}}async handleDownload(e){const t=await this.collections.loadColl(e.coll);if(!t)return{error:"collection_not_found"};const r=e._query.get("pages"),n="all"===r?null:r.split(","),i=e._query.get("format")||"wacz";let s=e._query.get("filename");return new WU({...this.downloaderOpts(),coll:t,format:i,filename:s,pageList:n}).download()}async recordingPending(e){const t=await this.collections.loadColl(e.coll);if(!t)return{error:"collection_not_found"};if(!(t.store instanceof $P))return{error:"invalid_collection"};return{numPending:await t.store.getCounter()}}async prepareColl(e,t){const r=await this.collections.loadColl(e);if(!r)return{error:"collection_not_found"};return{coll:r,body:await this.setIPFSDaemonUrlFromBody(t)}}async setIPFSDaemonUrlFromBody(e){let t;try{t=await e.json(),t.ipfsDaemonUrl&&async function(e){HV.daemonURL!==e&&(jV=null),HV.daemonURL=e}(t.ipfsDaemonUrl)}catch(e){t={}}return t}async startIpfsAdd(e,t,r){const{coll:n,body:i}=await this.prepareColl(r,t),s=async function(e,t,r,n,i,s){let o=0,a=0;const c=(t,n=null)=>{r&&r.postMessage({type:t,collId:e,size:o,result:n,totalSize:a})},{url:l,cid:u}=await zV(t,n,s,((e,t)=>{o+=e,a=t,c("ipfsProgress")}));c("ipfsAdd",{cid:u,ipfsURL:l}),await i.updateMetadata(t.name,t.config.metadata)}(r,n,await self.clients.get(e.clientId),this.downloaderOpts(),this.collections,i);e.waitUntil&&e.waitUntil(s);try{await s}catch(e){return{error:"ipfs_not_available"}}return{collId:r}}async ipfsRemove(e,t){const{coll:r}=await this.prepareColl(t,e);return await async function(e){if(jV||(jV=await UM(HV)),e.config.metadata.ipfsPins){for(const{url:t}of e.config.metadata.ipfsPins)try{await jV.clear(t)}catch(e){return console.log("Failed to unpin"),HV.daemonURL=null,!1}return e.config.metadata.ipfsPins=null,!0}return!1}(r)?(await this.collections.updateMetadata(r.name,r.config.metadata),{removed:!0}):{removed:!1}}async updatePageTitle(e,t){const r=await t.json();let{url:n,ts:i,title:s}=r;i=hb(i).getTime();const o=await this.collections.loadColl(e);if(!o)return{error:"collection_not_found"};const a=await o.store.lookupUrl(n,i);if(!a)return{error:"page_not_found"};const c=1e3*Math.floor(a.ts/1e3);if(n!==a.url||i!==c)return{error:"no_exact_match"};const l=await o.store.db.getFromIndex("pages","url",n);return l?(l.title=s,await o.store.db.put("pages",l),{added:!0}):{error:"page_not_found"}}async getPublicKey(){const{signer:e}=this.downloaderOpts(),t=await e.loadKeys();return t&&t.public?{publicKey:t.public}:{}}}if(self.registration){const e={injectScripts:["/ruffle/ruffle.js"],baseUrlSourcePrefix:"/replay/index.html",convertPostToGet:!1},t=new Map,r=self.registration.scope;t.set(r+"replay.html",{type:"text/html",content:'<!doctype html>\n<html class="no-overflow">\n<head>\n<link rel="manifest" href="/webmanifest.json">\n<link rel="icon" href="build/icon.png" type="image/png" />\n<title>ReplayWeb.page</title>\n<meta name="viewport" content="width=device-width, initial-scale=1">\n<script src="./ui.js"><\/script>\n</head>\n<body>\n<replay-app-main></replay-app-main>\n</body>\n</html>\n'}),t.set(r+"record.html",{type:"text/html",content:'<!doctype html>\n<html>\n  <head>\n    <meta charset="utf-8">\n    <script src="ui.js"><\/script>\n  </head>\n  <body>\n    <archive-web-page-app></archive-web-page-app>\n  </body>\n</html>\n'});const n=JV,i=eU,s={};self.sw=new Sm({ApiClass:n,staticData:t,autoipfsOpts:s,defaultConfig:e,CollectionsClass:i})}else new Zw(self)})();var __webpack_export_target__=self;for(var i in __webpack_exports__)__webpack_export_target__[i]=__webpack_exports__[i];__webpack_exports__.__esModule&&Object.defineProperty(__webpack_export_target__,"__esModule",{value:!0})})();